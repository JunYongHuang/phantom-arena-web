{
  "version": 3,
  "sources": ["../../../src/game/global/contract/tool/jssha/src/converters.ts", "../../../src/game/global/contract/tool/jssha/src/common.ts", "../../../src/game/global/contract/tool/jssha/node_modules/tslib/tslib.es6.js", "../../../src/game/global/contract/tool/jssha/src/primitives_32.ts", "../../../src/game/global/contract/tool/jssha/src/sha1.ts", "../../../src/game/global/contract/tool/jssha/src/sha256.ts", "../../../src/game/global/contract/tool/jssha/src/primitives_64.ts", "../../../src/game/global/contract/tool/jssha/src/sha512.ts", "../../../src/game/global/contract/tool/jssha/src/sha3.ts", "../../../src/game/global/contract/tool/jssha/src/sha.ts", "../../../src/IndexRT.generated.ts", "../../../src/IndexRT.ts", "../../../src/ItemBox.generated.ts", "../../../src/ItemBox.ts", "../../../src/LoadingRT.generated.ts", "../../../src/game/global/data/sheetItem/BaseItem.ts", "../../../src/game/global/data/sheetItem/language/LanguageItem.ts", "../../../src/game/util/Dictionary.ts", "../../../src/game/global/GameSetting.ts", "../../../src/game/common/GameLanguageMgr.ts", "../../../src/game/global/data/sheetItem/spot/SpotInfo.ts", "../../../src/game/global/data/sheetItem/item/SheetDictionary.ts", "../../../src/game/global/data/sheetItem/spot/SpotSheetDataManager.ts", "../../../src/game/common/PlatFormManager.ts", "../../../src/game/common/EffectManager.ts", "../../../src/game/common/LoadingManager.ts", "../../../src/game/common/LayerManager.ts", "../../../src/game/common/SoundMgr.ts", "../../../src/game/global/ModuleName.ts", "../../../src/game/global/event/GameEvent.ts", "../../../src/game/global/event/Signal.ts", "../../../src/game/common/base/BaseDialog.ts", "../../../src/game/common/ModuleManager.ts", "../../../src/game/common/SceneLoadMgr.ts", "../../../src/game/common/baseScene/SceneType.ts", "../../../src/game/module/notice/NoticeMgr.ts", "../../../src/game/common/ErrorPopManager.ts", "../../../src/game/global/data/sheetItem/globalmodel/NpcModel.ts", "../../../src/game/global/data/enumData/EnumFunctionId.ts", "../../../src/game/global/data/sheetItem/globalmodel/SysteSheetModel.ts", "../../../src/game/global/vo/VipInfo.ts", "../../../src/game/global/contract/vo/HeroVo.ts", "../../../src/game/global/vo/pack/ItemVo.ts", "../../../src/game/module/item/service/GetItemService.ts", "../../../src/game/module/item/model/GetItemDataModel.ts", "../../../src/game/global/data/enumData/EnumConsumeType.ts", "../../../src/game/global/data/enumData/EnumItemType.ts", "../../../src/game/global/data/enumData/EnumeCatagoryChildType.ts", "../../../src/game/global/vo/pack/PackageData.ts", "../../../src/game/global/GlobalService.ts", "../../../src/game/common/AlertType.ts", "../../../src/game/common/AlertManager.ts", "../../../src/game/global/util/Quick.ts", "../../../src/game/net/pack/MessageReader.ts", "../../../src/game/net/pack/MessageWrite.ts", "../../../src/game/net/pack/MsgBodyAnaly.ts", "../../../src/game/module/match/MatchModel.ts", "../../../src/game/net/protocol/login/AnimationRequest.ts", "../../../src/game/net/protocol/login/AttackRequest.ts", "../../../src/game/net/protocol/login/RoomInfoRequest.ts", "../../../src/game/net/protocol/login/RoomMoveRequest.ts", "../../../src/game/net/protocol/login/TargetMoveRequest.ts", "../../../src/script/logic/GameManager.ts", "../../../src/script/util/web3.ts", "../../../src/game/module/wallet/model/WalletModel.ts", "../../../src/game/util/Debugger.ts", "../../../src/game/util/Debug.ts", "../../../src/game/net/HttpCmd.ts", "../../../src/game/global/data/enumData/EnumWallet.ts", "../../../src/game/global/contract/EthereumConfig.ts", "../../../src/game/global/contract/vo/PlayerDto.ts", "../../../src/game/global/contract/service/ETHAccountProxy.ts", "../../../src/game/module/wallet/event/WalletEvent.ts", "../../../src/game/module/wallet/vo/WalletItemVo.ts", "../../../src/game/global/contract/service/ETHAssetsProxy.ts", "../../../src/game/global/contract/EthereumManager.ts", "../../../src/game/global/contract/utils/ETHUtils.ts", "../../../src/game/net/protocol/common/Error.ts", "../../../src/game/net/protocol/common/Ping.ts", "../../../src/game/net/protocol/common/Pong.ts", "../../../src/game/net/protocol/login/LoginRequest.ts", "../../../src/game/net/protocol/login/LoginResponse.ts", "../../../src/game/net/protocol/login/LoginAgainPush.ts", "../../../src/game/net/protocol/login/GmRequest.ts", "../../../src/game/net/protocol/login/GmResponse.ts", "../../../src/game/net/protocol/login/LoginBindingRequest.ts", "../../../src/game/net/protocol/login/LoginBindingResponse.ts", "../../../src/game/net/protocol/login/DisconnectPush.ts", "../../../src/game/net/protocol/login/ResPush.ts", "../../../src/game/net/protocol/login/RoomMoveResponse.ts", "../../../src/game/net/protocol/login/RoomPlayerChangePush.ts", "../../../src/game/net/protocol/login/RoomPlayerMovePush.ts", "../../../src/game/net/protocol/login/RoomGameOverPush.ts", "../../../src/game/net/protocol/login/AttackResponse.ts", "../../../src/game/net/protocol/login/AttackPush.ts", "../../../src/game/net/protocol/login/RoomInfoResponse.ts", "../../../src/game/net/protocol/login/FirstBloodPush.ts", "../../../src/game/net/protocol/login/MutiKillPush.ts", "../../../src/game/net/protocol/login/AnimationResponse.ts", "../../../src/game/net/protocol/login/AnimationPush.ts", "../../../src/game/net/protocol/login/TargetMoveResponse.ts", "../../../src/game/net/protocol/login/TargetMovePush.ts", "../../../src/game/net/protocol/login/GameStartPush.ts", "../../../src/game/net/protocol/dto/IntBoolDto.ts", "../../../src/game/net/protocol/dto/ItemDto.ts", "../../../src/game/net/protocol/dto/RoomDto.ts", "../../../src/game/net/protocol/dto/MatchDto.ts", "../../../src/game/net/protocol/dto/RoomPlayerDto.ts", "../../../src/game/net/protocol/dto/RoomRankPlayerDto.ts", "../../../src/game/net/protocol/ProtocolManager.ts", "../../../src/game/net/protocol/buffer/Long.ts", "../../../src/game/net/protocol/buffer/Longbits.ts", "../../../src/game/net/protocol/buffer/ByteBuffer.ts", "../../../src/game/net/WebSocketService.ts", "../../../src/game/net/HttpNetService.ts", "../../../src/game/module/luckdraw/event/HeroEvent.ts", "../../../src/GameUserInfo.ts", "../../../src/game/global/data/sheetItem/hero/HeroAttupSheetItem.ts", "../../../src/game/global/data/sheetItem/hero/HeroLvSheetItem.ts", "../../../src/game/global/util/TimeUtil.ts", "../../../src/game/module/luckdraw/model/HeroModel.ts", "../../../src/game/global/contract/vo/BlindBoxVo.ts", "../../../src/game/global/contract/vo/HeroOutputRate.ts", "../../../src/game/global/contract/service/ETHBlindBoxProxy.ts", "../../../src/game/global/vo/pack/HeroData.ts", "../../../src/game/global/GlobalDataManager.ts", "../../../src/game/global/data/sheetItem/general/GeneralItem.ts", "../../../src/game/global/data/sheetItem/BaseSheetDataModel.ts", "../../../src/game/global/data/sheetItem/item/ItemSheetDataModel.ts", "../../../src/game/global/data/sheetItem/item/ItemItem.ts", "../../../src/game/global/data/sheetItem/item/MapSheetItem.ts", "../../../src/game/global/data/sheetItem/BaseSheetItem.ts", "../../../src/game/global/data/sheetItem/item/catagory/childType/CatagoryChildTypeSheetItem.ts", "../../../src/game/global/data/sheetItem/item/catagory/childType/CatagoryChildTypeSheetDataModel.ts", "../../../src/game/global/data/sheetItem/shop/ShopItem.ts", "../../../src/game/global/data/sheetItem/sound/SceneItem.ts", "../../../src/game/global/vo/HeadItem.ts", "../../../src/game/global/data/sheetItem/hero/HeroItem.ts", "../../../src/game/global/data/sheetItem/match/ArenaItem.ts", "../../../src/game/global/data/sheetItem/hero/Skilltem.ts", "../../../src/game/global/data/sheetItem/hero/BuffItem.ts", "../../../src/game/global/vo/CountryItem.ts", "../../../src/game/global/data/sheetItem/union/UnionItem.ts", "../../../src/game/global/SheetDataManager.ts", "../../../src/game/common/SceneManager.ts", "../../../src/game/common/GameResourceManager.ts", "../../../src/game/common/base/BaseAlert.ts", "../../../src/game/common/BaseAlertView.ts", "../../../src/game/common/base/BaseView.ts", "../../../src/game/global/contract/service/ETHSeriesHeroMallProxy.ts", "../../../src/game/global/data/enumData/EnumFun.ts", "../../../src/game/module/luckdraw/event/luckdrawevevt.ts", "../../../src/game/module/luckdraw/LuckdrawView.ts", "../../../src/game/module/luckdraw/view/SkillTipDialog.ts", "../../../src/game/global/contract/view/UnionAttributeDetailsDialog.ts", "../../../src/game/global/util/NumberUtil.ts", "../../../src/game/global/Cmd.ts", "../../../src/game/global/contract/vo/MemberApplyVo.ts", "../../../src/game/global/contract/vo/MemberVo.ts", "../../../src/game/global/contract/service/ETHUnionProxy.ts", "../../../src/game/global/contract/vo/UnionAttrDetailVo.ts", "../../../src/game/global/contract/view/UnionAttrLvUpDialog.ts", "../../../src/game/global/contract/view/UnionAttrView.ts", "../../../src/game/module/hero/HeroPosVo.ts", "../../../src/game/module/hero/HeroNetModel.ts", "../../../src/game/module/hero/HeroFormationDialog.ts", "../../../src/game/global/RegistClass.ts", "../../../src/game/global/SceneLoadingManager.ts", "../../../src/game/global/util/ComUtil.ts", "../../../src/LoadingRT.ts", "../../../src/game/common/filters/BtnColorFilter.ts", "../../../src/game/common/script/Button.ts", "../../../src/game/module/baseAlert/BaseAlertDialog.generated.ts", "../../../src/game/module/baseAlert/BaseAlertDialog.ts", "../../../src/game/module/createRole/ChangeHeadDialog.generated.ts", "../../../src/game/module/createRole/ChangeHeadDialog.ts", "../../../src/game/module/createRole/CoinCombo.generated.ts", "../../../src/game/module/createRole/CoinCombo.ts", "../../../src/game/module/createRole/CoinComboList.generated.ts", "../../../src/game/module/createRole/CoinComboList.ts", "../../../src/game/module/createRole/CoinComboListItem.generated.ts", "../../../src/game/module/createRole/CoinComboListItem.ts", "../../../src/game/module/createRole/CountryListItem.generated.ts", "../../../src/game/module/createRole/CountryListItem.ts", "../../../src/game/module/createRole/CreateLoginView.generated.ts", "../../../src/game/module/createRole/event/CreateLoginEvent.ts", "../../../src/game/module/createRole/CreateLoginView.ts", "../../../src/game/module/createRole/RoleAttrListItem.generated.ts", "../../../src/game/module/createRole/RoleAttrListItem.ts", "../../../src/game/module/createRole/RoleHeadListItem.generated.ts", "../../../src/game/module/createRole/RoleHeadListItem.ts", "../../../src/game/module/createRole/RoleInfoDialog.generated.ts", "../../../src/game/module/createRole/RoleInfoDialog.ts", "../../../src/game/module/createRole/SelectHeadDialog.generated.ts", "../../../src/game/module/createRole/SelectHeadDialog.ts", "../../../src/game/util/StringTool.ts", "../../../src/game/module/gameSetting/GameSettingLanguageDialog.generated.ts", "../../../src/game/module/gameSetting/item/SwitchButton.ts", "../../../src/game/module/gameSetting/GameSettingLanguageDialog.ts", "../../../src/game/module/hero/AttrListItem.generated.ts", "../../../src/game/module/hero/AttrListItem.ts", "../../../src/game/module/hero/HeroDetailDialog.generated.ts", "../../../src/game/module/hero/event/Hero1Event.ts", "../../../src/game/module/hero/HeroDetailDialog.ts", "../../../src/game/module/hero/HeroListItem.generated.ts", "../../../src/game/module/hero/HeroListItem.ts", "../../../src/game/global/data/enumData/EnumHero.ts", "../../../src/game/module/hero/HeroSk.generated.ts", "../../../src/game/module/hero/HeroSk.ts", "../../../src/game/module/hero/MyHeroScene.generated.ts", "../../../src/game/module/hero/MyHeroScene.ts", "../../../src/game/module/hero/SkillAttrListItem.generated.ts", "../../../src/game/module/hero/SkillAttrListItem.ts", "../../../src/game/module/hero/SkillIconItem.generated.ts", "../../../src/game/module/hero/SkillIconItem.ts", "../../../src/game/module/hero/SkillListItem.generated.ts", "../../../src/game/module/hero/SkillListItem.ts", "../../../src/game/module/hero/SkillTipDialog.generated.ts", "../../../src/game/module/hero/SkillTipDialog.ts", "../../../src/game/module/item/BagItem.generated.ts", "../../../src/game/module/item/BagItem.ts", "../../../src/game/module/item/ItemGetDialog.generated.ts", "../../../src/game/module/item/ItemGetDialog.ts", "../../../src/game/module/item/KnapsackItem.generated.ts", "../../../src/game/module/item/KnapsackItem.ts", "../../../src/game/module/item/KnapsackScene.generated.ts", "../../../src/game/module/item/KnapsackScene.ts", "../../../src/game/module/item/KnapsackTipDialog.generated.ts", "../../../src/game/module/item/KnapsackTipDialog.ts", "../../../src/game/module/login/NoServerView.generated.ts", "../../../src/game/module/login/NoServerView.ts", "../../../src/game/module/mainView/CheckCoinItem.generated.ts", "../../../src/game/module/mainView/CheckCoinItem.ts", "../../../src/game/module/mainView/CreateRoomDialog.generated.ts", "../../../src/game/module/mainView/CreateRoomDialog.ts", "../../../src/game/module/mainView/EnterRoomView.generated.ts", "../../../src/game/module/mainView/EnterRoomView.ts", "../../../src/game/module/mainView/InputPwdDialog.generated.ts", "../../../src/game/module/mainView/InputPwdDialog.ts", "../../../src/game/module/mainView/MainScene.generated.ts", "../../../src/game/global/MainSceneNet.ts", "../../../src/game/module/mainView/MainScene.ts", "../../../src/game/module/mainView/PlayerIcon.generated.ts", "../../../src/game/module/mainView/PlayerIcon.ts", "../../../src/game/module/mainView/RoomListItem.generated.ts", "../../../src/game/module/mainView/RoomListItem.ts", "../../../src/script/util/Tool.ts", "../../../src/game/module/match/DamageNumber.generated.ts", "../../../src/game/module/match/DamageNumber.ts", "../../../src/game/module/match/MatchEndRankListItem.generated.ts", "../../../src/game/module/match/MatchEndRankListItem.ts", "../../../src/game/module/match/MatchEndRankView.generated.ts", "../../../src/game/module/match/MatchEndRankView.ts", "../../../src/game/module/match/MatchEndView.generated.ts", "../../../src/game/module/match/MatchEndView.ts", "../../../src/game/module/match/MatchHeroListItem.generated.ts", "../../../src/game/module/match/MatchHeroListItem.ts", "../../../src/game/module/match/MatchHeroSpr.generated.ts", "../../../src/game/module/match/MatchHeroSpr.ts", "../../../src/game/module/match/MatchRankListItem.generated.ts", "../../../src/game/module/match/MatchRankListItem.ts", "../../../src/game/module/match/MatchReadyRT.generated.ts", "../../../src/game/module/match/MatchReadyRT.ts", "../../../src/game/module/match/MatchReadyView.generated.ts", "../../../src/game/module/match/MatchReadyView.ts", "../../../src/game/module/match/MatchRewardListItem.generated.ts", "../../../src/game/module/match/MatchRewardListItem.ts", "../../../src/game/module/match/MatchScene.generated.ts", "../../../src/game/module/match/MatchScene.ts", "../../../src/game/module/match/MatchScript.ts", "../../../src/game/module/match/MatchSkillListItem.generated.ts", "../../../src/game/module/match/MatchSkillListItem.ts", "../../../src/game/module/notice/TxtNoticeView.generated.ts", "../../../src/game/module/notice/TxtNoticeView.ts", "../../../src/game/module/shop/CoinsBox.generated.ts", "../../../src/game/module/shop/CoinsBox.ts", "../../../src/game/module/shop/DrawHeroItem.generated.ts", "../../../src/game/module/shop/DrawHeroItem.ts", "../../../src/game/module/shop/HeroGetDialog.generated.ts", "../../../src/game/module/shop/HeroGetDialog.ts", "../../../src/game/util/XUtils.ts", "../../../src/game/module/shop/ShopListItem.generated.ts", "../../../src/game/module/shop/ShopListItem.ts", "../../../src/game/module/shop/ShopListItem2.generated.ts", "../../../src/game/module/shop/ShopListItem2.ts", "../../../src/game/module/shop/ShopScene.generated.ts", "../../../src/game/module/shop/ShopScene.ts", "../../../src/game/module/union/UnionRankListItem.generated.ts", "../../../src/game/module/union/UnionRankListItem.ts", "../../../src/game/module/union/UnionScene.generated.ts", "../../../src/game/module/union/UnionScene.ts", "../../../src/prefab/Bullet.ts", "../../../src/prefab/CloseBtn.ts", "../../../src/prefab/DropBox.ts", "../../../src/prefab/Role.ts", "../../../src/scence/physicsDemo/PhysicsGameMain.ts", "../../../src/scence/physicsDemo/PhysicsGameMainRT.generated.ts", "../../../src/scence/physicsDemo/PhysicsGameMainRT.ts", "../../../src/scence/uiDemo/MsgRT.generated.ts", "../../../src/scence/uiDemo/MsgRT.ts", "../../../src/scence/uiDemo/page/IframeElementRT.ts", "../../../src/scence/uiDemo/UiMainRT.generated.ts", "../../../src/scence/uiDemo/UiMainRT.ts", "../../../src/scence/uiDemo/animation/AtlasAniRT.ts", "../../../src/scence/uiDemo/animation/FrameAniRT.ts", "../../../src/scence/uiDemo/animation/SkeletonAni.ts", "../../../src/scence/uiDemo/interactive/AStar.ts", "../../../src/scence/uiDemo/interactive/ShapeDetection.ts", "../../../src/scence/uiDemo/interactive/ShapeDetectionRT.generated.ts", "../../../src/scence/uiDemo/interactive/ShapeDetectionRT.ts", "../../../src/scence/uiDemo/interactive/TileMapRT.ts", "../../../src/scence/uiDemo/list/BagListRT.generated.ts", "../../../src/scence/uiDemo/list/BagListRT.ts", "../../../src/scence/uiDemo/list/ComboBoxRT.ts", "../../../src/scence/uiDemo/list/LoopListRT.generated.ts", "../../../src/scence/uiDemo/list/LoopListRT.ts", "../../../src/scence/uiDemo/list/MailListRT.ts", "../../../src/scence/uiDemo/list/RefreshRT.ts", "../../../src/scence/uiDemo/list/TreeListRT.generated.ts", "../../../src/scence/uiDemo/list/TreeListRT.ts", "../../../src/scence/uiDemo/page/OpenMainScene.generated.ts", "../../../src/scence/uiDemo/page/OpenMainScene.ts", "../../../src/scence/uiDemo/page/BaseUI.ts", "../../../src/scence/uiDemo/page/OpenMainSceneScript.ts", "../../../src/scence/uiDemo/page/UsePanelRT.generated.ts", "../../../src/scence/uiDemo/page/UsePanelRT.ts", "../../../src/scence/uiDemo/useUI/ChangeTextureRT.ts", "../../../src/scence/uiDemo/useUI/MaskRT.generated.ts", "../../../src/scence/uiDemo/useUI/MaskRT.ts", "../../../src/scence/uiDemo/useUI/MouseThroughRT.ts", "../../../src/scence/uiDemo/useUI/PhysicalCollisionRT.ts", "../../../src/scence/uiDemo/useUI/ProgressRT.generated.ts", "../../../src/scence/uiDemo/useUI/ProgressRT.ts", "../../../src/script/AnimatorControl.ts", "../../../src/script/components/Roker.ts", "../../../src/script/logic/ParticleTool.ts", "../../../src/script/logic/EnemyMove.ts", "../../../src/script/logic/PlayerCatch.ts", "../../../src/script/logic/PlayerFight.ts", "../../../src/script/mouse/BgImg.ts", "../../../src/script/mouse/DragAndTips.ts", "../../../src/script/mouse/Joystick.ts", "../../../src/script/tween/Folded.ts"],
  "sourcesContent": ["import { packedValue, EncodingType, FormatType } from \"./custom_types\";\n/**\n * Return type for all the *2packed functions\n */\nconst b64Tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\nconst arraybuffer_error = \"ARRAYBUFFER not supported by this environment\";\nconst uint8array_error = \"UINT8ARRAY not supported by this environment\";\n\n/**\n * Convert a string to an array of words.\n *\n * There is a known bug with an odd number of existing bytes and using a UTF-16 encoding.  However, this function is\n * used such that the existing bytes are always a result of a previous UTF-16 str2packed call and therefore there \n * should never be an odd number of existing bytes.\n\n * @param str Unicode string to be converted to binary representation.\n * @param utfType The Unicode type to use to encode the source string.\n * @param existingPacked A packed int array of bytes to append the results to.\n * @param existingPackedLen The number of bits in `existingPacked`.\n * @param bigEndianMod Modifier for whether hash function is big or small endian.\n * @returns Hashmap of the packed values.\n */\nfunction str2packed(\n  str: string,\n  utfType: EncodingType,\n  existingPacked: number[] | undefined,\n  existingPackedLen: number | undefined,\n  bigEndianMod: -1 | 1\n): packedValue {\n  let codePnt,\n    codePntArr,\n    byteCnt = 0,\n    i,\n    j,\n    intOffset,\n    byteOffset,\n    shiftModifier,\n    transposeBytes;\n\n  existingPackedLen = existingPackedLen || 0;\n  const packed = existingPacked || [0],\n    existingByteLen = existingPackedLen >>> 3;\n\n  if (\"UTF8\" === utfType) {\n    shiftModifier = bigEndianMod === -1 ? 3 : 0;\n    for (i = 0; i < str.length; i += 1) {\n      codePnt = str.charCodeAt(i);\n      codePntArr = [];\n\n      if (0x80 > codePnt) {\n        codePntArr.push(codePnt);\n      } else if (0x800 > codePnt) {\n        codePntArr.push(0xc0 | (codePnt >>> 6));\n        codePntArr.push(0x80 | (codePnt & 0x3f));\n      } else if (0xd800 > codePnt || 0xe000 <= codePnt) {\n        codePntArr.push(0xe0 | (codePnt >>> 12), 0x80 | ((codePnt >>> 6) & 0x3f), 0x80 | (codePnt & 0x3f));\n      } else {\n        i += 1;\n        codePnt = 0x10000 + (((codePnt & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff));\n        codePntArr.push(\n          0xf0 | (codePnt >>> 18),\n          0x80 | ((codePnt >>> 12) & 0x3f),\n          0x80 | ((codePnt >>> 6) & 0x3f),\n          0x80 | (codePnt & 0x3f)\n        );\n      }\n\n      for (j = 0; j < codePntArr.length; j += 1) {\n        byteOffset = byteCnt + existingByteLen;\n        intOffset = byteOffset >>> 2;\n        while (packed.length <= intOffset) {\n          packed.push(0);\n        }\n        /* Known bug kicks in here */\n        packed[intOffset] |= codePntArr[j] << (8 * (shiftModifier + bigEndianMod * (byteOffset % 4)));\n        byteCnt += 1;\n      }\n    }\n  } else {\n    /* UTF16BE or UTF16LE */\n    shiftModifier = bigEndianMod === -1 ? 2 : 0;\n    /* Internally strings are UTF-16BE so transpose bytes under two conditions:\n     * need LE and not switching endianness due to SHA-3\n     * need BE and switching endianness due to SHA-3 */\n    transposeBytes = (\"UTF16LE\" === utfType && bigEndianMod !== 1) || (\"UTF16LE\" !== utfType && bigEndianMod === 1);\n    for (i = 0; i < str.length; i += 1) {\n      codePnt = str.charCodeAt(i);\n      if (transposeBytes === true) {\n        j = codePnt & 0xff;\n        codePnt = (j << 8) | (codePnt >>> 8);\n      }\n\n      byteOffset = byteCnt + existingByteLen;\n      intOffset = byteOffset >>> 2;\n      while (packed.length <= intOffset) {\n        packed.push(0);\n      }\n      packed[intOffset] |= codePnt << (8 * (shiftModifier + bigEndianMod * (byteOffset % 4)));\n      byteCnt += 2;\n    }\n  }\n  return { value: packed, binLen: byteCnt * 8 + existingPackedLen };\n}\n\n/**\n * Convert a hex string to an array of words.\n *\n * @param str Hexadecimal string to be converted to binary representation.\n * @param existingPacked A packed int array of bytes to append the results to.\n * @param existingPackedLen The number of bits in `existingPacked` array.\n * @param bigEndianMod Modifier for whether hash function is big or small endian.\n * @returns Hashmap of the packed values.\n */\nfunction hex2packed(\n  str: string,\n  existingPacked: number[] | undefined,\n  existingPackedLen: number | undefined,\n  bigEndianMod: -1 | 1\n): packedValue {\n  let i, num, intOffset, byteOffset;\n\n  if (0 !== str.length % 2) {\n    throw new Error(\"String of HEX type must be in byte increments\");\n  }\n\n  existingPackedLen = existingPackedLen || 0;\n  const packed = existingPacked || [0],\n    existingByteLen = existingPackedLen >>> 3,\n    shiftModifier = bigEndianMod === -1 ? 3 : 0;\n\n  for (i = 0; i < str.length; i += 2) {\n    num = parseInt(str.substr(i, 2), 16);\n    if (!isNaN(num)) {\n      byteOffset = (i >>> 1) + existingByteLen;\n      intOffset = byteOffset >>> 2;\n      while (packed.length <= intOffset) {\n        packed.push(0);\n      }\n      packed[intOffset] |= num << (8 * (shiftModifier + bigEndianMod * (byteOffset % 4)));\n    } else {\n      throw new Error(\"String of HEX type contains invalid characters\");\n    }\n  }\n\n  return { value: packed, binLen: str.length * 4 + existingPackedLen };\n}\n\n/**\n * Convert a string of raw bytes to an array of words.\n *\n * @param str String of raw bytes to be converted to binary representation.\n * @param existingPacked A packed int array of bytes to append the results to.\n * @param existingPackedLen The number of bits in `existingPacked` array.\n * @param bigEndianMod Modifier for whether hash function is big or small endian.\n * @returns Hashmap of the packed values.\n */\nfunction bytes2packed(\n  str: string,\n  existingPacked: number[] | undefined,\n  existingPackedLen: number | undefined,\n  bigEndianMod: -1 | 1\n): packedValue {\n  let codePnt, i, intOffset, byteOffset;\n\n  existingPackedLen = existingPackedLen || 0;\n  const packed = existingPacked || [0],\n    existingByteLen = existingPackedLen >>> 3,\n    shiftModifier = bigEndianMod === -1 ? 3 : 0;\n\n  for (i = 0; i < str.length; i += 1) {\n    codePnt = str.charCodeAt(i);\n\n    byteOffset = i + existingByteLen;\n    intOffset = byteOffset >>> 2;\n    if (packed.length <= intOffset) {\n      packed.push(0);\n    }\n    packed[intOffset] |= codePnt << (8 * (shiftModifier + bigEndianMod * (byteOffset % 4)));\n  }\n\n  return { value: packed, binLen: str.length * 8 + existingPackedLen };\n}\n\n/**\n * Convert a base-64 string to an array of words.\n *\n * @param str Base64-encoded string to be converted to binary representation.\n * @param existingPacked A packed int array of bytes to append the results to.\n * @param existingPackedLen The number of bits in `existingPacked` array.\n * @param bigEndianMod Modifier for whether hash function is big or small endian.\n * @returns Hashmap of the packed values.\n */\nfunction b642packed(\n  str: string,\n  existingPacked: number[] | undefined,\n  existingPackedLen: number | undefined,\n  bigEndianMod: -1 | 1\n): packedValue {\n  let byteCnt = 0,\n    index,\n    i,\n    j,\n    tmpInt,\n    strPart,\n    intOffset,\n    byteOffset;\n\n  existingPackedLen = existingPackedLen || 0;\n  const packed = existingPacked || [0],\n    existingByteLen = existingPackedLen >>> 3,\n    shiftModifier = bigEndianMod === -1 ? 3 : 0,\n    firstEqual = str.indexOf(\"=\");\n\n  if (-1 === str.search(/^[a-zA-Z0-9=+/]+$/)) {\n    throw new Error(\"Invalid character in base-64 string\");\n  }\n\n  str = str.replace(/=/g, \"\");\n  if (-1 !== firstEqual && firstEqual < str.length) {\n    throw new Error(\"Invalid '=' found in base-64 string\");\n  }\n\n  for (i = 0; i < str.length; i += 4) {\n    strPart = str.substr(i, 4);\n    tmpInt = 0;\n\n    for (j = 0; j < strPart.length; j += 1) {\n      index = b64Tab.indexOf(strPart.charAt(j));\n      tmpInt |= index << (18 - 6 * j);\n    }\n\n    for (j = 0; j < strPart.length - 1; j += 1) {\n      byteOffset = byteCnt + existingByteLen;\n      intOffset = byteOffset >>> 2;\n      while (packed.length <= intOffset) {\n        packed.push(0);\n      }\n      packed[intOffset] |=\n        ((tmpInt >>> (16 - j * 8)) & 0xff) << (8 * (shiftModifier + bigEndianMod * (byteOffset % 4)));\n      byteCnt += 1;\n    }\n  }\n\n  return { value: packed, binLen: byteCnt * 8 + existingPackedLen };\n}\n\n/**\n * Convert an Uint8Array to an array of words.\n *\n * @param arr Uint8Array to be converted to binary representation.\n * @param existingPacked A packed int array of bytes to append the results to.\n * @param existingPackedLen The number of bits in `existingPacked` array.\n * @param bigEndianMod Modifier for whether hash function is big or small endian.\n * @returns Hashmap of the packed values.\n */\nfunction uint8array2packed(\n  arr: Uint8Array,\n  existingPacked: number[] | undefined,\n  existingPackedLen: number | undefined,\n  bigEndianMod: -1 | 1\n): packedValue {\n  let i, intOffset, byteOffset;\n\n  existingPackedLen = existingPackedLen || 0;\n  const packed = existingPacked || [0],\n    existingByteLen = existingPackedLen >>> 3,\n    shiftModifier = bigEndianMod === -1 ? 3 : 0;\n\n  for (i = 0; i < arr.length; i += 1) {\n    byteOffset = i + existingByteLen;\n    intOffset = byteOffset >>> 2;\n    if (packed.length <= intOffset) {\n      packed.push(0);\n    }\n    packed[intOffset] |= arr[i] << (8 * (shiftModifier + bigEndianMod * (byteOffset % 4)));\n  }\n\n  return { value: packed, binLen: arr.length * 8 + existingPackedLen };\n}\n\n/**\n * Convert an ArrayBuffer to an array of words\n *\n * @param arr ArrayBuffer to be converted to binary representation.\n * @param existingPacked A packed int array of bytes to append the results to.\n * @param existingPackedLen The number of bits in `existingPacked` array.\n * @param bigEndianMod Modifier for whether hash function is big or small endian.\n * @returns Hashmap of the packed values.\n */\nfunction arraybuffer2packed(\n  arr: ArrayBuffer,\n  existingPacked: number[] | undefined,\n  existingPackedLen: number | undefined,\n  bigEndianMod: -1 | 1\n): packedValue {\n  return uint8array2packed(new Uint8Array(arr), existingPacked, existingPackedLen, bigEndianMod);\n}\n\n/**\n * Function that takes an input format and UTF encoding and returns the appropriate function used to convert the input.\n *\n * @param format The format of the input to be converted\n * @param utfType The string encoding to use for TEXT inputs.\n * @param bigEndianMod Modifier for whether hash function is big or small endian\n * @returns Function that will convert an input to a packed int array.\n */\nexport function getStrConverter(\n  format: FormatType,\n  utfType: EncodingType,\n  bigEndianMod: -1 | 1\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n): (input: any, existingBin?: number[], existingBinLen?: number) => packedValue {\n  /* Validate encoding */\n  switch (utfType) {\n    case \"UTF8\":\n    /* Fallthrough */\n    case \"UTF16BE\":\n    /* Fallthrough */\n    case \"UTF16LE\":\n      /* Fallthrough */\n      break;\n    default:\n      throw new Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");\n  }\n\n  /* Map inputFormat to the appropriate converter */\n  switch (format) {\n    case \"HEX\":\n      /**\n       * @param str String of hexadecimal bytes to be converted to binary representation.\n       * @param existingPacked A packed int array of bytes to append the results to.\n       * @param existingPackedLen The number of bits in `existingPacked` array.\n       * @returns Hashmap of the packed values.\n       */\n      return function (str: string, existingBin?: number[], existingBinLen?: number): packedValue {\n        return hex2packed(str, existingBin, existingBinLen, bigEndianMod);\n      };\n    case \"TEXT\":\n      /**\n       * @param str Unicode string to be converted to binary representation.\n       * @param existingPacked A packed int array of bytes to append the results to.\n       * @param existingPackedLen The number of bits in `existingPacked` array.\n       * @returns Hashmap of the packed values.\n       */\n      return function (str: string, existingBin?: number[], existingBinLen?: number): packedValue {\n        return str2packed(str, utfType, existingBin, existingBinLen, bigEndianMod);\n      };\n    case \"B64\":\n      /**\n       * @param str Base64-encoded string to be converted to binary representation.\n       * @param existingPacked A packed int array of bytes to append the results to.\n       * @param existingPackedLen The number of bits in `existingPacked` array.\n       * @returns Hashmap of the packed values.\n       */\n      return function (str: string, existingBin?: number[], existingBinLen?: number): packedValue {\n        return b642packed(str, existingBin, existingBinLen, bigEndianMod);\n      };\n    case \"BYTES\":\n      /**\n       * @param str String of raw bytes to be converted to binary representation.\n       * @param existingPacked A packed int array of bytes to append the results to.\n       * @param existingPackedLen The number of bits in `existingPacked` array.\n       * @returns Hashmap of the packed values.\n       */\n      return function (str: string, existingBin?: number[], existingBinLen?: number): packedValue {\n        return bytes2packed(str, existingBin, existingBinLen, bigEndianMod);\n      };\n    case \"ARRAYBUFFER\":\n      try {\n        new ArrayBuffer(0);\n      } catch (ignore) {\n        throw new Error(arraybuffer_error);\n      }\n      /**\n       * @param arr ArrayBuffer to be converted to binary representation.\n       * @param existingPacked A packed int array of bytes to append the results to.\n       * @param existingPackedLen The number of bits in `existingPacked` array.\n       * @returns Hashmap of the packed values.\n       */\n      return function (arr: ArrayBuffer, existingBin?: number[], existingBinLen?: number): packedValue {\n        return arraybuffer2packed(arr, existingBin, existingBinLen, bigEndianMod);\n      };\n    case \"UINT8ARRAY\":\n      try {\n        new Uint8Array(0);\n      } catch (ignore) {\n        throw new Error(uint8array_error);\n      }\n      /**\n       * @param arr Uint8Array to be converted to binary representation.\n       * @param existingPacked A packed int array of bytes to append the results to.\n       * @param existingPackedLen The number of bits in `existingPacked` array.\n       * @returns Hashmap of the packed values.\n       */\n      return function (arr: Uint8Array, existingBin?: number[], existingBinLen?: number): packedValue {\n        return uint8array2packed(arr, existingBin, existingBinLen, bigEndianMod);\n      };\n    default:\n      throw new Error(\"format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY\");\n  }\n}\n\n/**\n * Convert an array of words to a hexadecimal string.\n *\n * toString() won't work here because it removes preceding zeros (e.g. 0x00000001.toString === \"1\" rather than\n * \"00000001\" and 0.toString(16) === \"0\" rather than \"00\").\n *\n * @param packed Array of integers to be converted.\n * @param outputLength Length of output in bits.\n * @param bigEndianMod Modifier for whether hash function is big or small endian.\n * @param formatOpts Hashmap containing validated output formatting options.\n * @returns Hexadecimal representation of `packed`.\n */\nexport function packed2hex(\n  packed: number[],\n  outputLength: number,\n  bigEndianMod: -1 | 1,\n  formatOpts: { outputUpper: boolean; b64Pad: string }\n): string {\n  const hex_tab = \"0123456789abcdef\";\n  let str = \"\",\n    i,\n    srcByte;\n\n  const length = outputLength / 8,\n    shiftModifier = bigEndianMod === -1 ? 3 : 0;\n\n  for (i = 0; i < length; i += 1) {\n    /* The below is more than a byte but it gets taken care of later */\n    srcByte = packed[i >>> 2] >>> (8 * (shiftModifier + bigEndianMod * (i % 4)));\n    str += hex_tab.charAt((srcByte >>> 4) & 0xf) + hex_tab.charAt(srcByte & 0xf);\n  }\n\n  return formatOpts[\"outputUpper\"] ? str.toUpperCase() : str;\n}\n\n/**\n * Convert an array of words to a base-64 string.\n *\n * @param packed Array of integers to be converted.\n * @param outputLength Length of output in bits.\n * @param bigEndianMod Modifier for whether hash function is big or small endian.\n * @param formatOpts Hashmap containing validated output formatting options.\n * @returns Base64-encoded representation of `packed`.\n */\nexport function packed2b64(\n  packed: number[],\n  outputLength: number,\n  bigEndianMod: -1 | 1,\n  formatOpts: { outputUpper: boolean; b64Pad: string }\n): string {\n  let str = \"\",\n    i,\n    j,\n    triplet,\n    int1,\n    int2;\n\n  const length = outputLength / 8,\n    shiftModifier = bigEndianMod === -1 ? 3 : 0;\n\n  for (i = 0; i < length; i += 3) {\n    int1 = i + 1 < length ? packed[(i + 1) >>> 2] : 0;\n    int2 = i + 2 < length ? packed[(i + 2) >>> 2] : 0;\n    triplet =\n      (((packed[i >>> 2] >>> (8 * (shiftModifier + bigEndianMod * (i % 4)))) & 0xff) << 16) |\n      (((int1 >>> (8 * (shiftModifier + bigEndianMod * ((i + 1) % 4)))) & 0xff) << 8) |\n      ((int2 >>> (8 * (shiftModifier + bigEndianMod * ((i + 2) % 4)))) & 0xff);\n    for (j = 0; j < 4; j += 1) {\n      if (i * 8 + j * 6 <= outputLength) {\n        str += b64Tab.charAt((triplet >>> (6 * (3 - j))) & 0x3f);\n      } else {\n        str += formatOpts[\"b64Pad\"];\n      }\n    }\n  }\n  return str;\n}\n\n/**\n * Convert an array of words to raw bytes string.\n *\n * @param packed Array of integers to be converted.\n * @param outputLength Length of output in bits.\n * @param bigEndianMod Modifier for whether hash function is big or small endian.\n * @returns Raw bytes representation of `packed`.\n */\nexport function packed2bytes(packed: number[], outputLength: number, bigEndianMod: -1 | 1): string {\n  let str = \"\",\n    i,\n    srcByte;\n\n  const length = outputLength / 8,\n    shiftModifier = bigEndianMod === -1 ? 3 : 0;\n\n  for (i = 0; i < length; i += 1) {\n    srcByte = (packed[i >>> 2] >>> (8 * (shiftModifier + bigEndianMod * (i % 4)))) & 0xff;\n    str += String.fromCharCode(srcByte);\n  }\n\n  return str;\n}\n\n/**\n * Convert an array of words to an ArrayBuffer.\n *\n * @param packed Array of integers to be converted.\n * @param outputLength Length of output in bits.\n * @param bigEndianMod Modifier for whether hash function is big or small endian.\n * @returns An ArrayBuffer containing bytes from `packed.\n */\nexport function packed2arraybuffer(packed: number[], outputLength: number, bigEndianMod: -1 | 1): ArrayBuffer {\n  let i;\n  const length = outputLength / 8,\n    retVal = new ArrayBuffer(length),\n    arrView = new Uint8Array(retVal),\n    shiftModifier = bigEndianMod === -1 ? 3 : 0;\n\n  for (i = 0; i < length; i += 1) {\n    arrView[i] = (packed[i >>> 2] >>> (8 * (shiftModifier + bigEndianMod * (i % 4)))) & 0xff;\n  }\n\n  return retVal;\n}\n\n/**\n * Convert an array of words to an Uint8Array.\n *\n * @param packed Array of integers to be converted.\n * @param outputLength Length of output in bits.\n * @param bigEndianMod Modifier for whether hash function is big or small endian.\n * @returns An Uint8Array containing bytes from `packed.\n */\nexport function packed2uint8array(packed: number[], outputLength: number, bigEndianMod: -1 | 1): Uint8Array {\n  let i;\n  const length = outputLength / 8,\n    shiftModifier = bigEndianMod === -1 ? 3 : 0,\n    retVal = new Uint8Array(length);\n\n  for (i = 0; i < length; i += 1) {\n    retVal[i] = (packed[i >>> 2] >>> (8 * (shiftModifier + bigEndianMod * (i % 4)))) & 0xff;\n  }\n\n  return retVal;\n}\n\n/**\n * Function that takes an output format and associated parameters and returns a function that converts packed integers\n * to that format.\n *\n * @param format The desired output formatting.\n * @param outputBinLen Output length in bits.\n * @param bigEndianMod Modifier for whether hash function is big or small endian.\n * @param outputOptions Hashmap of output formatting options\n * @returns Function that will convert a packed integer array to desired format.\n */\nexport function getOutputConverter(\n  format: \"HEX\" | \"B64\" | \"BYTES\" | \"ARRAYBUFFER\" | \"UINT8ARRAY\",\n  outputBinLen: number,\n  bigEndianMod: -1 | 1,\n  outputOptions: { outputUpper: boolean; b64Pad: string }\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n): (binarray: number[]) => any {\n  switch (format) {\n    case \"HEX\":\n      return function (binarray): string {\n        return packed2hex(binarray, outputBinLen, bigEndianMod, outputOptions);\n      };\n    case \"B64\":\n      return function (binarray): string {\n        return packed2b64(binarray, outputBinLen, bigEndianMod, outputOptions);\n      };\n    case \"BYTES\":\n      return function (binarray): string {\n        return packed2bytes(binarray, outputBinLen, bigEndianMod);\n      };\n    case \"ARRAYBUFFER\":\n      try {\n        /* Need to test ArrayBuffer support */\n        new ArrayBuffer(0);\n      } catch (ignore) {\n        throw new Error(arraybuffer_error);\n      }\n      return function (binarray): ArrayBuffer {\n        return packed2arraybuffer(binarray, outputBinLen, bigEndianMod);\n      };\n    case \"UINT8ARRAY\":\n      try {\n        /* Need to test Uint8Array support */\n        new Uint8Array(0);\n      } catch (ignore) {\n        throw new Error(uint8array_error);\n      }\n      return function (binarray): Uint8Array {\n        return packed2uint8array(binarray, outputBinLen, bigEndianMod);\n      };\n    default:\n      throw new Error(\"format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY\");\n  }\n}\n", "import { getStrConverter, getOutputConverter } from \"./converters\";\n\nimport {\n  FormatType,\n  EncodingType,\n  FixedLengthOptionsEncodingType,\n  FixedLengthOptionsNoEncodingType,\n  FormatNoTextType,\n  packedValue,\n  GenericInputType,\n} from \"./custom_types\";\n\nexport const TWO_PWR_32 = 4294967296;\n\n/* Constant used in SHA-2 families */\nexport const K_sha2 = [\n  0x428a2f98,\n  0x71374491,\n  0xb5c0fbcf,\n  0xe9b5dba5,\n  0x3956c25b,\n  0x59f111f1,\n  0x923f82a4,\n  0xab1c5ed5,\n  0xd807aa98,\n  0x12835b01,\n  0x243185be,\n  0x550c7dc3,\n  0x72be5d74,\n  0x80deb1fe,\n  0x9bdc06a7,\n  0xc19bf174,\n  0xe49b69c1,\n  0xefbe4786,\n  0x0fc19dc6,\n  0x240ca1cc,\n  0x2de92c6f,\n  0x4a7484aa,\n  0x5cb0a9dc,\n  0x76f988da,\n  0x983e5152,\n  0xa831c66d,\n  0xb00327c8,\n  0xbf597fc7,\n  0xc6e00bf3,\n  0xd5a79147,\n  0x06ca6351,\n  0x14292967,\n  0x27b70a85,\n  0x2e1b2138,\n  0x4d2c6dfc,\n  0x53380d13,\n  0x650a7354,\n  0x766a0abb,\n  0x81c2c92e,\n  0x92722c85,\n  0xa2bfe8a1,\n  0xa81a664b,\n  0xc24b8b70,\n  0xc76c51a3,\n  0xd192e819,\n  0xd6990624,\n  0xf40e3585,\n  0x106aa070,\n  0x19a4c116,\n  0x1e376c08,\n  0x2748774c,\n  0x34b0bcb5,\n  0x391c0cb3,\n  0x4ed8aa4a,\n  0x5b9cca4f,\n  0x682e6ff3,\n  0x748f82ee,\n  0x78a5636f,\n  0x84c87814,\n  0x8cc70208,\n  0x90befffa,\n  0xa4506ceb,\n  0xbef9a3f7,\n  0xc67178f2,\n];\n\n/* Constant used in SHA-2 families */\nexport const H_trunc = [0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939, 0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4];\n\n/* Constant used in SHA-2 families */\nexport const H_full = [0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19];\n\nexport const sha_variant_error = \"Chosen SHA variant is not supported\";\nexport const mac_rounds_error = \"Cannot set numRounds with MAC\";\n\n/**\n * Concatenates 2 packed arrays. Clobbers array `a`.\n *\n * @param a First array to concatenate.\n * @param b Second array to concatenate.\n * @returns The concatentation of `a` + `b`.\n */\nexport function packedLEConcat(a: packedValue, b: packedValue): packedValue {\n  let i, arrOffset;\n  const aByteLen = a[\"binLen\"] >>> 3,\n    bByteLen = b[\"binLen\"] >>> 3,\n    leftShiftAmount = aByteLen << 3,\n    rightShiftAmount = (4 - aByteLen) << 3;\n\n  /* If a only contains \"full\" integers, we can just use concat which is so much easier */\n  if (aByteLen % 4 !== 0) {\n    for (i = 0; i < bByteLen; i += 4) {\n      arrOffset = (aByteLen + i) >>> 2;\n      /* Left shift chops off bits over 32-bits */\n      a[\"value\"][arrOffset] |= b[\"value\"][i >>> 2] << leftShiftAmount;\n      a[\"value\"].push(0);\n      a[\"value\"][arrOffset + 1] |= b[\"value\"][i >>> 2] >>> rightShiftAmount;\n    }\n\n    /* Since an unconditional push was performed above, we may have pushed an extra value if it could have been\n       encoded without it.  Check if popping an int off (reducing total length by 4 bytes) is still bigger than the\n       needed size. */\n    if ((a[\"value\"].length << 2) - 4 >= bByteLen + aByteLen) {\n      a[\"value\"].pop();\n    }\n\n    return { value: a[\"value\"], binLen: a[\"binLen\"] + b[\"binLen\"] };\n  } else {\n    return { value: a[\"value\"].concat(b[\"value\"]), binLen: a[\"binLen\"] + b[\"binLen\"] };\n  }\n}\n\n/**\n * Validate hash list containing output formatting options, ensuring presence of every option or adding the default\n * value.\n *\n * @param options Hashmap of output formatting options from user.\n * @returns Validated hashmap containing output formatting options.\n */\nexport function getOutputOpts(options?: {\n  outputUpper?: boolean;\n  b64Pad?: string;\n  shakeLen?: number;\n  outputLen?: number;\n}): { outputUpper: boolean; b64Pad: string; outputLen: number } {\n  const retVal = { outputUpper: false, b64Pad: \"=\", outputLen: -1 },\n    outputOptions: { outputUpper?: boolean; b64Pad?: string; shakeLen?: number; outputLen?: number } = options || {},\n    lenErrstr = \"Output length must be a multiple of 8\";\n\n  retVal[\"outputUpper\"] = outputOptions[\"outputUpper\"] || false;\n\n  if (outputOptions[\"b64Pad\"]) {\n    retVal[\"b64Pad\"] = outputOptions[\"b64Pad\"];\n  }\n\n  if (outputOptions[\"outputLen\"]) {\n    if (outputOptions[\"outputLen\"] % 8 !== 0) {\n      throw new Error(lenErrstr);\n    }\n    retVal[\"outputLen\"] = outputOptions[\"outputLen\"];\n  } else if (outputOptions[\"shakeLen\"]) {\n    if (outputOptions[\"shakeLen\"] % 8 !== 0) {\n      throw new Error(lenErrstr);\n    }\n    retVal[\"outputLen\"] = outputOptions[\"shakeLen\"];\n  }\n\n  if (\"boolean\" !== typeof retVal[\"outputUpper\"]) {\n    throw new Error(\"Invalid outputUpper formatting option\");\n  }\n\n  if (\"string\" !== typeof retVal[\"b64Pad\"]) {\n    throw new Error(\"Invalid b64Pad formatting option\");\n  }\n\n  return retVal;\n}\n\n/**\n * Parses an external constructor object and returns a packed number, if possible.\n *\n * @param key The human-friendly key name to prefix any errors with\n * @param value The input value object to parse\n * @param bigEndianMod Modifier for whether hash function is big or small endian.\n * @param fallback Fallback value if `value` is undefined.  If not present and `value` is undefined, an Error is thrown\n */\nexport function parseInputOption(\n  key: string,\n  value: GenericInputType | undefined,\n  bigEndianMod: -1 | 1,\n  fallback?: packedValue\n): packedValue {\n  const errStr = key + \" must include a value and format\";\n  if (!value) {\n    if (!fallback) {\n      throw new Error(errStr);\n    }\n    return fallback;\n  }\n\n  if (typeof value[\"value\"] === \"undefined\" || !value[\"format\"]) {\n    throw new Error(errStr);\n  }\n\n  return getStrConverter(\n    value[\"format\"],\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore - the value of encoding gets value checked by getStrConverter\n    value[\"encoding\"] || \"UTF8\",\n    bigEndianMod\n  )(value[\"value\"]);\n}\n\nexport abstract class jsSHABase<StateT, VariantT> {\n  /**\n   * @param variant The desired SHA variant.\n   * @param inputFormat The input format to be used in future `update` calls.\n   * @param options Hashmap of extra input options.\n   */\n  /* Needed inputs */\n  protected readonly shaVariant: VariantT;\n  protected readonly inputFormat: FormatType;\n  protected readonly utfType: EncodingType;\n  protected readonly numRounds: number;\n\n  /* State */\n  protected abstract intermediateState: StateT;\n  protected keyWithIPad: number[];\n  protected keyWithOPad: number[];\n  protected remainder: number[];\n  protected remainderLen: number;\n  protected updateCalled: boolean;\n  protected processedLen: number;\n  protected macKeySet: boolean;\n\n  /* Variant specifics */\n  protected abstract readonly variantBlockSize: number;\n  protected abstract readonly bigEndianMod: -1 | 1;\n  protected abstract readonly outputBinLen: number;\n  protected abstract readonly isVariableLen: boolean;\n  protected abstract readonly HMACSupported: boolean;\n\n  /* Functions */\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  protected abstract readonly converterFunc: (input: any, existingBin: number[], existingBinLen: number) => packedValue;\n  protected abstract readonly roundFunc: (block: number[], H: StateT) => StateT;\n  protected abstract readonly finalizeFunc: (\n    remainder: number[],\n    remainderBinLen: number,\n    processedBinLen: number,\n    H: StateT,\n    outputLen: number\n  ) => number[];\n  protected abstract readonly stateCloneFunc: (state: StateT) => StateT;\n  protected abstract readonly newStateFunc: (variant: VariantT) => StateT;\n  protected abstract readonly getMAC: ((options: { outputLen: number }) => number[]) | null;\n\n  protected constructor(variant: VariantT, inputFormat: \"TEXT\", options?: FixedLengthOptionsEncodingType);\n  protected constructor(variant: VariantT, inputFormat: FormatNoTextType, options?: FixedLengthOptionsNoEncodingType);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  protected constructor(variant: any, inputFormat: any, options?: any) {\n    const inputOptions = options || {};\n    this.inputFormat = inputFormat;\n\n    this.utfType = inputOptions[\"encoding\"] || \"UTF8\";\n    this.numRounds = inputOptions[\"numRounds\"] || 1;\n\n    /* eslint-disable-next-line @typescript-eslint/ban-ts-ignore */\n    // @ts-ignore - The spec actually says ToString is called on the first parseInt argument so it's OK to use it here\n    // to check if an arugment is an integer. This cheat would break if it's used to get the value of the argument.\n    if (isNaN(this.numRounds) || this.numRounds !== parseInt(this.numRounds, 10) || 1 > this.numRounds) {\n      throw new Error(\"numRounds must a integer >= 1\");\n    }\n\n    this.shaVariant = variant;\n    this.remainder = [];\n    this.remainderLen = 0;\n    this.updateCalled = false;\n    this.processedLen = 0;\n    this.macKeySet = false;\n    this.keyWithIPad = [];\n    this.keyWithOPad = [];\n  }\n\n  /**\n   * Hashes as many blocks as possible.  Stores the rest for either a future update or getHash call.\n   *\n   * @param srcString The input to be hashed.\n   */\n  update(srcString: string | ArrayBuffer | Uint8Array): void {\n    let i,\n      updateProcessedLen = 0;\n    const variantBlockIntInc = this.variantBlockSize >>> 5,\n      convertRet = this.converterFunc(srcString, this.remainder, this.remainderLen),\n      chunkBinLen = convertRet[\"binLen\"],\n      chunk = convertRet[\"value\"],\n      chunkIntLen = chunkBinLen >>> 5;\n\n    for (i = 0; i < chunkIntLen; i += variantBlockIntInc) {\n      if (updateProcessedLen + this.variantBlockSize <= chunkBinLen) {\n        this.intermediateState = this.roundFunc(chunk.slice(i, i + variantBlockIntInc), this.intermediateState);\n        updateProcessedLen += this.variantBlockSize;\n      }\n    }\n    this.processedLen += updateProcessedLen;\n    this.remainder = chunk.slice(updateProcessedLen >>> 5);\n    this.remainderLen = chunkBinLen % this.variantBlockSize;\n    this.updateCalled = true;\n  }\n\n  /**\n   * Returns the desired SHA hash of the input fed in via `update` calls.\n   *\n   * @param format The desired output formatting\n   * @param options Hashmap of output formatting options. `outputLen` must be specified for variable length hashes.\n   *   `outputLen` replaces the now deprecated `shakeLen` key.\n   * @returns The hash in the format specified.\n   */\n  getHash(format: \"HEX\", options?: { outputUpper?: boolean; outputLen?: number; shakeLen?: number }): string;\n  getHash(format: \"B64\", options?: { b64Pad?: string; outputLen?: number; shakeLen?: number }): string;\n  getHash(format: \"BYTES\", options?: { outputLen?: number; shakeLen?: number }): string;\n  getHash(format: \"UINT8ARRAY\", options?: { outputLen?: number; shakeLen?: number }): Uint8Array;\n  getHash(format: \"ARRAYBUFFER\", options?: { outputLen?: number; shakeLen?: number }): ArrayBuffer;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  getHash(format: any, options?: any): any {\n    let i,\n      finalizedState,\n      outputBinLen = this.outputBinLen;\n\n    const outputOptions = getOutputOpts(options);\n\n    if (this.isVariableLen) {\n      if (outputOptions[\"outputLen\"] === -1) {\n        throw new Error(\"Output length must be specified in options\");\n      }\n      outputBinLen = outputOptions[\"outputLen\"];\n    }\n\n    const formatFunc = getOutputConverter(format, outputBinLen, this.bigEndianMod, outputOptions);\n    if (this.macKeySet && this.getMAC) {\n      return formatFunc(this.getMAC(outputOptions));\n    }\n\n    finalizedState = this.finalizeFunc(\n      this.remainder.slice(),\n      this.remainderLen,\n      this.processedLen,\n      this.stateCloneFunc(this.intermediateState),\n      outputBinLen\n    );\n    for (i = 1; i < this.numRounds; i += 1) {\n      /* Need to mask out bits that should be zero due to output not being a multiple of 32 */\n      if (this.isVariableLen && outputBinLen % 32 !== 0) {\n        finalizedState[finalizedState.length - 1] &= 0x00ffffff >>> (24 - (outputBinLen % 32));\n      }\n      finalizedState = this.finalizeFunc(\n        finalizedState,\n        outputBinLen,\n        0,\n        this.newStateFunc(this.shaVariant),\n        outputBinLen\n      );\n    }\n\n    return formatFunc(finalizedState);\n  }\n\n  /**\n   * Sets the HMAC key for an eventual `getHMAC` call.  Must be called immediately after jsSHA object instantiation.\n   *\n   * @param key The key used to calculate the HMAC\n   * @param inputFormat The format of key.\n   * @param options Hashmap of extra input options.\n   */\n  setHMACKey(key: string, inputFormat: \"TEXT\", options?: { encoding?: EncodingType }): void;\n  setHMACKey(key: string, inputFormat: \"B64\" | \"HEX\" | \"BYTES\"): void;\n  setHMACKey(key: ArrayBuffer, inputFormat: \"ARRAYBUFFER\"): void;\n  setHMACKey(key: Uint8Array, inputFormat: \"UINT8ARRAY\"): void;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setHMACKey(key: any, inputFormat: any, options?: any): void {\n    if (!this.HMACSupported) {\n      throw new Error(\"Variant does not support HMAC\");\n    }\n\n    if (this.updateCalled) {\n      throw new Error(\"Cannot set MAC key after calling update\");\n    }\n\n    const keyOptions = options || {},\n      keyConverterFunc = getStrConverter(inputFormat, keyOptions[\"encoding\"] || \"UTF8\", this.bigEndianMod);\n\n    this._setHMACKey(keyConverterFunc(key));\n  }\n\n  /**\n   * Internal function that sets the MAC key.\n   *\n   * @param key The packed MAC key to use\n   */\n  protected _setHMACKey(key: packedValue): void {\n    const blockByteSize = this.variantBlockSize >>> 3,\n      lastArrayIndex = blockByteSize / 4 - 1;\n    let i;\n    if (this.numRounds !== 1) {\n      throw new Error(mac_rounds_error);\n    }\n\n    if (this.macKeySet) {\n      throw new Error(\"MAC key already set\");\n    }\n\n    /* Figure out what to do with the key based on its size relative to\n     * the hash's block size */\n    if (blockByteSize < key[\"binLen\"] / 8) {\n      key[\"value\"] = this.finalizeFunc(\n        key[\"value\"],\n        key[\"binLen\"],\n        0,\n        this.newStateFunc(this.shaVariant),\n        this.outputBinLen\n      );\n    }\n    while (key[\"value\"].length <= lastArrayIndex) {\n      key[\"value\"].push(0);\n    }\n    /* Create ipad and opad */\n    for (i = 0; i <= lastArrayIndex; i += 1) {\n      this.keyWithIPad[i] = key[\"value\"][i] ^ 0x36363636;\n      this.keyWithOPad[i] = key[\"value\"][i] ^ 0x5c5c5c5c;\n    }\n\n    this.intermediateState = this.roundFunc(this.keyWithIPad, this.intermediateState);\n    this.processedLen = this.variantBlockSize;\n\n    this.macKeySet = true;\n  }\n\n  /**\n   * Returns the the HMAC in the specified format using the key given by a previous `setHMACKey` call.\n   *\n   * @param format The desired output formatting.\n   * @param options Hashmap of extra outputs options.\n   * @returns The HMAC in the format specified.\n   */\n  getHMAC(format: \"HEX\", options?: { outputUpper?: boolean }): string;\n  getHMAC(format: \"B64\", options?: { b64Pad?: string }): string;\n  getHMAC(format: \"BYTES\"): string;\n  getHMAC(format: \"UINT8ARRAY\"): Uint8Array;\n  getHMAC(format: \"ARRAYBUFFER\"): ArrayBuffer;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  getHMAC(format: any, options?: any): any {\n    const outputOptions = getOutputOpts(options),\n      formatFunc = getOutputConverter(format, this.outputBinLen, this.bigEndianMod, outputOptions);\n\n    return formatFunc(this._getHMAC());\n  }\n\n  /**\n   * Internal function that returns the \"raw\" HMAC\n   */\n  protected _getHMAC(): number[] {\n    let finalizedState;\n\n    if (!this.macKeySet) {\n      throw new Error(\"Cannot call getHMAC without first setting MAC key\");\n    }\n\n    const firstHash = this.finalizeFunc(\n      this.remainder.slice(),\n      this.remainderLen,\n      this.processedLen,\n      this.stateCloneFunc(this.intermediateState),\n      this.outputBinLen\n    );\n    finalizedState = this.roundFunc(this.keyWithOPad, this.newStateFunc(this.shaVariant));\n    finalizedState = this.finalizeFunc(\n      firstHash,\n      this.outputBinLen,\n      this.variantBlockSize,\n      finalizedState,\n      this.outputBinLen\n    );\n\n    return finalizedState;\n  }\n}\n", "/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n", "/*\n * Note 1: All the functions in this file guarantee only that the bottom 32-bits of the return value are correct.\n * JavaScript is flakey when it comes to bit operations and a '1' in the highest order bit of a 32-bit number causes\n * it to be interpreted as a negative number per two's complement.\n *\n * Note 2: Per the ECMAScript spec, all JavaScript operations mask the shift amount by 0x1F.  This results in weird\n * cases like 1 << 32 == 1 and 1 << 33 === 1 << 1 === 2\n */\n\n/**\n * The 32-bit implementation of circular rotate left.\n *\n * @param x The 32-bit integer argument.\n * @param n The number of bits to shift.\n * @returns `x` shifted left circularly by `n` bits\n */\nexport function rotl_32(x: number, n: number): number {\n  return (x << n) | (x >>> (32 - n));\n}\n\n/**\n * The 32-bit implementation of circular rotate right.\n *\n * @param x The 32-bit integer argument.\n * @param n The number of bits to shift.\n * @returns `x` shifted right circularly by `n` bits\n */\nfunction rotr_32(x: number, n: number): number {\n  return (x >>> n) | (x << (32 - n));\n}\n\n/**\n * The 32-bit implementation of shift right.\n *\n * @param x The 32-bit integer argument.\n * @param n The number of bits to shift.\n * @returns `x` shifted by `n` bits.\n */\nfunction shr_32(x: number, n: number): number {\n  return x >>> n;\n}\n\n/**\n * The 32-bit implementation of the NIST specified Parity function.\n *\n * @param x The first 32-bit integer argument.\n * @param y The second 32-bit integer argument.\n * @param z The third 32-bit integer argument.\n * @returns The NIST specified output of the function.\n */\nexport function parity_32(x: number, y: number, z: number): number {\n  return x ^ y ^ z;\n}\n\n/**\n * The 32-bit implementation of the NIST specified Ch function.\n *\n * @param x The first 32-bit integer argument.\n * @param y The second 32-bit integer argument.\n * @param z The third 32-bit integer argument.\n * @returns The NIST specified output of the function.\n */\nexport function ch_32(x: number, y: number, z: number): number {\n  return (x & y) ^ (~x & z);\n}\n\n/**\n * The 32-bit implementation of the NIST specified Maj function.\n *\n * @param x The first 32-bit integer argument.\n * @param y The second 32-bit integer argument.\n * @param z The third 32-bit integer argument.\n * @returns The NIST specified output of the function.\n */\nexport function maj_32(x: number, y: number, z: number): number {\n  return (x & y) ^ (x & z) ^ (y & z);\n}\n\n/**\n * The 32-bit implementation of the NIST specified Sigma0 function.\n *\n * @param x The 32-bit integer argument.\n * @returns The NIST specified output of the function.\n */\nexport function sigma0_32(x: number): number {\n  return rotr_32(x, 2) ^ rotr_32(x, 13) ^ rotr_32(x, 22);\n}\n\n/**\n * Add two 32-bit integers.\n *\n * This uses 16-bit operations internally to work around sign problems due to JavaScript's lack of uint32 support.\n *\n * @param a The first 32-bit integer argument to be added.\n * @param b The second 32-bit integer argument to be added.\n * @returns The sum of `a` + `b`.\n */\nexport function safeAdd_32_2(a: number, b: number): number {\n  const lsw = (a & 0xffff) + (b & 0xffff),\n    msw = (a >>> 16) + (b >>> 16) + (lsw >>> 16);\n\n  return ((msw & 0xffff) << 16) | (lsw & 0xffff);\n}\n\n/**\n * Add four 32-bit integers.\n *\n * This uses 16-bit operations internally to work around sign problems due to JavaScript's lack of uint32 support.\n *\n * @param a The first 32-bit integer argument to be added.\n * @param b The second 32-bit integer argument to be added.\n * @param c The third 32-bit integer argument to be added.\n * @param d The fourth 32-bit integer argument to be added.\n * @returns The sum of `a` + `b` + `c` + `d`.\n */\nexport function safeAdd_32_4(a: number, b: number, c: number, d: number): number {\n  const lsw = (a & 0xffff) + (b & 0xffff) + (c & 0xffff) + (d & 0xffff),\n    msw = (a >>> 16) + (b >>> 16) + (c >>> 16) + (d >>> 16) + (lsw >>> 16);\n\n  return ((msw & 0xffff) << 16) | (lsw & 0xffff);\n}\n\n/**\n * Add five 32-bit integers.\n *\n * This uses 16-bit operations internally to work around sign problems due to JavaScript's lack of uint32 support.\n *\n * @param a The first 32-bit integer argument to be added.\n * @param b The second 32-bit integer argument to be added.\n * @param c The third 32-bit integer argument to be added.\n * @param d The fourth 32-bit integer argument to be added.\n * @param e The fifth 32-bit integer argument to be added.\n * @returns The sum of `a` + `b` + `c` + `d` + `e`.\n */\nexport function safeAdd_32_5(a: number, b: number, c: number, d: number, e: number): number {\n  const lsw = (a & 0xffff) + (b & 0xffff) + (c & 0xffff) + (d & 0xffff) + (e & 0xffff),\n    msw = (a >>> 16) + (b >>> 16) + (c >>> 16) + (d >>> 16) + (e >>> 16) + (lsw >>> 16);\n\n  return ((msw & 0xffff) << 16) | (lsw & 0xffff);\n}\n\n/**\n * The 32-bit implementation of the NIST specified Gamma1 function.\n *\n * @param x The 32-bit integer argument.\n * @returns The NIST specified output of the function.\n */\nexport function gamma1_32(x: number): number {\n  return rotr_32(x, 17) ^ rotr_32(x, 19) ^ shr_32(x, 10);\n}\n\n/**\n * The 32-bit implementation of the NIST specified Gamma0 function.\n *\n * @param x The 32-bit integer argument.\n * @returns The NIST specified output of the function.\n */\nexport function gamma0_32(x: number): number {\n  return rotr_32(x, 7) ^ rotr_32(x, 18) ^ shr_32(x, 3);\n}\n\n/**\n * The 32-bit implementation of the NIST specified Sigma1 function.\n *\n * @param x The 32-bit integer argument.\n * @returns The NIST specified output of the function.\n */\nexport function sigma1_32(x: number): number {\n  return rotr_32(x, 6) ^ rotr_32(x, 11) ^ rotr_32(x, 25);\n}\n", "import { jsSHABase, TWO_PWR_32, sha_variant_error, parseInputOption } from \"./common\";\nimport {\n  packedValue,\n  FixedLengthOptionsEncodingType,\n  FixedLengthOptionsNoEncodingType,\n  FormatNoTextType,\n} from \"./custom_types\";\nimport { getStrConverter } from \"./converters\";\nimport { ch_32, parity_32, maj_32, rotl_32, safeAdd_32_2, safeAdd_32_5 } from \"./primitives_32\";\n\n/**\n * Gets the state values for the specified SHA variant.\n *\n * @param _variant: Unused\n * @returns The initial state values.\n */\nfunction getNewState(_variant: \"SHA-1\"): number[] {\n  return [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n}\n\n/**\n * Performs a round of SHA-1 hashing over a 512-byte block.  This clobbers `H`.\n *\n * @param block The binary array representation of the block to hash.\n * @param H The intermediate H values from a previous round.\n * @returns The resulting H values.\n */\nfunction roundSHA1(block: number[], H: number[]): number[] {\n  let a, b, c, d, e, T, t;\n  const W: number[] = [];\n\n  a = H[0];\n  b = H[1];\n  c = H[2];\n  d = H[3];\n  e = H[4];\n\n  for (t = 0; t < 80; t += 1) {\n    if (t < 16) {\n      W[t] = block[t];\n    } else {\n      W[t] = rotl_32(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n\n    if (t < 20) {\n      T = safeAdd_32_5(rotl_32(a, 5), ch_32(b, c, d), e, 0x5a827999, W[t]);\n    } else if (t < 40) {\n      T = safeAdd_32_5(rotl_32(a, 5), parity_32(b, c, d), e, 0x6ed9eba1, W[t]);\n    } else if (t < 60) {\n      T = safeAdd_32_5(rotl_32(a, 5), maj_32(b, c, d), e, 0x8f1bbcdc, W[t]);\n    } else {\n      T = safeAdd_32_5(rotl_32(a, 5), parity_32(b, c, d), e, 0xca62c1d6, W[t]);\n    }\n\n    e = d;\n    d = c;\n    c = rotl_32(b, 30);\n    b = a;\n    a = T;\n  }\n\n  H[0] = safeAdd_32_2(a, H[0]);\n  H[1] = safeAdd_32_2(b, H[1]);\n  H[2] = safeAdd_32_2(c, H[2]);\n  H[3] = safeAdd_32_2(d, H[3]);\n  H[4] = safeAdd_32_2(e, H[4]);\n\n  return H;\n}\n\n/**\n * Finalizes the SHA-1 hash.  This clobbers `remainder` and `H`.\n *\n * @param remainder Any leftover unprocessed packed ints that still need to be processed.\n * @param remainderBinLen The number of bits in `remainder`.\n * @param processedBinLen The number of bits already processed.\n * @param H The intermediate H values from a previous round.\n * @returns The array of integers representing the SHA-1 hash of message.\n */\nfunction finalizeSHA1(remainder: number[], remainderBinLen: number, processedBinLen: number, H: number[]): number[] {\n  let i;\n\n  /* The 65 addition is a hack but it works.  The correct number is\n\t\tactually 72 (64 + 8) but the below math fails if\n\t\tremainderBinLen + 72 % 512 = 0. Since remainderBinLen % 8 = 0,\n\t\t\"shorting\" the addition is OK. */\n  const offset = (((remainderBinLen + 65) >>> 9) << 4) + 15,\n    totalLen = remainderBinLen + processedBinLen;\n  while (remainder.length <= offset) {\n    remainder.push(0);\n  }\n  /* Append '1' at the end of the binary string */\n  remainder[remainderBinLen >>> 5] |= 0x80 << (24 - (remainderBinLen % 32));\n\n  /* Append length of binary string in the position such that the new\n   * length is a multiple of 512.  Logic does not work for even multiples\n   * of 512 but there can never be even multiples of 512. JavaScript\n   * numbers are limited to 2^53 so it's \"safe\" to treat the totalLen as\n   * a 64-bit integer. */\n  remainder[offset] = totalLen & 0xffffffff;\n\n  /* Bitwise operators treat the operand as a 32-bit number so need to\n   * use hacky division and round to get access to upper 32-ish bits */\n  remainder[offset - 1] = (totalLen / TWO_PWR_32) | 0;\n\n  /* This will always be at least 1 full chunk */\n  for (i = 0; i < remainder.length; i += 16) {\n    H = roundSHA1(remainder.slice(i, i + 16), H);\n  }\n\n  return H;\n}\n\nexport default class jsSHA extends jsSHABase<number[], \"SHA-1\"> {\n  intermediateState: number[];\n  variantBlockSize: number;\n  bigEndianMod: -1 | 1;\n  outputBinLen: number;\n  isVariableLen: boolean;\n  HMACSupported: boolean;\n\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  converterFunc: (input: any, existingBin: number[], existingBinLen: number) => packedValue;\n  roundFunc: (block: number[], H: number[]) => number[];\n  finalizeFunc: (remainder: number[], remainderBinLen: number, processedBinLen: number, H: number[]) => number[];\n  stateCloneFunc: (state: number[]) => number[];\n  newStateFunc: (variant: \"SHA-1\") => number[];\n  getMAC: () => number[];\n\n  constructor(variant: \"SHA-1\", inputFormat: \"TEXT\", options?: FixedLengthOptionsEncodingType);\n  constructor(variant: \"SHA-1\", inputFormat: FormatNoTextType, options?: FixedLengthOptionsNoEncodingType);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor(variant: any, inputFormat: any, options?: any) {\n    if (\"SHA-1\" !== variant) {\n      throw new Error(sha_variant_error);\n    }\n    super(variant, inputFormat, options);\n    const resolvedOptions = options || {};\n\n    this.HMACSupported = true;\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    this.getMAC = this._getHMAC;\n    this.bigEndianMod = -1;\n    this.converterFunc = getStrConverter(this.inputFormat, this.utfType, this.bigEndianMod);\n    this.roundFunc = roundSHA1;\n    this.stateCloneFunc = function (state: number[]): number[] {\n      return state.slice();\n    };\n    this.newStateFunc = getNewState;\n    this.finalizeFunc = finalizeSHA1;\n\n    this.intermediateState = getNewState(variant);\n    this.variantBlockSize = 512;\n    this.outputBinLen = 160;\n    this.isVariableLen = false;\n\n    if (resolvedOptions[\"hmacKey\"]) {\n      this._setHMACKey(parseInputOption(\"hmacKey\", resolvedOptions[\"hmacKey\"], this.bigEndianMod));\n    }\n  }\n}\n", "import { jsSHABase, TWO_PWR_32, H_full, H_trunc, K_sha2, sha_variant_error, parseInputOption } from \"./common\";\nimport {\n  packedValue,\n  FixedLengthOptionsEncodingType,\n  FixedLengthOptionsNoEncodingType,\n  FormatNoTextType,\n} from \"./custom_types\";\nimport { getStrConverter } from \"./converters\";\nimport {\n  ch_32,\n  gamma0_32,\n  gamma1_32,\n  maj_32,\n  safeAdd_32_2,\n  safeAdd_32_4,\n  safeAdd_32_5,\n  sigma0_32,\n  sigma1_32,\n} from \"./primitives_32\";\n\ntype VariantType = \"SHA-224\" | \"SHA-256\";\n\n/**\n * Gets the state values for the specified SHA variant.\n *\n * @param variant: The SHA-256 family variant.\n * @returns The initial state values.\n */\nfunction getNewState256(variant: VariantType): number[] {\n  let retVal;\n\n  if (\"SHA-224\" == variant) {\n    retVal = H_trunc.slice();\n  } else {\n    /* \"SHA-256\" */\n    retVal = H_full.slice();\n  }\n  return retVal;\n}\n\n/**\n * Performs a round of SHA-256 hashing over a block. This clobbers `H`.\n *\n * @param block The binary array representation of the block to hash.\n * @param H The intermediate H values from a previous round.\n * @returns The resulting H values.\n */\nfunction roundSHA256(block: number[], H: number[]): number[] {\n  let a, b, c, d, e, f, g, h, T1, T2, t;\n\n  const W: number[] = [];\n\n  a = H[0];\n  b = H[1];\n  c = H[2];\n  d = H[3];\n  e = H[4];\n  f = H[5];\n  g = H[6];\n  h = H[7];\n\n  for (t = 0; t < 64; t += 1) {\n    if (t < 16) {\n      W[t] = block[t];\n    } else {\n      W[t] = safeAdd_32_4(gamma1_32(W[t - 2]), W[t - 7], gamma0_32(W[t - 15]), W[t - 16]);\n    }\n    T1 = safeAdd_32_5(h, sigma1_32(e), ch_32(e, f, g), K_sha2[t], W[t]);\n    T2 = safeAdd_32_2(sigma0_32(a), maj_32(a, b, c));\n    h = g;\n    g = f;\n    f = e;\n    e = safeAdd_32_2(d, T1);\n    d = c;\n    c = b;\n    b = a;\n    a = safeAdd_32_2(T1, T2);\n  }\n\n  H[0] = safeAdd_32_2(a, H[0]);\n  H[1] = safeAdd_32_2(b, H[1]);\n  H[2] = safeAdd_32_2(c, H[2]);\n  H[3] = safeAdd_32_2(d, H[3]);\n  H[4] = safeAdd_32_2(e, H[4]);\n  H[5] = safeAdd_32_2(f, H[5]);\n  H[6] = safeAdd_32_2(g, H[6]);\n  H[7] = safeAdd_32_2(h, H[7]);\n\n  return H;\n}\n\n/**\n * Finalizes the SHA-256 hash. This clobbers `remainder` and `H`.\n *\n * @param remainder Any leftover unprocessed packed ints that still need to be processed.\n * @param remainderBinLen The number of bits in `remainder`.\n * @param processedBinLen The number of bits already processed.\n * @param H The intermediate H values from a previous round.\n * @param variant The desired SHA-256 variant.\n * @returns The array of integers representing the SHA-2 hash of message.\n */\nfunction finalizeSHA256(\n  remainder: number[],\n  remainderBinLen: number,\n  processedBinLen: number,\n  H: number[],\n  variant: VariantType\n): number[] {\n  let i, retVal;\n\n  /* The 65 addition is a hack but it works.  The correct number is\n    actually 72 (64 + 8) but the below math fails if\n    remainderBinLen + 72 % 512 = 0. Since remainderBinLen % 8 = 0,\n    \"shorting\" the addition is OK. */\n  const offset = (((remainderBinLen + 65) >>> 9) << 4) + 15,\n    binaryStringInc = 16,\n    totalLen = remainderBinLen + processedBinLen;\n\n  while (remainder.length <= offset) {\n    remainder.push(0);\n  }\n  /* Append '1' at the end of the binary string */\n  remainder[remainderBinLen >>> 5] |= 0x80 << (24 - (remainderBinLen % 32));\n  /* Append length of binary string in the position such that the new\n   * length is correct. JavaScript numbers are limited to 2^53 so it's\n   * \"safe\" to treat the totalLen as a 64-bit integer. */\n\n  remainder[offset] = totalLen & 0xffffffff;\n  /* Bitwise operators treat the operand as a 32-bit number so need to\n   * use hacky division and round to get access to upper 32-ish bits */\n  remainder[offset - 1] = (totalLen / TWO_PWR_32) | 0;\n\n  /* This will always be at least 1 full chunk */\n  for (i = 0; i < remainder.length; i += binaryStringInc) {\n    H = roundSHA256(remainder.slice(i, i + binaryStringInc), H);\n  }\n\n  if (\"SHA-224\" === variant) {\n    retVal = [H[0], H[1], H[2], H[3], H[4], H[5], H[6]];\n  } else {\n    /* \"SHA-256 */\n    retVal = H;\n  }\n\n  return retVal;\n}\nexport default class jsSHA extends jsSHABase<number[], VariantType> {\n  intermediateState: number[];\n  variantBlockSize: number;\n  bigEndianMod: -1 | 1;\n  outputBinLen: number;\n  isVariableLen: boolean;\n  HMACSupported: boolean;\n\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  converterFunc: (input: any, existingBin: number[], existingBinLen: number) => packedValue;\n  roundFunc: (block: number[], H: number[]) => number[];\n  finalizeFunc: (remainder: number[], remainderBinLen: number, processedBinLen: number, H: number[]) => number[];\n  stateCloneFunc: (state: number[]) => number[];\n  newStateFunc: (variant: VariantType) => number[];\n  getMAC: () => number[];\n\n  constructor(variant: VariantType, inputFormat: \"TEXT\", options?: FixedLengthOptionsEncodingType);\n  constructor(variant: VariantType, inputFormat: FormatNoTextType, options?: FixedLengthOptionsNoEncodingType);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor(variant: any, inputFormat: any, options?: any) {\n    if (!(\"SHA-224\" === variant || \"SHA-256\" === variant)) {\n      throw new Error(sha_variant_error);\n    }\n    super(variant, inputFormat, options);\n    const resolvedOptions = options || {};\n\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    this.getMAC = this._getHMAC;\n    this.HMACSupported = true;\n    this.bigEndianMod = -1;\n    this.converterFunc = getStrConverter(this.inputFormat, this.utfType, this.bigEndianMod);\n    this.roundFunc = roundSHA256;\n    this.stateCloneFunc = function (state): number[] {\n      return state.slice();\n    };\n\n    this.newStateFunc = getNewState256;\n    this.finalizeFunc = function (remainder, remainderBinLen, processedBinLen, H): number[] {\n      return finalizeSHA256(remainder, remainderBinLen, processedBinLen, H, variant);\n    };\n\n    this.intermediateState = getNewState256(variant);\n    this.variantBlockSize = 512;\n    this.outputBinLen = \"SHA-224\" === variant ? 224 : 256;\n    this.isVariableLen = false;\n\n    if (resolvedOptions[\"hmacKey\"]) {\n      this._setHMACKey(parseInputOption(\"hmacKey\", resolvedOptions[\"hmacKey\"], this.bigEndianMod));\n    }\n  }\n}\n", "/*\n * Note 1: All the functions in this file guarantee only that the bottom 32-bits of the returned Int_64 are correct.\n * JavaScript is flakey when it comes to bit operations and a '1' in the highest order bit of a 32-bit number causes\n * it to be interpreted as a negative number per two's complement.\n *\n * Note 2: Per the ECMAScript spec, all JavaScript operations mask the shift amount by 0x1F.  This results in weird\n * cases like 1 << 32 == 1 and 1 << 33 === 1 << 1 === 2\n */\n\n/**\n * Int_64 is a object for 2 32-bit numbers emulating a 64-bit number.\n */\nexport class Int_64 {\n  /**\n   * @param msint_32 The most significant 32-bits of a 64-bit number.\n   * @param lsint_32 The least significant 32-bits of a 64-bit number.\n   */\n  readonly highOrder: number;\n  readonly lowOrder: number;\n  constructor(msint_32: number, lsint_32: number) {\n    this.highOrder = msint_32;\n    this.lowOrder = lsint_32;\n  }\n}\n\n/**\n * The 64-bit implementation of circular rotate left.\n *\n * This does not work for n >= 64 or n == 32 but those are never done.\n *\n * @param x The 64-bit integer argument.\n * @param n The number of bits to shift.\n * @returns `x` shifted left circularly by `n` bits.\n */\nexport function rotl_64(x: Int_64, n: number): Int_64 {\n  let tmp;\n  if (n > 32) {\n    tmp = 64 - n;\n    return new Int_64((x.lowOrder << n) | (x.highOrder >>> tmp), (x.highOrder << n) | (x.lowOrder >>> tmp));\n  } else if (0 !== n) {\n    tmp = 32 - n;\n    return new Int_64((x.highOrder << n) | (x.lowOrder >>> tmp), (x.lowOrder << n) | (x.highOrder >>> tmp));\n  } else {\n    return x;\n  }\n}\n\n/**\n * The 64-bit implementation of circular rotate right.\n *\n * This does not work for n >= 64, n == 32, or n == 0 but those are never done.\n *\n * @param x The 64-bit integer argument.\n * @param n The number of bits to shift.\n * @returns `x` shifted right circularly by `n` bits.\n */\nfunction rotr_64(x: Int_64, n: number): Int_64 {\n  let tmp;\n  if (n < 32) {\n    tmp = 32 - n;\n    return new Int_64((x.highOrder >>> n) | (x.lowOrder << tmp), (x.lowOrder >>> n) | (x.highOrder << tmp));\n  } else {\n    tmp = 64 - n;\n    return new Int_64((x.lowOrder >>> n) | (x.highOrder << tmp), (x.highOrder >>> n) | (x.lowOrder << tmp));\n  }\n}\n\n/**\n * The 64-bit implementation of shift right.\n *\n * This does not work for n >= 32 but is only called for n < 32.\n *\n * @param x The 64-bit integer argument.\n * @param n The number of bits to shift.\n * @returns `x` shifted right by `n` bits\n */\nfunction shr_64(x: Int_64, n: number): Int_64 {\n  return new Int_64(x.highOrder >>> n, (x.lowOrder >>> n) | (x.highOrder << (32 - n)));\n}\n\n/**\n * The 64-bit implementation of the NIST specified Ch function.\n *\n * @param x The first 64-bit integer argument.\n * @param y The second 64-bit integer argument.\n * @param z The third 64-bit integer argument.\n * @returns The NIST specified output of the function.\n */\nexport function ch_64(x: Int_64, y: Int_64, z: Int_64): Int_64 {\n  return new Int_64(\n    (x.highOrder & y.highOrder) ^ (~x.highOrder & z.highOrder),\n    (x.lowOrder & y.lowOrder) ^ (~x.lowOrder & z.lowOrder)\n  );\n}\n\n/**\n * The 64-bit implementation of the NIST specified Maj function.\n *\n * @param x The first 64-bit integer argument.\n * @param y The second 64-bit integer argument.\n * @param z The third 64-bit integer argument.\n * @returns The NIST specified output of the function.\n */\nexport function maj_64(x: Int_64, y: Int_64, z: Int_64): Int_64 {\n  return new Int_64(\n    (x.highOrder & y.highOrder) ^ (x.highOrder & z.highOrder) ^ (y.highOrder & z.highOrder),\n    (x.lowOrder & y.lowOrder) ^ (x.lowOrder & z.lowOrder) ^ (y.lowOrder & z.lowOrder)\n  );\n}\n\n/**\n * The 64-bit implementation of the NIST specified Sigma0 function.\n *\n * @param x The 64-bit integer argument.\n * @returns The NIST specified output of the function.\n */\nexport function sigma0_64(x: Int_64): Int_64 {\n  const rotr28 = rotr_64(x, 28),\n    rotr34 = rotr_64(x, 34),\n    rotr39 = rotr_64(x, 39);\n\n  return new Int_64(\n    rotr28.highOrder ^ rotr34.highOrder ^ rotr39.highOrder,\n    rotr28.lowOrder ^ rotr34.lowOrder ^ rotr39.lowOrder\n  );\n}\n\n/**\n * Add two 64-bit integers.\n *\n * @param x The first 64-bit integer argument to be added.\n * @param y The second 64-bit integer argument to be added.\n * @returns The sum of `x` + `y`.\n */\nexport function safeAdd_64_2(x: Int_64, y: Int_64): Int_64 {\n  let lsw, msw;\n\n  lsw = (x.lowOrder & 0xffff) + (y.lowOrder & 0xffff);\n  msw = (x.lowOrder >>> 16) + (y.lowOrder >>> 16) + (lsw >>> 16);\n  const lowOrder = ((msw & 0xffff) << 16) | (lsw & 0xffff);\n\n  lsw = (x.highOrder & 0xffff) + (y.highOrder & 0xffff) + (msw >>> 16);\n  msw = (x.highOrder >>> 16) + (y.highOrder >>> 16) + (lsw >>> 16);\n  const highOrder = ((msw & 0xffff) << 16) | (lsw & 0xffff);\n\n  return new Int_64(highOrder, lowOrder);\n}\n\n/**\n * Add four 64-bit integers.\n *\n * @param a The first 64-bit integer argument to be added.\n * @param b The second 64-bit integer argument to be added.\n * @param c The third 64-bit integer argument to be added.\n * @param d The fouth 64-bit integer argument to be added.\n * @returns The sum of `a` + `b` + `c` + `d`.\n */\nexport function safeAdd_64_4(a: Int_64, b: Int_64, c: Int_64, d: Int_64): Int_64 {\n  let lsw, msw;\n\n  lsw = (a.lowOrder & 0xffff) + (b.lowOrder & 0xffff) + (c.lowOrder & 0xffff) + (d.lowOrder & 0xffff);\n  msw = (a.lowOrder >>> 16) + (b.lowOrder >>> 16) + (c.lowOrder >>> 16) + (d.lowOrder >>> 16) + (lsw >>> 16);\n  const lowOrder = ((msw & 0xffff) << 16) | (lsw & 0xffff);\n\n  lsw =\n    (a.highOrder & 0xffff) + (b.highOrder & 0xffff) + (c.highOrder & 0xffff) + (d.highOrder & 0xffff) + (msw >>> 16);\n  msw = (a.highOrder >>> 16) + (b.highOrder >>> 16) + (c.highOrder >>> 16) + (d.highOrder >>> 16) + (lsw >>> 16);\n  const highOrder = ((msw & 0xffff) << 16) | (lsw & 0xffff);\n\n  return new Int_64(highOrder, lowOrder);\n}\n\n/**\n * Add five 64-bit integers.\n *\n * @param a The first 64-bit integer argument to be added.\n * @param b The second 64-bit integer argument to be added.\n * @param c The third 64-bit integer argument to be added.\n * @param d The fouth 64-bit integer argument to be added.\n * @param e The fifth 64-bit integer argument to be added.\n * @returns The sum of `a` + `b` + `c` + `d` + `e`.\n */\nexport function safeAdd_64_5(a: Int_64, b: Int_64, c: Int_64, d: Int_64, e: Int_64): Int_64 {\n  let lsw, msw;\n\n  lsw =\n    (a.lowOrder & 0xffff) +\n    (b.lowOrder & 0xffff) +\n    (c.lowOrder & 0xffff) +\n    (d.lowOrder & 0xffff) +\n    (e.lowOrder & 0xffff);\n  msw =\n    (a.lowOrder >>> 16) +\n    (b.lowOrder >>> 16) +\n    (c.lowOrder >>> 16) +\n    (d.lowOrder >>> 16) +\n    (e.lowOrder >>> 16) +\n    (lsw >>> 16);\n  const lowOrder = ((msw & 0xffff) << 16) | (lsw & 0xffff);\n\n  lsw =\n    (a.highOrder & 0xffff) +\n    (b.highOrder & 0xffff) +\n    (c.highOrder & 0xffff) +\n    (d.highOrder & 0xffff) +\n    (e.highOrder & 0xffff) +\n    (msw >>> 16);\n  msw =\n    (a.highOrder >>> 16) +\n    (b.highOrder >>> 16) +\n    (c.highOrder >>> 16) +\n    (d.highOrder >>> 16) +\n    (e.highOrder >>> 16) +\n    (lsw >>> 16);\n  const highOrder = ((msw & 0xffff) << 16) | (lsw & 0xffff);\n\n  return new Int_64(highOrder, lowOrder);\n}\n\n/**\n * XORs two given arguments.\n *\n * @param a The first argument to be XORed.\n * @param b The second argument to be XORed.\n * @returns The The XOR `a` and `b`\n */\nexport function xor_64_2(a: Int_64, b: Int_64): Int_64 {\n  return new Int_64(a.highOrder ^ b.highOrder, a.lowOrder ^ b.lowOrder);\n}\n\n/**\n * XORs five given arguments.\n *\n * @param a The first argument to be XORed.\n * @param b The second argument to be XORed.\n * @param c The third argument to be XORed.\n * @param d The fourth argument to be XORed.\n * @param e The fifth argument to be XORed.\n * @returns The XOR of `a`, `b`, `c`, `d`, and `e`.\n */\nexport function xor_64_5(a: Int_64, b: Int_64, c: Int_64, d: Int_64, e: Int_64): Int_64 {\n  return new Int_64(\n    a.highOrder ^ b.highOrder ^ c.highOrder ^ d.highOrder ^ e.highOrder,\n    a.lowOrder ^ b.lowOrder ^ c.lowOrder ^ d.lowOrder ^ e.lowOrder\n  );\n}\n\n/**\n * The 64-bit implementation of the NIST specified Gamma1 function.\n *\n * @param x The 64-bit integer argument.\n * @returns The NIST specified output of the function.\n */\nexport function gamma1_64(x: Int_64): Int_64 {\n  const rotr19 = rotr_64(x, 19),\n    rotr61 = rotr_64(x, 61),\n    shr6 = shr_64(x, 6);\n\n  return new Int_64(\n    rotr19.highOrder ^ rotr61.highOrder ^ shr6.highOrder,\n    rotr19.lowOrder ^ rotr61.lowOrder ^ shr6.lowOrder\n  );\n}\n\n/**\n * The 64-bit implementation of the NIST specified Gamma0 function.\n *\n * @param x The 64-bit integer argument.\n * @returns The NIST specified output of the function.\n */\nexport function gamma0_64(x: Int_64): Int_64 {\n  const rotr1 = rotr_64(x, 1),\n    rotr8 = rotr_64(x, 8),\n    shr7 = shr_64(x, 7);\n\n  return new Int_64(\n    rotr1.highOrder ^ rotr8.highOrder ^ shr7.highOrder,\n    rotr1.lowOrder ^ rotr8.lowOrder ^ shr7.lowOrder\n  );\n}\n\n/**\n * The 64-bit implementation of the NIST specified Sigma1 function.\n *\n * @param x The 64-bit integer argument.\n * @returns The NIST specified output of the function.\n */\nexport function sigma1_64(x: Int_64): Int_64 {\n  const rotr14 = rotr_64(x, 14),\n    rotr18 = rotr_64(x, 18),\n    rotr41 = rotr_64(x, 41);\n\n  return new Int_64(\n    rotr14.highOrder ^ rotr18.highOrder ^ rotr41.highOrder,\n    rotr14.lowOrder ^ rotr18.lowOrder ^ rotr41.lowOrder\n  );\n}\n", "import { jsSHABase, TWO_PWR_32, H_trunc, H_full, K_sha2, sha_variant_error, parseInputOption } from \"./common\";\nimport {\n  packedValue,\n  FixedLengthOptionsEncodingType,\n  FixedLengthOptionsNoEncodingType,\n  FormatNoTextType,\n} from \"./custom_types\";\nimport { getStrConverter } from \"./converters\";\nimport {\n  ch_64,\n  gamma0_64,\n  gamma1_64,\n  Int_64,\n  maj_64,\n  safeAdd_64_2,\n  safeAdd_64_4,\n  safeAdd_64_5,\n  sigma0_64,\n  sigma1_64,\n} from \"./primitives_64\";\n\ntype VariantType = \"SHA-384\" | \"SHA-512\";\n\nconst K_sha512 = [\n  new Int_64(K_sha2[0], 0xd728ae22),\n  new Int_64(K_sha2[1], 0x23ef65cd),\n  new Int_64(K_sha2[2], 0xec4d3b2f),\n  new Int_64(K_sha2[3], 0x8189dbbc),\n  new Int_64(K_sha2[4], 0xf348b538),\n  new Int_64(K_sha2[5], 0xb605d019),\n  new Int_64(K_sha2[6], 0xaf194f9b),\n  new Int_64(K_sha2[7], 0xda6d8118),\n  new Int_64(K_sha2[8], 0xa3030242),\n  new Int_64(K_sha2[9], 0x45706fbe),\n  new Int_64(K_sha2[10], 0x4ee4b28c),\n  new Int_64(K_sha2[11], 0xd5ffb4e2),\n  new Int_64(K_sha2[12], 0xf27b896f),\n  new Int_64(K_sha2[13], 0x3b1696b1),\n  new Int_64(K_sha2[14], 0x25c71235),\n  new Int_64(K_sha2[15], 0xcf692694),\n  new Int_64(K_sha2[16], 0x9ef14ad2),\n  new Int_64(K_sha2[17], 0x384f25e3),\n  new Int_64(K_sha2[18], 0x8b8cd5b5),\n  new Int_64(K_sha2[19], 0x77ac9c65),\n  new Int_64(K_sha2[20], 0x592b0275),\n  new Int_64(K_sha2[21], 0x6ea6e483),\n  new Int_64(K_sha2[22], 0xbd41fbd4),\n  new Int_64(K_sha2[23], 0x831153b5),\n  new Int_64(K_sha2[24], 0xee66dfab),\n  new Int_64(K_sha2[25], 0x2db43210),\n  new Int_64(K_sha2[26], 0x98fb213f),\n  new Int_64(K_sha2[27], 0xbeef0ee4),\n  new Int_64(K_sha2[28], 0x3da88fc2),\n  new Int_64(K_sha2[29], 0x930aa725),\n  new Int_64(K_sha2[30], 0xe003826f),\n  new Int_64(K_sha2[31], 0x0a0e6e70),\n  new Int_64(K_sha2[32], 0x46d22ffc),\n  new Int_64(K_sha2[33], 0x5c26c926),\n  new Int_64(K_sha2[34], 0x5ac42aed),\n  new Int_64(K_sha2[35], 0x9d95b3df),\n  new Int_64(K_sha2[36], 0x8baf63de),\n  new Int_64(K_sha2[37], 0x3c77b2a8),\n  new Int_64(K_sha2[38], 0x47edaee6),\n  new Int_64(K_sha2[39], 0x1482353b),\n  new Int_64(K_sha2[40], 0x4cf10364),\n  new Int_64(K_sha2[41], 0xbc423001),\n  new Int_64(K_sha2[42], 0xd0f89791),\n  new Int_64(K_sha2[43], 0x0654be30),\n  new Int_64(K_sha2[44], 0xd6ef5218),\n  new Int_64(K_sha2[45], 0x5565a910),\n  new Int_64(K_sha2[46], 0x5771202a),\n  new Int_64(K_sha2[47], 0x32bbd1b8),\n  new Int_64(K_sha2[48], 0xb8d2d0c8),\n  new Int_64(K_sha2[49], 0x5141ab53),\n  new Int_64(K_sha2[50], 0xdf8eeb99),\n  new Int_64(K_sha2[51], 0xe19b48a8),\n  new Int_64(K_sha2[52], 0xc5c95a63),\n  new Int_64(K_sha2[53], 0xe3418acb),\n  new Int_64(K_sha2[54], 0x7763e373),\n  new Int_64(K_sha2[55], 0xd6b2b8a3),\n  new Int_64(K_sha2[56], 0x5defb2fc),\n  new Int_64(K_sha2[57], 0x43172f60),\n  new Int_64(K_sha2[58], 0xa1f0ab72),\n  new Int_64(K_sha2[59], 0x1a6439ec),\n  new Int_64(K_sha2[60], 0x23631e28),\n  new Int_64(K_sha2[61], 0xde82bde9),\n  new Int_64(K_sha2[62], 0xb2c67915),\n  new Int_64(K_sha2[63], 0xe372532b),\n  new Int_64(0xca273ece, 0xea26619c),\n  new Int_64(0xd186b8c7, 0x21c0c207),\n  new Int_64(0xeada7dd6, 0xcde0eb1e),\n  new Int_64(0xf57d4f7f, 0xee6ed178),\n  new Int_64(0x06f067aa, 0x72176fba),\n  new Int_64(0x0a637dc5, 0xa2c898a6),\n  new Int_64(0x113f9804, 0xbef90dae),\n  new Int_64(0x1b710b35, 0x131c471b),\n  new Int_64(0x28db77f5, 0x23047d84),\n  new Int_64(0x32caab7b, 0x40c72493),\n  new Int_64(0x3c9ebe0a, 0x15c9bebc),\n  new Int_64(0x431d67c4, 0x9c100d4c),\n  new Int_64(0x4cc5d4be, 0xcb3e42b6),\n  new Int_64(0x597f299c, 0xfc657e2a),\n  new Int_64(0x5fcb6fab, 0x3ad6faec),\n  new Int_64(0x6c44198c, 0x4a475817),\n];\n\n/**\n * Gets the state values for the specified SHA variant.\n *\n * @param variant: The SHA-512 family variant.\n * @returns The initial state values.\n */\nfunction getNewState512(variant: VariantType): Int_64[] {\n  if (\"SHA-384\" === variant) {\n    return [\n      new Int_64(0xcbbb9d5d, H_trunc[0]),\n      new Int_64(0x0629a292a, H_trunc[1]),\n      new Int_64(0x9159015a, H_trunc[2]),\n      new Int_64(0x0152fecd8, H_trunc[3]),\n      new Int_64(0x67332667, H_trunc[4]),\n      new Int_64(0x98eb44a87, H_trunc[5]),\n      new Int_64(0xdb0c2e0d, H_trunc[6]),\n      new Int_64(0x047b5481d, H_trunc[7]),\n    ];\n  } else {\n    /* SHA-512 */\n    return [\n      new Int_64(H_full[0], 0xf3bcc908),\n      new Int_64(H_full[1], 0x84caa73b),\n      new Int_64(H_full[2], 0xfe94f82b),\n      new Int_64(H_full[3], 0x5f1d36f1),\n      new Int_64(H_full[4], 0xade682d1),\n      new Int_64(H_full[5], 0x2b3e6c1f),\n      new Int_64(H_full[6], 0xfb41bd6b),\n      new Int_64(H_full[7], 0x137e2179),\n    ];\n  }\n}\n\n/**\n * Performs a round of SHA-512 hashing over a block. This clobbers `H`.\n *\n * @param block The binary array representation of the block to hash.\n * @param H The intermediate H values from a previous round.\n * @returns The resulting H values.\n */\nfunction roundSHA512(block: number[], H: Int_64[]): Int_64[] {\n  let a, b, c, d, e, f, g, h, T1, T2, t, offset;\n\n  const W: Int_64[] = [];\n\n  a = H[0];\n  b = H[1];\n  c = H[2];\n  d = H[3];\n  e = H[4];\n  f = H[5];\n  g = H[6];\n  h = H[7];\n\n  for (t = 0; t < 80; t += 1) {\n    if (t < 16) {\n      offset = t * 2;\n      W[t] = new Int_64(block[offset], block[offset + 1]);\n    } else {\n      W[t] = safeAdd_64_4(gamma1_64(W[t - 2]), W[t - 7], gamma0_64(W[t - 15]), W[t - 16]);\n    }\n    T1 = safeAdd_64_5(h, sigma1_64(e), ch_64(e, f, g), K_sha512[t], W[t]);\n    T2 = safeAdd_64_2(sigma0_64(a), maj_64(a, b, c));\n    h = g;\n    g = f;\n    f = e;\n    e = safeAdd_64_2(d, T1);\n    d = c;\n    c = b;\n    b = a;\n    a = safeAdd_64_2(T1, T2);\n  }\n\n  H[0] = safeAdd_64_2(a, H[0]);\n  H[1] = safeAdd_64_2(b, H[1]);\n  H[2] = safeAdd_64_2(c, H[2]);\n  H[3] = safeAdd_64_2(d, H[3]);\n  H[4] = safeAdd_64_2(e, H[4]);\n  H[5] = safeAdd_64_2(f, H[5]);\n  H[6] = safeAdd_64_2(g, H[6]);\n  H[7] = safeAdd_64_2(h, H[7]);\n\n  return H;\n}\n\n/**\n * Finalizes the SHA-512 hash. This clobbers `remainder` and `H`.\n *\n * @param remainder Any leftover unprocessed packed ints that still need to be processed.\n * @param remainderBinLen The number of bits in `remainder`.\n * @param processedBinLen The number of bits already processed.\n * @param H The intermediate H values from a previous round.\n * @param variant The desired SHA-512 variant.\n * @returns The array of integers representing the SHA-512 hash of message.\n */\nfunction finalizeSHA512(\n  remainder: number[],\n  remainderBinLen: number,\n  processedBinLen: number,\n  H: Int_64[],\n  variant: VariantType\n): number[] {\n  let i, retVal;\n\n  /* The 129 addition is a hack but it works.  The correct number is\n    actually 136 (128 + 8) but the below math fails if\n    remainderBinLen + 136 % 1024 = 0. Since remainderBinLen % 8 = 0,\n    \"shorting\" the addition is OK. */\n  const offset = (((remainderBinLen + 129) >>> 10) << 5) + 31,\n    binaryStringInc = 32,\n    totalLen = remainderBinLen + processedBinLen;\n\n  while (remainder.length <= offset) {\n    remainder.push(0);\n  }\n  /* Append '1' at the end of the binary string */\n  remainder[remainderBinLen >>> 5] |= 0x80 << (24 - (remainderBinLen % 32));\n  /* Append length of binary string in the position such that the new\n   * length is correct. JavaScript numbers are limited to 2^53 so it's\n   * \"safe\" to treat the totalLen as a 64-bit integer. */\n\n  remainder[offset] = totalLen & 0xffffffff;\n  /* Bitwise operators treat the operand as a 32-bit number so need to\n   * use hacky division and round to get access to upper 32-ish bits */\n  remainder[offset - 1] = (totalLen / TWO_PWR_32) | 0;\n\n  /* This will always be at least 1 full chunk */\n  for (i = 0; i < remainder.length; i += binaryStringInc) {\n    H = roundSHA512(remainder.slice(i, i + binaryStringInc), H);\n  }\n\n  if (\"SHA-384\" === variant) {\n    H = (H as unknown) as Int_64[];\n    retVal = [\n      H[0].highOrder,\n      H[0].lowOrder,\n      H[1].highOrder,\n      H[1].lowOrder,\n      H[2].highOrder,\n      H[2].lowOrder,\n      H[3].highOrder,\n      H[3].lowOrder,\n      H[4].highOrder,\n      H[4].lowOrder,\n      H[5].highOrder,\n      H[5].lowOrder,\n    ];\n  } else {\n    /* SHA-512 */\n    retVal = [\n      H[0].highOrder,\n      H[0].lowOrder,\n      H[1].highOrder,\n      H[1].lowOrder,\n      H[2].highOrder,\n      H[2].lowOrder,\n      H[3].highOrder,\n      H[3].lowOrder,\n      H[4].highOrder,\n      H[4].lowOrder,\n      H[5].highOrder,\n      H[5].lowOrder,\n      H[6].highOrder,\n      H[6].lowOrder,\n      H[7].highOrder,\n      H[7].lowOrder,\n    ];\n  }\n  return retVal;\n}\n\nexport default class jsSHA extends jsSHABase<Int_64[], VariantType> {\n  intermediateState: Int_64[];\n  variantBlockSize: number;\n  bigEndianMod: -1 | 1;\n  outputBinLen: number;\n  isVariableLen: boolean;\n  HMACSupported: boolean;\n\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  converterFunc: (input: any, existingBin: number[], existingBinLen: number) => packedValue;\n  roundFunc: (block: number[], H: Int_64[]) => Int_64[];\n  finalizeFunc: (remainder: number[], remainderBinLen: number, processedBinLen: number, H: Int_64[]) => number[];\n  stateCloneFunc: (state: Int_64[]) => Int_64[];\n  newStateFunc: (variant: VariantType) => Int_64[];\n  getMAC: () => number[];\n\n  constructor(variant: VariantType, inputFormat: \"TEXT\", options?: FixedLengthOptionsEncodingType);\n  constructor(variant: VariantType, inputFormat: FormatNoTextType, options?: FixedLengthOptionsNoEncodingType);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor(variant: any, inputFormat: any, options?: any) {\n    if (!(\"SHA-384\" === variant || \"SHA-512\" === variant)) {\n      throw new Error(sha_variant_error);\n    }\n    super(variant, inputFormat, options);\n    const resolvedOptions = options || {};\n\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    this.getMAC = this._getHMAC;\n    this.HMACSupported = true;\n    this.bigEndianMod = -1;\n    this.converterFunc = getStrConverter(this.inputFormat, this.utfType, this.bigEndianMod);\n    this.roundFunc = roundSHA512;\n    this.stateCloneFunc = function (state): Int_64[] {\n      return state.slice();\n    };\n    this.newStateFunc = getNewState512;\n    this.finalizeFunc = function (remainder, remainderBinLen, processedBinLen, H): number[] {\n      return finalizeSHA512(remainder, remainderBinLen, processedBinLen, H, variant);\n    };\n\n    this.intermediateState = getNewState512(variant);\n    this.variantBlockSize = 1024;\n    this.outputBinLen = \"SHA-384\" === variant ? 384 : 512;\n    this.isVariableLen = false;\n\n    if (resolvedOptions[\"hmacKey\"]) {\n      this._setHMACKey(parseInputOption(\"hmacKey\", resolvedOptions[\"hmacKey\"], this.bigEndianMod));\n    }\n  }\n}\n", "import { jsSHABase, packedLEConcat, sha_variant_error, mac_rounds_error, TWO_PWR_32, parseInputOption } from \"./common\";\nimport {\n  packedValue,\n  CSHAKEOptionsNoEncodingType,\n  CSHAKEOptionsEncodingType,\n  SHAKEOptionsNoEncodingType,\n  SHAKEOptionsEncodingType,\n  KMACOptionsNoEncodingType,\n  KMACOptionsEncodingType,\n  FixedLengthOptionsEncodingType,\n  FixedLengthOptionsNoEncodingType,\n  FormatNoTextType,\n  ResolvedCSHAKEOptionsNoEncodingType,\n  ResolvedKMACOptionsNoEncodingType,\n} from \"./custom_types\";\nimport { getStrConverter } from \"./converters\";\nimport { Int_64, rotl_64, xor_64_2, xor_64_5 } from \"./primitives_64\";\n\ntype FixedLengthVariantType = \"SHA3-224\" | \"SHA3-256\" | \"SHA3-384\" | \"SHA3-512\" | \"SHAKE128\" | \"SHAKE256\";\n\ntype VariantType = FixedLengthVariantType | \"SHAKE128\" | \"SHAKE256\" | \"CSHAKE128\" | \"CSHAKE256\" | \"KMAC128\" | \"KMAC256\";\n\nconst rc_sha3 = [\n  new Int_64(0x00000000, 0x00000001),\n  new Int_64(0x00000000, 0x00008082),\n  new Int_64(0x80000000, 0x0000808a),\n  new Int_64(0x80000000, 0x80008000),\n  new Int_64(0x00000000, 0x0000808b),\n  new Int_64(0x00000000, 0x80000001),\n  new Int_64(0x80000000, 0x80008081),\n  new Int_64(0x80000000, 0x00008009),\n  new Int_64(0x00000000, 0x0000008a),\n  new Int_64(0x00000000, 0x00000088),\n  new Int_64(0x00000000, 0x80008009),\n  new Int_64(0x00000000, 0x8000000a),\n  new Int_64(0x00000000, 0x8000808b),\n  new Int_64(0x80000000, 0x0000008b),\n  new Int_64(0x80000000, 0x00008089),\n  new Int_64(0x80000000, 0x00008003),\n  new Int_64(0x80000000, 0x00008002),\n  new Int_64(0x80000000, 0x00000080),\n  new Int_64(0x00000000, 0x0000800a),\n  new Int_64(0x80000000, 0x8000000a),\n  new Int_64(0x80000000, 0x80008081),\n  new Int_64(0x80000000, 0x00008080),\n  new Int_64(0x00000000, 0x80000001),\n  new Int_64(0x80000000, 0x80008008),\n];\n\nconst r_sha3 = [\n  [0, 36, 3, 41, 18],\n  [1, 44, 10, 45, 2],\n  [62, 6, 43, 15, 61],\n  [28, 55, 25, 21, 56],\n  [27, 20, 39, 8, 14],\n];\n\n/**\n * Gets the state values for the specified SHA-3 variant.\n *\n * @param _variant Unused for this family.\n * @returns The initial state values.\n */\nfunction getNewState(_variant: VariantType): Int_64[][] {\n  let i;\n  const retVal = [];\n\n  for (i = 0; i < 5; i += 1) {\n    retVal[i] = [new Int_64(0, 0), new Int_64(0, 0), new Int_64(0, 0), new Int_64(0, 0), new Int_64(0, 0)];\n  }\n\n  return retVal;\n}\n\n/**\n * Returns a clone of the given SHA3 state.\n *\n * @param state The state to be cloned.\n * @returns The cloned state.\n */\nfunction cloneSHA3State(state: Int_64[][]): Int_64[][] {\n  let i;\n  const clone = [];\n  for (i = 0; i < 5; i += 1) {\n    clone[i] = state[i].slice();\n  }\n\n  return clone;\n}\n\n/**\n * Performs a round of SHA-3 hashing over a block. This clobbers `state`.\n *\n * @param block The binary array representation of the block to hash.\n * @param state Hash state from a previous round.\n * @returns The resulting state value.\n */\nfunction roundSHA3(block: number[] | null, state: Int_64[][]): Int_64[][] {\n  let round, x, y, B;\n  const C = [],\n    D = [];\n\n  if (null !== block) {\n    for (x = 0; x < block.length; x += 2) {\n      state[(x >>> 1) % 5][((x >>> 1) / 5) | 0] = xor_64_2(\n        state[(x >>> 1) % 5][((x >>> 1) / 5) | 0],\n        new Int_64(block[x + 1], block[x])\n      );\n    }\n  }\n\n  for (round = 0; round < 24; round += 1) {\n    /* Any SHA-3 variant name will do here */\n    B = getNewState(\"SHA3-384\");\n\n    /* Perform theta step */\n    for (x = 0; x < 5; x += 1) {\n      C[x] = xor_64_5(state[x][0], state[x][1], state[x][2], state[x][3], state[x][4]);\n    }\n    for (x = 0; x < 5; x += 1) {\n      D[x] = xor_64_2(C[(x + 4) % 5], rotl_64(C[(x + 1) % 5], 1));\n    }\n    for (x = 0; x < 5; x += 1) {\n      for (y = 0; y < 5; y += 1) {\n        state[x][y] = xor_64_2(state[x][y], D[x]);\n      }\n    }\n\n    /* Perform combined ro and pi steps */\n    for (x = 0; x < 5; x += 1) {\n      for (y = 0; y < 5; y += 1) {\n        B[y][(2 * x + 3 * y) % 5] = rotl_64(state[x][y], r_sha3[x][y]);\n      }\n    }\n\n    /* Perform chi step */\n    for (x = 0; x < 5; x += 1) {\n      for (y = 0; y < 5; y += 1) {\n        state[x][y] = xor_64_2(\n          B[x][y],\n          new Int_64(\n            ~B[(x + 1) % 5][y].highOrder & B[(x + 2) % 5][y].highOrder,\n            ~B[(x + 1) % 5][y].lowOrder & B[(x + 2) % 5][y].lowOrder\n          )\n        );\n      }\n    }\n\n    /* Perform iota step */\n    state[0][0] = xor_64_2(state[0][0], rc_sha3[round]);\n  }\n\n  return state;\n}\n\n/**\n * Finalizes the SHA-3 hash. This clobbers `remainder` and `state`.\n *\n * @param remainder Any leftover unprocessed packed ints that still need to be processed.\n * @param remainderBinLen The number of bits in `remainder`.\n * @param _processedBinLen Unused for this family.\n * @param state The state from a previous round.\n * @param blockSize The block size/rate of the variant in bits\n * @param delimiter The delimiter value for the variant\n * @param outputLen The output length for the variant in bits\n * @returns The array of integers representing the SHA-3 hash of message.\n */\nfunction finalizeSHA3(\n  remainder: number[],\n  remainderBinLen: number,\n  _processedBinLen: number,\n  state: Int_64[][],\n  blockSize: number,\n  delimiter: number,\n  outputLen: number\n): number[] {\n  let i,\n    state_offset = 0,\n    temp;\n  const retVal = [],\n    binaryStringInc = blockSize >>> 5,\n    remainderIntLen = remainderBinLen >>> 5;\n\n  /* Process as many blocks as possible, some may be here for multiple rounds\n\t\twith SHAKE\n\t*/\n  for (i = 0; i < remainderIntLen && remainderBinLen >= blockSize; i += binaryStringInc) {\n    state = roundSHA3(remainder.slice(i, i + binaryStringInc), state);\n    remainderBinLen -= blockSize;\n  }\n\n  remainder = remainder.slice(i);\n  remainderBinLen = remainderBinLen % blockSize;\n\n  /* Pad out the remainder to a full block */\n  while (remainder.length < binaryStringInc) {\n    remainder.push(0);\n  }\n\n  /* Find the next \"empty\" byte for the 0x80 and append it via an xor */\n  i = remainderBinLen >>> 3;\n  remainder[i >> 2] ^= delimiter << (8 * (i % 4));\n\n  remainder[binaryStringInc - 1] ^= 0x80000000;\n  state = roundSHA3(remainder, state);\n\n  while (retVal.length * 32 < outputLen) {\n    temp = state[state_offset % 5][(state_offset / 5) | 0];\n    retVal.push(temp.lowOrder);\n    if (retVal.length * 32 >= outputLen) {\n      break;\n    }\n    retVal.push(temp.highOrder);\n    state_offset += 1;\n\n    if (0 === (state_offset * 64) % blockSize) {\n      roundSHA3(null, state);\n      state_offset = 0;\n    }\n  }\n\n  return retVal;\n}\n\n/**\n * Performs NIST left_encode function returned with no extra garbage bits. `x` is limited to <= 9007199254740991.\n *\n * @param x 32-bit number to to encode.\n * @returns The NIST specified output of the function.\n */\nfunction left_encode(x: number): packedValue {\n  let byteOffset,\n    byte,\n    numEncodedBytes = 0;\n  /* JavaScript numbers max out at 0x1FFFFFFFFFFFFF (7 bytes) so this will return a maximum of 7 + 1 = 8 bytes */\n  const retVal = [0, 0],\n    x_64 = [x & 0xffffffff, (x / TWO_PWR_32) & 0x1fffff];\n\n  for (byteOffset = 6; byteOffset >= 0; byteOffset--) {\n    /* This will surprisingly work for large shifts because JavaScript masks the shift amount by 0x1F */\n    byte = (x_64[byteOffset >> 2] >>> (8 * byteOffset)) & 0xff;\n\n    /* Starting from the most significant byte of a 64-bit number, start recording the first non-0 byte and then\n       every byte thereafter */\n    if (byte !== 0 || numEncodedBytes !== 0) {\n      retVal[(numEncodedBytes + 1) >> 2] |= byte << ((numEncodedBytes + 1) * 8);\n      numEncodedBytes += 1;\n    }\n  }\n  numEncodedBytes = numEncodedBytes !== 0 ? numEncodedBytes : 1;\n  retVal[0] |= numEncodedBytes;\n\n  return { value: numEncodedBytes + 1 > 4 ? retVal : [retVal[0]], binLen: 8 + numEncodedBytes * 8 };\n}\n\n/**\n * Performs NIST right_encode function returned with no extra garbage bits. `x` is limited to <= 9007199254740991.\n *\n * @param x 32-bit number to to encode.\n * @returns The NIST specified output of the function.\n */\nfunction right_encode(x: number): packedValue {\n  let byteOffset,\n    byte,\n    numEncodedBytes = 0;\n  /* JavaScript numbers max out at 0x1FFFFFFFFFFFFF (7 bytes) so this will return a maximum of 7 + 1 = 8 bytes */\n  const retVal = [0, 0],\n    x_64 = [x & 0xffffffff, (x / TWO_PWR_32) & 0x1fffff];\n\n  for (byteOffset = 6; byteOffset >= 0; byteOffset--) {\n    /* This will surprisingly work for large shifts because JavaScript masks the shift amount by 0x1F */\n    byte = (x_64[byteOffset >> 2] >>> (8 * byteOffset)) & 0xff;\n\n    /* Starting from the most significant byte of a 64-bit number, start recording the first non-0 byte and then\n       every byte thereafter */\n    if (byte !== 0 || numEncodedBytes !== 0) {\n      retVal[numEncodedBytes >> 2] |= byte << (numEncodedBytes * 8);\n      numEncodedBytes += 1;\n    }\n  }\n  numEncodedBytes = numEncodedBytes !== 0 ? numEncodedBytes : 1;\n  retVal[numEncodedBytes >> 2] |= numEncodedBytes << (numEncodedBytes * 8);\n\n  return { value: numEncodedBytes + 1 > 4 ? retVal : [retVal[0]], binLen: 8 + numEncodedBytes * 8 };\n}\n\n/**\n * Performs NIST encode_string function.\n *\n * @param input Packed array of integers.\n * @returns NIST encode_string output.\n */\nfunction encode_string(input: packedValue): packedValue {\n  return packedLEConcat(left_encode(input[\"binLen\"]), input);\n}\n\n/**\n * Performs NIST byte_pad function.\n *\n * @param packed Packed array of integers.\n * @param outputByteLen Desired length of the output in bytes, assumed to be a multiple of 4.\n * @returns NIST byte_pad output.\n */\nfunction byte_pad(packed: packedValue, outputByteLen: number): number[] {\n  let encodedLen = left_encode(outputByteLen),\n    i;\n\n  encodedLen = packedLEConcat(encodedLen, packed);\n  const outputIntLen = outputByteLen >>> 2,\n    intsToAppend = (outputIntLen - (encodedLen[\"value\"].length % outputIntLen)) % outputIntLen;\n\n  for (i = 0; i < intsToAppend; i++) {\n    encodedLen[\"value\"].push(0);\n  }\n\n  return encodedLen[\"value\"];\n}\n\n/**\n * Parses/validate constructor options for a CSHAKE variant\n *\n * @param options Option given to constructor\n */\nfunction resolveCSHAKEOptions(options: CSHAKEOptionsNoEncodingType): ResolvedCSHAKEOptionsNoEncodingType {\n  const resolvedOptions = options || {};\n\n  return {\n    funcName: parseInputOption(\"funcName\", resolvedOptions[\"funcName\"], 1, { value: [], binLen: 0 }),\n    customization: parseInputOption(\"Customization\", resolvedOptions[\"customization\"], 1, { value: [], binLen: 0 }),\n  };\n}\n\n/**\n * Parses/validate constructor options for a KMAC variant\n *\n * @param options Option given to constructor\n */\nfunction resolveKMACOptions(options: KMACOptionsNoEncodingType): ResolvedKMACOptionsNoEncodingType {\n  const resolvedOptions = options || {};\n\n  return {\n    kmacKey: parseInputOption(\"kmacKey\", resolvedOptions[\"kmacKey\"], 1),\n    /* This is little-endian packed \"KMAC\" */\n    funcName: { value: [0x43414d4b], binLen: 32 },\n    customization: parseInputOption(\"Customization\", resolvedOptions[\"customization\"], 1, { value: [], binLen: 0 }),\n  };\n}\n\nexport default class jsSHA extends jsSHABase<Int_64[][], VariantType> {\n  intermediateState: Int_64[][];\n  variantBlockSize: number;\n  bigEndianMod: -1 | 1;\n  outputBinLen: number;\n  isVariableLen: boolean;\n  HMACSupported: boolean;\n\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  converterFunc: (input: any, existingBin: number[], existingBinLen: number) => packedValue;\n  roundFunc: (block: number[], H: Int_64[][]) => Int_64[][];\n  finalizeFunc: (\n    remainder: number[],\n    remainderBinLen: number,\n    processedBinLen: number,\n    H: Int_64[][],\n    outputLen: number\n  ) => number[];\n  stateCloneFunc: (state: Int_64[][]) => Int_64[][];\n  newStateFunc: (variant: VariantType) => Int_64[][];\n  getMAC: ((options: { outputLen: number }) => number[]) | null;\n\n  constructor(variant: FixedLengthVariantType, inputFormat: \"TEXT\", options?: FixedLengthOptionsEncodingType);\n  constructor(\n    variant: FixedLengthVariantType,\n    inputFormat: FormatNoTextType,\n    options?: FixedLengthOptionsNoEncodingType\n  );\n  constructor(variant: \"SHAKE128\" | \"SHAKE256\", inputFormat: \"TEXT\", options?: SHAKEOptionsEncodingType);\n  constructor(variant: \"SHAKE128\" | \"SHAKE256\", inputFormat: FormatNoTextType, options?: SHAKEOptionsNoEncodingType);\n  constructor(variant: \"CSHAKE128\" | \"CSHAKE256\", inputFormat: \"TEXT\", options?: CSHAKEOptionsEncodingType);\n  constructor(variant: \"CSHAKE128\" | \"CSHAKE256\", inputFormat: FormatNoTextType, options?: CSHAKEOptionsNoEncodingType);\n  constructor(variant: \"KMAC128\" | \"KMAC256\", inputFormat: \"TEXT\", options: KMACOptionsEncodingType);\n  constructor(variant: \"KMAC128\" | \"KMAC256\", inputFormat: FormatNoTextType, options: KMACOptionsNoEncodingType);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor(variant: any, inputFormat: any, options?: any) {\n    let delimiter = 0x06,\n      variantBlockSize = 0;\n    super(variant, inputFormat, options);\n    const resolvedOptions = options || {};\n\n    /* In other variants, this was done after variable initialization but need to do it earlier here becaue we want to\n       avoid KMAC initialization */\n    if (this.numRounds !== 1) {\n      if (resolvedOptions[\"kmacKey\"] || resolvedOptions[\"hmacKey\"]) {\n        throw new Error(mac_rounds_error);\n      } else if (this.shaVariant === \"CSHAKE128\" || this.shaVariant === \"CSHAKE256\") {\n        throw new Error(\"Cannot set numRounds for CSHAKE variants\");\n      }\n    }\n\n    this.bigEndianMod = 1;\n    this.converterFunc = getStrConverter(this.inputFormat, this.utfType, this.bigEndianMod);\n    this.roundFunc = roundSHA3;\n    this.stateCloneFunc = cloneSHA3State;\n    this.newStateFunc = getNewState;\n    this.intermediateState = getNewState(variant);\n\n    this.isVariableLen = false;\n    switch (variant) {\n      case \"SHA3-224\":\n        this.variantBlockSize = variantBlockSize = 1152;\n        this.outputBinLen = 224;\n        this.HMACSupported = true;\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        this.getMAC = this._getHMAC;\n        break;\n      case \"SHA3-256\":\n        this.variantBlockSize = variantBlockSize = 1088;\n        this.outputBinLen = 256;\n        this.HMACSupported = true;\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        this.getMAC = this._getHMAC;\n        break;\n      case \"SHA3-384\":\n        this.variantBlockSize = variantBlockSize = 832;\n        this.outputBinLen = 384;\n        this.HMACSupported = true;\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        this.getMAC = this._getHMAC;\n        break;\n      case \"SHA3-512\":\n        this.variantBlockSize = variantBlockSize = 576;\n        this.outputBinLen = 512;\n        this.HMACSupported = true;\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        this.getMAC = this._getHMAC;\n        break;\n      case \"SHAKE128\":\n        delimiter = 0x1f;\n        this.variantBlockSize = variantBlockSize = 1344;\n        /* This will be set in getHash */\n        this.outputBinLen = -1;\n        this.isVariableLen = true;\n        this.HMACSupported = false;\n        this.getMAC = null;\n        break;\n      case \"SHAKE256\":\n        delimiter = 0x1f;\n        this.variantBlockSize = variantBlockSize = 1088;\n        /* This will be set in getHash */\n        this.outputBinLen = -1;\n        this.isVariableLen = true;\n        this.HMACSupported = false;\n        this.getMAC = null;\n        break;\n      case \"KMAC128\":\n        delimiter = 0x4;\n        this.variantBlockSize = variantBlockSize = 1344;\n        this._initializeKMAC(options);\n        /* This will be set in getHash */\n        this.outputBinLen = -1;\n        this.isVariableLen = true;\n        this.HMACSupported = false;\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        this.getMAC = this._getKMAC;\n        break;\n      case \"KMAC256\":\n        delimiter = 0x4;\n        this.variantBlockSize = variantBlockSize = 1088;\n        this._initializeKMAC(options);\n        /* This will be set in getHash */\n        this.outputBinLen = -1;\n        this.isVariableLen = true;\n        this.HMACSupported = false;\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        this.getMAC = this._getKMAC;\n        break;\n      case \"CSHAKE128\":\n        this.variantBlockSize = variantBlockSize = 1344;\n        delimiter = this._initializeCSHAKE(options);\n        /* This will be set in getHash */\n        this.outputBinLen = -1;\n        this.isVariableLen = true;\n        this.HMACSupported = false;\n        this.getMAC = null;\n        break;\n      case \"CSHAKE256\":\n        this.variantBlockSize = variantBlockSize = 1088;\n        delimiter = this._initializeCSHAKE(options);\n        /* This will be set in getHash */\n        this.outputBinLen = -1;\n        this.isVariableLen = true;\n        this.HMACSupported = false;\n        this.getMAC = null;\n        break;\n      default:\n        throw new Error(sha_variant_error);\n    }\n\n    /* This needs to be down here as CSHAKE can change its delimiter */\n    this.finalizeFunc = function (remainder, remainderBinLen, processedBinLen, state, outputBinLen): number[] {\n      return finalizeSHA3(\n        remainder,\n        remainderBinLen,\n        processedBinLen,\n        state,\n        variantBlockSize,\n        delimiter,\n        outputBinLen\n      );\n    };\n\n    if (resolvedOptions[\"hmacKey\"]) {\n      this._setHMACKey(parseInputOption(\"hmacKey\", resolvedOptions[\"hmacKey\"], this.bigEndianMod));\n    }\n  }\n\n  /**\n   * Initialize CSHAKE variants.\n   *\n   * @param options Options containing CSHAKE params.\n   * @param funcNameOverride Overrides any \"funcName\" present in `options` (used with KMAC)\n   * @returns The delimiter to be used\n   */\n  protected _initializeCSHAKE(options?: CSHAKEOptionsNoEncodingType, funcNameOverride?: packedValue): number {\n    const resolvedOptions = resolveCSHAKEOptions(options || {});\n    if (funcNameOverride) {\n      resolvedOptions[\"funcName\"] = funcNameOverride;\n    }\n    const packedParams = packedLEConcat(\n      encode_string(resolvedOptions[\"funcName\"]),\n      encode_string(resolvedOptions[\"customization\"])\n    );\n\n    /* CSHAKE is defined to be a call to SHAKE iff both the customization and function-name string are both empty.  This\n       can be accomplished by processing nothing in this step. */\n    if (resolvedOptions[\"customization\"][\"binLen\"] !== 0 || resolvedOptions[\"funcName\"][\"binLen\"] !== 0) {\n      const byte_pad_out = byte_pad(packedParams, this.variantBlockSize >>> 3);\n      for (let i = 0; i < byte_pad_out.length; i += this.variantBlockSize >>> 5) {\n        this.intermediateState = this.roundFunc(\n          byte_pad_out.slice(i, i + (this.variantBlockSize >>> 5)),\n          this.intermediateState\n        );\n        this.processedLen += this.variantBlockSize;\n      }\n      return 0x04;\n    } else {\n      return 0x1f;\n    }\n  }\n\n  /**\n   * Initialize KMAC variants.\n   *\n   * @param options Options containing KMAC params.\n   */\n  protected _initializeKMAC(options: KMACOptionsNoEncodingType): void {\n    const resolvedOptions = resolveKMACOptions(options || {});\n\n    this._initializeCSHAKE(options, resolvedOptions[\"funcName\"]);\n    const byte_pad_out = byte_pad(encode_string(resolvedOptions[\"kmacKey\"]), this.variantBlockSize >>> 3);\n    for (let i = 0; i < byte_pad_out.length; i += this.variantBlockSize >>> 5) {\n      this.intermediateState = this.roundFunc(\n        byte_pad_out.slice(i, i + (this.variantBlockSize >>> 5)),\n        this.intermediateState\n      );\n      this.processedLen += this.variantBlockSize;\n    }\n    this.macKeySet = true;\n  }\n\n  /**\n   * Returns the the KMAC in the specified format.\n   *\n   * @param options Hashmap of extra outputs options. `outputLen` must be specified.\n   * @returns The KMAC in the format specified.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  protected _getKMAC(options: { outputLen: number }): number[] {\n    const concatedRemainder = packedLEConcat(\n      { value: this.remainder.slice(), binLen: this.remainderLen },\n      right_encode(options[\"outputLen\"])\n    );\n\n    return this.finalizeFunc(\n      concatedRemainder[\"value\"],\n      concatedRemainder[\"binLen\"],\n      this.processedLen,\n      this.stateCloneFunc(this.intermediateState),\n      options[\"outputLen\"]\n    );\n  }\n}\n", "import { sha_variant_error } from \"./common\";\nimport {\n  CSHAKEOptionsEncodingType,\n  CSHAKEOptionsNoEncodingType,\n  SHAKEOptionsEncodingType,\n  SHAKEOptionsNoEncodingType,\n  EncodingType,\n  FixedLengthOptionsEncodingType,\n  FixedLengthOptionsNoEncodingType,\n  FormatNoTextType,\n  KMACOptionsNoEncodingType,\n  KMACOptionsEncodingType,\n} from \"./custom_types\";\nimport jsSHA1 from \"./sha1\";\nimport jsSHA256 from \"./sha256\";\nimport jsSHA512 from \"./sha512\";\nimport jsSHA3 from \"./sha3\";\n\ntype FixedLengthVariantType =\n  | \"SHA-1\"\n  | \"SHA-224\"\n  | \"SHA-256\"\n  | \"SHA-384\"\n  | \"SHA-512\"\n  | \"SHA3-224\"\n  | \"SHA3-256\"\n  | \"SHA3-384\"\n  | \"SHA3-512\";\n\nexport default class jsSHA {\n  private readonly shaObj: jsSHA1 | jsSHA256 | jsSHA512 | jsSHA3;\n  /**\n   * @param variant The desired SHA variant (SHA-1, SHA-224, SHA-256, SHA-384, SHA-512, SHA3-224, SHA3-256, SHA3-256,\n   *   SHA3-384, SHA3-512, SHAKE128, SHAKE256, CSHAKE128, CSHAKE256, KMAC128, or KMAC256) as a string.\n   * @param inputFormat The input format to be used in future `update` calls (TEXT, HEX, B64, BYTES, ARRAYBUFFER,\n   *   or UINT8ARRAY) as a string.\n   * @param options Options in the form of { encoding?: \"UTF8\" | \"UTF16BE\" | \"UTF16LE\"; numRounds?: number }.\n   *   `encoding` is for only TEXT input (defaults to UTF8) and `numRounds` defaults to 1.\n   *   `numRounds` is not valid for any of the MAC or CSHAKE variants.\n   *   * If the variant supports HMAC, `options` may have an additional `hmacKey` key which must be in the form of\n   *     {value: <INPUT>, format: <FORMAT>, encoding?: \"UTF8\" | \"UTF16BE\" | \"UTF16LE\"} where <FORMAT> takes the same\n   *     values as `inputFormat` and <INPUT> can be a `string | ArrayBuffer | Uint8Array` depending on <FORMAT>.\n   *     Supplying this key switches to HMAC calculation and replaces the now deprecated call to `setHMACKey`.\n   *   * If the variant is CSHAKE128 or CSHAKE256, `options` may have two additional keys, `customization` and `funcName`,\n   *     which are the NIST customization and function-name strings.  Both must be in the same form as `hmacKey`.\n   *   * If the variant is KMAC128 or KMAC256, `options` can include the `customization` key from CSHAKE variants and\n   *     *must* have a `kmacKey` key that takes the same form as the `customization` key.\n   */\n  constructor(variant: FixedLengthVariantType, inputFormat: \"TEXT\", options?: FixedLengthOptionsEncodingType);\n  constructor(\n    variant: FixedLengthVariantType,\n    inputFormat: FormatNoTextType,\n    options?: FixedLengthOptionsNoEncodingType\n  );\n  constructor(variant: \"SHAKE128\" | \"SHAKE256\", inputFormat: \"TEXT\", options?: SHAKEOptionsEncodingType);\n  constructor(variant: \"SHAKE128\" | \"SHAKE256\", inputFormat: FormatNoTextType, options?: SHAKEOptionsNoEncodingType);\n  constructor(variant: \"CSHAKE128\" | \"CSHAKE256\", inputFormat: \"TEXT\", options?: CSHAKEOptionsEncodingType);\n  constructor(variant: \"CSHAKE128\" | \"CSHAKE256\", inputFormat: FormatNoTextType, options?: CSHAKEOptionsNoEncodingType);\n  constructor(variant: \"KMAC128\" | \"KMAC256\", inputFormat: \"TEXT\", options: KMACOptionsEncodingType);\n  constructor(variant: \"KMAC128\" | \"KMAC256\", inputFormat: FormatNoTextType, options: KMACOptionsNoEncodingType);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor(variant: any, inputFormat: any, options?: any) {\n    if (\"SHA-1\" == variant) {\n      this.shaObj = new jsSHA1(variant, inputFormat, options);\n    } else if (\"SHA-224\" == variant || \"SHA-256\" == variant) {\n      this.shaObj = new jsSHA256(variant, inputFormat, options);\n    } else if (\"SHA-384\" == variant || \"SHA-512\" == variant) {\n      this.shaObj = new jsSHA512(variant, inputFormat, options);\n    } else if (\n      \"SHA3-224\" == variant ||\n      \"SHA3-256\" == variant ||\n      \"SHA3-384\" == variant ||\n      \"SHA3-512\" == variant ||\n      \"SHAKE128\" == variant ||\n      \"SHAKE256\" == variant ||\n      \"CSHAKE128\" == variant ||\n      \"CSHAKE256\" == variant ||\n      \"KMAC128\" == variant ||\n      \"KMAC256\" == variant\n    ) {\n      this.shaObj = new jsSHA3(variant, inputFormat, options);\n    } else {\n      throw new Error(sha_variant_error);\n    }\n  }\n\n  /**\n   * Takes `input` and hashes as many blocks as possible. Stores the rest for either a future `update` or `getHash` call.\n   *\n   * @param input The input to be hashed\n   */\n  update(input: string | ArrayBuffer | Uint8Array): void {\n    this.shaObj.update(input);\n  }\n\n  /**\n   * Returns the desired SHA or MAC (if a HMAC/KMAC key was specified) hash of the input fed in via `update` calls.\n   *\n   * @param format The desired output formatting (B64, HEX, BYTES, ARRAYBUFFER, or UINT8ARRAY) as a string.\n   * @param options Options in the form of { outputUpper?: boolean; b64Pad?: string; outputLen?: number;  }.\n   *   `outputLen` is required for variable length output variants (this option was previously called `shakeLen` which\n   *    is now deprecated).\n   *   `outputUpper` is only for HEX output (defaults to false) and b64pad is only for B64 output (defaults to \"=\").\n   * @returns The hash in the format specified.\n   */\n  getHash(format: \"HEX\", options?: { outputUpper?: boolean; outputLen?: number; shakeLen?: number }): string;\n  getHash(format: \"B64\", options?: { b64Pad?: string; outputLen?: number; shakeLen?: number }): string;\n  getHash(format: \"BYTES\", options?: { outputLen?: number; shakeLen?: number }): string;\n  getHash(format: \"UINT8ARRAY\", options?: { outputLen?: number; shakeLen?: number }): Uint8Array;\n  getHash(format: \"ARRAYBUFFER\", options?: { outputLen?: number; shakeLen?: number }): ArrayBuffer;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  getHash(format: any, options?: any): any {\n    return this.shaObj.getHash(format, options);\n  }\n\n  /**\n   * Sets the HMAC key for an eventual `getHMAC` call.  Must be called immediately after jsSHA object instantiation.\n   * Now deprecated in favor of setting the `hmacKey` at object instantiation.\n   *\n   * @param key The key used to calculate the HMAC\n   * @param inputFormat The format of key (HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY) as a string.\n   * @param options Options in the form of { encoding?: \"UTF8\" | \"UTF16BE\" | \"UTF16LE }.  `encoding` is only for TEXT\n   *   and defaults to UTF8.\n   */\n  setHMACKey(key: string, inputFormat: \"TEXT\", options?: { encoding?: EncodingType }): void;\n  setHMACKey(key: string, inputFormat: \"B64\" | \"HEX\" | \"BYTES\"): void;\n  setHMACKey(key: ArrayBuffer, inputFormat: \"ARRAYBUFFER\"): void;\n  setHMACKey(key: Uint8Array, inputFormat: \"UINT8ARRAY\"): void;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setHMACKey(key: any, inputFormat: any, options?: any): void {\n    this.shaObj.setHMACKey(key, inputFormat, options);\n  }\n\n  /**\n   * Returns the the HMAC in the specified format using the key given by a previous `setHMACKey` call. Now deprecated\n   * in favor of just calling `getHash`.\n   *\n   * @param format The desired output formatting (B64, HEX, BYTES, ARRAYBUFFER, or UINT8ARRAY) as a string.\n   * @param options Options in the form of { outputUpper?: boolean; b64Pad?: string }. `outputUpper` is only for HEX\n   *   output (defaults to false) and `b64pad` is only for B64 output (defaults to \"=\").\n   * @returns The HMAC in the format specified.\n   */\n  getHMAC(format: \"HEX\", options?: { outputUpper?: boolean }): string;\n  getHMAC(format: \"B64\", options?: { b64Pad?: string }): string;\n  getHMAC(format: \"BYTES\"): string;\n  getHMAC(format: \"UINT8ARRAY\"): Uint8Array;\n  getHMAC(format: \"ARRAYBUFFER\"): ArrayBuffer;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  getHMAC(format: any, options?: any): any {\n    return this.shaObj.getHMAC(format, options);\n  }\n}\n", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * scenes/match/MatchReady.ls\r\n */\r\nexport class IndexRTBase extends Laya.Scene {\r\n    public uiBtn!: Laya.Box;\r\n    public d3Btn!: Laya.Box;\r\n    public itemNumber!: Laya.Label;\r\n}\r\n\r\n", "import { IndexRTBase } from \"./IndexRT.generated\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('wtSVevJMRPCBIPp2HPhqpw')\r\nexport default class IndexRT extends IndexRTBase {\r\n\r\n    constructor() { super(); }\r\n\r\n    onEnable(): void {\r\n\r\n        console.log(\"IndexRT onEnable\")\r\n        //ui\r\n        this.uiBtn.on(Laya.Event.CLICK, this, () => {\r\n            //UI\r\n            console.log(\"uiBtn\");\r\n            Laya.Scene.open(\"scenes/UiMain.ls\");//Laya.Scene.open(\"./Scenes/PhysicsGameMain.ls\");\r\n        });\r\n\r\n        //\r\n        this.phyBtn.on(Laya.Event.CLICK, this, () => {\r\n            //\r\n            console.log(\"phyBtn\");\r\n            Laya.Scene.open(\"scenes/PhysicsGameMain.ls\");//Laya.Scene.open(\"./Scenes/PhysicsGameMain.ls\");\r\n        });\r\n\r\n        //3D\r\n        this.d3Btn.on(Laya.Event.CLICK, this, () => {\r\n            //3D\r\n            console.log(\"d3Btn\");\r\n            Laya.Scene.open(\"scenes/D3Main.ls\");//Laya.Scene.open(\"./Scenes/D3Main.ls\");\r\n        });\r\n\r\n        \r\n    }\r\n\r\n    onDestroy(): void {\r\n\r\n        // if( this.uiBtn.hasListener( Laya.Event.CLICK ) )\r\n        //     console.log(\"uiBtn\");\r\n\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * scenes/match/MatchReady.ls\r\n */\r\nexport class ItemBoxBase extends Laya.Scene {\r\n    public uiBtn!: Laya.Box;\r\n    public d3Btn!: Laya.Box;\r\n    public itemNumber!: Laya.Label;\r\n}\r\n\r\n", "import { ItemBoxBase } from \"./ItemBox.generated\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('c-3Sonu7RWOm5ETy2TrBcg')\r\nexport class Script extends ItemBoxBase {\r\n\r\n    @property({ type: \"string\" })\r\n    public text: string = \"\";\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get dataSource(): any {\r\n        return super.dataSource;\r\n    }\r\n    set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        if (!value) return;\r\n\r\n        //\r\n        if (value.avatar) {\r\n            let redHot = this.getChildByName(\"avatar\").getChildByName(\"redHot\") as Laya.Image;\r\n            redHot.visible = value.avatar.redHot.visible;\r\n        }\r\n\r\n        if (value.flag) {\r\n            let flagText = this.getChildByName(\"flag\").getChildByName(\"flagText\") as Laya.Text;\r\n            flagText.text = value.flag.flagText.text;\r\n        }\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * Loading.ls\n */\nexport class LoadingRTBase extends Laya.Scene {\n    public btnSound!: Laya.CheckBox;\n    public mcProcess!: Laya.ProgressBar;\n    public txtProcess!: Laya.Label;\n    public txtLoad!: Laya.Label;\n}\n\n", "// import {GameSetting} from \"../../GameSetting\";\r\nimport { IBaseItem } from \"./IBaseItem\";\r\nexport class BaseItem  implements IBaseItem{\r\n    protected _keys: any[] = [];\r\n    public constructor() {\r\n        \r\n    }\r\n    public init(obj: any): void {\r\n        for(let key in obj) {\r\n            this._keys.push(key);\r\n            let value: any = obj[key];\r\n            if(obj[key] instanceof String ) {\r\n                if(String(obj[key]).indexOf(\"[[\") >= 0 ) {\r\n                    value = JSON.parse(obj[key]);\r\n                } \r\n            } \r\n            this[key] = value;\r\n        }\r\n        // if(GameSetting.IsCheckItem ) {\r\n        //     this.checkItems()\r\n        // } \r\n    }\r\n    protected THIS_ID: string = \"id\";\r\n    protected ITEM_DROPS: any[];\r\n    protected TABLE_NAME: string;\r\n    public checkItems(): void {\r\n        \r\n    }\r\n    \r\n}", "import {BaseItem} from \"../BaseItem\";\r\nexport default class LanguageItem extends BaseItem {\r\n    public ID: number;\r\n    public language: number;\r\n    public if_open: string;\r\n    public type: string;\r\n    public Version: any[];\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2023-12-18 01:30:25\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2023-12-23 18:02:55\r\n */\r\nexport class Dictionary {\r\n    public SERIALIZATION_NUM: number;\r\n    public constructor() {\r\n        this.SERIALIZATION_NUM = (new Date()).getTime();\r\n    }\r\n    private _values: any[] = [];\r\n    private _keys: any[] = [];\r\n    public get values(): any[] {\r\n        return this._values;\r\n    }\r\n    public get keys(): any[] {\r\n        return this._keys;\r\n    }\r\n    public set(key: any, value: any): void {\r\n        let index: number = this.indexOf(key);\r\n        if(index >= 0 ) {\r\n            this._values[index] = value;\r\n            return;\r\n        } \r\n        this._keys.push(key);\r\n        this._values.push(value);\r\n    }\r\n    public unshift(key: any, value: any): void {\r\n        let index: number = this.indexOf(key);\r\n        if(index >= 0 ) {\r\n            this._values[index] = value;\r\n            return;\r\n        } \r\n        this._keys.unshift(key);\r\n        this._values.unshift(value);\r\n    }\r\n    public indexOf(key: any): number {\r\n        let index: number = this._keys.indexOf(key);\r\n        if(index >= 0 ) {\r\n            return index\r\n        } \r\n        key = key instanceof String ? Number(key) : (key instanceof Number ? key.toString() : key);\r\n        return this._keys.indexOf(key);\r\n    }\r\n    public get(key: any): any {\r\n        let index: number = this.indexOf(key);\r\n        return index < 0 ? null : this._values[index];\r\n    }\r\n    public remove(key: any): boolean {\r\n        let index: number = this.indexOf(key);\r\n        if(index >= 0 ) {\r\n            this._keys.splice(index, 1);\r\n            this._values.splice(index, 1);\r\n            return true;\r\n        } \r\n        return false;\r\n    }\r\n    public clear(): void {\r\n        this._values.length = 0;\r\n        this._keys.length = 0;\r\n    }\r\n}", "\r\n\r\nexport class GameSetting {\r\n    public static P_APP: string = \"app\";\r\n    public static P_WEB_GW: string = \"gw\";\r\n    public static P_WEB_FB: string = \"fb\";\r\n    public static P_WEB_INSTANT: string = \"fbinstantgame\";\r\n    public static PLATFORM: string = GameSetting.P_APP;\r\n    public static IsRelease: boolean = false;\r\n    public static m_bInstantGame: boolean = false;\r\n    public static useWebVersion: boolean = false;\r\n    public static m_strVersionEX: string = \"V003\";\r\n    public static m_bIsMobWeb: boolean = false;\r\n    public static m_strWebTag: string = \"\";\r\n    public static Js_Version: string = \"1\";\r\n    public static Game_Version: string = \"20231227_01\";\r\n    public static App_Version: string = \"1.0.0\";\r\n    public static SDK_Version: string = \"1.0.0\";\r\n    public static M_strCountry: string = \"1\";\r\n    public static M_bAppData: boolean = false;\r\n    public static M_strTarget: string = \"\";\r\n    public static UseGuide: boolean = false;\r\n    public static m_mobileSameWb: boolean = false;\r\n\r\n    public static ignoreLang: boolean = false;\r\n    public static ignoreSheetNo: boolean = false;\r\n\r\n    public static m_bIsIphoneX: boolean = false;\r\n\r\n\r\n    public static Debug: number = 0;\r\n    public static isTest: boolean = true;\r\n    public static Server_id: string;\r\n    public static Server_URL: string = \"\";\r\n\r\n    public static IP_User: string = \"\";\r\n    public static Plantform_APPID: string = \"17\";\r\n    public static ServerId: number = 22310001;\r\n    public static Login_UID: string = \"-1\";\r\n    private static _LoginType: string = \"gamecenter\";\r\n    public static Login_Token: string = \"96a3d1daf3b49735ed031c929c98d163\";\r\n    public static Login_UDID: string = \"81BC19A8-B49B-47CC-BEFE-193E723B521A\";\r\n    public static Device_Info: string = \"\";\r\n    public static FCM_Token: string = \"\";\r\n    public static APP_IsRelease: boolean = true;\r\n    public static User_Lan: string = \"en\";\r\n    public static UserAgent: string = \"\";\r\n    public static Login_UserName: string = \"\";\r\n    public static UserBanding: any[] = [];\r\n    public static ignoreGuides: any[];\r\n    public static removeGuides: any[];\r\n\r\n    public static APP_RES: string = \"\";\r\n\r\n\r\n    public static COOKIE_CF_LAN: string = \"COOKIE_GG_LAN\";\r\n    public static COOKIE_CF_LoginType: string = \"COOKIE_CF_LoginType\";\r\n    public static IPHONEX_SCARE: number = 1.22;\r\n    public static IPHONEX_TOP: number = 44;\r\n    public static IPHONEX_BUTTOM: number = 34;\r\n    public static DESIGN_WIDTH: number = 1334;\r\n    public static DESIGN_HEIGHT: number = 750;\r\n    private static _instance: GameSetting;\r\n    public constructor() {\r\n        \r\n    }\r\n    public static get LoginType(): string {\r\n        return GameSetting._LoginType;\r\n    }\r\n    public static set LoginType(value: string) {\r\n        GameSetting._LoginType = value;\r\n        if(GameSetting._LoginType && GameSetting._LoginType != \"\" ) {\r\n            Laya.LocalStorage.setItem(GameSetting.COOKIE_CF_LoginType, GameSetting._LoginType);\r\n        } \r\n    }\r\n    public static get isWhiteList(): boolean {\r\n        return true;\r\n    }\r\n    public static get intance(): GameSetting {\r\n        if(GameSetting._instance ) {\r\n            return GameSetting._instance\r\n        } \r\n        GameSetting._instance = new GameSetting();\r\n        return GameSetting._instance;\r\n    }\r\n    public init(): void {\r\n\r\n    }\r\n\r\n    \r\n    public static get server(): string {\r\n        // if(GameSetting.M_bAppData ) {\r\n        //     return GameSetting.Server_URL;\r\n        // } \r\n        \r\n        return getServer();\r\n        // return \"\";\r\n    }\r\n    public static get requestTime(): number {\r\n        // return getRequestTime();\r\n        return 0;\r\n    }\r\n    public static get loginTime(): number {\r\n        // return getLoginTime();\r\n        return 0;\r\n    }\r\n\r\n\r\n    private static _m_iTimeFrame: number = 0;\r\n    public static set m_iTimeFrame(time: number) {\r\n        if(time > 1500 ) {\r\n            let cancelTime = function(): void {\r\n                GameSetting._m_iTimeFrame = 0;\r\n            };\r\n            GameSetting._m_iTimeFrame = time;\r\n            Laya.timer.clear(Laya.timer, cancelTime);\r\n            Laya.timer.once(500, Laya.timer, cancelTime);\r\n            \r\n            // if(PreLoadingView.m_iState == 2 ) {\r\n            //     console.log(\"---------------## m_iTimeFrame send 165\");\r\n            // } \r\n        } \r\n    }\r\n    public static get m_iTimeFrame(): number {\r\n        return GameSetting._m_iTimeFrame;\r\n    }\r\n    private urlFont1: string;\r\n    private urlFont2: string;\r\n    public static isStopPhysics: boolean = false;\r\n    public static isDown: boolean = false;\r\n    public static floor: number;\r\n    // public loadFont(): void {\r\n    //     this.urlFont1 = GameResourceManager.instance.setResURL(\"font/georgia.ttf\");\r\n    //     this.urlFont2 = GameResourceManager.instance.setResURL(\"font/Microsoft YaHei.ttf\");\r\n    //     Laya.loader.load(this.urlFont1, Laya.Handler.create(this, this.onLoaded), null, Laya.Loader.BUFFER);\r\n    //     Laya.loader.load(this.urlFont2, Laya.Handler.create(this, this.onLoaded2), null, Laya.Loader.BUFFER);\r\n    // }\r\n    // private onLoaded(): void {\r\n    //     let arr: ArrayBuffer = Laya.loader.getRes(this.urlFont1);\r\n    //     if(Laya.Browser.window.conch ) {\r\n    //         Laya.Browser.window.conch.setFontFaceFromBuffer(\"constan\", arr);\r\n    //     } \r\n    // }\r\n    // private onLoaded2(): void {\r\n    //     let arr: ArrayBuffer = Laya.loader.getRes(this.urlFont2);\r\n    //     if(Laya.Browser.window.conch ) {\r\n    //         Laya.Browser.window.conch.setFontFaceFromBuffer(\"ebri\", arr);\r\n    //     } \r\n    // }\r\n}", "\r\nimport LanguageItem from \"../global/data/sheetItem/language/LanguageItem\";\r\nimport {Dictionary} from \"../util/Dictionary\";\r\nimport { GameSetting } from \"../global/GameSetting\";\r\nexport class GameLanguageMgr {\r\n    public constructor() {\r\n        this._lanTypesById = new Dictionary();\r\n        this._lanTypesByType = new Dictionary();\r\n        this._configData = new Dictionary();\r\n    }\r\n    private _lanTypesById: Dictionary;\r\n    private _lanTypesByType: Dictionary;\r\n    private _configData: any;\r\n    private static _instance: GameLanguageMgr;\r\n    public static get instance(): GameLanguageMgr {\r\n        if(!GameLanguageMgr._instance ) {\r\n            GameLanguageMgr._instance = new GameLanguageMgr();\r\n        } \r\n        return GameLanguageMgr._instance;\r\n    }\r\n    public initLanTypes(value: any): void {\r\n        this._lanTypesById = new Dictionary();\r\n        this._lanTypesByType = new Dictionary();\r\n        for(let a in value) {\r\n            let languageItem: LanguageItem = new LanguageItem();\r\n            languageItem.init(value[a]);\r\n            if(parseInt(languageItem.if_open) != 1 ) {\r\n                continue;\r\n            } \r\n            let ID: number = languageItem.ID;\r\n            let type: string = languageItem.type;\r\n            this._lanTypesById.set(ID, languageItem);\r\n            if(type && type != \"\" ) {\r\n                this._lanTypesByType.set(type, languageItem)\r\n            } \r\n        }\r\n    }\r\n    public getLanTypes(): Dictionary {\r\n        return this._lanTypesById;\r\n    }\r\n    public getLanIdByType(type: string): number {\r\n        if(this._lanTypesByType ) {\r\n            let languageItem: LanguageItem = this._lanTypesByType.get(type);\r\n            if(languageItem ) {\r\n                return parseInt(languageItem.ID.toString())\r\n            } \r\n        } \r\n        return 1;\r\n    }\r\n    public getLanTypeById(id: number): string {\r\n        if(this._lanTypesById ) {\r\n            let languageItem: LanguageItem = this._lanTypesById.get(id);\r\n            if(languageItem ) {\r\n                return languageItem.type\r\n            } \r\n        } \r\n        return \"en\";\r\n    }\r\n    //\r\n    public initConfigLan(value: any): void {\r\n        this._configData = value;\r\n    }\r\n    public initUILan(value: any): void {\r\n        Laya.Text.langPacks = {};\r\n        let key: string;\r\n        for(key in value) {\r\n            let lanValue: string = value[key][\"value\"];\r\n            Laya.Text.langPacks[key] = lanValue;\r\n        }\r\n    }\r\n    private changeBrToN(value: string): string {\r\n        let reg: RegExp = /<br>/g;\r\n        while(value.indexOf(\"<br>\") != -1) {\r\n            value = value.replace(reg, \"\\n\");\r\n        }\r\n        return value;\r\n    }\r\n    // //   getLanguage \r\n    // private getConfigLan(id: any): string {\r\n    //     // debugger\r\n    //     if(this._configData && this._configData[id] ) {\r\n    //         let value: string = this._configData[id].value;\r\n    //         if(value && id + \"\" != \"5398\" ) {\r\n    //             value = this.changeBrToN(value)\r\n    //         } \r\n    //         if(value ) {\r\n    //             return value.toString()\r\n    //         } \r\n    //     } \r\n    //     return id + \"\";\r\n    // }\r\n    public replacePlaceholder(source: string, args: any[]): string {\r\n        if(source == \"\" ) {\r\n            return \"\";\r\n        } \r\n        let pattern: RegExp = /{(\\d+)}/g;\r\n        if(args.length > 0 ) {\r\n            source = source.replace(pattern, function(): string {\r\n                return args[arguments[1]];\r\n            });\r\n        } \r\n        return this.replaceLanByBR(source);\r\n    }\r\n    public replaceLanByBR(value: string): string {\r\n        let _str: string = value + \"\";\r\n        // while(_str.indexOf(\"/n\") != -1) {\r\n        //     _str = _str.replace(\"/n\", \"<br>\");\r\n        // }\r\n        return _str;\r\n    }\r\n    public getLanguage(value: any, ...arg: (string | number)[]): string {\r\n        console.log(\"languageId: \" + value);\r\n        return this.getLanguage2(value, arg);\r\n    }\r\n    public getLanguage2(value: any, replaceArr: any[]): string {\r\n        if(this._configData && this._configData[value] ) {\r\n            let _str: string = this._configData[value].value as string;\r\n            if(_str && _str != \"\" ) {\r\n                let str: string = this.replacePlaceholder(_str, replaceArr);\r\n                // str = str.replace(/^\"*/g, \"\");\r\n                // str = str.replace(/\"*$/g, \"\");\r\n                return str;\r\n            } \r\n        } \r\n        return this.replacePlaceholder(value + \"\", replaceArr);\r\n    }\r\n    public getUILang(text: string, arg1: any = null, arg2: any = null, arg3: any = null, arg4: any = null): string {\r\n        text = Laya.Text.langPacks && Laya.Text.langPacks[text] ? Laya.Text.langPacks[text] : text;\r\n        if(arguments.length > 1 ) {\r\n            for(let i: number = 0, n: number = arguments.length; i < n; i++) {\r\n                text = text.replace(\"{\" + i + \"}\", arguments[i + 1]);\r\n            }\r\n        } \r\n        return text;\r\n    }\r\n\r\n    //=======================================\r\n    public FGM_GetLanguage(): void {\r\n        let callBack = function(str: string): void {\r\n            console.log(\"initGame->-----------------------------FGM_GetLanguage:==\" + str);\r\n            if(str ) {\r\n                str = str.substring(0, 2);\r\n                GameSetting.User_Lan = str;\r\n            } \r\n        };\r\n        let cookieLang: string = Laya.LocalStorage.getItem(GameSetting.COOKIE_CF_LAN);\r\n        if(!cookieLang || cookieLang == \"\" ) {\r\n            // if(GameSetting.m_bInstantGame == true || Laya.Browser.onPC ) {\r\n            //     let str: string = \"\";\r\n            //     if(!str || str == \"\" ) {\r\n            //         str = this.language;\r\n            //     } \r\n            //     str = str.substring(0, 2);\r\n            //     GameSetting.User_Lan = str;\r\n            //     return;\r\n            // } \r\n            // if(!Laya.LayaEnv.isConch ) {\r\n                callBack(this.language);\r\n            // } else {\r\n            //     if(Laya.Browser.onIOS ) {\r\n            //         if(this.m_patform ) {\r\n            //             this.m_patform.callWithBack(callBack, \"FGM_GetLanguage\")\r\n            //         } \r\n            //     } else {\r\n            //         this.m_platformClass.callWithBack(callBack, \"FGM_GetLanguage\");\r\n            //     }\r\n            // }\r\n        } else {\r\n            callBack(cookieLang);\r\n        }\r\n    }\r\n    public get language(): string {\r\n        let lang: string;\r\n        let type: string = Laya.Browser.window.navigator.appName;\r\n        if(type == \"Netscape\" ) {\r\n            lang = Laya.Browser.window.navigator.language;\r\n        } else {\r\n            lang = Laya.Browser.window.navigator.userLanguage;\r\n        }\r\n        console.log(\"laya---------lang:\" + lang + \"\ttype:\" + type);\r\n        return lang;\r\n    }\r\n    public FGM_SetLanguage(language: string): void {\r\n        if(language && language != \"\" ) {\r\n            Laya.LocalStorage.setItem(GameSetting.COOKIE_CF_LAN, language);\r\n            // if(!Laya.LayaEnv.isConch ) {\r\n            //     return;\r\n            // } \r\n            // if(Laya.Browser.onIOS ) {\r\n            //     let jsonData: string = \"\";\r\n            //     let _obj: any = new Object();\r\n            //     _obj[\"language\"] = language;\r\n            //     jsonData = JSON.stringify(_obj);\r\n            //     this.m_patform.call(\"FGM_SetLanguage:\", jsonData);\r\n            // } else if(Laya.Browser.onAndroid ) {\r\n            //     if(parseInt(GameSetting.App_Version) >= 1000 ) {\r\n            //         this.m_platformClass.call(\"FGM_SetLanguage\", language);\r\n            //     } \r\n            // } \r\n        } \r\n    }\r\n    \r\n    public dispose(): void {\r\n        \r\n    }\r\n}", "import { BaseItem } from \"../BaseItem\";\r\n\r\nexport class SpotInfo extends BaseItem {\r\n    public ID: number;\r\n    public Event: string;\r\n    \r\n    public type: number;\r\n    public other:string;\r\n    \r\n    public constructor() {\r\n        super();\r\n    }\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2023-12-18 12:24:46\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2023-12-27 18:04:21\r\n */\r\nimport {BaseItem} from \"../BaseItem\";\r\nexport class SheetDictionary {\r\n    private _values: any[];\r\n    private _keys: any[];\r\n    private _valuesObject: any = {};\r\n    private sheetObject: any;\r\n    private BaseItemClass: any;\r\n    public constructor(data: any, BaseItemClass: any) {\r\n        this.sheetObject = data;\r\n        this.BaseItemClass = BaseItemClass;\r\n    }\r\n    public get keys(): any[] {\r\n        if(this._keys ) {\r\n            return this._keys\r\n        } \r\n        this._keys = [];\r\n        let item: BaseItem;\r\n        for(let key in this.sheetObject) {\r\n            if(!key || key == \"\" ) {\r\n                continue;\r\n            } \r\n            this._keys.push(key);\r\n        }\r\n        return this._keys;\r\n    }\r\n    public get values(): any[] {\r\n        if(this._values ) {\r\n            return this._values\r\n        } \r\n        this._values = [];\r\n        let item: BaseItem;\r\n        for(let key in this.sheetObject) {\r\n            if(this._valuesObject[key] ) {\r\n                item = this._valuesObject[key];\r\n            } else {\r\n                item = new this.BaseItemClass();\r\n                item.init(this.sheetObject[key]);\r\n                this._valuesObject[key] = item;\r\n            }\r\n            this._values.push(item);\r\n        }\r\n        return this._values;\r\n    }\r\n    public get(key: any): any {\r\n        if(this._valuesObject[key] ) {\r\n            return this._valuesObject[key];\r\n        } \r\n        let data: any = this.sheetObject[key];\r\n        if( data ) {\r\n            return data;\r\n        } \r\n        let item: BaseItem;\r\n        if(this.BaseItemClass ) {\r\n            item = new this.BaseItemClass();\r\n            if( item.init == null ) {\r\n                console.log(\"ERROR :<BaseItem> SheetDataManager -->initConfig()\" + \"  class : \" + this.BaseItemClass);\r\n            } \r\n            item.init(data);\r\n        } \r\n        this._valuesObject;\r\n        let returnData: any = item ? item : data;\r\n        this._valuesObject[key] = returnData;\r\n        return returnData;\r\n    }\r\n    public indexOf(key: any): number {\r\n        let index: number = this._keys.indexOf(key);\r\n        if(index >= 0 ) {\r\n            return index\r\n        } \r\n        key = key instanceof String ? Number(key) : (key instanceof Number ? key.toString() : key);\r\n        return this._keys.indexOf(key);\r\n    }\r\n    public clear(): void {\r\n        this.sheetObject = null;\r\n    }\r\n}", "import {SpotInfo} from \"./SpotInfo\";\r\nimport {GameResourceManager} from \"../../../../common/GameResourceManager\";\r\nimport { SheetDictionary } from \"../item/SheetDictionary\";\r\n\r\nexport class SpotSheetDataManager {\r\n    private static _instance: SpotSheetDataManager;\r\n    public constructor() {\r\n        \r\n    }\r\n    public static get instance(): SpotSheetDataManager {\r\n        if(!SpotSheetDataManager._instance ) {\r\n            SpotSheetDataManager._instance = new SpotSheetDataManager();\r\n        } \r\n        return SpotSheetDataManager._instance;\r\n    }\r\n    private spotDic: SheetDictionary;\r\n    public initSpotCfgData(): void {\r\n        if(this.spotDic == null ) {\r\n            // this.spotDic = new SheetDictionary();\r\n            let json: any = GameResourceManager.instance.getResByURL(\"config/spot.json\");\r\n            this.spotDic = new SheetDictionary(json.data, SpotInfo);\r\n            // let spotInfo: SpotInfo;\r\n            // for(let value of json) {\r\n            //     spotInfo = value;\r\n            //     this.spotDic.set(spotInfo.ID + \"spot\", spotInfo);\r\n            // }\r\n        } \r\n    }\r\n    public getSpotById(id: number): SpotInfo {\r\n        this.initSpotCfgData();\r\n        return this.spotDic.get(id);\r\n    }\r\n    public get getSpotDic(): SheetDictionary {\r\n        this.initSpotCfgData();\r\n        return this.spotDic;\r\n    }\r\n}", "import { GameUserInfo } from \"../../GameUserInfo\";\r\nimport { GameSetting } from \"../global/GameSetting\";\r\nimport { SpotInfo } from \"../global/data/sheetItem/spot/SpotInfo\";\r\nimport { SpotSheetDataManager } from \"../global/data/sheetItem/spot/SpotSheetDataManager\";\r\nimport HttpCmd from \"../net/HttpCmd\";\r\n\r\nexport class PlatFormManager {\r\n    public constructor() {\r\n        \r\n    }\r\n    public registerCommCallBack(_callBack: Laya.Handler = null): void {\r\n        // AndroidPlatform.instance.FGM_GetLanguage();\r\n        if(!Laya.LayaEnv.isConch ) {\r\n            return;\r\n        } \r\n        \r\n    }\r\n    private static _instance: PlatFormManager;\r\n    public static get instance(): PlatFormManager {\r\n        if(!PlatFormManager._instance ) {\r\n            PlatFormManager._instance = new PlatFormManager();\r\n        } \r\n        return PlatFormManager._instance;\r\n    }\r\n\r\n\r\n    public sendCustumEvent(spotId: number, parameters: any = null, _spotInfo: SpotInfo = null): void {\r\n        let spotInfo: SpotInfo;\r\n        if(_spotInfo ) {\r\n            spotInfo = _spotInfo\r\n        } else {\r\n            spotInfo = SpotSheetDataManager.instance.getSpotById(spotId)\r\n        }\r\n        if(!spotInfo || !spotInfo.Event ) {\r\n            return;\r\n        } \r\n        // this.sendWebEvent(spotInfo.Event);\r\n        // if(!Laya.LayaEnv.isConch ) {\r\n        //     return;\r\n        // } \r\n        let parametersStr: string;\r\n        // if(Laya.Browser.onIOS ) {\r\n            let _obj: any = new Object();\r\n            _obj[\"id\"] = spotInfo.ID;\r\n            _obj[\"eventKey\"] = spotInfo.Event;\r\n            \r\n            _obj[\"type\"] = spotInfo.type;\r\n            // Debug.log(spotInfo.Event, 1);\r\n\r\n            // _obj[\"serverid\"] = GameSetting.ServerId;\r\n            // if(parameters ) {\r\n            //     parametersStr = JSON.stringify(parameters)\r\n            // } \r\n            // _obj[\"parameters\"] = parametersStr;\r\n            // let str: string = JSON.stringify(_obj);\r\n            this.sendWebEvent(_obj);\r\n\r\n    }\r\n    public sendWebEvent(jsonData: any): void {\r\n        // HttpCmd.requestPost('cybertron-sys-api/api/v1/logs/print',jsonData);\r\n    }\r\n\r\n\r\n    public dispose(): void {\r\n        \r\n    }\r\n    public reload(): void {\r\n        Laya.Browser.window.location.reload();\r\n    }\r\n    public testEvnt(): void {\r\n        // let arr: any[] = SpotSheetDataManager.instance.getSpotDic.values;\r\n        // for(let i: number = 0; i < arr.length; i++) {\r\n        //     let spotInfo: SpotInfo = arr[i];\r\n        //     if(spotInfo.sendType == 2 ) {\r\n        //         this.sendCustumEvent(spotInfo.ID);\r\n        //     } \r\n        // }\r\n    }\r\n}", "import {GameResourceManager} from \"./GameResourceManager\";\r\nimport {Dictionary} from \"../util/Dictionary\";\r\nexport class EffectManager {\r\n    public effectMap: Dictionary;\r\n    public callBak: Laya.Handler;\r\n    public urls: any[];\r\n    effect: any;\r\n    public constructor() {\r\n        this.effectMap = new Dictionary();\r\n    }\r\n    public loadEffect(url: any): void {\r\n        this.urls = url;\r\n        for(let i: number = 0; i < this.urls.length; i++) {\r\n            let oneUrl: string = this.urls[i].hasOwnProperty(\"url\") ? this.urls[i][\"url\"] : this.urls[i];\r\n            if(oneUrl && !GameResourceManager.instance.hasFormatEffectUrl(oneUrl) ) {\r\n                if(this.urls[i] == \"\" ) {\r\n                    this.urls[i] = {};\r\n                } \r\n                this.urls[i][\"url\"] = GameResourceManager.instance.getEffectUrl(oneUrl);\r\n                this.urls[i][\"type\"] = Laya.Loader.ATLAS;\r\n            } \r\n        }\r\n        Laya.loader.load(this.urls, Laya.Handler.create(this, this.loadAssets));\r\n    }\r\n    public getEffectByUrl(url: any): Laya.Animation {\r\n        if(!GameResourceManager.instance.hasFormatEffectUrl(url) ) {\r\n            url = GameResourceManager.instance.getEffectUrl(url)\r\n        } \r\n        return this.effectMap.get(url);\r\n    }\r\n    public copyEffectByUrl(url: any): Laya.Animation {\r\n        if(!GameResourceManager.instance.hasFormatEffectUrl(url) ) {\r\n            url = GameResourceManager.instance.getEffectUrl(url)\r\n        } \r\n        let animation: Laya.Animation = this.effectMap.get(url);\r\n        let copyAnimation: Laya.Animation = new Laya.Animation();\r\n        copyAnimation.source = url;\r\n        copyAnimation.stop();\r\n        let newUrl: string = url + \"_2\";\r\n        this.urls.push(newUrl);\r\n        this.effectMap.set(newUrl, copyAnimation);\r\n        return copyAnimation;\r\n    }\r\n    public loadAssets(): void {\r\n        if(!this.effectMap ) {\r\n            return\r\n        } \r\n        let ani: Laya.Animation;\r\n        for(let i: number = 0; i < this.urls.length; i++) {\r\n            if(this.effectMap.get(this.urls[i][\"url\"]) ) {\r\n                continue;\r\n            } \r\n            ani = new Laya.Animation();\r\n            ani.loadAtlas(this.urls[i][\"url\"]);\r\n            ani.interval = 100;\r\n            ani.stop();\r\n            this.effectMap.set(this.urls[i][\"url\"], ani);\r\n        }\r\n        if(this.callBak ) {\r\n            this.callBak.run();\r\n        } \r\n    }\r\n    public destory(): void {\r\n        if(this.urls ) {\r\n            for(let i: number = 0; i < this.urls.length; i++) {\r\n                this.removeUrlEffect(this.urls[i]);\r\n            }\r\n        } \r\n        this.effectMap && this.effectMap.clear();\r\n        this.effectMap = null;\r\n        if(this.callBak ) {\r\n            this.callBak.clear();\r\n            this.callBak = null;\r\n        } \r\n    }\r\n    public removeUrlEffect(url: any): void {\r\n        if(url.hasOwnProperty(\"url\") ) {\r\n            url = url.url\r\n        } \r\n        if(this.effectMap ) {\r\n            let effect: Laya.Animation = this.effectMap.get(url)\r\n        } \r\n        if(this.effect ) {\r\n            this.effect.destroy();\r\n            Laya.Loader.clearRes(url);\r\n            this.effect = null;\r\n            this.effectMap.remove(url);\r\n            url = Laya.URL.formatURL(url);\r\n            let res: any = Laya.Loader.loadedMap[url];\r\n            if(res ) {\r\n                console.log(\"clear Res: \" + url);\r\n                if(res instanceof Laya.Texture && res.bitmap ) {\r\n                    new Laya.Texture(res).destroy(true)\r\n                } \r\n                delete Laya.Loader.loadedMap[url];\r\n            } \r\n        } \r\n    }\r\n}", "import {EffectManager} from \"./EffectManager\";\r\nimport {GameResourceManager} from \"./GameResourceManager\";\r\n\r\nexport class LoadingManager {\r\n    private static _instance: LoadingManager;\r\n    public static get instance(): LoadingManager {\r\n        if(!LoadingManager._instance ) {\r\n            LoadingManager._instance = new LoadingManager();\r\n        } \r\n        return LoadingManager._instance;\r\n    }\r\n    public loadingMc: Laya.Animation;\r\n    public bgImg: Laya.Image;\r\n    private _backLayer: Laya.Sprite;\r\n    private m_txtLabel: Laya.Label;\r\n    private _isLoading: boolean = false;\r\n    public get isLoading(): boolean {\r\n        return this._isLoading;\r\n    }\r\n    private effectManager: EffectManager;\r\n    public walkingAni: Laya.Animation;\r\n    private AniConfPath: string = \"effect/load/load0.json\";\r\n    public init(): void {\r\n        if(this.effectManager == null ) {\r\n            this.effectManager = new EffectManager();\r\n        } \r\n        if(!this.loadingMc ) {\r\n            this.loadAsset();\r\n            // this.loadBgImg();\r\n        } \r\n    }\r\n    public loadBgImg(): void {\r\n        Laya.loader.load([GameResourceManager.instance.getGuangImg(\"guang\")], Laya.Handler.create(this, this.loadImgAssets));\r\n    }\r\n    public loadImgAssets(): void {\r\n        // let texture: Laya.Texture = Laya.Loader.getRes(GameResourceManager.instance.getGuangImg(\"guang\"));\r\n        // this.bgImg = new Laya.Image();\r\n        // this.bgImg.skin = GameResourceManager.instance.getGuangImg(\"guang\");\r\n        // this.bgImg.pivot(this.bgImg.width / 2, this.bgImg.height / 2);\r\n    }\r\n\r\n    public loadAsset(): void {\r\n\r\n        Laya.loader.load(this.AniConfPath, Laya.Loader.ATLAS).then( ()=>{\r\n            this.createAnimation();\r\n        } );\r\n\r\n    }\r\n\r\n    //Animation\r\n\tprivate createAnimation(_e: any = null): void {\r\n\t\tthis.loadingMc = new Laya.Animation();\r\n\t\tthis.loadingMc.loadAtlas(this.AniConfPath);\t\t\t// \r\n\t\tthis.loadingMc.interval = 30;\t\t\t\t\t// \r\n\t\tthis.loadingMc.index = 1;\t\t\t\t\t\t// \r\n\t\tthis.loadingMc.play();\t\t\t\t\t\t\t// \r\n\r\n\t\t// \r\n\t\tvar bounds: Laya.Rectangle = this.loadingMc.getGraphicBounds();\r\n\t\tthis.loadingMc.pivot(bounds.width / 2, bounds.height / 2);\r\n\t\tthis.loadingMc.pos(Laya.stage.width / 2, Laya.stage.height / 2);\r\n        this.loadingMc.stop();\r\n\t\t// Laya.stage.addChild(this.loadingMc);\r\n\t}\r\n    public showLoading(showImmediately: boolean = false): void {\r\n        console.log(\"showLoading...\");\r\n        if(!this.loadingMc ) {\r\n            return;\r\n        } else {\r\n            if(showImmediately ) {\r\n                this._isLoading = true;\r\n                this.showMaskLoading();\r\n                this.showLazyLoading();\r\n                this._isLoading = false;\r\n            } else {\r\n                this._isLoading = true;\r\n                this.showMaskLoading();\r\n                Laya.timer.once(3000, this, this.showLazyLoading);\r\n            }\r\n            if(this.m_txtLabel ) {\r\n                this.m_txtLabel.visible = false;\r\n            } \r\n        }\r\n    }\r\n    public showLoadingByInfo(text: string = \"\"): void {\r\n        if(!this.loadingMc ) {\r\n            return;\r\n        } else {\r\n            this.showMaskLoading();\r\n            this.showLazyLoading();\r\n            if(!this.m_txtLabel ) {\r\n                this.m_txtLabel = new Laya.Label()\r\n            } \r\n            this.m_txtLabel.fontSize = 18;\r\n            this.m_txtLabel.color = \"#ffffff\";\r\n            this.m_txtLabel.strokeColor = \"#000000\";\r\n            this.m_txtLabel.stroke = 2;\r\n            this.m_txtLabel.width = 150;\r\n            this.m_txtLabel.y = (Laya.stage.height - this.m_txtLabel.height >> 1) + 100;\r\n            Laya.stage.addChild(this.m_txtLabel);\r\n        }\r\n        this.m_txtLabel.text = text;\r\n        let textWidth: number;\r\n        if(this.m_txtLabel.textField ) {\r\n            textWidth = this.m_txtLabel.textField.textWidth\r\n        } \r\n        this.m_txtLabel.x = Laya.stage.width - textWidth >> 1;\r\n        this.m_txtLabel.visible = true;\r\n    }\r\n    public playBg(): void {\r\n        if(this.bgImg ) {\r\n            if(!this.bgImg.parent ) {\r\n                Laya.stage.addChild(this.bgImg);\r\n                this.bgImg.x = Laya.stage.width / 2;\r\n                this.bgImg.y = Laya.stage.height / 2;\r\n            } else {\r\n                this.bgImg.visible = true;\r\n            }\r\n            Laya.timer.loop(100, this, this.loopFrame);\r\n        } \r\n    }\r\n    public stopBg(): void {\r\n        if(this.bgImg ) {\r\n            this.bgImg.visible = false;\r\n            this.bgImg.rotation = 0;\r\n            Laya.timer.clear(this, this.loopFrame);\r\n        } \r\n    }\r\n    public loopFrame(): void {\r\n        this.bgImg.rotation += 3;\r\n    }\r\n    private showMaskLoading(): void {\r\n        if(this._isLoading ) {\r\n            if(!this._backLayer ) {\r\n                this._backLayer = new Laya.Sprite();\r\n                this._backLayer.mouseEnabled = true;\r\n                this._backLayer.alpha = 0;\r\n                this._backLayer.visible = false;\r\n                Laya.stage.addChild(this._backLayer);\r\n            } \r\n            this._backLayer.graphics.clear();\r\n            this._backLayer.graphics.drawRect(0, 0, Laya.stage.width + 200, Laya.stage.height, \"#000000\");\r\n            this._backLayer.width = Laya.stage.width;\r\n            this._backLayer.height = Laya.stage.height;\r\n            this._backLayer.x = Math.round(Laya.stage.width - this._backLayer.width >> 1);\r\n            this._backLayer.y = Math.round(Laya.stage.height - this._backLayer.height >> 1);\r\n            this._backLayer.visible = true;\r\n        } \r\n    }\r\n    private showLazyLoading(): void {\r\n        if(this._isLoading ) {\r\n            Laya.stage.addChild(this.loadingMc);\r\n            this._backLayer.alpha = 0.24;\r\n            this.loadingMc.x = Laya.stage.width / 2;\r\n            this.loadingMc.y = Laya.stage.height / 2;\r\n            this.loadingMc.play();\r\n            this.loadingMc.visible = true;\r\n            this.playBg();\r\n        } \r\n        Laya.timer.clear(this, this.showLazyLoading);\r\n    }\r\n    public hideLoading(): void {\r\n        console.log(\"hideLoading...\");\r\n        this._isLoading = false;\r\n        if(!this.loadingMc ) {\r\n            return;\r\n        } else {\r\n            this.loadingMc.stop();\r\n            this.loadingMc.visible = false;\r\n            if(this._backLayer ) {\r\n                this._backLayer.visible = false\r\n            } \r\n            if(this.m_txtLabel ) {\r\n                this.m_txtLabel.visible = false\r\n            } \r\n        }\r\n        this.stopBg();\r\n    }\r\n    public constructor() {\r\n        \r\n    }\r\n    public dispose(): void {\r\n        if(this.loadingMc ) {\r\n            this.loadingMc.destroy();\r\n            this.loadingMc.removeSelf();\r\n            this.loadingMc = null;\r\n        } \r\n        if(this._backLayer ) {\r\n            this._backLayer.destroy();\r\n            this._backLayer.removeSelf();\r\n            this._backLayer = null;\r\n        } \r\n    }\r\n}", "export class LayerManager {\r\n    private static _instance: LayerManager;\r\n    public m_sprSceneLayer: Laya.Sprite;\r\n    private _m_sprMainUILayer: Laya.Sprite;\r\n    private _m_sprPanelLayer: Laya.Sprite;\r\n    public m_sprPopLayer: Laya.Sprite;\r\n    private _m_sprTipLayer: Laya.Sprite;\r\n    private m_sprGuideLayer: Laya.Sprite;\r\n    private m_sprTopLayer: Laya.Sprite;\r\n    public static M_SCENE: number = 1;\r\n    public static M_MAINUI: number = 2;\r\n    public static M_PANEL: number = 3;\r\n    public static M_POP: number = 4;\r\n    public static M_TIP: number = 5;\r\n    public static M_GUIDE: number = 7;\r\n    public static M_TOP: number = 6;\r\n    public m_iStageWidth: number;\r\n    public m_iStageHeight: number;\r\n    public static UP: number = 0x00000001;\r\n    public static DOWN: number = 0x00000010;\r\n    public static LEFT: number = 0x00000100;\r\n    public static RIGHT: number = 0x00001000;\r\n    public static CENTER: number = 0x00010000;\r\n    public static LEFTUP: number = LayerManager.LEFT | LayerManager.UP;\r\n    public static RIGHTUP: number = LayerManager.RIGHT | LayerManager.UP;\r\n    public static LEFTDOWN: number = LayerManager.LEFT | LayerManager.DOWN;\r\n    public static RIGHTDOWN: number = LayerManager.RIGHT | LayerManager.DOWN;\r\n    public static CENTERLEFT: number = LayerManager.CENTER | LayerManager.LEFT;\r\n    public static CENTERRIGHT: number = LayerManager.CENTER | LayerManager.RIGHT;\r\n    public static MOVE: number = -1;\r\n    public constructor() {\r\n        if(LayerManager._instance ) {\r\n            throw new Error(\"LayerManager,new.\");\r\n        } \r\n        LayerManager._instance = this;\r\n    }\r\n    public get m_sprPanelLayer(): Laya.Sprite {\r\n        return this._m_sprPanelLayer;\r\n    }\r\n    public set m_sprPanelLayer(value: Laya.Sprite) {\r\n        this._m_sprPanelLayer = value;\r\n    }\r\n    public get m_sprMainUILayer(): Laya.Sprite {\r\n        return this._m_sprMainUILayer;\r\n    }\r\n    public set m_sprMainUILayer(value: Laya.Sprite) {\r\n        this._m_sprMainUILayer = value;\r\n    }\r\n    public get m_sprTipLayer(): Laya.Sprite {\r\n        return this._m_sprTipLayer;\r\n    }\r\n    public set m_sprTipLayer(value: Laya.Sprite) {\r\n        this._m_sprTipLayer = value;\r\n    }\r\n    public static get instence(): LayerManager {\r\n        if(LayerManager._instance ) {\r\n            return LayerManager._instance\r\n        } \r\n        LayerManager._instance = new LayerManager();\r\n        return LayerManager._instance;\r\n    }\r\n    public init(): void {\r\n        this.m_sprSceneLayer = new Laya.Sprite();\r\n        Laya.stage.addChild(this.m_sprSceneLayer);\r\n        this.m_sprMainUILayer = new Laya.Sprite();\r\n        Laya.stage.addChild(this.m_sprMainUILayer);\r\n        this.m_sprPanelLayer = new Laya.Sprite();\r\n        Laya.stage.addChild(this.m_sprPanelLayer);\r\n        this.m_sprPopLayer = new Laya.Sprite();\r\n        this.m_sprPopLayer.mouseThrough = true;\r\n        Laya.stage.addChild(this.m_sprPopLayer);\r\n        this.m_sprTipLayer = new Laya.Sprite();\r\n        Laya.stage.addChild(this.m_sprTipLayer);\r\n        this.m_sprGuideLayer = new Laya.Sprite();\r\n        Laya.stage.addChild(this.m_sprGuideLayer);\r\n        this.m_sprTopLayer = new Laya.Sprite();\r\n        Laya.stage.addChild(this.m_sprTopLayer);\r\n    }\r\n    private _touchEnabled: boolean = true;\r\n    public get touchEnabled(): boolean {\r\n        return this._touchEnabled;\r\n    }\r\n    public set touchEnabled(value: boolean) {\r\n        if(this._touchEnabled == value ) {\r\n            return\r\n        } \r\n        this._touchEnabled = value;\r\n        this.m_sprSceneLayer.mouseEnabled = this._touchEnabled;\r\n        this.m_sprMainUILayer.mouseEnabled = this._touchEnabled;\r\n        this.m_sprPanelLayer.mouseEnabled = this._touchEnabled;\r\n        this.m_sprPopLayer.mouseEnabled = this._touchEnabled;\r\n        this.m_sprTipLayer.mouseEnabled = this._touchEnabled;\r\n        this.m_sprGuideLayer.mouseEnabled = this._touchEnabled;\r\n        this.m_sprTopLayer.mouseEnabled = this._touchEnabled;\r\n    }\r\n    public addToLayerAndSet(view: Laya.Sprite, layerType: number = LayerManager.M_PANEL, postTpye: number = LayerManager.CENTER): void {\r\n        this.addToLayer(view, layerType);\r\n        this.setPosition(view, postTpye);\r\n    }\r\n    public getLayerIndex(view: Laya.Sprite, layerType: number = LayerManager.M_PANEL): number {\r\n        let index: number;\r\n        switch(layerType) {\r\n            case LayerManager.M_SCENE:\r\n            {\r\n                index = this.m_sprSceneLayer.getChildIndex(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_MAINUI:\r\n            {\r\n                index = this.m_sprMainUILayer.getChildIndex(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_PANEL:\r\n            {\r\n                index = this.m_sprPanelLayer.getChildIndex(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_POP:\r\n            {\r\n                index = this.m_sprPopLayer.getChildIndex(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_TIP:\r\n            {\r\n                index = this.m_sprTipLayer.getChildIndex(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_GUIDE:\r\n            {\r\n                index = this.m_sprGuideLayer.getChildIndex(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_TOP:\r\n            {\r\n                index = this.m_sprTopLayer.getChildIndex(view)\r\n            }\r\n            break;\r\n        }\r\n        return index;\r\n    }\r\n    public addToLayerAt(view: Laya.Sprite, layerType: number = LayerManager.M_PANEL, index: number = 0): void {\r\n        switch(layerType) {\r\n            case LayerManager.M_SCENE:\r\n            {\r\n                this.m_sprSceneLayer.addChildAt(view, index)\r\n            }\r\n            break;\r\n            case LayerManager.M_MAINUI:\r\n            {\r\n                this.m_sprMainUILayer.addChildAt(view, index)\r\n            }\r\n            break;\r\n            case LayerManager.M_PANEL:\r\n            {\r\n                this.m_sprPanelLayer.addChildAt(view, index)\r\n            }\r\n            break;\r\n            case LayerManager.M_POP:\r\n            {\r\n                this.m_sprPopLayer.addChildAt(view, index)\r\n            }\r\n            break;\r\n            case LayerManager.M_TIP:\r\n            {\r\n                this.m_sprTipLayer.addChildAt(view, index)\r\n            }\r\n            break;\r\n            case LayerManager.M_GUIDE:\r\n            {\r\n                this.m_sprGuideLayer.addChildAt(view, index)\r\n            }\r\n            break;\r\n            case LayerManager.M_TOP:\r\n            {\r\n                this.m_sprTopLayer.addChildAt(view, index)\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    public addToLayer(view: Laya.Sprite, layerType: number = LayerManager.M_PANEL): void {\r\n        switch(layerType) {\r\n            case LayerManager.M_SCENE:\r\n            {\r\n                this.m_sprSceneLayer.addChild(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_MAINUI:\r\n            {\r\n                this.m_sprMainUILayer.addChild(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_PANEL:\r\n            {\r\n                this.m_sprPanelLayer.addChild(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_POP:\r\n            {\r\n                this.m_sprPopLayer.addChild(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_TIP:\r\n            {\r\n                this.m_sprTipLayer.addChild(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_GUIDE:\r\n            {\r\n                this.m_sprGuideLayer.addChild(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_TOP:\r\n            {\r\n                this.m_sprTopLayer.addChild(view)\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    public removeFromLayer(view: Laya.Sprite, layerType: number): void {\r\n        switch(layerType) {\r\n            case LayerManager.M_SCENE:\r\n            {\r\n                this.m_sprSceneLayer.removeChild(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_MAINUI:\r\n            {\r\n                this.m_sprMainUILayer.removeChild(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_PANEL:\r\n            {\r\n                this.m_sprPanelLayer.removeChild(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_POP:\r\n            {\r\n                this.m_sprPopLayer.removeChild(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_GUIDE:\r\n            {\r\n                this.m_sprGuideLayer.removeChild(view)\r\n            }\r\n            break;\r\n            case LayerManager.M_TOP:\r\n            {\r\n                this.m_sprTopLayer.removeChild(view)\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    public clearLayer(layerType: number): void {\r\n        switch(layerType) {\r\n            case LayerManager.M_SCENE:\r\n            {\r\n                this.m_sprSceneLayer.removeChildren()\r\n            }\r\n            break;\r\n            case LayerManager.M_MAINUI:\r\n            {\r\n                this.m_sprSceneLayer.removeChildren()\r\n            }\r\n            break;\r\n            case LayerManager.M_PANEL:\r\n            {\r\n                this.m_sprSceneLayer.removeChildren()\r\n            }\r\n            break;\r\n            case LayerManager.M_POP:\r\n            {\r\n                this.m_sprSceneLayer.removeChildren()\r\n            }\r\n            break;\r\n            case LayerManager.M_TOP:\r\n            {\r\n                this.m_sprSceneLayer.removeChildren()\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    public get stageWidth(): number {\r\n        let swidth: number;\r\n        swidth = Laya.stage.width;\r\n        return swidth;\r\n    }\r\n    public get stageHeight(): number {\r\n        let sheight: number;\r\n        sheight = Laya.stage.height;\r\n        return sheight;\r\n    }\r\n    public setPosition(view: Laya.Sprite, postTpye: number, offsetX: number = 0, offsetY: number = 0, anchorX: boolean = false, anchorY: boolean = false): void {\r\n        let _posWidth: number = Laya.stage.width;\r\n        let _posHeight: number = Laya.stage.height;\r\n        this.m_iStageWidth = _posWidth;\r\n        this.m_iStageHeight = _posHeight;\r\n        switch(postTpye) {\r\n            case LayerManager.UP:\r\n            {\r\n                view.x = anchorX ? _posWidth / 2 : (_posWidth - view.width * view.scaleX) / 2\r\n                view.y = 0\r\n            }\r\n            break;\r\n            case LayerManager.DOWN:\r\n            {\r\n                view.x = anchorX ? _posWidth / 2 : (_posWidth - view.width * view.scaleX) / 2\r\n                view.y = _posHeight - view.height * view.scaleY\r\n            }\r\n            break;\r\n            case LayerManager.LEFT:\r\n            {\r\n                view.x = 0\r\n                view.y = anchorY ? _posHeight / 2 : (_posHeight - view.height * view.scaleY) / 2\r\n            }\r\n            break;\r\n            case LayerManager.RIGHT:\r\n            {\r\n                view.x = _posWidth - view.width * view.scaleX\r\n                view.y = anchorY ? _posHeight / 2 : (_posHeight - view.height * view.scaleY) / 2\r\n                \r\n            \r\n            }\r\n            break;\r\n            case LayerManager.LEFTUP:\r\n            {\r\n                view.x = 0\r\n                view.y = 0\r\n            }\r\n            break;\r\n            case LayerManager.RIGHTUP:\r\n            {\r\n                view.x = _posWidth - view.width * view.scaleX\r\n                view.y = 0\r\n            }\r\n            break;\r\n            case LayerManager.LEFTDOWN:\r\n            {\r\n                view.x = 0\r\n                view.y = _posHeight - view.height * view.scaleY\r\n            }\r\n            break;\r\n            case LayerManager.RIGHTDOWN:\r\n            {\r\n                view.x = _posWidth - view.width * view.scaleX\r\n                view.y = _posHeight - view.height * view.scaleY\r\n            }\r\n            break;\r\n            case LayerManager.CENTERLEFT:\r\n            {\r\n                view.x = _posWidth / 2 - view.width * view.scaleX\r\n                view.y = anchorY ? _posHeight / 2 : (_posHeight - view.height * view.scaleY) / 2\r\n                \r\n            \r\n            }\r\n            break;\r\n            case LayerManager.CENTERRIGHT:\r\n            {\r\n                view.x = _posWidth / 2\r\n                view.y = anchorY ? _posHeight / 2 : (_posHeight - view.height * view.scaleY) / 2\r\n                \r\n            \r\n            }\r\n            break;\r\n            case LayerManager.CENTER:\r\n            {\r\n                view.x = anchorX ? _posWidth / 2 : (_posWidth - view.width * view.scaleX) / 2\r\n                view.y = anchorY ? _posHeight / 2 : (_posHeight - view.height * view.scaleY) / 2\r\n            }\r\n            break;\r\n            default:\r\n            break;\r\n        }\r\n        view.x += offsetX;\r\n        view.y += offsetY;\r\n    }\r\n    public setLayer(view1: Laya.Sprite, view2: Laya.Sprite, isFrontBack: boolean): void {\r\n        if(!view1 || !view2 ) {\r\n            return\r\n        } \r\n        if(view1.parent != view2.parent ) {\r\n            return\r\n        } \r\n        let index1: number = view1.parent.getChildIndex(view1);\r\n        let index2: number = view2.parent.getChildIndex(view2);\r\n        if(isFrontBack ) {\r\n            if(index1 > index2 ) {\r\n                view1.parent.setChildIndex(view1, index2);\r\n                view1.parent.setChildIndex(view2, index1);\r\n            } \r\n        } else {\r\n            if(index1 < index2 ) {\r\n                view1.parent.setChildIndex(view1, index2);\r\n                view1.parent.setChildIndex(view2, index1);\r\n            } \r\n        }\r\n    }\r\n}", "import {GameResourceManager} from \"./GameResourceManager\";\r\nexport class SoundMgr {\r\n    public static COOKIE_CF_MUSIC:string = \"COOKIE_CF_MUSIC\";\r\n    public static COOKIE_CF_SOUND:string = \"COOKIE_CF_SOUND\";\r\n    private static _instance: SoundMgr;\r\n    public static get instance(): SoundMgr {\r\n        if(SoundMgr._instance ) {\r\n            return SoundMgr._instance\r\n        } \r\n        SoundMgr._instance = new SoundMgr();\r\n        return SoundMgr._instance;\r\n    }\r\n    /** */\r\n    private _m_bPlayMusic: boolean = true;\r\n    /** */\r\n    private _m_bPlayeSound: boolean = true;\r\n    public m_strMusicURL: string;\r\n    /** */\r\n    public get m_bPlayMusic(): boolean {\r\n        return this._m_bPlayMusic;\r\n    }\r\n    /** */\r\n    public set m_bPlayMusic(value: boolean) {\r\n        this._m_bPlayMusic = value;\r\n        if(value ) {\r\n            if(this.m_strMusicURL != null)\r\n            this.playMusicByURL(this.m_strMusicURL);\r\n        } else {\r\n            if(this.musicChannel ) {\r\n                this.musicChannel.stop();\r\n            } \r\n        }\r\n    }\r\n\r\n    public init():void{\r\n        Laya.SoundManager.autoStopMusic = false;\r\n        // console.log(\"SoundMgr init1\");\r\n        let cookieMusic: string = Laya.LocalStorage.getItem(SoundMgr.COOKIE_CF_MUSIC);\r\n        if(cookieMusic!=null && cookieMusic != \"\" ) {\r\n            SoundMgr.instance.m_bPlayMusic = parseInt(cookieMusic) == 1? true:false;\r\n            // Laya.SoundManager.setMusicVolume(parseInt(cookieMusic));//\r\n        }\r\n        // console.log(\"SoundMgr init1 cookieMusic: \"+ cookieMusic);\r\n        let cookieSound: string = Laya.LocalStorage.getItem(SoundMgr.COOKIE_CF_SOUND);\r\n        \r\n        if(cookieSound!=null && cookieSound != \"\" ) {\r\n            SoundMgr.instance.m_bPlayeSound = parseInt(cookieSound) == 1? true:false;\r\n            // Laya.SoundManager.setSoundVolume(parseInt(cookieSound));//\r\n        }\r\n        // console.log(\"SoundMgr init1 cookieSound: \" + cookieSound);\r\n    }\r\n    /** */\r\n    public get m_bPlayeSound(): boolean {\r\n        return this._m_bPlayeSound;\r\n    }\r\n    /** */\r\n    public set m_bPlayeSound(value: boolean) {\r\n        this._m_bPlayeSound = value;\r\n    }\r\n    private musicChannel: Laya.SoundChannel;\r\n    /** */\r\n    public playMusicByURL(url: string): void {\r\n        if(!this.m_bPlayMusic ) {\r\n            return\r\n        } \r\n        if(this.m_strMusicURL ) {\r\n            \r\n        } \r\n        if(this.m_strMusicURL == url && this.musicChannel ) {\r\n            \r\n        } \r\n        this.m_strMusicURL = url;\r\n        Laya.SoundManager.stopMusic();\r\n        this.musicChannel = Laya.SoundManager.playMusic(url, 0, new Laya.Handler(this, this.onComplete));\r\n    }\r\n    /** */\r\n    public playMusicByName(name: string, pix: string = \".ogg\"): void {\r\n        \r\n        let url: string = GameResourceManager.instance.getSoundURL(name, pix);\r\n        this.playMusicByURL(url);\r\n    }\r\n    /** */\r\n    public playSound(url: string, loops: number = 1): void {\r\n        if(!this.m_bPlayeSound ) {\r\n            return\r\n        } \r\n        Laya.SoundManager.playSound(url, loops, new Laya.Handler(this, this.onComplete));\r\n    }\r\n    /** */\r\n    public playSoundByName(name: string, loops: number = 1): void {\r\n        let url: string = GameResourceManager.instance.getSoundURLogg(name);\r\n        this.playSound(url, loops);\r\n    }\r\n    /** */\r\n    public stopSoundByName(name: string): void {\r\n        let url: string = GameResourceManager.instance.getSoundURLogg(name);\r\n        Laya.SoundManager.stopSound(url);\r\n    }\r\n    /** */\r\n    public switchMusic(isOpen:boolean):void{\r\n        let v = isOpen?1:0;\r\n        // Laya.SoundManager.setMusicVolume(v);//\r\n        SoundMgr.instance.m_bPlayMusic = isOpen;\r\n        Laya.LocalStorage.setItem(SoundMgr.COOKIE_CF_MUSIC, v.toString());\r\n        \r\n    }\r\n    /** */\r\n    public switchSound(isOpen:boolean):void{\r\n        let v = isOpen?1:0;\r\n        SoundMgr.instance.m_bPlayeSound = isOpen;\r\n        // Laya.SoundManager.setSoundVolume(v);//\r\n        Laya.LocalStorage.setItem(SoundMgr.COOKIE_CF_SOUND, v.toString());\r\n        \r\n    }\r\n    public static soundName_bg: string = \"bgm\";\r\n    public static soundName1: string = \"ui01.ogg\";\r\n    public static soundName2: string = \"ui02.ogg\";\r\n    public static soundName3: string = \"ui03.ogg\";\r\n    public static soundName4: string = \"hit.wav\";\r\n\r\n    public static soundName30_1: string = \"ui30_1.ogg\";\r\n    public static soundName28_1_star: string = \"ui28_1_star.ogg\";\r\n    public static soundName28_2_star: string = \"ui28_2_stars.ogg\";\r\n    public static soundName28_3_star: string = \"ui28_3_stars.ogg\";\r\n    public static soundName28_bar: string = \"ui28_bar_rise.ogg\";\r\n    public static soundName32: string = \"ui32.ogg\";\r\n    public static soundName33: string = \"ui33.ogg\";\r\n    public static soundName34: string = \"ui34.ogg\";\r\n    public static soundName35: string = \"ui35.ogg\";\r\n    public static soundName36: string = \"ui36.ogg\";\r\n    public static soundName37: string = \"ui37.ogg\";\r\n    public static soundName38: string = \"ui38.ogg\";\r\n    public static soundName39: string = \"ui39.ogg\";\r\n    public static soundName41: string = \"ui41.ogg\";\r\n    public static soundName42: string = \"ui42.ogg\";\r\n    public static soundName43: string = \"ui43.ogg\";\r\n    public static soundName44: string = \"ui44.ogg\";\r\n    public static soundName45: string = \"ui45.ogg\";\r\n    public static soundNameUi40_1: string = \"ui40_1.ogg\";\r\n    public static soundNameUi40_2: string = \"ui40_2.ogg\";\r\n    public static soundNameUi40_3: string = \"ui40_3.ogg\";\r\n    public static soundNameDressing: string = \"dressing_score_sfx.ogg\";\r\n    public static soundNameAnswer: string = \"answer_bonus_points.ogg\";\r\n    private onComplete(): void {\r\n        \r\n    }\r\n}", "\r\n\r\nexport class ModuleName {\r\n    public static FindView: string = \"FindView\";\r\n    public static FindEndView: string = \"FindEndView\";\r\n    public static FindAskDialog: string = \"FindAskDialog\";\r\n    public static FindRankUpDialog: string = \"FindRankUpDialog\";\r\n    public static QuickTipDialog: string = \"QuickTipDialog\";\r\n    public static QuickEndView: string = \"QuickEndView\";\r\n    public static QuickShareView: string = \"QuickShareView\";\r\n    public static QuickOperatorDialog: string = \"QuickOperatorDialog\";\r\n\r\n    public static MainView: string = \"MainView\";\r\n    public static RoleDialog: string = \"RoleDialog\";\r\n    \r\n    public static QuickRechargeDialog: string = \"QuickRechargeDialog\";\r\n    public static CreateNameDialog: string = \"CreateNameDialog\";\r\n    \r\n    public static DailyTaskDialog: string = \"DailyTaskDialog\";\r\n    public static ActivityTaskDialog: string = \"ActivityTaskDialog\";\r\n    public static ShareDialog: string = \"ShareDialog\";\r\n    public static InvitationCenterDialog: string = \"InvitationCenterDialog\";\r\n    public static DailyTaskDrawDialog: string = \"DailyTaskDrawDialog\";\r\n    public static GuideView: string = \"GuideView\";\r\n    public static GuideDialogView: string = \"GuideDialogView\";\r\n    public static ShareView: string = \"ShareView\";\r\n    public static MainTopView: string = \"MainTopView\";\r\n    public static GetMoreDialog: string = \"GetMoreDialog\";\r\n    public static ShopView: string = \"ShopView\";\r\n    \r\n    public static ItemGetDialog: string = \"ItemGetDialog\";\r\n    public static GetTitleDialog: string = \"GetTitleDialog\";\r\n\r\n    public static NewFunUnLockDialog: string = \"NewFunUnLockDialog\";\r\n\r\n    public static DialogView: string = \"DialogView\";\r\n    public static MallView: string = \"MallView\";\r\n    public static MallCardView: string = \"MallCardView\";\r\n    public static MallBuyDialog: string = \"MallBuyDialog\";\r\n    public static FittingUiView: string = \"FittingUiView\";\r\n    public static TaskDialog: string = \"TaskDialog\";\r\n    public static CommentDialog: string = \"CommentDialog\";\r\n    public static PotraitChangDialog: string = \"PotraitChangDialog\";\r\n    public static ClothespressView: string = \"ClothespressView\";\r\n    public static ItemSellDialog: string = \"ItemSellDialog\";\r\n    public static ItemInfoDialog: string = \"ItemInfoDialog\";\r\n\r\n\r\n    public static OnlineAward: string = \"OnlineAward\";\r\n    public static MaillView: string = \"MailView\";\r\n    public static MailSendView: string = \"MailSendView\";\r\n\r\n\r\n    public static GameSettingDialog: string = \"GameSettingDialog\";\r\n    public static GamesettingSoundView: string = \"GamesettingSoundView\";\r\n    public static GameSettingLanguageDialog: string = \"GameSettingLanguageDialog\";\r\n    public static GameSettingVersionDialog: string = \"GameSettingVersionDialog\";\r\n    public static FriendMainView: string = \"FriendMainView\";\r\n    public static FriendSearchView: string = \"FriendSearchView\";\r\n    public static FriendGetRewardDialog: string = \"FriendGetRewardDialog\";\r\n    public static FriendRewardDialog: string = \"FriendRewardDialog\";\r\n    // public static FriendAddDialog: string = \"FriendAddDialog\";\r\n    public static PreLoadingView: string = \"PreLoadingView\";\r\n    public static HelpDialog: string = \"HelpDialog\";\r\n    public static RechargeDialog: string = \"RechargeDialog\";\r\n    public static FirstRechargeDialog: string = \"FirstRechargeDialog\";\r\n    public static FirstWeekRechargeView: string = \"FirstWeekRechargeView\";\r\n    public static ClientErrView: string = \"ClientErrView\";\r\n    public static RoleUpgradeView: string = \"RoleUpgradeView\";\r\n    public static ActiveRechargeView: string = \"ActiveRechargeView\";\r\n    public static SmallSaleView: string = \"SmallSaleView\";\r\n    public static RechargeSelectDialog: string = \"RechargeSelectDialog\";\r\n\r\n    public static FBLikeView: string = \"FBLikeView\";\r\n    public static TurnSuitPreView: string = \"TurnSuitPreView\";\r\n    public static SlotMachineView: string = \"SlotMachineView\";\r\n    public static SlotMachineRewardPreDialog: string = \"SlotMachineRewardPreDialog\";\r\n    public static SlotMachineResultDialog: string = \"SlotMachineResultDialog\";\r\n    public static GashaponView: string = \"GashaponView\";\r\n    public static GashaponRewardView: string = \"GashaponRewardView\";\r\n    public static ActivityRankRewardView: string = \"ActivityRankRewardView\";\r\n    public static AddRechargeView: string = \"AddRechargeView\";\r\n\r\n    public static CupMatchStartDialog: string = \"CupMatchStartDialog\";\r\n    public static CupMatchEndDialog: string = \"CupMatchEndDialog\";\r\n\r\n    // public static MainBottomView: string = \"MainBottomView\";\r\n    public static CreateLoginView: string = \"CreateLoginView\";\r\n\r\n    public static SelectHeadDialog: string = \"SelectHeadDialog\";\r\n    public static RoleInfoDialog: string = \"RoleInfoDialog\";\r\n    public static SelectHeroDialog: string = \"SelectHeroDialog\";\r\n\r\n\r\n\r\n// ==========================================================\r\n    public static FriendMemberDialog: string = \"FriendMemberDialog\";\r\n    public static FriendMemberMoreDialog: string = \"FriendMemberMoreDialog\";\r\n    \r\n\r\n    public static FriendAddDialog: string = \"FriendAddDialog\";\r\n    public static FriendApplyBackDialog: string = \"FriendApplyBackDialog\";\r\n    public static FriendApplyDialog: string = \"FriendApplyDialog\";\r\n\r\n// ==========================================================\r\n    public static WalletDialog: string = \"WalletDialog\";\r\n    public static WalletTransferDialog: string = \"WalletTransferDialog\";\r\n\r\n// ==========================================================\r\n\t\t/** *   */\t\t\r\n\t\tpublic static UnionApplyDialog:string = \"UnionApplyDialog\";\r\n\t\tpublic static GuildEntranceView:string = \"GuildEntranceView\";\r\n\t\tpublic static UnionApplyDialogView:string = \"UnionApplyDialogView\";\r\n\t\tpublic static UnionApplyMemberDialog:string = \"UnionApplyMemberDialog\";\r\n\r\n\t\tpublic static CreateNoticeDialog:string = \"CreateNoticeDialog\";\r\n\t\tpublic static UnionNoticeView:string = \"UnionNoticeView\";\r\n\r\n    /** *   */\t\t\r\n    public static  GuildInfoDialog: string = \"GuildInfoDialog\";\r\n    /** *  */\t\t\r\n    public static  CreateUnionDialog: string = \"CreateUnionDialog\";\r\n\r\n    /** * view */\t\t\r\n    public static  UnionInfoView: string = \"UnionInfoView\";\r\n    public static  UnionEarningView: string = \"UnionEarningView\";\r\n\r\n    public static  UnionRevenueDetailDialog: string = \"UnionRevenueDetailDialog\";\r\n    public static  UnionSetRevenueDialog: string = \"UnionSetRevenueDialog\";\r\n    public static  UnionBattleRecordDialog: string = \"UnionBattleRecordDialog\";\r\n    public static  UnionRevenueRecordDialog: string = \"UnionRevenueRecordDialog\";\r\n\r\n    /** *  */\t\r\n    public static  RankUnionView: string = \"RankUnionView\";\r\n\r\n    /** *  */\t\r\n    public static  UnionWarView: string = \"UnionWarView\";\r\n    /** *  */\t\r\n    public static UnionWarTipDialog: string = \"UnionWarTipDialog\";\r\n    public static UnionWarSuccessDialog: string = \"UnionWarSuccessDialog\";\r\n    public static UnionWarFailDialog: string = \"UnionWarFailDialog\";\r\n\r\n\r\n    /** *  */\t\t\r\n    public static  GamesettingView: string = \"GamesettingView\";\r\n\r\n    /** *  */\t\t\r\n    public static  GameSettingGameAccountView: string = \"GameSettingGameAccountView\";\r\n    /** *  */\t\t\r\n    public static  GuildMessageView: string = \"GuildMessageView\";\r\n    /** *   */\t\t\r\n    public static  GuildMessageEditorView: string = \"GuildMessageEditorView\";\r\n    /** *  */\t\t\r\n    public static  UnionMemberView: string = \"UnionMemberView\";\r\n\r\n\r\n    /*** icon */\t\t\r\n    public static  SelectUnionHeadDialog: string = \"SelectUnionHeadDialog\";\r\n\r\n    /** *   */\t\t\r\n    public static  GuildBuildInfoView: string = \"GuildBuildInfoView\";\r\n\r\n    /** *   */\t\t\r\n    public static  GuildChiefPrivilegeView: string = \"GuildChiefPrivilegeView\";\r\n    public static  GuildDonationView:string = \"GuildDonationView\";\r\n// ==========================================================\r\n    public static DigView: string = \"DigView\";\r\n    public static DigTipDialog: string = \"DigTipDialog\";\r\n    public static LuckdrawView: string = \"LuckdrawView\";\r\n    // public static MyHeroView: string = \"MyHeroView\";\r\n    public static LoadDialog: string = \"LoadDialog\";\r\n    public static ChangeHeadDialog: string = \"ChangeHeadDialog\";\r\n    public static CreateRoomDialog: string = \"CreateRoomDialog\";\r\n    public static EnterRoomView: string = \"EnterRoomView\";\r\n    public static MatchEndRankView: string = \"MatchEndRankView\";\r\n    public static MatchReadyView: string = \"MatchReadyView\";\r\n    public static MatchEndView: string = \"MatchEndView\";\r\n\r\n    public static HeroGetDialog: string = \"HeroGetDialog\";\r\n    \r\n    public static InputPwdDialog: string = \"InputPwdDialog\";\r\n\r\n\r\n\r\n\r\n    public static MailDialog: string = \"MailDialog\";\r\n\r\n\r\n    \r\n    public static UnionAttrView: string = 'UnionAttrView';\r\n    public static UnionAttrLvUpDialog: string = 'UnionAttrLvUpDialog';\r\n    public static UnionAttributeDetailsDialog: string = 'UnionAttributeDetailsDialog';\r\n    public static NoServerView: string = 'NoServerView';\r\n    public static UnionMemberMoreDialog: string = \"UnionMemberMoreDialog\";\r\n\r\n    public static HeroUpgradeDialog: string = 'HeroUpgradeDialog';\r\n    public static HeroDetailDialog: string = 'HeroDetailDialog';\r\n    public static SkillTipDialog: string = 'SkillTipDialog';\r\n    \r\n    \r\n\r\n    /**  */\r\n    public static AFKView: string = 'AFKView';\r\n    public static AFKBagDialog: string = 'AFKBagDialog';\r\n    public static AFKDropDetailDialog: string = 'AFKDropDetailDialog';\r\n    public static AFKMapView: string = 'AFKMapView';\r\n    public static AFKSelectLevelDialog: string = 'AFKSelectLevelDialog';\r\n\r\n\r\n    public static Knapsack: string = 'Knapsack';\r\n    public static KnapsackTipDialog: string = 'KnapsackTipDialog';\r\n    public static HeroFormationDialog: string = 'HeroFormationDialog';\r\n\r\n    public static SignInDialog: string = 'SignInDialog';\r\n\r\n    public static InviteRewardDialog: string = 'InviteRewardDialog';\r\n    static ChallengLoseDialog: string = 'ChallengLoseDialog';\r\n    static ChallengWinDialog: string = 'ChallengWinDialog';\r\n    static ChallengBossDialog: string = 'ChallengBossDialog';\r\n    static ThirbleDropDialog: string = 'ThirbleDropDialog';\r\n    static LevelDropDialog: string = 'LevelDropDialog';\r\n    static UseCardDialog: string = 'UseCardDialog';\r\n\r\n\r\n    public static ArenaView: string = 'ArenaView';\r\n\r\n    public static ArenaLoseDialog: string = 'ArenaLoseDialog';\r\n    public static ArenaBattleDialog: string = 'ArenaBattleDialog';\r\n    public static ArenaWinDialog: string = 'ArenaWinDialog';\r\n    public static ArenaWarNotesView: string = 'ArenaWarNotesView';\r\n    public static ArenaRuleDialog: string = 'ArenaRuleDialog';\r\n\r\n\r\n    public static EquipSelectDialog: string = 'EquipSelectDialog';\r\n    public static EquipDetailDialog: string = 'EquipDetailDialog';\r\n\r\n    \r\n\r\n\r\n\r\n}", "export class GameEvent {\r\n    \r\n\t////////////////////////////////////////////////////////////////////////////\r\n\t//// \r\n\t//// 1.\r\n\t//// 2.\r\n\t//// 3. EVENT++\r\n\t////////////////////////////////////////////////////////////////////////////\r\n    ////////////////////////////////////////////////////////////////////////////////////////////\r\n\t\t////////////////////////////////////////////////////////////////////////////////////////////\r\n\t\t//\r\n\t\t//\t \r\n\t\t//\r\n\t\t////////////////////////////////////////////////////////////////////////////////////////////\r\n\t\t////////////////////////////////////////////////////////////////////////////////////////////\r\n\t\t/**\r\n\t\t * app UI \r\n\t\t */\t\t\r\n\t\tpublic static MOUSE_HOLDON: string = \"MOUSE_HOLDON\";\r\n\t\t/**\r\n\t\t *  \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_OPEN_MODULE: string = \"EVENT_OPEN_MODULE\";\r\n\t\t/**\r\n\t\t * , \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_MODULE_ADDED: string = \"EVENT_MODULE_ADDED\";\r\n\t\t/**\r\n\t\t *  \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_CLOSE_MODULE: string = \"EVENT_CLOSE_MODULE\";\r\n\t\t/**\r\n\t\t *  \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_CHECK_REMAIN: string = \"EVENT_CHECK_REMAIN\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_LOADED_COMPLETE: string = \"EVENT_LOAD_COMPLETE\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_LOADED_SCENE_BG_COM: string = \"EVENT_LOADED_SCENE_BG_COM\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_LOAD_SKIN_COMPLETE: string = \"EVENT_LOAD_SKIN_COMPLETE\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_LOAD_HEAD_SKIN_COMPLETE: string = \"EVENT_LOAD_HEAD_SKIN_COMPLETE\";\r\n\t\t\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_LOADING_SUC: string = \"EVENT_LOADING_SUC\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_BACK_TO_LOGIN: string = \"EVENT_BACK_TO_LOGIN\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_LOGIN_GAME_END: string = \"EVENT_LOGIN_GAME_END\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_ENTER_MAIN: string = \"EVENT_ENTER_MAIN\";\t\t\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_CHANGE_HEAD: string = \"EVENT_CHANGE_HEAD\";\r\n\t\t//========================================\r\n\t\t/*\r\n\t\t\t\r\n\t\t*/\r\n\t\tpublic static EVENT_MODIFY_HEAD: string =\"EVENT_MODIFY_HEAD\"\r\n\t\t////////////////////////////////////////////////////////////////////////////////////////////\r\n\t\t////////////////////////////////////////////////////////////////////////////////////////////\r\n\t\t//\r\n\t\t//\t \r\n\t\t//\r\n\t\t////////////////////////////////////////////////////////////////////////////////////////////\r\n\t\t////////////////////////////////////////////////////////////////////////////////////////////\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_ITEM_UPDATE: string = \"EVENT_ITEM_UPDATE\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_ROLE_UPDATE: string = \"EVENT_ROLE_UPDATE\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static STAGE_ON_BLUR: string = \"STAGE_ON_BLUR\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static STAGE_ON_FOCUS: string = \"STAGE_ON_FOCUS\";\r\n\r\n\t\t/** */\r\n\t\tpublic static ACCOUNTVO_UPDATE: string = \"ACCOUNTVO_UPDATE\";\r\n\t\t\r\n\t\t\r\n\t\t////////////////////////////////////////////////////////////////////////////////////////////\r\n\t\t////////////////////////////////////////////////////////////////////////////////////////////\r\n\t\t//\r\n\t\t//\t \r\n\t\t//\r\n\t\t////////////////////////////////////////////////////////////////////////////////////////////\r\n\t\t////////////////////////////////////////////////////////////////////////////////////////////\r\n\t\t\r\n\r\n\t\t/** *   */\t\t\r\n\t\tpublic static EVENT_CHECK_ICON_SELECT: string = \"EVENT_CHECK_ICON_SELECT\";\r\n\r\n\t\t/** *   */\t\t\r\n\t\tpublic static PACKAGE_UPDATE_ITEM: string = \"PACKAGE_UPDATE_ITEM\";\r\n\t\t/** *   */\t\t\r\n\t\tpublic static IMPROVE_SUCESS_EVENT: string = \"IMPROVE_SUCESS_EVENT\";\r\n\r\n\t\t/** **/\r\n\t\tpublic static CHANG_POTRAIT: string = \"CHANG_POTRAIT\";\r\n\t\t/** *   */\t\t\r\n\t\tpublic static ROLE_INFO_CHANGE: string = \"ROLE_INFO_CHANGE\";\r\n\t\t/** *   */\t\t\r\n\t\tpublic static UPDATE_ASSETS: string = \"UPDATE_ASSETS\";\r\n\t\t/** **/\r\n\t\tpublic static REFRESH_MAIN_TASK: string = \"REFRESH_MAIN_TASK\";\r\n\t\t/** **/\r\n\t\tpublic static RECIVE_SUCESS_SERVICE: string = \"RECIVE_SUCESS_SERVICE\";\r\n\t\tpublic static SCENE_ROLE_COMPELTE: string = \"SCENE_ROLE_COMPELTE\";\r\n\t\tpublic static FITTING_CLOTH_BTN: string = \"FITTING_CLOTH_BTN\";\r\n\t\t\r\n\t\t/** **/\r\n\t\tpublic static STORE_CLICKBG_EVENT: string = \"STORE_CLICKBG_EVENT\";\r\n\t\t/** **/\r\n\t\tpublic static CLOSE_BG_VIEW: string = \"CLOSE_BG_VIEW\";\r\n\t\t/** **/\r\n\t\tpublic static EVENT_UPDATE_ONLINE: string = \"EVENT_UPDATE_ONLINE\";\r\n\t\t/** *  vip  */\t\t\r\n\t\tpublic static VIP_INFO_CHANGE: string = \"VIP_INFO_CHANGE\";\r\n\t\t/** *    */\r\n\t\tpublic static EVENT_FUNCTION_OPEN_UPDATE: string = \"EVENT_FUNCTION_OPEN_UPDATE\";\r\n\t\t/** *    */\r\n\t\tpublic static EVENT_ADD_ACTIVITY: string = \"EVENT_ADD_ACTIVITY\";\r\n\t\t/** *    */\r\n\t\tpublic static EVENT_REMOVE_ACTIVITY: string = \"EVENT_REMOVE_ACTIVITY\";\r\n\r\n\t\tpublic static UPDATE_CHAO_PIAO: string = \"UPDATE_CHAO_PIAO\";\r\n\t\tpublic static UPDATE_EXCHANGE_INFO: string = \"UPDATE_EXCHANGE_INFO\";\r\n\t\tpublic static UPDATE_RED_STATE_EVENT: string = \"UPDATE_RED_STATE_EVENT\"\r\n\t\t\r\n\t\t/** *   */\r\n\t\tpublic static SYSTEM_OPEN_TIME_INITED: string = \"SYSTEM_OPEN_TIME_INITED\"; \r\n\t\t/** *   */\r\n\t\tpublic static EVENT_OPEN_SHARE: string = \"EVENT_OPEN_SHARE\"; \r\n\t \r\n\t\tpublic static CHANGE_SCENE_BASE_ROLE_LAYER: string = \"CHANGE_SCENE_BASE_ROLE_LAYER\";\r\n\t\t/** *    */\r\n\t\tpublic static EVENT_CLICK_NUM: string = \"EVENT_CLICK_NUM\";\r\n\t\t\r\n\r\n\r\n\r\n    \tpublic static EVENT_HERO_DRAW_BACK: string = \"EVENT_HERO_DRAW_BACK\";\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_ENTER_MATCH_ROOM: string = \"EVENT_ENTER_MATCH_ROOM\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static UPDATE_KILL_NUM: string = \"UPDATE_KILL_NUM\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_RESTORE_DATA: string = \"EVENT_RESTORE_DATA\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_FirstBlood: string = \"EVENT_FirstBlood\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_MutiKill: string = \"EVENT_MutiKill\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_GameScene_Gray: string = \"EVENT_GameScene_Gray\";\r\n\t\t/**\r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic static EVENT_UPDATE_GLOBAL_COOL: string = \"EVENT_UPDATE_GLOBAL_COOL\";\r\n\r\n\r\n\r\n\r\n\r\n\r\n}", "export class Signal extends Laya.EventDispatcher {\r\n    private static _instance: Signal;\r\n    public static get intance(): Signal {\r\n        if(Signal._instance ) {\r\n            return Signal._instance\r\n        } \r\n        Signal._instance = new Signal();\r\n        return Signal._instance;\r\n    }\r\n}", "import {IBaseView} from \"./IBaseView\";\r\nimport {GameResourceManager} from \"../GameResourceManager\";\r\nimport {LayerManager} from \"../LayerManager\";\r\nimport {ModuleManager} from \"../ModuleManager\";\r\nimport {SceneManager} from \"../SceneManager\";\r\nimport {SoundMgr} from \"../SoundMgr\";\r\nimport {ModuleName} from \"../../global/ModuleName\";\r\nimport {GameEvent} from \"../../global/event/GameEvent\";\r\nimport {Signal} from \"../../global/event/Signal\";\r\nexport default class BaseDialog extends Laya.Script implements IBaseView {\r\n    protected _view: Laya.Scene;\r\n    public m_iLayerType: number;\r\n    public m_iPositionType: number;\r\n    public m_canTouch_all: boolean;\r\n    public m_ioffsetX: number = 0;\r\n    public m_ioffsetY: number = 0;\r\n    public m_strName: string;\r\n    public m_helpId: number;\r\n    public selfMaskAlpha: number;\r\n    private m_arrMapEvent: any[];\r\n    public canClickMask: boolean;\r\n    public maskLayer: Laya.Sprite;\r\n    public useShowAnimation: boolean;\r\n    public useHideAnimation: boolean;\r\n    protected isAutoRealseRes: boolean;\r\n    protected newRoleSpr: Laya.Sprite;\r\n    protected isDispose: boolean;\r\n    public m_strSound: string;\r\n    public hideLoadingBySelf: boolean;\r\n    protected showAnimationEnd: boolean;\r\n    public constructor() {\r\n        super();\r\n    }\r\n    \r\n    onAdded(): void {\r\n        this.m_iLayerType = LayerManager.M_POP;\r\n        this.m_iPositionType = LayerManager.CENTER;\r\n        this.m_canTouch_all = false;\r\n        this.selfMaskAlpha = 0.8;\r\n        this.m_arrMapEvent = [];\r\n        this.canClickMask = true;\r\n        this.maskLayer = new Laya.Sprite();\r\n        this.useShowAnimation = true;\r\n        this.useHideAnimation = true;\r\n        this.isAutoRealseRes = true;\r\n        this.m_strSound = SoundMgr.soundName3;\r\n    }\r\n    protected onClickMask(event: Laya.Event): void {\r\n        if(this.canClickMask ) {\r\n            this.maskClose()\r\n        } \r\n    }\r\n    protected maskClose(): void {\r\n        this.close();\r\n    }\r\n    public onStageResize(): void {\r\n        // if(this.m_canTouch_all && this._view ) {\r\n        //     this._view.size(Laya.stage.width, Laya.stage.height);\r\n        // } \r\n        // this.setUiPosition();\r\n    }\r\n\r\n    onEnable(): void {\r\n        //OpenScene runtime \r\n        this._view = this.owner as Laya.Scene;\r\n        \r\n        this._view.addChild(this.maskLayer);\r\n\r\n        this.createUI();\r\n        this.createUIEnd();\r\n        this.initializeLater();\r\n    }\r\n    public createUI(): void {\r\n        \r\n    }\r\n    public createUIEnd(): void {\r\n        \r\n    }\r\n\r\n    initializeLater() {\r\n        this._addEvent();\r\n        // this.setUiPosition();\r\n        this.initData();\r\n        if(this.useShowAnimation ) {\r\n            this._view.visible = false;\r\n            this.showAnimationEnd = false;\r\n            Laya.timer.frameOnce(5, this, this.popTimeOut, [this._view]);\r\n        } else {\r\n            this.showAnimationEnd = true\r\n        }\r\n    }\r\n    protected popTimeOut(_sprite: Laya.Sprite): void {\r\n        Laya.timer.clear(this, this.popTimeOut);\r\n        _sprite.scale(0.5, 0.5);\r\n        _sprite.visible = true;\r\n        Laya.Tween.to(_sprite, {scaleX: 1, scaleY: 1, ease: Laya.Ease.backOut}, 300, null, Laya.Handler.create(this, this.onShowAnimationEnd), 2);\r\n        SoundMgr.instance.playSoundByName(this.m_strSound);\r\n        this._view.event(Laya.Event.OPEN);\r\n    }\r\n    protected onShowAnimationEnd(): void {\r\n        this.showAnimationEnd = true;\r\n    }\r\n    private _addEvent(): void {\r\n        this.maskLayer.on(Laya.Event.CLICK, this, this.onClickMask);\r\n        Laya.stage.on(Laya.Event.RESIZE, this, this.onStageResize);\r\n        if(this.btn_com_back ) {\r\n            this.btn_com_back.on(Laya.Event.CLICK, this, this.onBack)\r\n        } \r\n        if(this.btn_com_help ) {\r\n            this.btn_com_help.on(Laya.Event.CLICK, this, this.onHelp)\r\n        } \r\n        this.addEvent();\r\n    }\r\n    public addEvent(): void {\r\n        \r\n    }\r\n    public initData(): void {\r\n        \r\n    }\r\n    private _removeEvent(): void {\r\n        this.maskLayer.offAll();\r\n        Laya.stage.off(Laya.Event.RESIZE, this, this.onStageResize);\r\n        this.removeEvent();\r\n    }\r\n    public removeEvent(): void {\r\n        \r\n    }\r\n    public addMapEvent(target: Laya.Sprite, type: string, caller: any, listener: Function, args: any[] = null): void {\r\n        target.on(type, caller, listener, args);\r\n        this.m_arrMapEvent.push(target);\r\n    }\r\n    public removeAllMapEvent(): void {\r\n        if(!this.m_arrMapEvent ) {\r\n            return\r\n        } \r\n        for(let i: number = 0; i < this.m_arrMapEvent.length; i++) {\r\n            (this.m_arrMapEvent[i] as Laya.Sprite).offAll();\r\n        }\r\n        this.m_arrMapEvent.splice(0, this.m_arrMapEvent.length);\r\n    }\r\n\r\n    public dispose(): void {\r\n        if(this.newRoleSpr ) {\r\n            while(this.newRoleSpr.numChildren > 0) {\r\n                this.newRoleSpr.removeChildAt(0)\r\n            }\r\n            this.newRoleSpr = null;\r\n        } \r\n        this.isDispose = true;\r\n        ModuleManager.intance.removeViewFromModuleManger(this);\r\n        this.m_strName = null;\r\n        this.m_strSound = null;\r\n        this._removeEvent();\r\n        this.removeAllMapEvent();\r\n        Laya.Tween.clearAll(this._view);\r\n        this.m_arrMapEvent = null;\r\n        if(this.btn_com_back ) {\r\n            this.btn_com_back.offAll()\r\n        } \r\n        if(this.btn_com_help ) {\r\n            this.btn_com_help.offAll()\r\n        } \r\n        if(this.maskLayer ) {\r\n            Laya.timer.clearAll(this.maskLayer);\r\n            Laya.Tween.clearAll(this.maskLayer);\r\n            this.maskLayer.offAll();\r\n            this.maskLayer.graphics.destroy();\r\n            this.maskLayer.removeSelf();\r\n            this.maskLayer.destroy(true);\r\n        } \r\n        if(this.isAutoRealseRes ) {\r\n            GameResourceManager.instance.clearModuleUrl(this.m_strName);\r\n        } \r\n        if(this._view ) {\r\n            Laya.timer.clearAll(this._view);\r\n            Laya.Tween.clearAll(this._view);\r\n            this._view.offAll();\r\n            this._view.graphics.destroy();\r\n            this._view.removeSelf();\r\n            this._view.destroy(true);\r\n            this._view = null;\r\n        } \r\n        Laya.timer.clearAll(this);\r\n        Laya.Tween.clearAll(this);\r\n        // this.offAll();\r\n        // this.graphics.destroy();\r\n        // this.removeSelf();\r\n        // this.destroy(true);\r\n        Signal.intance.event(GameEvent.EVENT_CLOSE_MODULE);\r\n    }\r\n    protected sendData(cmdId: number, data: any[] = null): void {\r\n        if(data == null ) {\r\n            data = []\r\n        } \r\n    }\r\n    // public setUiPosition(): void {\r\n    //     let _posWidth: number;\r\n    //     let _posHeight: number;\r\n    //     _posWidth = Laya.stage.width;\r\n    //     _posHeight = Laya.stage.height;\r\n    //     if(this.maskLayer ) {\r\n    //         this.maskLayer.width = _posWidth;\r\n    //         this.maskLayer.height = _posHeight;\r\n    //         this.maskLayer.graphics.clear();\r\n    //         this.maskLayer.graphics.drawRect(0, 0, _posWidth, _posHeight, \"#000000\");\r\n    //         this.maskLayer.alpha = this.selfMaskAlpha >= 0 ? this.selfMaskAlpha : .5;\r\n    //     } \r\n    //     switch(this.m_iPositionType) {\r\n    //         case LayerManager.UP:\r\n    //         {\r\n    //             this._view.x = this.anchorX ? _posWidth / 2 : (_posWidth - this._view.width) / 2\r\n    //             this._view.y = 0\r\n    //         }\r\n    //         break;\r\n    //         case LayerManager.DOWN:\r\n    //         {\r\n    //             this._view.x = this.anchorX ? _posWidth / 2 : (_posWidth - this._view.width) / 2\r\n    //             this._view.y = _posHeight - this._view.height\r\n    //         }\r\n    //         break;\r\n    //         case LayerManager.LEFT:\r\n    //         {\r\n    //             this._view.x = 0\r\n    //             this._view.y = this.anchorY ? _posHeight / 2 : (_posHeight - this._view.height) / 2\r\n    //         }\r\n    //         break;\r\n    //         case LayerManager.RIGHT:\r\n    //         {\r\n    //             this._view.x = _posWidth - this._view.width\r\n    //             this._view.y = this.anchorY ? _posHeight / 2 : (_posHeight - this._view.height) / 2\r\n                \r\n            \r\n    //         }\r\n    //         break;\r\n    //         case LayerManager.LEFTUP:\r\n    //         {\r\n    //             this._view.x = 0\r\n    //             this._view.y = 0\r\n    //         }\r\n    //         break;\r\n    //         case LayerManager.RIGHTUP:\r\n    //         {\r\n    //             this._view.x = _posWidth - this._view.width\r\n    //             this._view.y = 0\r\n    //         }\r\n    //         break;\r\n    //         case LayerManager.LEFTDOWN:\r\n    //         {\r\n    //             this._view.x = 0\r\n    //             this._view.y = _posHeight - this._view.height\r\n    //         }\r\n    //         break;\r\n    //         case LayerManager.RIGHTDOWN:\r\n    //         {\r\n    //             this._view.x = _posWidth - this._view.width\r\n    //             this._view.y = _posHeight - this._view.height\r\n    //         }\r\n    //         break;\r\n    //         case LayerManager.CENTERLEFT:\r\n    //         {\r\n    //             this._view.x = _posWidth / 2 - this._view.width\r\n    //             this._view.y = this.anchorY ? _posHeight / 2 : (_posHeight - this._view.height) / 2\r\n                \r\n            \r\n    //         }\r\n    //         break;\r\n    //         case LayerManager.CENTERRIGHT:\r\n    //         {\r\n    //             this._view.x = _posWidth / 2\r\n    //             this._view.y = this.anchorY ? _posHeight / 2 : (_posHeight - this._view.height) / 2\r\n                \r\n            \r\n    //         }\r\n    //         break;\r\n    //         case LayerManager.CENTER:\r\n    //         {\r\n    //             this._view.pivotX = this._view.width / 2\r\n    //             this._view.pivotY = this._view.height / 2\r\n    //             this._view.x = this.anchorX ? _posWidth / 2 + this._view.pivotX : (_posWidth - this._view.width) / 2 + this._view.pivotX\r\n    //             this._view.y = this.anchorY ? _posHeight / 2 + this._view.pivotY : (_posHeight - this._view.height) / 2 + this._view.pivotY\r\n    //         }\r\n    //         break;\r\n    //         default:\r\n    //         break;\r\n    //     }\r\n    //     this._view.x += this.m_ioffsetX;\r\n    //     this._view.y += this.m_ioffsetY;\r\n    // }\r\n    public close(type: string = null): void {\r\n        if(this.useHideAnimation && this._view ) {\r\n            Laya.Tween.to(this._view, {scaleX: 0.5, scaleY: 0.5, ease: Laya.Ease.backIn}, 200, null, Laya.Handler.create(this, this.dispose, null), 2);\r\n        } else {\r\n            this.dispose();\r\n        }\r\n    }\r\n    public static closeAll(): void {\r\n        ModuleManager.intance.closeAll();\r\n    }\r\n    public backToPreScene(): void {\r\n        let preSceneData: any[] = SceneManager.intance.getPreSceneData();\r\n        SceneManager.intance.setCurrentScene(preSceneData[0], preSceneData[1], preSceneData[2], preSceneData[3], false);\r\n    }\r\n    protected get btn_com_back(): Laya.Button {\r\n        if(!this._view ) {\r\n            return null\r\n        } \r\n        let backBtn: Laya.Button = this._view.getChildByName(\"btn_com_back\") as Laya.Button;\r\n        return backBtn;\r\n    }\r\n    protected get btn_com_help(): Laya.Button {\r\n        if(!this._view ) {\r\n            return null\r\n        } \r\n        return this._view.getChildByName(\"btn_com_help\") as Laya.Button;\r\n    }\r\n    protected onHelp(): void {\r\n        if(this.m_helpId ) {\r\n            ModuleManager.intance.openModule(ModuleName.HelpDialog, this.m_helpId)\r\n        } \r\n    }\r\n    protected onBack(): void {\r\n        this.close();\r\n    }\r\n}", "import {LoadingManager} from \"./LoadingManager\";\r\nimport {GameResourceManager} from \"./GameResourceManager\";\r\nimport {LayerManager} from \"./LayerManager\";\r\nimport BaseDialog from \"./base/BaseDialog\";\r\nimport {IBaseView} from \"./base/IBaseView\";\r\nimport {GameEvent} from \"../global/event/GameEvent\";\r\nimport {Signal} from \"../global/event/Signal\";\r\nimport {Dictionary} from \"../util/Dictionary\";\r\nexport class ModuleManager extends Laya.DialogManager {\r\n    private static _instance: ModuleManager;\r\n    public views: Dictionary = new Dictionary();\r\n    public constructor() {\r\n        super();\r\n        if(ModuleManager._instance ) {\r\n            throw new Error(\"LayerManager,new.\");\r\n        } \r\n        ModuleManager._instance = this;\r\n        Laya.Dialog.manager = this;\r\n    }\r\n    public static get intance(): ModuleManager {\r\n        if(ModuleManager._instance ) {\r\n            return ModuleManager._instance\r\n        } \r\n        ModuleManager._instance = new ModuleManager();\r\n        return ModuleManager._instance;\r\n    }\r\n    public openModule(moduleName: string, data: any = null): void {\r\n        Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, [moduleName, data]);\r\n    }\r\n    public hasOpenView(moduleName: string): boolean {\r\n        return this.views.get(moduleName) != null;\r\n    }\r\n    public getOpenView(moudleName: string): any {\r\n        return this.views.get(moudleName);\r\n    }\r\n    public disposeView(moudleName: string): any {\r\n        if(this.getOpenView(moudleName) ) {\r\n            let temp: any = this.getOpenView(moudleName);\r\n            if(temp instanceof Array ) {\r\n                for(let i: number = 0; i < temp.length; i++) {\r\n                    (temp[i] as Laya.Dialog).close();\r\n                }\r\n            } else {\r\n                (temp as Laya.Dialog).close();\r\n            }\r\n        } \r\n    }\r\n    public init(): void {\r\n        Signal.intance.on(GameEvent.EVENT_OPEN_MODULE, this, this.onModulePanel);\r\n        Signal.intance.on(GameEvent.EVENT_CLOSE_MODULE, this, this.disposeView);\r\n    }\r\n    public initMainView(): void {\r\n        \r\n    }\r\n    private m_arrLoadingArr: any[] = [];\r\n    private onModulePanel(name: string, data: any = null): void {\r\n        console.log(\"ModuleManager.onModulePanel moudleName:\" + name);\r\n        if(this.m_arrLoadingArr.indexOf(name) != -1 ) {\r\n            return;\r\n        } \r\n        if(this.getOpenView(name) ) {\r\n            return;\r\n        } \r\n        // if(GameSetting.m_bInstantGame == true && name == ModuleName.RechargeDialog ) {\r\n        //     let str: any = GameLanguageMgr.instance.getLanguage(500004);\r\n        //     AlertManager.instance().AlertByType(AlertType.BASEALERTVIEW, str, AlertType.YES);\r\n        //     return;\r\n        // } \r\n        LoadingManager.instance.showLoading(false);\r\n        this.m_arrLoadingArr.push(name);\r\n        GameResourceManager.instance.loadModuleUrl(name, Laya.Handler.create(this, this.onLoaded, [name, data]));\r\n    }\r\n    private onLoaded(className: string, data: any = null): void {\r\n        let index: number = this.m_arrLoadingArr.indexOf(className);\r\n        if(index != -1 ) {\r\n            this.m_arrLoadingArr.splice(index, 1);\r\n        } \r\n        let baseView: any;\r\n        // let compClass: any = Laya.ClassUtils.getClass(className);\r\n        // if(compClass ) {\r\n            var moduleView = GameResourceManager.instance.m_objModuleViews[className];\r\n            Laya.loader.load(moduleView).then(res=> {\r\n                \r\n                    baseView = <Laya.Box>res.create();\r\n                    if(data ) {\r\n                        baseView.setOpenData(data);\r\n                    }\r\n\r\n                baseView.m_strName = className;\r\n                // } \r\n                if(baseView instanceof Laya.Box ) {\r\n                    LayerManager.instence.addToLayer(baseView, baseView.m_iLayerType);\r\n                    LayerManager.instence.setPosition(baseView, baseView.m_iPositionType, baseView.m_ioffsetX, baseView.m_ioffsetY);\r\n                    this.addViewToModuleManger(baseView);\r\n                } else if(baseView instanceof Laya.Dialog ) {\r\n                    let baseDialog: Laya.Dialog = baseView as Laya.Dialog;\r\n                    if(baseDialog.m_iLayerType == LayerManager.M_POP){\r\n                        baseDialog.isModal = true;\r\n                        baseDialog.isShowEffect = true;\r\n                        this.open(baseDialog, false, true)\r\n\r\n                    }else{\r\n                        baseDialog.isShowEffect = false;\r\n                        this.open(baseDialog)\r\n                    }\r\n                    \r\n                    // LayerManager.instence.addToLayer(baseDialog, baseDialog.m_iLayerType);\r\n                    this.addViewToModuleManger(baseDialog);\r\n                } \r\n                if(baseView ) {\r\n                    Signal.intance.event(GameEvent.EVENT_MODULE_ADDED, baseView);\r\n                } \r\n                if(!baseView.hideLoadingBySelf) {\r\n                    LoadingManager.instance.hideLoading()\r\n                } \r\n            });\r\n\r\n\r\n            \r\n\r\n    }\r\n    private addViewToModuleManger(baseView: any): void {\r\n        let viewName: string = baseView.m_strName;\r\n        if(!this.views.get(viewName) ) {\r\n            this.views.set(viewName, baseView)\r\n        } else {\r\n            if(this.views.get(viewName) instanceof Array ) {\r\n                this.views.get(viewName).push(baseView);\r\n            } else {\r\n                this.views.set(viewName, [this.views.get(viewName), baseView]);\r\n            }\r\n        }\r\n        this.on(Laya.Event.CLOSE, this, this.removeViewFromModuleManger);\r\n        // baseView.on(Laya.Event.CLOSE, this, this.removeViewFromModuleManger);\r\n    }\r\n    public removeViewFromModuleManger(baseView: any): void {\r\n        \r\n        if(!baseView || !this.views) {\r\n            return\r\n        }\r\n        let viewName: string = baseView.m_strName;\r\n        console.log(\"removeViewFromModuleManger viewName: \" + viewName);\r\n        baseView.off(Laya.Event.CLOSE, this, this.removeViewFromModuleManger);\r\n        let viewDetail: any = this.views.get(viewName);\r\n        if(viewDetail instanceof Array ) {\r\n            let delectIndex: number = viewDetail.indexOf(baseView);\r\n            if(delectIndex != -1 ) {\r\n                viewDetail.splice(delectIndex, 1);\r\n                if(viewDetail.length == 0 ) {\r\n                    this.views.remove(viewName)\r\n                } \r\n            } \r\n        } else {\r\n            this.views.remove(viewName);\r\n        }\r\n    }\r\n    public closeAll(): void {\r\n        let temps: any[] = [];\r\n        for(let viewDetail of this.views.values) {\r\n            if(viewDetail instanceof Array ) {\r\n                for(let i: number = 0; i < viewDetail.length; i++) {\r\n                    let viewItemDetail: any = viewDetail[i];\r\n                    if(viewItemDetail instanceof BaseDialog ) {\r\n                        temps.push(viewItemDetail)\r\n                    } \r\n                }\r\n            } else {\r\n                if(viewDetail instanceof BaseDialog ) {\r\n                    temps.push(viewDetail)\r\n                } \r\n            }\r\n        }\r\n        for(let j: number = 0; j < temps.length; j++) {\r\n            temps[j].dispose();\r\n        }\r\n        temps = [];\r\n        super.closeAll();\r\n    }\r\n\r\n        /**\r\n     * \r\n     * @param dialog  <code>Dialog</code> \r\n     */\r\n        doClose(dialog: Laya.Dialog): void {\r\n            super.doClose(dialog);\r\n            // this._clearDialogEffect(dialog);\r\n            // if (dialog.isShowEffect && dialog.closeEffect != null) dialog.closeEffect.runWith([dialog]);\r\n            // else this.doClose(dialog);\r\n            this.event(Laya.Event.CLOSE, dialog);\r\n        }\r\n}", "import {GameResourceManager} from \"./GameResourceManager\";\r\nimport {IGameDispose} from \"../global/GameInterface/IGameDispose\";\r\nexport class SceneLoadMgr {\r\n    public constructor() {\r\n        \r\n    }\r\n    private static _instance: SceneLoadMgr;\r\n    public static get instance(): SceneLoadMgr {\r\n        if(!SceneLoadMgr._instance ) {\r\n            SceneLoadMgr._instance = new SceneLoadMgr();\r\n        } \r\n        return SceneLoadMgr._instance;\r\n    }\r\n    private _mapUrl: string = \"\";\r\n    private _mapWidth: number = 0;\r\n    private _mapHeight: number = 0;\r\n    private _gridWidth: number = 0;\r\n    private _gridHeight: number = 0;\r\n    private _xPics: number = 0;\r\n    private _yPics: number = 0;\r\n    private _fuzzySprite: Laya.Sprite;\r\n    private _fuzzyName: string = \"\";\r\n    private _fuzzyCallBack: Laya.Handler;\r\n    public loadScene(mapWidth: number, mapHeight: number, gridWidth: number, gridHeight: number, _mapImg: Laya.Sprite, _mapName: string, _callBack: Laya.Handler): void {\r\n        if(this._fuzzyName != \"\" && this._fuzzyName != _mapName ) {\r\n            this.dispose();\r\n        } \r\n        this._mapWidth = mapWidth;\r\n        this._mapHeight = mapHeight;\r\n        this._gridWidth = gridWidth;\r\n        this._gridHeight = gridHeight;\r\n        this._fuzzySprite = _mapImg;\r\n        this._xPics = Math.floor(this._mapWidth / gridWidth);\r\n        this._yPics = Math.floor(this._mapHeight / gridHeight);\r\n        this._fuzzyName = _mapName;\r\n        this._fuzzyCallBack = _callBack;\r\n        let _altlasXmlUrl: string = GameResourceManager.instance.setResURL(\"scene/subScene/test1/\" + _mapName + \".json\");\r\n        Laya.loader.load([{url: _altlasXmlUrl, type: Laya.Loader.ATLAS}], Laya.Handler.create(this, this.loadSceneComplete), Laya.Handler.create(this, this.loadProcess, null, false), null, 0, true, null, true);\r\n    }\r\n    private loadProcess(): void {\r\n        \r\n    }\r\n    private loadSceneComplete(): void {\r\n        let _nima: any = Laya.Loader.getAtlas(GameResourceManager.instance.setResURL(\"scene/subScene/test1/\" + this._fuzzyName + \".json\"));\r\n        if(this._fuzzySprite ) {\r\n            this._fuzzySprite.graphics.clear();\r\n            let _index: number = 0;\r\n            let sprite: Laya.Sprite = new Laya.Sprite();\r\n            sprite.name = \"mapSprite\";\r\n            this._fuzzySprite.addChildAt(sprite, 0);\r\n            for(let a: number = 0; a < this._yPics; a++) {\r\n                for(let b: number = 0; b < this._xPics; b++) {\r\n                    let _textures: Laya.Texture = Laya.loader.getRes(_nima[_index]);\r\n                    let img: Laya.Image = new Laya.Image();\r\n                    sprite.addChild(img);\r\n                    img.texture = _textures;\r\n                    img.size(_textures.width, _textures.height);\r\n                    img.pos(b * this._gridWidth, a * this._gridHeight);\r\n                    _index++;\r\n                }\r\n            }\r\n        } \r\n        if(this._fuzzyCallBack != null ) {\r\n            this._fuzzyCallBack.run();\r\n        } \r\n    }\r\n    public dispose(): void {\r\n        this._fuzzyCallBack = null;\r\n        if(this._fuzzyName && this._fuzzyName != \"\" ) {\r\n            Laya.loader.clearRes(GameResourceManager.instance.setResURL(\"atlas/\" + this._fuzzyName + \".json\"))\r\n        } \r\n    }\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2023-12-10 10:00:22\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2023-12-25 22:01:57\r\n */\r\nexport class SceneType {\r\n    public static M_SCENE_MAIN: string = \"M_SCENE_MAIN\"; \r\n    public static M_SCENE_SHOP: string = \"M_SCENE_SHOP\";\r\n    public static M_SCENE_HERO: string = \"M_SCENE_HERO\";\r\n    \r\n    public static M_SCENE_PRE_LOAD: string = \"M_SCENE_PRE_LOAD\";\r\n    public static M_SCENE_MATCH_READY: string = \"M_SCENE_MATCH_READY\";\r\n    public static M_SCENE_MATCH: string = \"M_SCENE_MATCH\";\r\n\r\n    public static M_SCENE_AFKBATTLE: string = \"M_SCENE_AFKBATTLE\";\r\n    \t\t\r\n\t\t/**\r\n\t\t *  \r\n\t\t */        \r\n\t\tpublic static M_SCENE_GUILD:string = \"M_SCENE_GUILD\";\r\n    \t\t\r\n\t\t/**\r\n\t\t *  \r\n\t\t */        \r\n\t\tpublic static M_SCENE_RANK:string = \"M_SCENE_RANK\";\r\n\r\n    //===============================\r\n    public static M_SCENE_UNIONWAR: string = \"M_SCENE_UNIONWAR\";\r\n    public static M_SCENE_DIG: string = \"M_SCENE_DIG\";\r\n    public static M_SCENE_MAIL: string = \"M_SCENE_MAIL\";\r\n\r\n    public static M_SCENE_KNAPSACK: string = \"M_SCENE_KNAPSACK\";\r\n    public static M_SCENE_UNION: string = \"M_SCENE_UNION\";\r\n\r\n    public static M_SCENE_ARENA: string = \"M_SCENE_ARENA\";\r\n\r\n    \r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-06 16:29:41\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-13 20:37:31\r\n * @Description: \r\n */\r\nimport {LayerManager} from \"../../common/LayerManager\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { TxtNoticeView } from \"./TxtNoticeView\";\r\nexport class NoticeMgr {\r\n    private static _instance: NoticeMgr;\r\n    private _list: any[] = [];\r\n    public static Tip_Interval: number = 1000;\r\n    private _isNoticing: boolean = false;\r\n    private _isListener: boolean = false;\r\n    public static get instance(): NoticeMgr {\r\n        if(!NoticeMgr._instance ) {\r\n            NoticeMgr._instance = new NoticeMgr();\r\n        } \r\n        return NoticeMgr._instance;\r\n    }\r\n    public constructor() {\r\n        \r\n    }\r\n    public notice(value: any): void {\r\n        if(!this._isNoticing ) {\r\n            this._list.push(value);\r\n            this.noticeOne();\r\n        } else {\r\n            if(!this._isListener ) {\r\n                this._isListener = true;\r\n                this._list.push(value);\r\n                Laya.timer.loop(NoticeMgr.Tip_Interval, this, this.onInterVal);\r\n            } \r\n        }\r\n    }\r\n    private noticeOne(): void {\r\n\r\n        var moduleView = GameResourceManager.instance.m_objModuleViews[\"TxtNoticeView\"];\r\n        let noticeView: TxtNoticeView;\r\n        \r\n        Laya.loader.load(moduleView).then(res=> {\r\n            if(!res){\r\n                console.log(\"noticeOne : \" + moduleView + \"  res is null\");\r\n                return;\r\n            }\r\n\r\n            noticeView = Laya.Pool.getItemByCreateFun(\"myPrefab\", res.create, res);\r\n            \r\n\r\n            let notice: any = this._list.shift();\r\n\r\n            // if(\"string\"==typeof notice||notice instanceof String || !isNaN(notice) ) {\r\n            \r\n            //     noticeView.notice = notice;\r\n            // }\r\n            // noticeView.m_strName = \"TxtNoticeView\";\r\n\r\n        \r\n            noticeView.notice(notice);\r\n            Laya.stage.addChild(noticeView);\r\n            noticeView.x = LayerManager.instence.stageWidth * 0.5 - noticeView.width * 0.5;\r\n            noticeView.y = LayerManager.instence.stageHeight * 0.5 - noticeView.height * 0.5;\r\n            Laya.Tween.to(noticeView, {\"y\": noticeView.y - 50, \"alpha\": 0}, 2000, null, Laya.Handler.create(this, this.onFinish, [noticeView]));\r\n            \r\n        });\r\n        \r\n        \r\n    }\r\n\r\n    private onFinish(view: TxtNoticeView): void {\r\n        if(view ) {\r\n            view.visible = false;\r\n            view.removeSelf();\r\n        } \r\n    }\r\n    private onInterVal(): void {\r\n        if(this._list.length >= 1 ) {\r\n            this.noticeOne()\r\n        } else {\r\n            this._isNoticing = false;\r\n            this._isListener = false;\r\n            Laya.timer.clear(this, this.onInterVal);\r\n        }\r\n    }\r\n}", "import {GameLanguageMgr} from \"./GameLanguageMgr\";\r\nimport {NoticeMgr} from \"../module/notice/NoticeMgr\";\r\nexport class ErrorPopManager {\r\n    private static _instance: ErrorPopManager;\r\n    public static get instance(): ErrorPopManager {\r\n        if(!ErrorPopManager._instance ) {\r\n            ErrorPopManager._instance = new ErrorPopManager();\r\n        } \r\n        return ErrorPopManager._instance;\r\n    }\r\n    public errData: any;\r\n    private _curErrTxt: string = \"\";\r\n    public constructor() {\r\n        \r\n    }\r\n    public initErrData(_data: any): void {\r\n        this.errData = _data;\r\n    }\r\n    public get(id: any): string {\r\n        if(this.errData[id])\r\n            return this.errData[id][\"words\"];\r\n        else{\r\n            console.warn(\" \" + id);\r\n            return id;\r\n        }\r\n            \r\n    }\r\n    public showErrorWord(id: number, para: number = 999999): void {\r\n        if(this.errData[id] && this.errData[id].hasOwnProperty(\"words\") ) {\r\n            this._curErrTxt = this.errData[id][\"words\"];\r\n            if(para != 999999 ) {\r\n                this._curErrTxt = GameLanguageMgr.instance.replacePlaceholder(this._curErrTxt, [para]);\r\n            } \r\n        } else {\r\n            this._curErrTxt = \"\" + id;\r\n        }\r\n        NoticeMgr.instance.notice(this._curErrTxt);\r\n    }\r\n    public showErrByString(value: string, color: string = \"#ff0000\"): void {\r\n        this._curErrTxt = value;\r\n        let _txt: Laya.Label = new Laya.Label(this._curErrTxt);\r\n        _txt.width = 500;\r\n        _txt.align = \"center\";\r\n        _txt.height = 40;\r\n        _txt.fontSize = 26;\r\n        _txt.color = color;\r\n        _txt.mouseEnabled = false;\r\n        _txt.strokeColor = \"#000000\";\r\n        _txt.stroke = 0.5;\r\n        Laya.stage.addChild(_txt);\r\n        _txt.x = (Laya.stage.width - _txt.width) / 2;\r\n        _txt.y = (Laya.stage.height - _txt.height) / 2;\r\n        Laya.Tween.to(_txt, {y: _txt.y - 100, alpha: 0}, 500, null, Laya.Handler.create(this, this.completeHandler, [_txt]), 1000);\r\n    }\r\n    private completeHandler(value: Laya.Label): void {\r\n        if(value && value.parent ) {\r\n            value.parent.removeChild(value);\r\n        } \r\n    }\r\n    public dispose(): void {\r\n        this.errData = null;\r\n    }\r\n}", "import {GameLanguageMgr} from \"../../../../common/GameLanguageMgr\";\r\nimport {GameResourceManager} from \"../../../../common/GameResourceManager\";\r\nimport {CustomerLvVo} from \"../../../vo/npc/CustomerLvVo\";\r\nimport {NpcFaceVo} from \"../../../vo/npc/NpcFaceVo\";\r\nimport {NpcInfo} from \"../../../vo/npc/NpcInfo\";\r\nimport {Dictionary} from \"../../../../util/Dictionary\";\r\nexport class NpcModel {\r\n    public npcMap: Dictionary;\r\n    public npcFaceMap: Dictionary;\r\n    public comstomerLvMap: Dictionary;\r\n    public constructor() {\r\n        \r\n    }\r\n    public parseJson(): void {\r\n        if(this.npcMap == null ) {\r\n            this.npcMap = new Dictionary();\r\n            let json: any = GameResourceManager.instance.getResByURL(\"config/boutique_quest_customer.json\");\r\n            let npcVo: NpcInfo;\r\n            for(let npc of json) {\r\n                npcVo = npc;\r\n                npcVo.name = GameLanguageMgr.instance.getLanguage(npcVo.name);\r\n                npcVo.intro = GameLanguageMgr.instance.getLanguage(npcVo.intro);\r\n                this.npcMap.set(npcVo.id, npcVo);\r\n            }\r\n        } \r\n    }\r\n    public parseNpcFace(): void {\r\n        if(!this.npcFaceMap ) {\r\n            this.npcFaceMap = new Dictionary();\r\n            let faceVo: NpcFaceVo;\r\n            let json: any = GameResourceManager.instance.getResByURL(\"config/npc_face.json\");\r\n            for(let face of json) {\r\n                faceVo = face;\r\n                this.npcFaceMap.set(faceVo.id, faceVo);\r\n            }\r\n        } \r\n    }\r\n    public npcFaceVo(id: any): NpcFaceVo {\r\n        this.parseNpcFace();\r\n        return this.npcFaceMap.get(id);\r\n    }\r\n    public getNpcVo(id: number): NpcInfo {\r\n        if(this.npcMap == null ) {\r\n            this.parseJson();\r\n        } \r\n        return this.npcMap.get(id);\r\n    }\r\n    public parseComstomerLv(): void {\r\n        if(!this.comstomerLvMap ) {\r\n            this.comstomerLvMap = new Dictionary();\r\n            let lv: CustomerLvVo;\r\n            let json: any = GameResourceManager.instance.getResByURL(\"config/boutique_customer_level.json\");\r\n            for(let info of json) {\r\n                lv = info;\r\n                this.comstomerLvMap.set(lv.level, lv);\r\n            }\r\n        } \r\n    }\r\n    public getComstomerLv(lv: any): CustomerLvVo {\r\n        this.parseComstomerLv();\r\n        return this.comstomerLvMap.get(lv);\r\n    }\r\n}", "export class EnumFunctionId {\r\n    public static FUNID_MALL: string = \"1004\";\r\n    public static FUN_ID_TAGGARDEN: string = \"2005\";\r\n    public static FunID_WORK: string = \"1006\";\r\n    public static FUN_ID_BARGAIN_SHOP: string = \"1007\";\r\n    public static TRAVEL_HARD: string = \"1012\";\r\n    public static TRAVEL_REWARD: string = \"3006\";\r\n    public static FUNID_TUJIAN: string = \"2105\";\r\n    public static FUN_ID_PARTY: string = \"7003\";\r\n    public static FUN_ID_FB: string = \"9010\";\r\n    public static FUN_ID_PET: string = \"9004\";\r\n    public static FUN_ID_TURNTABLE: string = \"9001\";\r\n    public static FUN_ID_GASHPOEN: string = \"9012\";\r\n    public static FUN_ID_SHOPEXCHANGE: string = \"2104\";\r\n    public static FUN_ID_TIME_STAGE: string = \"9014\";\r\n    public static FUN_ID_DRAWCARD_PVP: string = \"1008613\";\r\n    public static FUN_ID_PHONE: string = \"2004\";\r\n    public static FUN_ID_DS: string = \"9017\";\r\n    public static FUN_ID_BUY_PS: string = \"9030\";\r\n    public static FUN_ID_DESTINY: string = \"3020\";\r\n    public static FUN_ID_ACTIVITY_SHOP: string = \"9026\";\r\n    public static FUN_ID_WORKSHOP_RECYCLE: string = \"3002\";\r\n    public static FUN_ID_WORKSHOP_COLOR: string = \"3004\";\r\n    public static FUN_ID_WORKSHOP_UPGRADE: string = \"3003\";\r\n    public static FUN_ID_GUILD: string = \"1010\";\r\n    public static FUN_ID_VIP: string = \"9022\";\r\n    public static FUN_ID_MONTHCARD: string = \"9100\";\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2023-12-11 14:24:58\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2023-12-17 17:00:09\r\n */\r\nimport {FunctionRedStateVo} from \"./FunctionRedStateVo\";\r\nimport {GameResourceManager} from \"../../../../common/GameResourceManager\";\r\nimport {GameSetting} from \"../../../GameSetting\";\r\nimport {EnumFunctionId} from \"../../enumData/EnumFunctionId\";\r\nimport {SystemOpenVO} from \"../../../vo/SystemOpenVO\";\r\nimport {Dictionary} from \"../../../../util/Dictionary\";\r\nexport class SysteSheetModel {\r\n    private _openTypeList: Dictionary;\r\n    public bafflesInfo: any[] = [[330, 740, 9], [294, 113.95, 1], [712.95 - 80, 343.45, 3], [1251.35, 125.95, 7]];\r\n    public m_dicSystemInfoCfg: Dictionary;\r\n    public redHotStateMap: Dictionary = new Dictionary();\r\n    public hasRedState(funId: any): number {\r\n        let vo: FunctionRedStateVo = this.redHotStateMap.get(funId + \"\");\r\n        if(vo){\r\n            if(vo.redState>0)\r\n                return vo.redState;\r\n        }\r\n        return 0;\r\n    }\r\n    public openSystem: Dictionary = new Dictionary();\r\n    public updateSystems: any[];\r\n    public constructor() {\r\n        this.m_dicSystemInfoCfg = new Dictionary();\r\n        this._openTypeList = new Dictionary();\r\n        this.parseJson();\r\n    }\r\n    public initSystemOpen(_openSystem: any[]): void {\r\n        this.openSystem = new Dictionary();\r\n        for(let j: number = 0; j < _openSystem.length; j++) {\r\n            this.openSystem.set(_openSystem[j], true);\r\n            if(_openSystem[j] + \"\" == EnumFunctionId.FUN_ID_PHONE.toString() ) {\r\n                \r\n            } \r\n        }\r\n    }\r\n    public parseJson(): void {\r\n        let json: any = GameResourceManager.instance.getResByURL(\"config/system_open.json\");\r\n        let systemInfo: SystemOpenVO;\r\n        for(let info in json) {\r\n            systemInfo = json[info] as SystemOpenVO;\r\n            if(systemInfo ) {\r\n                this.m_dicSystemInfoCfg.set(systemInfo.functionID, systemInfo);\r\n                let arr: any[] = this._openTypeList.get(systemInfo.open_type);\r\n                if(!arr ) {\r\n                    arr = [];\r\n                    this._openTypeList.set(systemInfo.open_type, arr);\r\n                } \r\n                arr.push(systemInfo);\r\n            } \r\n        }\r\n    }\r\n    public getSystemsByType(position: number): any[] {\r\n        let arr: any[] = [];\r\n        for(let i: number = 0; i < this.m_dicSystemInfoCfg.values.length; i++) {\r\n            let value: any = this.m_dicSystemInfoCfg.values[i];\r\n            if(value.positionID == position ) {\r\n                arr.push(value);\r\n            } \r\n        }\r\n        return arr;\r\n    }\r\n    public getLockFun(openType: number, param: any): SystemOpenVO {\r\n        let arr: any[] = this._openTypeList.get(openType);\r\n        for(let vo of arr) {\r\n            if(vo.parameter1 + \"\" == param + \"\" ) {\r\n                return vo\r\n            } \r\n        }\r\n        return null;\r\n    }\r\n    public getBuildSystem(): void {\r\n        \r\n    }\r\n    public isOpen(sysId: any): boolean {\r\n        if(GameSetting.buildClickState ) {\r\n            return true\r\n        } \r\n        if(sysId instanceof String ) {\r\n            sysId = parseInt(sysId + \"\")\r\n        } \r\n        let open: any = this.openSystem.get(sysId);\r\n        return open != null;\r\n    }\r\n}", "import {SheetDataManager} from \"../SheetDataManager\";\r\n// import {VipProtoItem} from \"../data/sheetItem/vip/VipProtoItem\";\r\nexport class VipInfo {\r\n    private _vipLv: number = 0;\r\n    public trecharge: number;\r\n    public isRewards: any[];\r\n    public daygift: number;\r\n    // private _sheetItem: VipProtoItem;\r\n    public constructor() {\r\n        \r\n    }\r\n    public isReceive(vipLel: number): boolean {\r\n        for(let level of this.isRewards) {\r\n            if(level + \"\" == vipLel.toString() ) {\r\n                return true;\r\n            } \r\n        }\r\n        return false;\r\n    }\r\n    public addIsReceive(vipLevel: number): void {\r\n        if(!this.isReceive(vipLevel) ) {\r\n            this.isRewards.push(vipLevel);\r\n        } \r\n    }\r\n    public get vipLv(): number {\r\n        return this._vipLv;\r\n    }\r\n    public set vipLv(value: number) {\r\n        if(this._vipLv != value ) {\r\n            this._vipLv = value;\r\n            // this._sheetItem = null;\r\n        } \r\n    }\r\n    // public get vipSheetItem(): VipProtoItem {\r\n    //     if(!this._sheetItem ) {\r\n    //         this._sheetItem = SheetDataManager.intance.m_vipProto.get(this.vipLv + \"\")\r\n    //     } \r\n    //     return this._sheetItem;\r\n    // }\r\n    // public getMaxLevel(): number {\r\n    //     return parseInt((SheetDataManager.intance.m_vipProto.values[SheetDataManager.intance.m_vipProto.values.length - 1] as VipProtoItem).level + \"\");\r\n    // }\r\n    // public get dollarBuy(): number {\r\n    //     return this._sheetItem ? this._sheetItem.dollar_buy : 0;\r\n    // }\r\n    // public get taminaBuy(): number {\r\n    //     return this._sheetItem ? this._sheetItem.tamina_buy : 0;\r\n    // }\r\n    // public get mileBuy(): number {\r\n    //     return this._sheetItem ? this._sheetItem.mile_buy : 0;\r\n    // }\r\n    // public get taminaStorage(): number {\r\n    //     return this._sheetItem ? this._sheetItem.tamina_storage : 0;\r\n    // }\r\n    // public get mileStorage(): number {\r\n    //     return this._sheetItem ? this._sheetItem.mile_storage : 0;\r\n    // }\r\n    // public get clothesCapacity(): number {\r\n    //     return this._sheetItem ? this._sheetItem.clothes_capacity : 0;\r\n    // }\r\n    // public get sketchCapacity(): number {\r\n    //     return this._sheetItem ? this._sheetItem.sketch_capacity : 0;\r\n    // }\r\n    // public get turnoverBuff(): number {\r\n    //     return this._sheetItem ? this._sheetItem.turnover_buff : 0;\r\n    // }\r\n    // public get suitSave(): number {\r\n    //     return this._sheetItem ? this._sheetItem.suit_save : 0;\r\n    // }\r\n    // public get pvpTimes(): number {\r\n    //     return this._sheetItem ? this._sheetItem.pvp_times : 0;\r\n    // }\r\n    // public get backgroundLv(): number {\r\n    //     return this._sheetItem ? this._sheetItem.background_lv : 0;\r\n    // }\r\n    // public get auto_serve_times(): number {\r\n    //     return this._sheetItem ? this._sheetItem.auto_serve_times : 0;\r\n    // }\r\n    // public get recheck(): number {\r\n    //     return this._sheetItem ? this._sheetItem.recheck : 0;\r\n    // }\r\n    // public get freeSwaptimes(): number {\r\n    //     return this._sheetItem ? this._sheetItem.freeswaptimes : 0;\r\n    // }\r\n    // public get travelReset(): number {\r\n    //     return this._sheetItem ? this._sheetItem.travel_reset : 0;\r\n    // }\r\n}", "import { GameLanguageMgr } from \"../../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../../common/GameResourceManager\";\r\nimport { SheetDataManager } from \"../../SheetDataManager\";\r\nimport { HeroItem } from \"../../data/sheetItem/hero/HeroItem\";\r\n\r\n/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-06 16:29:41\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-16 21:48:39\r\n */\r\nexport class HeroVo {\r\n    public _simgurl: string;\r\n    // private baseUrl:string = \"https://static-pht.sgp1.vultrobjects.com/hero/\";\r\n\r\n    public get simgurl(): string {\r\n        \r\n\r\n        return GameResourceManager.instance.getHeroHeadRes(this.heroItem.serialId, this.color);\r\n\r\n    }\r\n    // public set simgurl(value: string) {\r\n    //     this._simgurl = value; \r\n    // }\r\n\r\n    public get sk(){\r\n        return GameResourceManager.instance.getHeroSkRes(this.heroItem.serialId, this.color);\r\n    }\r\n\r\n    // public staking_second_rewards:string;\r\n\r\n    // public pos:number;\r\n\r\n    /**id*/\r\n    private _id: number;\r\n    public get id(): number {\r\n        return this._id;\r\n    }\r\n    public set id(value: number) {\r\n        this._id = value;\r\n        this.heroItem = SheetDataManager.intance.m_dicHeros.get(value+\"\");\r\n    }\r\n\r\n    public heroItem:HeroItem;\r\n    /***/\r\n    private _name: string;\r\n    public get name(): string {\r\n        return GameLanguageMgr.instance.getLanguage(this.heroItem.name);\r\n\r\n    }\r\n    public set name(value: string) {\r\n        this._name = value;\r\n    }\r\n    /***/\r\n    public pk:string;\r\n    /***/\r\n    public  lv:number;\r\n    /**  */\r\n    private _color: number = 1;\r\n    public get color(): number {\r\n        return this._color;\r\n    }\r\n    public set color(value: number) {\r\n        if(value)\r\n            this._color = value;\r\n    }\r\n    // /***/\r\n    // public  rarity:number;\r\n    // /***/\r\n    // public  series:number;\r\n    // /***/\r\n    // public  race:number;\r\n    // /***/\r\n    // public  mineralLevel:number;\r\n    // /***/\r\n    // public address:string;\r\n    // /***/\r\n    // public  initialHp:number;\r\n    // /***/\r\n    // public  initialAtk:number;\r\n    // /***/\r\n    // public initialDef:number;\r\n    // /***/\r\n    // public  initialSpd:number;\r\n    // /***/\r\n    // public initialCrit:number;\r\n    // /***/\r\n    // public initialLuy:number;\r\n    // /**id*/\r\n    // public  raceNameId:number;\r\n\r\n    // /**/\r\n    //  *   */   \r\n    // public capacity:number;\r\n\r\n    public m_bNew: boolean;\r\n    public isLvUp: boolean = false;\r\n    public newAddCnt: number = 0;\r\n    public _m_iNum: number;\r\n\r\n    public get m_iNum(): number {\r\n        return this._m_iNum;\r\n    }\r\n    // public get m_BaseNum(): number {\r\n    //     if(this._m_iNum > 0 && this.m_iLevel > 1 ) {\r\n    //         return this._m_iNum - 1;\r\n    //     } \r\n    //     return this._m_iNum;\r\n    // }\r\n    public set m_iNum(value: number) {\r\n        this._m_iNum = value;\r\n    }\r\n\r\n    /***/\r\n    public skillAttack:number;\r\n    /***/\r\n    public skillOne:number;\r\n    /***/\r\n    public skillTwo:number;\r\n\r\n\r\n\r\n\r\n     /**0 1*/\r\n     public animation:number; \r\n\r\n\r\n    /**\r\n     * \r\n     * @msg: 0 1 2\r\n     */\r\n    public status:number;\r\n\r\n    public equipDtoList:any;\r\n\r\n\r\n\r\n}\r\n\r\n", "import { GameLanguageMgr } from \"../../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../../common/GameResourceManager\";\r\nimport { SheetDataManager } from \"../../SheetDataManager\";\r\nimport { ItemDto } from \"../../contract/vo/ItemDto\";\r\nimport { EnumConsumeType } from \"../../data/enumData/EnumConsumeType\";\r\nimport { ItemItem } from \"../../data/sheetItem/item/ItemItem\";\r\n\r\nexport class ItemVo {\r\n    public constructor(__id: number = 0) {\r\n        if(__id == 0 ) {\r\n            return\r\n        } \r\n        this.m_iId = __id;\r\n    }\r\n    public m_iOriginalId: number;\r\n    private _m_iId: number;\r\n    private _m_iNum: number;\r\n    private _m_iLevel: number = 0;\r\n    public m_iExp: number;\r\n    public m_bNew: boolean;\r\n    private _m_bSet: boolean;\r\n    public itemItem: ItemItem;\r\n\r\n    private _m_sIcon: string;\r\n    public get m_sIcon(): string {\r\n        return this._m_sIcon;\r\n    }\r\n    public set m_sIcon(value: string) {\r\n        this._m_sIcon = value;\r\n    }\r\n\r\n    public m_iQuality: number;\r\n    public _m_arrDisc: any[] = [];\r\n    public m_iPrice: number;\r\n    public m_strBuyIcon: string;\r\n    public m_iSellPrice: number;\r\n    public m_strSellIcon: string;\r\n    public newAddCnt: number = 0;\r\n    public isLvUp: boolean = false;\r\n    public isLastUse: number;\r\n    public type: number;\r\n    public subType: number;\r\n\r\n    public needTip:boolean = true;\r\n\r\n    public get m_iLevel(): number {\r\n        return this._m_iLevel > 0 ? this._m_iLevel : 1;\r\n    }\r\n    public set m_iLevel(value: number) {\r\n        this._m_iLevel = value ? value : 0;\r\n    }\r\n    // public get m_iSalonLevel(): number {\r\n    //     return this._m_iLevel;\r\n    // }\r\n    // public set m_iSalonLevel(value: number) {\r\n    //     this._m_iLevel = value;\r\n    // }\r\n    public get m_iNum(): number {\r\n        return this._m_iNum;\r\n    }\r\n    // public get m_BaseNum(): number {\r\n    //     if(this._m_iNum > 0 && this.m_iLevel > 1 ) {\r\n    //         return this._m_iNum - 1;\r\n    //     } \r\n    //     return this._m_iNum;\r\n    // }\r\n    public set m_iNum(value: number) {\r\n        this._m_iNum = value;\r\n    }\r\n    public copyItem(): ItemVo {\r\n        let vo: ItemVo = new ItemVo();\r\n        vo.m_iId = this.m_iId;\r\n        vo.m_iOriginalId = this.m_iOriginalId;\r\n        return vo;\r\n    }\r\n    public get m_bTry(): boolean {\r\n        if(this.m_iId == this.m_iOriginalId ) {\r\n            this._m_bSet = false;\r\n        } else {\r\n            this._m_bSet = true;\r\n        }\r\n        return this._m_bSet;\r\n    }\r\n\r\n    public get m_strName(): string {\r\n        return GameLanguageMgr.instance.getLanguage(this.itemItem.name);\r\n    }\r\n    public set m_bTry(value: boolean) {\r\n        this._m_bSet = value;\r\n    }\r\n    public m_bSalon: boolean = false;\r\n    public get m_iId(): number {\r\n        return this._m_iId;\r\n    }\r\n    private m_bIsSetId: boolean = false;\r\n    public set m_iId(value: number) {\r\n        this._m_iId = value;\r\n        if(!this.m_bIsSetId ) {\r\n            this.m_bIsSetId = true;\r\n            this.m_iOriginalId = value;\r\n        } \r\n        this.setConfigData();\r\n    }\r\n    public initDataByArr(itemDto: ItemDto): void {\r\n        this.m_iId = itemDto.id;\r\n        this.m_iNum = itemDto.count;\r\n        // this.m_iLevel = arr[2];\r\n    }\r\n    // public initFaceDataByArr(arr: any[]): void {\r\n    //     this.m_iNum = 1;\r\n    //     this.m_iId = arr[0];\r\n    //     this.m_iLevel = arr[1];\r\n    //     this.m_iExp = arr[2];\r\n    // }\r\n    private setConfigData(): void {\r\n        if(this.m_iId == 0 ) {\r\n            return\r\n        } \r\n        this.itemItem = SheetDataManager.intance.m_dicItems.get(this.m_iId.toString());\r\n        if(!this.itemItem ) {\r\n            console.log(\"[          <items> find out id:\" + this.m_iId + \"             ]\");\r\n            return;\r\n        } \r\n        this.subType = parseInt(this.itemItem.subType + \"\");\r\n\r\n        this.type = parseInt(this.itemItem.type + \"\");\r\n        this.m_sIcon = this.itemItem.icon;\r\n\r\n        if(this.itemItem.buy_price ) {\r\n            this.m_iPrice = this.itemItem.buy_price[0][1];\r\n            let montyId: number = this.itemItem.buy_price[0][0];\r\n            let monyItem: ItemItem = SheetDataManager.intance.m_dicItems.get(montyId);\r\n            if(monyItem ) {\r\n                this.m_strBuyIcon = GameResourceManager.instance.getItemIcon(monyItem.icon);\r\n            }\r\n        } \r\n        if(this.itemItem.sell_price ) {\r\n            this.m_iSellPrice = parseFloat(this.itemItem.sell_price[0][1]);\r\n            // montyId = this.m_itemVo.sell_price[0][0];\r\n            // monyItem = SheetDataManager.intance.m_dicItems.get(montyId);\r\n            // if(monyItem ) {\r\n            //     this.m_strSellIcon = GameResourceManager.instance.getIconUrl(monyItem.item_img);\r\n            // } \r\n        } \r\n        this.m_iQuality = this.itemItem.quality;\r\n        this.setQualityData();\r\n    }\r\n   \r\n    \r\n    public m_arrQualityData: any[];\r\n    private setQualityData(): void {\r\n        this.m_arrQualityData = this.itemItem.starArr;\r\n        return;\r\n    }\r\n    public get getIconURL(): string {\r\n        return GameResourceManager.instance.getItemIcon(this.itemItem.icon)\r\n        // if(EnumConsumeType.isConsumeType(this._m_iId) ) {\r\n        //     return GameResourceManager.instance.getConsumeconUrl(this._m_iId)\r\n        // } else {\r\n        //     return GameResourceManager.instance.getIconUrl(this.m_sIcon)\r\n        // }\r\n    }\r\n    public copy(): ItemVo {\r\n        let itemVo: ItemVo = new ItemVo(this.m_iId);\r\n        itemVo.m_iLevel = this.m_iLevel;\r\n        return itemVo;\r\n    }\r\n    \r\n    public compareName(): string {\r\n        return GameLanguageMgr.instance.getLanguage(this.itemItem.name);\r\n    }\r\n    public compareQuality(): number {\r\n        return parseFloat(this.m_iQuality + \"\");\r\n    }\r\n    public compareSellPrice(): number {\r\n        return parseFloat(this.itemItem.sell_price[1] + \"\");\r\n    }\r\n    public compareNum(): number {\r\n        return parseFloat(this.m_iNum + \"\");\r\n    }\r\n    public compareLevel(): number {\r\n        return parseFloat(this.m_iLevel + \"\");\r\n    }\r\n    public compareFragment(): number {\r\n        let itemID: number = this.itemItem.id;\r\n        // let hasCount: number = BeautySalonDataModel.instance.getFragmentsCount(itemID);\r\n        // let fragementCount: number = SheetDataManager.intance.getBeautyPieceModel().getNeedFragmentsCount(itemID);\r\n        // return hasCount / fragementCount;\r\n        return 0;\r\n    }\r\n    \r\n    public compareTypeId(): number {\r\n        return parseInt(this.m_iId + \"\");\r\n    }\r\n    \r\n\r\n    \r\n    \r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-19 16:13:32\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-02-04 15:01:30\r\n * @Description: \r\n */\r\nimport {ModuleName} from \"../../../global/ModuleName\";\r\nimport { HeroVo } from \"../../../global/contract/vo/HeroVo\";\r\nimport {GameEvent} from \"../../../global/event/GameEvent\";\r\nimport {Signal} from \"../../../global/event/Signal\";\r\nimport {GetItemDataModel} from \"../model/GetItemDataModel\";\r\nexport class GetItemService {\r\n    private static _instance: GetItemService;\r\n    private _isPop: boolean = false;\r\n    public static get instance(): GetItemService {\r\n        if(!GetItemService._instance ) {\r\n            GetItemService._instance = new GetItemService();\r\n        } \r\n        return GetItemService._instance;\r\n    }\r\n    public get model(): GetItemDataModel {\r\n        return GetItemDataModel.instance;\r\n    }\r\n    public get isPop(): boolean {\r\n        return this._isPop;\r\n    }\r\n    public startShow(): void {\r\n        console.log(\"startShow\");\r\n        var item = this.model.hasRemain();\r\n        if(!this._isPop && item ) {\r\n            this._isPop = true;\r\n            if(item instanceof HeroVo){\r\n                Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, ModuleName.HeroGetDialog);\r\n            }else{\r\n                Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, ModuleName.ItemGetDialog);\r\n            }\r\n        } \r\n    }\r\n    private onCheckRemain(data: string): void {\r\n        if( data == ModuleName.ItemGetDialog  ||  data == ModuleName.HeroGetDialog ) {\r\n            var item = this.model.hasRemain();\r\n            if( item ) {\r\n                if(item instanceof HeroVo){\r\n                    Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, ModuleName.HeroGetDialog);\r\n                }else{\r\n                    Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, ModuleName.ItemGetDialog);\r\n                }\r\n                \r\n            } else {\r\n                this._isPop = false\r\n            }\r\n        } \r\n    }\r\n    public constructor() {\r\n        \r\n        Signal.intance.on(GameEvent.EVENT_CHECK_REMAIN, this, this.onCheckRemain);\r\n    }\r\n}\r\nclass singClass {\r\n    \r\n}", "import { HeroVo } from \"../../../global/contract/vo/HeroVo\";\r\nimport {ItemVo} from \"../../../global/vo/pack/ItemVo\";\r\nimport {GetItemService} from \"../service/GetItemService\";\r\nexport class GetItemDataModel {\r\n    private _list: any[] = [];\r\n    private static _instance: GetItemDataModel;\r\n    public needPop: boolean = true;\r\n    public autoPop: boolean = true;\r\n    public constructor(cls: singClass) {\r\n        \r\n    }\r\n    public static get instance(): GetItemDataModel {\r\n        if(!GetItemDataModel._instance ) {\r\n            GetItemDataModel._instance = new GetItemDataModel(new singClass())\r\n        } \r\n        return GetItemDataModel._instance;\r\n    }\r\n    private get service(): GetItemService {\r\n        return GetItemService.instance;\r\n    }\r\n    public addItem(itemVo: ItemVo, isAutoShow: boolean = false): void {\r\n        let copyItem: ItemVo = new ItemVo();\r\n        copyItem.m_iId = itemVo.m_iId;\r\n        copyItem.newAddCnt = itemVo.newAddCnt;\r\n        copyItem.m_iLevel = itemVo.m_iLevel;\r\n        copyItem.isLvUp = itemVo.isLvUp;\r\n        copyItem.m_bNew = itemVo.m_bNew;\r\n        this._list.push(copyItem);\r\n        if(isAutoShow ) {\r\n            this.service.startShow()\r\n        } \r\n    }\r\n    public addHeroItem(itemVo: HeroVo, isAutoShow: boolean = false): void {\r\n        let copyItem: HeroVo = new HeroVo();\r\n        copyItem.id = itemVo.id;\r\n        copyItem.newAddCnt = itemVo.newAddCnt;\r\n        copyItem.lv = itemVo.lv;\r\n        copyItem.isLvUp = itemVo.isLvUp;\r\n        copyItem.m_bNew = itemVo.m_bNew;\r\n        this._list.push(copyItem);\r\n        if(isAutoShow ) {\r\n            this.service.startShow();\r\n        } \r\n    }\r\n    public addItems(value: any[], isAutoShow: boolean = false): void {\r\n        this._list = this._list.concat(value);\r\n        if(isAutoShow ) {\r\n            this.service.startShow()\r\n        } \r\n    }\r\n    public hasRemain(): any {\r\n        if(this._list.length > 0 ) {\r\n            return this._list[0];\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n    public get needListener(): boolean {\r\n        return this._list.length >= 2;\r\n    }\r\n    public addConsumeByServer(info: any[]): void {\r\n        this._list.push(info);\r\n    }\r\n    public addConsume(id: any, count: number): void {\r\n        this._list.push([id, count]);\r\n    }\r\n    public getNextItem(): any {\r\n        if(this._list.length > 0 ) {\r\n            return this._list[0]\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n    public getOneItem(): any {\r\n        if(this._list.length > 0 ) {\r\n            return this._list.shift()\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n}\r\nclass singClass {\r\n    \r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-06 16:29:41\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-05 19:36:44\r\n */\r\nexport class EnumConsumeType {\r\n\r\n\r\n    // /**\r\n    //  * @msg: TOX\r\n    //  */\r\n    // public static TYPE_TICKET_1: number = 1001;\r\n    // /**\r\n    //  * @msg: TOX\r\n    //  */\r\n    // public static TYPE_TICKET_2: number = 1002;\r\n\r\n    public static TYPE_EXP: number = 3003;\r\n\r\n        /**\r\n     * @msg: \r\n     */\r\n    public static TYPE_GOLD: number = 3005;\r\n    /**\r\n     * @msg: Tox\r\n     */\r\n    public static TYPE_TOX: number = 3001;\r\n    /**\r\n     * @msg: DTS\r\n     */\r\n    public static TYPE_USDT: number = 3004;\r\n    /**\r\n     * @msg: BTC\r\n     */\r\n    public static TYPE_BTC: number = 3006;\r\n    /**\r\n     * @msg: ETH\r\n     */\r\n    public static TYPE_ETH: number = 3007;\r\n\r\n\r\n\r\n    // private static _types: any[] = [ \r\n    //     // EnumConsumeType.TYPE_TICKET_1, EnumConsumeType.TYPE_TICKET_2, \r\n    //     EnumConsumeType.TYPE_EXP, EnumConsumeType.TYPE_TOX, EnumConsumeType.TYPE_GOLD, EnumConsumeType.TYPE_DTS ];\r\n    \r\n    // public static getTypeValue(type: any, value: any[]): number {\r\n    //     for(let info of value) {\r\n    //         if(info[0] + \"\" == type + \"\" ) {\r\n    //             return parseInt(info[1]);\r\n    //         } \r\n    //     }\r\n    //     return 0;\r\n    // }\r\n    // public static isConsumeType(type: number): boolean {\r\n    //     type = parseInt(type.toString());\r\n    //     return EnumConsumeType._types.indexOf(type) >= 0;\r\n    // }\r\n}", "export class EnumItemType {\r\n    public static Item_Type_Cloths: number = 1;\r\n    public static Item_Type_Items: number = 2;\r\n    public static Item_Type_Materials: number = 3;\r\n    public static Item_Type_Designs: number = 4;\r\n    public static Item_Type_FacialFeatures: number = 5;\r\n    public static Item_Type_Fragment: number = 6;\r\n    public static Item_Type_ModelOwner: number = 7;\r\n    public constructor() {\r\n        \r\n    }\r\n}", "export class EnumeCatagoryChildType {\r\n    public static Eye: number = 18;\r\n    public static Nose: number = 19;\r\n    public static Mouse: number = 20;\r\n    public static Eyebrow: number = 21;\r\n    public static SkinColor: number = 26;\r\n    public static Hair: number = 23;\r\n    public static FACE_TYPE: number = 22;\r\n    public static EYE_ZHU: number = 27;\r\n    public static MODEL: number = 28;\r\n    public static SCENE_STORE_BG: number = 29;\r\n    public static SCENE_HOME_BG: number = 32;\r\n    public static PET: number = 33;\r\n    public static PET_FOOD: number = 34;\r\n    public static PET_THIRSTY: number = 35;\r\n    public static PET_PLAY: number = 36;\r\n    public static PET_Bracelet: number = 37;\r\n    public static PET_NECKLACE: number = 38;\r\n    public static FRAGRANCE: number = 204;\r\n    public static COMBINE_SCORE: number = 99;\r\n    public static getIsPetType(childType: number): boolean {\r\n        return ((((((childType.toString() == EnumeCatagoryChildType.PET.toString() || childType.toString() == EnumeCatagoryChildType.PET_FOOD.toString()) || childType.toString() == EnumeCatagoryChildType.PET_THIRSTY.toString()) || childType.toString() == EnumeCatagoryChildType.PET_PLAY.toString()) || childType.toString() == EnumeCatagoryChildType.PET_Bracelet.toString()) || childType.toString() == \"39\") || childType.toString() == \"40\") || childType.toString() == EnumeCatagoryChildType.PET_NECKLACE.toString();\r\n    }\r\n    public static getPetClothsChild(): any[] {\r\n        return [EnumeCatagoryChildType.PET_Bracelet, EnumeCatagoryChildType.PET_NECKLACE];\r\n    }\r\n    public static MATERIAL: number = 101;\r\n    public static STAR_FACE: number = 9;\r\n    public static getVipOpenKeyName(childType: number): string {\r\n        let keyName: string = \"\";\r\n        if(childType.toString() == EnumeCatagoryChildType.EYE_ZHU.toString() ) {\r\n            keyName = \"unlock_contact\"\r\n        } else if(childType.toString() == EnumeCatagoryChildType.FACE_TYPE.toString() ) {\r\n            keyName = \"unlock_faceshape\"\r\n        } else if(childType.toString() == EnumeCatagoryChildType.Eyebrow.toString() ) {\r\n            keyName = \"unlock_brows\"\r\n        } else if(childType.toString() == EnumeCatagoryChildType.Eye.toString() ) {\r\n            keyName = \"unlock_eyes\"\r\n        } else if(childType.toString() == EnumeCatagoryChildType.Nose.toString() ) {\r\n            keyName = \"unlock_nose\"\r\n        } else if(childType.toString() == EnumeCatagoryChildType.Mouse.toString() ) {\r\n            keyName = \"unlock_mouth\"\r\n        } \r\n        return keyName;\r\n    }\r\n}", "import { GetItemDataModel } from \"../../../module/item/model/GetItemDataModel\";\r\nimport { GetItemService } from \"../../../module/item/service/GetItemService\";\r\nimport { Dictionary } from \"../../../util/Dictionary\";\r\nimport { GlobalDataManager } from \"../../GlobalDataManager\";\r\nimport { SheetDataManager } from \"../../SheetDataManager\";\r\nimport { ItemDto } from \"../../contract/vo/ItemDto\";\r\nimport { EnumConsumeType } from \"../../data/enumData/EnumConsumeType\";\r\nimport { EnumItemType } from \"../../data/enumData/EnumItemType\";\r\nimport { EnumeCatagoryChildType } from \"../../data/enumData/EnumeCatagoryChildType\";\r\nimport { ItemItem } from \"../../data/sheetItem/item/ItemItem\";\r\nimport { GameEvent } from \"../../event/GameEvent\";\r\nimport { Signal } from \"../../event/Signal\";\r\nimport { ItemVo } from \"./ItemVo\";\r\n\r\nexport class PackageData {\r\n\r\n//     \r\n// 1\r\n// 2\r\n// 3\r\n// 4IDID\r\n\r\n//1: Consumption\r\n\r\n//2: Equipment\r\n\r\n//3: Currency\r\n\r\n//4: Hero (prop ID is the same as hero ID)\r\n\r\n    public static TYPE_Consumption: number = 1;\r\n    public static TYPE_Equipment: number = 2;\r\n    public static TYPE_Currency: number = 3;\r\n    public static TYPE_Hero: number = 4;\r\n\r\n    public m_dicItemList: Dictionary;\r\n    public m_dicSubTypeList: Dictionary;\r\n    public m_dicTypeList: Dictionary;\r\n\r\n    public constructor() {\r\n        this.m_dicItemList = new Dictionary();\r\n        this.m_dicTypeList = new Dictionary();\r\n        this.m_dicSubTypeList = new Dictionary();\r\n\r\n    }\r\n    public initData(data: any[]): void {\r\n\r\n        this.m_dicItemList = new Dictionary();\r\n        this.m_dicTypeList = new Dictionary();\r\n        this.m_dicSubTypeList = new Dictionary();\r\n\r\n        let item: ItemVo;\r\n        for(let i: number = 0; i < data.length; i++) {\r\n            item = new ItemVo();\r\n            item.initDataByArr(data[i]);\r\n            this.pushItem(item);\r\n        }\r\n\r\n        console.log(\"@@@@@@@@@@@@@@@@@@-----------------------------------------packVo: \");\r\n    }\r\n\r\n\r\n    /**isAll :  */\r\n    public updateData(data: any[], isAll:boolean): void {\r\n        console.dir(\"\" + data);\r\n\r\n        this.updataItemVoByArr(data, isAll);\r\n\r\n    }\r\n\r\n\r\n    public getCountById(itemId: number, needLv: boolean = true): number {\r\n        if(EnumConsumeType.isConsumeType(itemId) ) {\r\n            return GlobalDataManager.instance.getConsumeValue(itemId);\r\n        } \r\n        let item: ItemItem = SheetDataManager.intance.m_dicItems.get(itemId);\r\n        if(item == null ) {\r\n            return 0;\r\n        } \r\n        // if((((item.child_type.toString() == EnumeCatagoryChildType.MODEL.toString() || item.child_type.toString() == EnumeCatagoryChildType.Hair.toString()) || item.child_type.toString() == EnumeCatagoryChildType.SCENE_STORE_BG.toString()) || item.child_type.toString() == EnumeCatagoryChildType.SCENE_HOME_BG.toString()) && item.itm_type.toString() != EnumItemType.Item_Type_Fragment.toString() ) {\r\n        //     let itemVO: ItemVo = GlobalDataManager.instance.facePackageVO.getItemById(itemId);\r\n        //     return itemVO ? itemVO.m_iNum : 0;\r\n        // } \r\n        return this.getItemCountById(itemId, needLv)\r\n\r\n    }\r\n    // public getFaceShipItemVoByItemId(itemId: number): ItemVo {\r\n    //     let packVO: PackageVo = this.m_dicPackageData.get(PackageData.TYPE_FACECHIP) as PackageVo;\r\n    //     if(packVO ) {\r\n    //         return packVO.getItemByTypeId(itemId)\r\n    //     } else {\r\n    //         return null\r\n    //     }\r\n    // }\r\n\r\n\r\n\r\n    private pushItem(item: ItemVo): void {\r\n        this.m_dicItemList.set(item.m_iId, item);\r\n        if(this.m_dicTypeList.get(item.type) == null ) {\r\n            this.m_dicTypeList.set(item.type, new Dictionary());\r\n        } \r\n        if(this.m_dicSubTypeList.get(item.subType) == null ) {\r\n            this.m_dicSubTypeList.set(item.subType, new Dictionary());\r\n        } \r\n        \r\n        this.m_dicTypeList.get(item.type).set(item.m_iId, item);\r\n        this.m_dicSubTypeList.get(item.subType).set(item.m_iId, item);\r\n        \r\n    }\r\n    private removeItem(item: ItemVo): void {\r\n        this.m_dicItemList.remove(item.m_iId);\r\n        this.m_dicTypeList.get(item.type).remove(item.m_iId);\r\n        this.m_dicSubTypeList.get(item.subType).remove(item.m_iId);\r\n\r\n        // let removeOne = function(arr: any[], vo: ItemVo): void {\r\n        //     if(!arr || !vo ) {\r\n        //         return\r\n        //     } \r\n        //     if(arr.indexOf(vo) >= 0 ) {\r\n        //         arr.splice(arr.indexOf(vo), 1);\r\n        //     }\r\n        // };\r\n        // removeOne(this.m_dicTypeList.get(item.type), item);\r\n        // removeOne(this.m_dicSubTypeList.get(item.subType), item);\r\n    }\r\n    /**isAll :  */\r\n    public updataItemVoByArr(dataArr: any[], isAll: boolean = false): void {\r\n\r\n        let updateIds: any[] = [];\r\n        let dispatchGetItem: boolean = false;\r\n        let itemDto: ItemDto;\r\n        for(let i: number = 0; i < dataArr.length; i++) {\r\n            itemDto = dataArr[i];\r\n            let itemVo: ItemVo = this.m_dicItemList.get(itemDto.id);\r\n            if(itemVo == null ) {\r\n                itemVo = new ItemVo(itemDto.id);\r\n                this.pushItem(itemVo);\r\n                itemVo.m_bNew = true;\r\n            }\r\n            if(isAll ) {\r\n                itemVo.newAddCnt = itemDto.count - itemVo.m_iNum;\r\n                itemVo.m_iNum = itemDto.count;\r\n            } else {\r\n                itemVo.newAddCnt = itemDto.count;\r\n                itemVo.m_iNum = itemDto.count + itemDto.count;\r\n            }\r\n\r\n            // itemVo.isLvUp = isLvUp;\r\n            itemVo.initDataByArr(itemDto);\r\n            updateIds.push(itemVo.m_iId);\r\n            if(itemVo.m_iNum <= 0 ) {\r\n                this.removeItem(itemVo)\r\n            } \r\n            if(itemVo.newAddCnt > 0 && GetItemDataModel.instance.needPop ) {\r\n                if(itemVo.itemItem.subType.toString() == EnumeCatagoryChildType.PET.toString() && itemVo.itemItem.type.toString() == EnumItemType.Item_Type_Items.toString() ) {\r\n                    return\r\n                } \r\n                GetItemDataModel.instance.addItem(itemVo);\r\n                dispatchGetItem = true;\r\n            } \r\n        }\r\n        if((dispatchGetItem && GetItemDataModel.instance.needPop) && GetItemDataModel.instance.autoPop ) {\r\n            GetItemService.instance.startShow()\r\n        } \r\n        if(updateIds.length > 0 ) {\r\n            Signal.intance.event(GameEvent.PACKAGE_UPDATE_ITEM, [updateIds])\r\n        } \r\n    }\r\n    public getItemById(typeId: number): ItemVo {\r\n        let item: ItemVo = this.m_dicItemList.get(typeId);\r\n        return item;\r\n    }\r\n    public getItemsBySubType(childType: number): any[] {\r\n        let items: any[] = this.m_dicSubTypeList.get(childType);\r\n        if(items == null ) {\r\n            items = []\r\n        } \r\n        return items;\r\n    }\r\n    public getListByType(type: any): any[] {\r\n        let items: any[] = [];\r\n        if(this.m_dicTypeList.get(type)){\r\n            items = this.m_dicTypeList.get(type).values.slice();\r\n\r\n        }\r\n\r\n            // items = [new ItemVo(1001)];\r\n        items.sort(this.sortOnQa);\r\n        return items;\r\n    }\r\n    public getListBySubType(subType: any): any[] {\r\n        let items: any[] = [];\r\n        if(this.m_dicSubTypeList.get(subType)){\r\n            items = this.m_dicSubTypeList.get(subType).values.slice();\r\n\r\n        }\r\n        items.sort(this.sortOnQa);\r\n        // let items: any[] = [];\r\n        // for(let i: number = 0; i < this.m_dicItemList.values.length; i++) {\r\n        //     let itemVo: ItemVo = this.m_dicItemList.values[i];\r\n        //     if(itemVo.subType == subType ) {\r\n        //         // if(style != -10000 ) {\r\n        //         //     if(itemVo.m_iStyleType.indexOf(style + \"\") != -1 ) {\r\n        //         //         if(parseInt(itemVo.m_itemVo.m_iSex + \"\") == sex ) {\r\n        //         //             items.push(itemVo);\r\n        //         //         } \r\n        //         //     } \r\n        //         // } else {\r\n        //         //     if(parseInt(itemVo.m_itemVo.m_iSex + \"\") == sex ) {\r\n        //                 items.push(itemVo);\r\n        //         //     } \r\n        //         // }\r\n        //     } \r\n        // }\r\n        // items.sort(this.sortOnQa);\r\n        return items;\r\n    }\r\n    // public getListByParentType(parentType: number, style: number = -10000, sex: number = 0): any[] {\r\n    //     let items: any[] = [];\r\n    //     for(let i: number = 0; i < this.m_dicItemList.values.length; i++) {\r\n    //         let itemVo: ItemVo = this.m_dicItemList.values[i];\r\n    //         if(itemVo.type == parentType ) {\r\n    //             // if(style != -10000 ) {\r\n    //             //     if(itemVo.m_iStyleType.indexOf(style + \"\") != -1 ) {\r\n    //             //         if(parseInt(itemVo.m_itemVo.m_iSex + \"\") == sex ) {\r\n    //             //             items.push(itemVo);\r\n    //             //         } \r\n    //             //     } \r\n    //             // } else {\r\n    //             //     if(parseInt(itemVo.m_itemVo.m_iSex + \"\") == sex ) {\r\n    //                     items.push(itemVo);\r\n    //             //     } \r\n    //             // }\r\n    //         } \r\n    //     }\r\n    //     items.sort(this.sortOnQa);\r\n    //     return items;\r\n    // }\r\n    private sortOnQa(a: ItemVo, b: ItemVo): number {\r\n        let aState: number = a.itemItem.quality;\r\n        let bState: number = b.itemItem.quality;\r\n        if(aState < bState ) {\r\n            return 1;\r\n        } else if(aState > bState ) {\r\n            return -1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    public getItemCountById(id: number, needLv: boolean = true): number {\r\n        let itemVo: ItemVo = this.getItemById(id);\r\n        if(itemVo ) {\r\n            // if(needLv ) {\r\n                return itemVo.m_iNum;\r\n            // } else {\r\n            //     return itemVo.m_BaseNum;\r\n            // }\r\n        } else {\r\n            return 0\r\n        }\r\n    }\r\n}", "import {GlobalDataManager} from \"./GlobalDataManager\";\r\nimport {ModuleName} from \"./ModuleName\";\r\nimport {GameLanguageMgr} from \"../common/GameLanguageMgr\";\r\nimport {EnumConsumeType} from \"./data/enumData/EnumConsumeType\";\r\nimport {GameEvent} from \"./event/GameEvent\";\r\nimport {Signal} from \"./event/Signal\";\r\nimport {SystemOpenVO} from \"./vo/SystemOpenVO\";\r\nimport {NoticeMgr} from \"../module/notice/NoticeMgr\";\r\nexport class GlobalService {\r\n    private static _instace: GlobalService;\r\n    private _addNewFList: any[] = [];\r\n    private delayShowNewFun: boolean = false;\r\n    public static get instance(): GlobalService {\r\n        if(GlobalService._instace == null ) {\r\n            GlobalService._instace = new GlobalService(new singClass())\r\n        } \r\n        return GlobalService._instace;\r\n    }\r\n    public constructor(cls: singClass) {\r\n        \r\n    }\r\n    public addNewOpenFun(value: any[]): void {\r\n        this._addNewFList = this._addNewFList.concat(value);\r\n        if(!this.delayShowNewFun ) {\r\n            this.showNewFun();\r\n        } \r\n    }\r\n    public setDelayShowFun(value: boolean): void {\r\n        if(this.delayShowNewFun != value ) {\r\n            this.delayShowNewFun = value;\r\n            if(!value ) {\r\n                this.showNewFun();\r\n            } \r\n        } \r\n    }\r\n    private showNewFun(): void {\r\n        if(this._addNewFList.length > 0 ) {\r\n            let funId: number = this._addNewFList.pop();\r\n            let funVo: SystemOpenVO = GlobalDataManager.instance.systemOpenModel.m_dicSystemInfoCfg.get(funId.toString()) as SystemOpenVO;\r\n            if(!funVo ) {\r\n                this.showNewFun();\r\n            } else if(funVo.if_open.toString() == \"1\" || funVo.if_pop.toString() != \"1\" ) {\r\n                this.showNewFun();\r\n            } else {\r\n                this.swithToNewFun(funId);\r\n            }\r\n        } \r\n    }\r\n    public swithToNewFun(funId: any, needPop: boolean = false): void {\r\n        let funVo: SystemOpenVO = GlobalDataManager.instance.systemOpenModel.m_dicSystemInfoCfg.get(funId) as SystemOpenVO;\r\n        if(!funVo ) {\r\n            return\r\n        } \r\n        if(funVo.if_open.toString() == \"1\" ) {\r\n            NoticeMgr.instance.notice(\"system_open.json-->funId:\" + funVo.functionID + \"is close\");\r\n            return;\r\n        } \r\n        if(funVo.if_pop.toString() == \"1\" || needPop ) {\r\n            Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, [ModuleName.NewFunUnLockDialog, funId]);\r\n        } \r\n    }\r\n    public hasUnlockFunction(functionId: string, showTip: boolean = true): boolean {\r\n        let vo: SystemOpenVO = GlobalDataManager.instance.systemOpenModel.m_dicSystemInfoCfg.get(functionId + \"\") as SystemOpenVO;\r\n        let bool: boolean = GlobalDataManager.instance.systemOpenModel.isOpen(parseInt(functionId));\r\n        if(!bool && showTip ) {\r\n            NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(vo.lock_word))\r\n        } \r\n        return bool;\r\n    }\r\n    public popOutTip(coseType: number): void {\r\n        if(coseType.toString() == EnumConsumeType.TYPE_ENDURANCE.toString() ) {\r\n            Signal.intance.event(\"open_buy\", 2)\r\n        } \r\n    }\r\n}\r\nclass singClass {\r\n    \r\n}", "/*\r\n * @Description: \r\n * @Author: hjy\r\n * @Date: 2023-12-22 18:13:48\r\n * @LastEditTime: 2024-01-28 03:05:19\r\n * @LastEditors: hjy\r\n */\r\nexport class AlertType {\r\n    public static YES: number = 1;\r\n    public static NO: number = 2;\r\n    public static SURE: number = 4;\r\n    public static CANCEL: number = 8;\r\n    public static CLOSE: number = 16;\r\n    public static RETURN_YES: number = 1;\r\n    public static RETURN_NO: number = 2;\r\n    public static RETURN_NONE: number = 3;\r\n    public static BASEALERTVIEW: string = \"BaseAlertDialog\";\r\n    public static BUYCONFIRMVIEW: string = \"BuyConfirmView\";\r\n    public static EnduranceOutTipView: string = \"EnduranceOutTipView\";\r\n    public static GUILDQUITVIEW: string = \"GuildQuitView\";\r\n    public static BuyItemConfirmView: string = \"BuyItemConfirmView\";\r\n    public static DOWNLOADALERT: string = \"DownLoadAlert\";\r\n    public constructor() {\r\n        \r\n    }\r\n}", "import {AlertType} from \"./AlertType\";\r\nimport { ModuleManager } from \"./ModuleManager\";\r\nexport class AlertManager {\r\n    private static _instance: AlertManager;\r\n    // private _alert: BaseAlertView;\r\n    public constructor() {\r\n        \r\n    }\r\n    public static instance(): AlertManager {\r\n        if(!AlertManager._instance ) {\r\n            AlertManager._instance = new AlertManager();\r\n        } \r\n        return AlertManager._instance;\r\n    }\r\n    // public close(): void {\r\n    //     if(this._alert ) {\r\n    //         this._alert.close();\r\n    //     } \r\n    // }\r\n    public AlertByType(type: string, data: any = null, flag: number = 0, okHandler: Laya.Handler = null, cancelHandler: Laya.Handler = null, destroyDoCancel: boolean = false, initHandler: Laya.Handler = null): void {\r\n        if(flag == 0 ) {\r\n            flag = AlertType.YES | AlertType.NO\r\n        } \r\n        this.onLoaded(flag, type, data, okHandler, cancelHandler, destroyDoCancel, initHandler);\r\n    }\r\n    public onLoaded(flag: number, type: string, data: any, okHandler: Laya.Handler = null, cancelHandler: Laya.Handler = null, destroyDoCancel: boolean = false, initHandler: Laya.Handler = null): void {\r\n        ModuleManager.intance.openModule(type, {flag, okHandler, cancelHandler, data, destroyDoCancel, initHandler});\r\n        \r\n        // this._alert = Laya.ClassUtils.getInstance(type);\r\n        // this._alert.alert(flag, okHandler, cancelHandler, data, destroyDoCancel, initHandler);\r\n        // this._alert.popup();\r\n    }\r\n    // public onResizeChange(): void {\r\n    //     if(this._alert ) {\r\n    //         this._alert.x = (Laya.stage.width - this._alert.width) / 2;\r\n    //         this._alert.y = (Laya.stage.height - this._alert.height) / 2;\r\n    //     } \r\n    // }\r\n}", "\r\nimport { AlertManager } from \"../../common/AlertManager\";\r\nimport { AlertType } from \"../../common/AlertType\";\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { PlatFormManager } from \"../../common/PlatFormManager\";\r\nimport { SceneManager } from \"../../common/SceneManager\";\r\nimport { SceneType } from \"../../common/baseScene/SceneType\";\r\nimport {GameSetting} from \"../GameSetting\";\r\n\r\nexport class Quick {\r\n    public static getColorText(text: string, color: string = \"#FFFF00\"): string {\r\n        return '<font color=\"' + color + '\">' + text + '</font>';\r\n    }\r\n    public static getChildByName(target: any, name: string, attribute: string = \"name\"): Laya.Node {\r\n        if((target && target.hasOwnProperty(attribute)) && target[attribute] == name ) {\r\n            return target\r\n        } \r\n        let container: Laya.Sprite = target as Laya.Sprite;\r\n        if(container ) {\r\n            let len: number = container.numChildren;\r\n            let item: any;\r\n            for(let i: number = 0; i < len; ++i) {\r\n                item = container.getChildAt(i);\r\n                if(item instanceof Laya.Sprite ) {\r\n                    item = Quick.getChildByName(item, name, attribute)\r\n                } \r\n                if((item && item.hasOwnProperty(attribute)) && item[attribute] == name ) {\r\n                    return item\r\n                } \r\n            }\r\n        } \r\n        return null;\r\n    }\r\n    public static getChildByAttri(target: any, attrName: string): Laya.Node {\r\n        if((target && target.hasOwnProperty(attrName)) && target[attrName] ) {\r\n            return target[attrName]\r\n        } \r\n        let container: Laya.Sprite = target as Laya.Sprite;\r\n        if(container ) {\r\n            let len: number = container.numChildren;\r\n            let item: any;;\r\n            for(let i: number = 0; i < len; ++i) {\r\n                item = container.getChildAt(i);\r\n                if(item instanceof Laya.Sprite ) {\r\n                    item = Quick.getChildByAttri(item, attrName);\r\n                    if(item ) {\r\n                        return item\r\n                    } \r\n                } else {\r\n                    if((item && item.hasOwnProperty(attrName)) && item[attrName] ) {\r\n                        return item[attrName]\r\n                    } \r\n                }\r\n            }\r\n        } \r\n        return null;\r\n    }\r\n    public static logs(logMsg: string, logType: number = 0, addLogFile: boolean = true, color: number = 0xFFFFFF): void {\r\n        logMsg = Quick.GetLogTime + \" \" + logMsg;\r\n        if(addLogFile ) {\r\n            switch(logType) {\r\n                case 0:\r\n                {\r\n                    color = 0xFFFFFF\r\n                }\r\n                break;\r\n                case 1:\r\n                {\r\n                    color = 0xFFFFFF\r\n                }\r\n                break;\r\n                case 2:\r\n                {\r\n                    color = 0xFF0000\r\n                }\r\n                break;\r\n                case 3:\r\n                {\r\n                    color = 0xFFFFFF\r\n                }\r\n                break;\r\n                case 4:\r\n                {\r\n                    color = 0xCCFF99\r\n                }\r\n                break;\r\n                case 5:\r\n                {\r\n                    color = 0xFF77FF\r\n                }\r\n                break;\r\n            }\r\n        } \r\n    }\r\n    public static get GetLogTime(): string {\r\n        let date: Date = new Date();\r\n        return date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n    }\r\n    private static _GRAY: Laya.ColorFilter;\r\n    public static get GRAY(): Laya.ColorFilter {\r\n        if(!Quick._GRAY ) {\r\n            Quick._GRAY = new Laya.ColorFilter([0.3, 0.59, 0.11, 0, 0, 0.3, 0.59, 0.11, 0, 0, 0.3, 0.59, 0.11, 0, 0, 0, 0, 0, 1, 0]);\r\n        } \r\n        return Quick._GRAY;\r\n    }\r\n    private static _GRAY1: Laya.ColorFilter;\r\n    public static get GRAY1(): Laya.ColorFilter {\r\n        if(!Quick._GRAY1 ) {\r\n            let mat: any[] = [0.3086, 0.16094, 0.0820, 0, 0, 0.2086, 0.26094, 0.0820, 0, 0, 0.1086, 0.36094, 0.0820, 0, 0, 0, 0, 0, 1, 0];\r\n            Quick._GRAY1 = new Laya.ColorFilter(mat);\r\n        } \r\n        return Quick._GRAY1;\r\n    }\r\n    private static _GLOW: Laya.GlowFilter;\r\n    public static get GLOW(): Laya.GlowFilter {\r\n        if(!Quick._GLOW ) {\r\n            Quick._GLOW = new Laya.GlowFilter(\"#ffffff\", 12, 0, 0);\r\n        } \r\n        return Quick._GLOW;\r\n    }\r\n    private static _BLUR: any[];\r\n    public static get BLUR(): any[] {\r\n        if(!Quick._BLUR ) {\r\n            let blurFilter: Laya.BlurFilter = new Laya.BlurFilter();\r\n            blurFilter.strength = 5;\r\n            Quick._BLUR = [blurFilter];\r\n        } \r\n        return Quick._BLUR;\r\n    }\r\n\r\n    public static share(id: number = 1001, type: number = 2, imgUrl: string = null, code: string = null, imgWidth: number = 0, imgHeight: number = 0, _callBack: Laya.Handler = null): void {\r\n        // if(type == EnumShare.FACEBOOK ) {\r\n        //     FacebookManager.instence.shareOpenGraphDialog(id, imgUrl, code, imgWidth, imgHeight, _callBack)\r\n        // } else if(type == EnumShare.MESSAGE ) {\r\n        //     let data: any[] = FacebookManager.instence.getFaceBookDataById(id, code);\r\n        //     if(!data ) {\r\n        //         return\r\n        //     } \r\n        //     let vo: FbShareVo = data[0];\r\n        //     let title: string = data[1];\r\n        //     let description: string = data[2];\r\n        //     AndroidPlatform.instance.FGM_SendMsg(description, _callBack);\r\n        // } else if(type == EnumShare.INSTAGRAM ) {\r\n        //     return\r\n        // } \r\n    }\r\n\r\n    private static _isParseWWhiteUser: boolean = false;\r\n    public static get isParseWWhiteUser(): boolean {\r\n        return Quick._isParseWWhiteUser;\r\n    }\r\n    private static isWWhiteUser: boolean = false;\r\n    private static get isWhiteName(): boolean {\r\n        return GameSetting.isWhiteList;\r\n    }\r\n    // public static moneySign(price: string, hasBlank: boolean = false): string {\r\n    //     let str: string = \"\";\r\n    //     let sign: string = \"$\";\r\n    //     let blank: string = hasBlank ? \" \" : \"\";\r\n    //     if(GameSetting.isMobile ) {\r\n    //         if(Laya.Browser.onAndroid ) {\r\n    //             sign = \"HK$\"\r\n    //         } \r\n    //         if(GameSetting.M_strCountry == \"2\" ) {\r\n    //             sign = \"TL\"\r\n    //         } \r\n    //     } \r\n    //     if(GameSetting.M_strCountry == \"2\" ) {\r\n    //         str = price + blank + sign\r\n    //     } else {\r\n    //         str = sign + blank + price\r\n    //     }\r\n    //     return str;\r\n    // }\r\n    public static itemListHandler(clip: Laya.Clip, index: number): void {\r\n        let data: any[] = clip.dataSource;\r\n        let _index: number = data[0];\r\n        let _level: number = data[1];\r\n        let _type: number = 2;\r\n        let _clipSkin: string = clip.skin;\r\n        if(_clipSkin ) {\r\n            if(_clipSkin.indexOf(\"xinSmall\") != -1 ) {\r\n                _type = 1\r\n            } else if(_clipSkin.indexOf(\"xinBig\") != -1 ) {\r\n                _type = 3\r\n            } \r\n        } \r\n        let _starStr: string;\r\n        if(_type == 1 ) {\r\n            _starStr = \"common/common_clip/clip_xinSmall\" + _level + \".png\";\r\n        } else if(_type == 3 ) {\r\n            _starStr = \"common/common_clip/clip_xinBig\" + _level + \".png\";\r\n        } else {\r\n            _starStr = \"common/common_clip/clip_xinMiddle\" + _level + \".png\";\r\n        }\r\n        clip.skin = _starStr;\r\n        clip.dataSource = _index;\r\n    }\r\n    public static setStarList(starList: Laya.List, starArr: any[]): void {\r\n        starList.renderHandler = new Laya.Handler(Quick, Quick.itemListHandler);\r\n        starList.dataSource = starArr;\r\n    }\r\n    private static _BLACK: Laya.ColorFilter;\r\n    public static get BLACK(): Laya.ColorFilter {\r\n        if(!Quick._BLACK ) {\r\n            Quick._BLACK = new Laya.ColorFilter();\r\n            Quick._BLACK.setColor(\"#000000\");\r\n        } \r\n        return Quick._BLACK;\r\n    }\r\n\r\n\r\n    private static _YELLOW: Laya.ColorFilter;\r\n    public static get YELLOW(): Laya.ColorFilter {\r\n        if(!Quick._YELLOW ) {\r\n            Quick._YELLOW = new Laya.ColorFilter();\r\n            Quick._YELLOW.setColor(\"#ffe64b\");\r\n        }\r\n        return Quick._YELLOW;\r\n    }\r\n\r\n    private static _YELLOW1: Laya.ColorFilter;\r\n    public static get YELLOW1(): Laya.ColorFilter {\r\n        if(!Quick._YELLOW1 ) {\r\n            Quick._YELLOW1 = new Laya.ColorFilter();\r\n            Quick._YELLOW1.setColor(\"#fee14e\");\r\n        }\r\n        return Quick._YELLOW1;\r\n    }\r\n\r\n    private static _RED1: Laya.ColorFilter;\r\n    public static get RED1(): Laya.ColorFilter {\r\n        if(!Quick._RED1 ) {\r\n            Quick._RED1 = new Laya.ColorFilter();\r\n            Quick._RED1.setColor(\"#ff4537\");\r\n        }\r\n        return Quick._RED1;\r\n    }\r\n\r\n\r\n\r\n\r\n    private static _BLUE: Laya.ColorFilter;\r\n    public static get BLUE(): Laya.ColorFilter {\r\n        if(!Quick._BLUE ) {\r\n            Quick._BLUE = new Laya.ColorFilter();\r\n            Quick._BLUE.setColor(\"#2f72a7\");\r\n        } \r\n        return Quick._BLUE;\r\n    }\r\n    public static setColor(_color: string = \"#13e2cf\"): Laya.ColorFilter {\r\n        let cf: Laya.ColorFilter = new Laya.ColorFilter();\r\n        cf.setColor(_color);\r\n        return cf;\r\n    }\r\n\r\n    // static doCopy(str: any) {\r\n    //     console.log(\"doCopy ======\" + str);\r\n    //     new ClipboardJS(\".btn-copy\", {\r\n    //       text: function(trigger: any) {\r\n    //         return str;\r\n    //       }\r\n    //     });\r\n    //     $(\".btn-copy\").trigger(\"click\");\r\n    // }\r\n\r\n    static heroNotEnought(){\r\n        \r\n        AlertManager.instance().AlertByType(AlertType.BASEALERTVIEW, GameLanguageMgr.instance.getLanguage(1059),//(\"\"),\r\n        AlertType.CANCEL, Laya.Handler.create(this, this.onGetHero));\r\n\r\n    }\r\n\r\n    static onGetHero() {\r\n        SceneManager.intance.setCurrentScene(SceneType.M_SCENE_SHOP, 1);\r\n\r\n    }\r\n\r\n    static titickNotEnought(){\r\n        \r\n        AlertManager.instance().AlertByType(AlertType.BASEALERTVIEW, GameLanguageMgr.instance.getLanguage(1060),//(\"\"),\r\n        AlertType.CANCEL, Laya.Handler.create(this, this.onGetTitck));\r\n\r\n    }\r\n\r\n    static onGetTitck() {\r\n        SceneManager.intance.setCurrentScene(SceneType.M_SCENE_SHOP, 2);\r\n\r\n    }\r\n\r\n    static moneyNotEnought(){\r\n        \r\n        AlertManager.instance().AlertByType(AlertType.BASEALERTVIEW, [GameLanguageMgr.instance.getLanguage(6047), GameLanguageMgr.instance.getLanguage(6048)],\r\n        AlertType.CANCEL, Laya.Handler.create(this, this.onGetMoney));\r\n\r\n    }\r\n    \r\n\r\n    static onGetMoney() {\r\n        window.location.href = \"https://pancakeswap.finance/swap?inputCurrency=BNB&outputCurrency=0x8ff22201d69583b3f081e49e16caf86f3cb708f7\";\r\n\r\n    }\r\n\r\n    static openSquidGame(){\r\n        \r\n        AlertManager.instance().AlertByType(AlertType.BASEALERTVIEW, GameLanguageMgr.instance.getLanguage(6056),\r\n        AlertType.CANCEL, Laya.Handler.create(this, this.onOpenSquidGame));\r\n\r\n    }\r\n    \r\n\r\n    static onOpenSquidGame() {\r\n        window.location.href = \"https://squidgamefi.io/?invitationCode=2oi\";\r\n\r\n    }\r\n\r\n    static otherLogin(){\r\n        \r\n        AlertManager.instance().AlertByType(AlertType.BASEALERTVIEW, GameLanguageMgr.instance.getLanguage(6054),\r\n        AlertType.YES, Laya.Handler.create(this, PlatFormManager.instance.reload));\r\n\r\n    }\r\n    static errorCodeTip(errorCodeMsg:string){\r\n        \r\n        AlertManager.instance().AlertByType(AlertType.BASEALERTVIEW, errorCodeMsg,\r\n        AlertType.YES);\r\n\r\n    }\r\n\r\n    private static isShake: boolean = false;\r\n    public static shakeSprs(shakeSprs: any[], times: number = 2, offset: number = 4, speed: number = 32): void {\r\n        if(Quick.isShake ) {\r\n            return;\r\n        } \r\n        Quick.isShake = true;\r\n        let len: number = shakeSprs.length;\r\n        let points: any[] = [];\r\n        for(let i: number = 0; i < len; i++) {\r\n            let shakeSpr: Laya.Sprite = shakeSprs[i];\r\n            points.push([shakeSpr.x, shakeSpr.y]);\r\n        }\r\n        let offsetXYArray: any[] = [0, 0];\r\n        let num: number = 0;\r\n        let updateShake = function(): void {\r\n            offsetXYArray[num % 2] = num++ % 4 < 2 ? 0 : offset;\r\n            if(num > times * 4 + 1 ) {\r\n                Laya.timer.clear(Laya.stage, updateShake);\r\n                num = 0;\r\n                Quick.isShake = false;\r\n            } \r\n            for(let j: number = 0; j < len; j++) {\r\n                let shakeSpr: Laya.Sprite = shakeSprs[j];\r\n                shakeSpr.x = offsetXYArray[0] + points[j][0];\r\n                shakeSpr.y = offsetXYArray[1] + points[j][1];\r\n            }\r\n        }\r\n        Laya.timer.loop(speed, Laya.stage, updateShake);\r\n    }\r\n\r\n    \r\n    public static shake(dis: Laya.Sprite, times: number = 2, offset: number = 4, speed: number = 32): void {\r\n        if(Quick.isShake ) {\r\n            return;\r\n        } \r\n        Quick.isShake = true;\r\n        let point: Laya.Point = new Laya.Point(dis.x, dis.y);\r\n        let offsetXYArray: any[] = [0, 0];\r\n        let num: number = 0;\r\n        let updateShake = function():void{\r\n            offsetXYArray[num % 2] = num++ % 4 < 2 ? 0 : offset;\r\n        if(num > times * 4 + 1 ) {\r\n            Laya.timer.clear(Laya.stage, updateShake);\r\n            num = 0;\r\n            Quick.isShake = false;\r\n        } \r\n        dis.x = offsetXYArray[0] + point.x;\r\n        dis.y = offsetXYArray[1] + point.y;\r\n        }\r\n        Laya.timer.loop(speed, Laya.stage, updateShake);\r\n    }\r\n\r\n}", "\r\nexport class MessageReader {\r\n    public constructor() {\r\n        \r\n    }\r\n    public ReadShort(value: Laya.Byte): number {\r\n        let _array: Uint8Array = new Uint8Array(value.buffer);\r\n        let _index1: number = _array[value.pos] << 8;\r\n        let _index2: number = _array[value.pos + 1];\r\n        let _index3: number = _index1 | _index2;\r\n        value.pos += 2;\r\n        return _index3;\r\n    }\r\n    public ReadInt(value: Laya.Byte): number {\r\n        let _array: Uint8Array = new Uint8Array(value.buffer);\r\n        let _data: number = _array[value.pos] << 24 | _array[value.pos + 1] << 16 | _array[value.pos + 2] << 8 | _array[value.pos + 3];\r\n        value.pos += 4;\r\n        return _data;\r\n    }\r\n    public ReadByte(value: Laya.Byte): number {\r\n        return value.getByte();\r\n    }\r\n    public ReadString(value: Laya.Byte): string {\r\n        let _short: number = this.ReadShort(value);\r\n        if(_short == 0 ) {\r\n            return \"\";\r\n        } \r\n        return value.getUTFBytes(_short);\r\n    }\r\n    public ReadBytes(value: Laya.Byte, len: number): Laya.Byte {\r\n        let _buffer1: ArrayBuffer = value.buffer.slice(value.pos, len);\r\n        let _byt: Laya.Byte = new Laya.Byte(_buffer1);\r\n        return _byt;\r\n    }\r\n    public dispose(): void {\r\n        \r\n    }\r\n}", "\r\nexport class MessageWrite {\r\n    public writeByt: Laya.Byte;\r\n    public constructor() {\r\n        this.writeByt = new Laya.Byte();\r\n    }\r\n    public writeByte(): void {\r\n        \r\n    }\r\n    public writeShort(value: number): void {\r\n        this.writeByt.writeByte(value >> 8);\r\n        this.writeByt.writeByte(value);\r\n    }\r\n    public writeInt(value: number): void {\r\n        this.writeByt.writeByte(value >> 24);\r\n        this.writeByt.writeByte(value >> 16);\r\n        this.writeByt.writeByte(value >> 8);\r\n        this.writeByt.writeByte(value);\r\n    }\r\n    public writeString(value: string): void {\r\n        let _len: number = value.length;\r\n        if(_len == 0 ) {\r\n            this.writeShort(0);\r\n            return;\r\n        } \r\n        let _lenByt: Laya.Byte = new Laya.Byte();\r\n        _lenByt.writeUTFBytes(value);\r\n        this.writeShort(_lenByt.length);\r\n        this.writeByt.writeUTFBytes(value);\r\n    }\r\n    public dispose(): void {\r\n        \r\n    }\r\n}", "import {MessageWrite} from \"./MessageWrite\";\r\nimport {MessageReader} from \"./MessageReader\";\r\nimport {GameSetting} from \"../../global/GameSetting\";\r\nimport {GlobalDataManager} from \"../../global/GlobalDataManager\";\r\n\r\nexport class MsgBodyAnaly {\r\n    private static _instance: MsgBodyAnaly;\r\n    public static get instance(): MsgBodyAnaly {\r\n        if(!MsgBodyAnaly._instance ) {\r\n            MsgBodyAnaly._instance = new MsgBodyAnaly();\r\n        } \r\n        return MsgBodyAnaly._instance;\r\n    }\r\n    public analyData: any;\r\n    private cookie: string = \"####1.0.0#0#\";\r\n    public setLoginCookie(): void {\r\n        this.cookie = \"####1.0.0#\" + GameSetting.Login_UDID + \"#\" + GameSetting.UserAgent;\r\n    }\r\n    private encryptKey: string = \"FFIYD#^3LB954JB90fzj*(d)sO7\";\r\n    private _curSendIndex: number = -1;\r\n    public constructor() {\r\n        \r\n    }\r\n    public parseCookie(_time: string, _roleID: string, _account: string, _version: string = \"1.0.0\"): void {\r\n        let _key: string = this.encryptKey + _roleID + _time;\r\n        let _md5: string = MD5Compress(_key);\r\n        _version = GlobalDataManager.instance.M_S_VersionServer;\r\n        let _encryptData: string = _md5 + \"#\" + _time + \"#\" + _roleID + \"#\" + _account + \"#\" + _version + \"#\" + this._curSendIndex + \"#1\" + \"#\" + GameSetting.Login_UDID + \"#\" + GameSetting.UserAgent;\r\n        this.cookie = _encryptData;\r\n    }\r\n    public reflashCookie(): void {\r\n        this.parseCookie(this.m_time, this.m_roleID, this.m_accout);\r\n    }\r\n    public analyClient(commandId: number, _data: any[]): Laya.Byte {\r\n        let _write: MessageWrite = new MessageWrite();\r\n        _write.writeString(this.cookie);\r\n        _write.writeShort(commandId);\r\n        let _arrData: any[] = this.analyData[commandId];\r\n        if(_arrData && _arrData.length > 0 ) {\r\n            this.writeByt(_arrData, _data, _write);\r\n        } \r\n        return _write.writeByt;\r\n    }\r\n    private writeByt(value: any[], _data: any[], _write: MessageWrite): void {\r\n        for(let a in value) {\r\n            let _itemData: any = _data[a];\r\n            if(value[a].indexOf(\"7/\") != -1 ) {\r\n                _write.writeShort(_itemData.length);\r\n                let _arrData: any[] = this.analyData[String(value[a]).split(\"7/\")[1]];\r\n                if(_arrData ) {\r\n                    for(let xm in _itemData) {\r\n                        this.writeByt(_arrData, _itemData[xm], _write);\r\n                    }\r\n                } \r\n            } else {\r\n                if(value[a] == \"1\" ) {\r\n                    _write.writeInt(_itemData);\r\n                } else if(value[a] == \"2\" ) {\r\n                    _write.writeShort(_itemData);\r\n                } else if(value[a] == \"3\" ) {\r\n                    _write.writeString(_itemData);\r\n                } else if((value[a] == \"4\" || value[a] == \"5\") || value[a] == \"6\" ) {\r\n                    _write.writeShort(_itemData.length);\r\n                    for(let n in _itemData) {\r\n                        if(value[a] == \"4\" ) {\r\n                            _write.writeInt(_itemData[n]);\r\n                        } else if(value[a] == \"5\" ) {\r\n                            _write.writeShort(_itemData[n]);\r\n                        } else if(value[a] == \"6\" ) {\r\n                            _write.writeString(_itemData[n]);\r\n                        } \r\n                    }\r\n                } \r\n            }\r\n        }\r\n    }\r\n    public analyServer(byt: Laya.Byte): any[] {\r\n        let _read: MessageReader = new MessageReader();\r\n        let _msgID: number = _read.ReadShort(byt);\r\n        let _arr: any[] = [_msgID];\r\n        let _dataArr: any[] = this.analyData[_msgID];\r\n        if(_dataArr && _dataArr.length > 0 ) {\r\n            _arr = _arr.concat(this.readByt(_dataArr, byt, _read));\r\n        } \r\n        return _arr;\r\n    }\r\n    public m_time: string;\r\n    public m_roleID: string;\r\n    public m_accout: string;\r\n    public analyCookie(value: string = \"\"): void {\r\n        console.log(\"RECE_COOKIE: \" + value, 1);\r\n        let _arr: any[] = value.split(\"#\");\r\n        this.m_time = _arr[0];\r\n        this.m_roleID = _arr[1];\r\n        this.m_accout = _arr[2];\r\n        let _index: number = _arr[3];\r\n        this._curSendIndex = _index;\r\n        this._curSendIndex++;\r\n        console.log(\"cookie:_time:\" + this.m_time + \"  _roleID\" + this.m_roleID + \"\t  _accout\" + this.m_accout);\r\n        this.parseCookie(this.m_time, this.m_roleID, this.m_accout);\r\n        GlobalDataManager.instance.timeStamp = parseFloat(this.m_time);\r\n    }\r\n    private readByt(value: any[], _byt: Laya.Byte, _read: MessageReader): any[] {\r\n        let _arr: any[] = [];\r\n        for(let a in value) {\r\n            if(value[a].indexOf(\"7/\") != -1 ) {\r\n                let _len: number = _read.ReadShort(_byt);\r\n                let _arrData: any[] = this.analyData[String(value[a]).split(\"7/\")[1]];\r\n                let _dataArr: any[] = [];\r\n                if(_arrData && _len > 0 ) {\r\n                    for(let m: number = 0; m < _len; m++) {\r\n                        _dataArr.push(this.readByt(_arrData, _byt, _read));\r\n                    }\r\n                } \r\n                _arr.push(_dataArr);\r\n            } else {\r\n                if(value[a] == \"1\" ) {\r\n                    _arr.push(_read.ReadInt(_byt));\r\n                } else if(value[a] == \"2\" ) {\r\n                    _arr.push(_read.ReadShort(_byt));\r\n                } else if(value[a] == \"3\" ) {\r\n                    _arr.push(_read.ReadString(_byt));\r\n                } else if((value[a] == \"4\" || value[a] == \"5\") || value[a] == \"6\" ) {\r\n                    let _itemLen: number = _read.ReadShort(_byt);\r\n                    let _itemArr: any[] = [];\r\n                    for(let n: number = 0; n < _itemLen; n++) {\r\n                        if(value[a] == \"4\" ) {\r\n                            _itemArr.push(_read.ReadInt(_byt));\r\n                        } else if(value[a] == \"5\" ) {\r\n                            _itemArr.push(_read.ReadShort(_byt));\r\n                        } else if(value[a] == \"6\" ) {\r\n                            _itemArr.push(_read.ReadString(_byt));\r\n                        } \r\n                    }\r\n                    _arr.push(_itemArr);\r\n                } \r\n            }\r\n        }\r\n        return _arr;\r\n    }\r\n    public dispose(): void {\r\n        \r\n    }\r\n}\r\n\r\nfunction MD5Compress(_key: string): string {\r\n    throw new Error(\"Function not implemented.\");\r\n}\r\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-11 14:29:22\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-17 03:16:43\r\n */\r\n\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { RoomDto } from \"../../global/contract/vo/RoomDto\";\r\nimport { RoomPlayer } from \"../../global/contract/vo/RoomPlayer\";\r\nimport { HeroItem } from \"../../global/data/sheetItem/hero/HeroItem\";\r\nimport { ArenaItem } from \"../../global/data/sheetItem/match/ArenaItem\";\r\nimport ItemDto from \"../../net/protocol/dto/ItemDto\";\r\nimport MatchDto from \"../../net/protocol/dto/MatchDto\";\r\nimport { Dictionary } from \"../../util/Dictionary\";\r\n\r\n\r\n\r\nexport class MatchModel {\r\n    private static _instance: MatchModel;\r\n    public static get instance(): MatchModel {\r\n        if(!MatchModel._instance ) {\r\n            MatchModel._instance = new MatchModel()\r\n        } \r\n        return MatchModel._instance;\r\n    }\r\n    private _inited: boolean = false;\r\n\r\n\r\n\r\n    public constructor() {\r\n        this.init();\r\n    }\r\n\r\n    private init(): void {\r\n        if(!this._inited ) {\r\n            this._inited = true;\r\n\r\n        } \r\n    }\r\n\r\n\r\n\r\n    public roomDto:RoomDto;\r\n    public coolDownTime:number;\r\n    public startCoolDownTime:number;//\r\n\r\n    public currArenaItem:ArenaItem;\r\n\r\n\r\n    /**  */\r\n    public stopAll:boolean = false;\r\n\r\n\r\n    \r\n    private _matchDto: MatchDto;\r\n    public get matchDto(): MatchDto {\r\n        return this._matchDto;\r\n    }\r\n    public set matchDto(value: MatchDto) {\r\n        this._matchDto = value;\r\n        if( value && (value.startTime - value.nowTime) > 0 ){\r\n            this.stopAll = true;\r\n        }else{\r\n            this.stopAll = false;\r\n        }\r\n    }\r\n    public matchCoolDownTime:number;\r\n    public reward:ItemDto[];\r\n\r\n\r\n    private heroReadyDic:Dictionary = new Dictionary();\r\n\r\n\r\n    setMatchRes(){\r\n        console.log(\" ================ setMatchRes: 0\");\r\n        var len = this.roomDto.members.length;\r\n\r\n        var loadArr:any[] = [];\r\n\r\n        var mapId = this.currArenaItem.mapid;\r\n        if(this.heroReadyDic.get(\"map_\"+mapId) == null){\r\n            \r\n            var mapRes = GameResourceManager.instance.getMap(mapId);\r\n            loadArr.push(mapRes);\r\n            this.heroReadyDic.set(\"map_\"+mapId, true);\r\n\r\n        }\r\n\r\n        \r\n\r\n\r\n        for(var i=0;i<len;i++){\r\n            var roomPlayer:RoomPlayer = this.roomDto.members[i];\r\n            if(this.heroReadyDic.get(roomPlayer.heroId+\"_\"+roomPlayer.heroColor) == null){\r\n                var heroItem:HeroItem = SheetDataManager.intance.m_dicHeros.get(roomPlayer.heroId);\r\n                // var heroRes = GameResourceManager.instance.getHeroHeadRes(heroItem.serialId, roomPlayer.heroColor);\r\n\r\n                var heroSk = GameResourceManager.instance.getHeroSkRes(heroItem.serialId, roomPlayer.heroColor);\r\n                // loadArr.push(heroRes);\r\n                loadArr.push({ url: heroSk, type: Laya.Loader.SPINE });   \r\n                this.heroReadyDic.set(roomPlayer.heroId+\"_\"+roomPlayer.heroColor, true);\r\n\r\n            }\r\n        }\r\n\r\n        if(loadArr.length>0){\r\n            console.log(\" ================ setMatchRes: start\");\r\n            Laya.loader.load(loadArr, null, Laya.Handler.create(this, this.onPreAssetPress1, null, false)).then(() => {\r\n                //     // \r\n    \r\n                console.log(\" ================ setMatchRes: end\");\r\n    \r\n        \r\n                });\r\n            \r\n        }\r\n\r\n\r\n        \r\n        \r\n\r\n    }\r\n\r\n    private onPreAssetPress1(value: number): void {\r\n        // this.va = (value * 100 * .5).toFixed(0);\r\n        // if(this.loadingView && this.va < 100 ) {\r\n        //     if(this.va > this.m_iPrecess ) {\r\n        //         this.loadingView.loading(this.va);\r\n        //     } \r\n        // } \r\n    }\r\n\r\n    clearData(){\r\n        this.roomDto = null;\r\n        this.matchDto = null;\r\n        this.reward = null;\r\n        this.heroReadyDic = null;\r\n        this.currArenaItem = null;\r\n    }\r\n\r\n\r\n\r\n\r\n}", "\r\n\r\nclass AnimationRequest {\r\n\r\n    /** pid */\r\n    targetId: number = 0;\r\n    /** ,1=animal2= */\r\n    type: number = 0;\r\n    /** id */\r\n    skillId: number = 0;\r\n    /**  */\r\n    param: Map<string, string> = new Map();\r\n\r\n    static PROTOCOL_ID: number = 1031;\r\n\r\n    protocolId(): number {\r\n        return AnimationRequest.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: AnimationRequest | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeStringStringMap(packet.param);\r\n        buffer.writeInt(packet.skillId);\r\n        buffer.writeLong(packet.targetId);\r\n        buffer.writeInt(packet.type);\r\n    }\r\n\r\n    static read(buffer: any): AnimationRequest | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new AnimationRequest();\r\n        const map0 = buffer.readStringStringMap();\r\n        packet.param = map0;\r\n        const result1 = buffer.readInt();\r\n        packet.skillId = result1;\r\n        const result2 = buffer.readLong();\r\n        packet.targetId = result2;\r\n        const result3 = buffer.readInt();\r\n        packet.type = result3;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default AnimationRequest;\r\n", "\r\n/**  */\r\nclass AttackRequest {\r\n\r\n    /** pid */\r\n    targetId: number = 0;\r\n    /** ,1=2= */\r\n    attackType: number = 0;\r\n    /** id */\r\n    skillId: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1021;\r\n\r\n    protocolId(): number {\r\n        return AttackRequest.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: AttackRequest | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.attackType);\r\n        buffer.writeInt(packet.skillId);\r\n        buffer.writeLong(packet.targetId);\r\n    }\r\n\r\n    static read(buffer: any): AttackRequest | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new AttackRequest();\r\n        const result0 = buffer.readInt();\r\n        packet.attackType = result0;\r\n        const result1 = buffer.readInt();\r\n        packet.skillId = result1;\r\n        const result2 = buffer.readLong();\r\n        packet.targetId = result2;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default AttackRequest;\r\n", "\r\n/**  */\r\nclass RoomInfoRequest {\r\n\r\n    \r\n\r\n    static PROTOCOL_ID: number = 1025;\r\n\r\n    protocolId(): number {\r\n        return RoomInfoRequest.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: RoomInfoRequest | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        \r\n    }\r\n\r\n    static read(buffer: any): RoomInfoRequest | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new RoomInfoRequest();\r\n        \r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default RoomInfoRequest;\r\n", "\r\n/**  */\r\nclass RoomMoveRequest {\r\n\r\n    x: number = 0;\r\n    y: number = 0;\r\n    /**  */\r\n    speed: number = 0;\r\n    /**  */\r\n    dire: number = 0;\r\n    time: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1013;\r\n\r\n    protocolId(): number {\r\n        return RoomMoveRequest.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: RoomMoveRequest | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.dire);\r\n        buffer.writeInt(packet.speed);\r\n        buffer.writeLong(packet.time);\r\n        buffer.writeInt(packet.x);\r\n        buffer.writeInt(packet.y);\r\n    }\r\n\r\n    static read(buffer: any): RoomMoveRequest | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new RoomMoveRequest();\r\n        const result0 = buffer.readInt();\r\n        packet.dire = result0;\r\n        const result1 = buffer.readInt();\r\n        packet.speed = result1;\r\n        const result2 = buffer.readLong();\r\n        packet.time = result2;\r\n        const result3 = buffer.readInt();\r\n        packet.x = result3;\r\n        const result4 = buffer.readInt();\r\n        packet.y = result4;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default RoomMoveRequest;\r\n", "\r\n\r\nclass TargetMoveRequest {\r\n\r\n    /** pid */\r\n    targetId: number = 0;\r\n    targetX: number = 0;\r\n    targetY: number = 0;\r\n    skillId: number = 0;\r\n    /**  */\r\n    sourceId: number = 0;\r\n    time: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1035;\r\n\r\n    protocolId(): number {\r\n        return TargetMoveRequest.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: TargetMoveRequest | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.skillId);\r\n        buffer.writeLong(packet.sourceId);\r\n        buffer.writeLong(packet.targetId);\r\n        buffer.writeInt(packet.targetX);\r\n        buffer.writeInt(packet.targetY);\r\n        buffer.writeLong(packet.time);\r\n    }\r\n\r\n    static read(buffer: any): TargetMoveRequest | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new TargetMoveRequest();\r\n        const result0 = buffer.readInt();\r\n        packet.skillId = result0;\r\n        const result1 = buffer.readLong();\r\n        packet.sourceId = result1;\r\n        const result2 = buffer.readLong();\r\n        packet.targetId = result2;\r\n        const result3 = buffer.readInt();\r\n        packet.targetX = result3;\r\n        const result4 = buffer.readInt();\r\n        packet.targetY = result4;\r\n        const result5 = buffer.readLong();\r\n        packet.time = result5;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default TargetMoveRequest;\r\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-21 23:13:38\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-13 02:40:46\r\n * @Description: \r\n */\r\nimport { ModuleManager } from \"../../game/common/ModuleManager\";\r\nimport { SoundMgr } from \"../../game/common/SoundMgr\";\r\nimport { GlobalDataManager } from \"../../game/global/GlobalDataManager\";\r\nimport { ModuleName } from \"../../game/global/ModuleName\";\r\nimport { SheetDataManager } from \"../../game/global/SheetDataManager\";\r\nimport { SkillItem } from \"../../game/global/data/sheetItem/hero/Skilltem\";\r\nimport { GameEvent } from \"../../game/global/event/GameEvent\";\r\nimport { Signal } from \"../../game/global/event/Signal\";\r\nimport { MatchHeroSpr } from \"../../game/module/match/MatchHeroSpr\";\r\nimport { MatchModel } from \"../../game/module/match/MatchModel\";\r\nimport { WebSocketService } from \"../../game/net/WebSocketService\";\r\nimport MatchDto from \"../../game/net/protocol/dto/MatchDto\";\r\nimport RoomPlayerDto from \"../../game/net/protocol/dto/RoomPlayerDto\";\r\nimport RoomRankPlayerDto from \"../../game/net/protocol/dto/RoomRankPlayerDto\";\r\nimport AnimationPush from \"../../game/net/protocol/login/AnimationPush\";\r\nimport AnimationRequest from \"../../game/net/protocol/login/AnimationRequest\";\r\nimport AttackPush from \"../../game/net/protocol/login/AttackPush\";\r\nimport AttackRequest from \"../../game/net/protocol/login/AttackRequest\";\r\nimport RoomInfoRequest from \"../../game/net/protocol/login/RoomInfoRequest\";\r\nimport RoomMoveRequest from \"../../game/net/protocol/login/RoomMoveRequest\";\r\nimport RoomPlayerChangePush from \"../../game/net/protocol/login/RoomPlayerChangePush\";\r\nimport RoomPlayerMovePush from \"../../game/net/protocol/login/RoomPlayerMovePush\";\r\nimport TargetMovePush from \"../../game/net/protocol/login/TargetMovePush\";\r\nimport TargetMoveRequest from \"../../game/net/protocol/login/TargetMoveRequest\";\r\n\r\nimport { Dictionary } from \"../../game/util/Dictionary\";\r\nimport Role from \"../../prefab/Role\";\r\n\r\nexport default class GameManager {\r\n\r\n    //     roleAniNode.x = gameMap.width / 2;\r\n    //     roleAniNode.y = gameMap.height / 2;\r\n    //     parentNode.addChild(roleAniNode);\r\n    //     roleAniNode.getComponent(EnemyMove).speed = 0.02 + index * 0.003\r\n    //     roleAniNode.getComponent(EnemyMove).setCurrentIndex(index);\r\n    //     // }))\r\n    // }\r\n\r\n\r\n    private static _instance: GameManager = null;\r\n    private validEnemyList: any[] = [];\r\n\r\n    public roleAniPrefab: Laya.Prefab;\r\n    public dropBoxPrefab: Laya.Prefab;\r\n    public damageNumPrefab: Laya.Prefab;\r\n\r\n    public dunpaiTemplet: Laya.Templet;\r\n    public beijiTemplet: Laya.Templet;\r\n\r\n\r\n    public huaEffect: Laya.SpineTemplet;\r\n\r\n    public ruchangEffects: Laya.SpineTemplet[];\r\n\r\n\r\n\r\n    public myHeroSpr: MatchHeroSpr;\r\n\r\n    // public matchItems: Laya.Sprite[];\r\n\r\n    public matchHeroSprDic: Dictionary;\r\n    public matchHeroSprs: MatchHeroSpr[];\r\n    public matchHeroDic: Dictionary;\r\n    // public myRank: RoomRankPlayerDto;\r\n    public myPlayer: RoomPlayerDto;\r\n\r\n    // \r\n    private gameWindowX: number = 0;\r\n    private gameWindowY: number = 0;\r\n    /**  */\r\n    public isControl: boolean = false;\r\n\r\n    private _gameMap: Laya.Sprite;\r\n    // public loginResponse:LoginResponse;\r\n    public get gameMap(): Laya.Sprite {\r\n        return this._gameMap;\r\n    }\r\n    public set gameMap(value: Laya.Sprite) {\r\n        this._gameMap = value;\r\n    }\r\n\r\n    // private _sceneWindow: Laya.Box;\r\n    // public get sceneWindow(): Laya.Box {\r\n    //     return this._sceneWindow;\r\n    // }\r\n    // public set sceneWindow(value: Laya.Box) {\r\n    //     this._sceneWindow = value;\r\n    // }\r\n\r\n    // private planeNode: Laya.Sprite;\r\n\r\n\r\n\r\n    public static get instance(): GameManager {\r\n        if (GameManager._instance == null) {\r\n            GameManager._instance = new GameManager();\r\n            return GameManager._instance;\r\n        }\r\n        else {\r\n            return GameManager._instance;\r\n        }\r\n    }\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    public init(): void {\r\n        this.validEnemyList = [];\r\n    }\r\n\r\n    public insertValidList(item: any) {\r\n        if (!this.isFInd(item, this.validEnemyList)) {\r\n            this.validEnemyList.push(item)\r\n        }\r\n    }\r\n\r\n    private isFInd(item: any, _list: any[]): boolean {\r\n        var state = false;\r\n        if (!item || !_list || _list.length <= 0) {\r\n            state = false;\r\n        }\r\n        for (let index = 0; index < _list.length; index++) {\r\n            if ((_list[index] as Laya.Sprite) == item) {\r\n                // if ((_list[index] as Laya.Sprite).id == item.id) {\r\n                return true;\r\n            }\r\n        }\r\n        return state;\r\n    }\r\n\r\n    private isFIndIndex(item: any, _list: any[]): number {\r\n        var state = -1;\r\n        if (!item || !_list || _list.length <= 0) {\r\n            state = -1;\r\n        }\r\n        for (let index = 0; index < _list.length; index++) {\r\n            // if ((_list[index] as Laya.Sprite).id == item.id) {\r\n            if ((_list[index] as Laya.Sprite) == item) {\r\n                state = index;\r\n            }\r\n        }\r\n        return state;\r\n    }\r\n\r\n    public removeValidListByValue(item: any) {\r\n        if (!item || !this.validEnemyList || this.validEnemyList.length <= 0) {\r\n            return;\r\n        }\r\n        var _index = this.isFIndIndex(item, this.validEnemyList);\r\n        if (_index != -1) {\r\n            this.validEnemyList.splice(_index, 1);\r\n        }\r\n    }\r\n\r\n    initMatch(obj:any, complete:Function){\r\n        //\r\n        Laya.loader.load(\"scenes/match/MatchHeroSpr.lh\").then( (roleAni)=>{\r\n\r\n            this.roleAniPrefab = roleAni;\r\n\r\n            // Laya.loader.load(\"prefab/DropBox.lh\").then( (res)=>{\r\n            //     this.dropBoxPrefab = res;\r\n                this.createPlayers();\r\n                // this.createRanks();\r\n                if(complete)\r\n                    complete(obj);\r\n                // this.createItems();\r\n\r\n            // } );\r\n            \r\n        } );\r\n    }\r\n    updateMatch(obj:any, complete:Function){\r\n\r\n            // Laya.loader.load(\"prefab/DropBox.lh\").then( (res)=>{\r\n            //     this.dropBoxPrefab = res;\r\n                this.updatePlayers();\r\n                // this.createRanks();\r\n                if(complete)\r\n                    complete(obj);\r\n                // this.createItems();\r\n\r\n            // } );\r\n\r\n    }\r\n\r\n\r\n    \r\n\r\n    \r\n\r\n\r\n    // public myRoleId:number = 0;\r\n\r\n    // initPlayer(roleAni: Laya.Prefab) {\r\n    //     //\r\n    //     var myRoomPlayerDto:RoomPlayerDto = this.loginResponse.self\r\n    //     let roleAniNode = roleAni.create() as Laya.Sprite;\r\n    //     this.gameMap.addChild(roleAniNode);\r\n    //     var role:Role = roleAniNode.getComponent(Role);\r\n    //     role.roleId = myRoomPlayerDto.pid;\r\n    //     role.roleName = \"P\" + myRoomPlayerDto.pid;// =  this.loginResponse.name;\r\n    //     role.itemId = 20;\r\n    //     role.speed = 6;\r\n    //     this.myRoleId = myRoomPlayerDto.pid;\r\n\r\n    //     // roleAniNode.pivot(roleAniNode.width / 2, roleAniNode.height / 2);\r\n    //     roleAniNode.x = myRoomPlayerDto.x;\r\n    //     roleAniNode.y = myRoomPlayerDto.y;\r\n    //     this.setCurrentHero(roleAniNode);\r\n    // }\r\n    // createRanks(){\r\n    //     // this.initPlayer(roleAni);\r\n    //     this.matchHeros = [];\r\n    //     let len = MatchModel.instance.matchDto.ranks.length;\r\n    //     for(var i= 0; i<len; i++){\r\n    //         var roomRankPlayerDto:RoomRankPlayerDto = MatchModel.instance.matchDto.ranks[i];\r\n\r\n    //         if(GlobalDataManager.instance.playerDto.pid == roomRankPlayerDto.id){\r\n\r\n    //             this.myRank = roomRankPlayerDto;\r\n    //             // role.roleName = this.loginResponse.name;\r\n    //         }\r\n\r\n    //         this.matchHeros.push(roomRankPlayerDto);\r\n    //     }\r\n\r\n    // }\r\n    createPlayers(){\r\n        this.matchHeroDic = new Dictionary();\r\n        this.matchHeroSprDic = new Dictionary();\r\n        // this.initPlayer(roleAni);\r\n        this.matchHeroSprs = [];\r\n        let len = MatchModel.instance.matchDto.members.length;\r\n        for(var i= 0; i<len; i++){\r\n            var roomPlayerDto:RoomPlayerDto = MatchModel.instance.matchDto.members[i];\r\n\r\n\r\n            //\r\n            // let matchHeroSpr: MatchHeroSpr = Laya.Pool.getItemByCreateFun(\"roleAniPrefab\", this.roleAniPrefab.create, this.roleAniPrefab);\r\n            let matchHeroSpr: MatchHeroSpr = this.roleAniPrefab.create() as MatchHeroSpr;\r\n            matchHeroSpr.dataSource = roomPlayerDto;\r\n\r\n            if(GlobalDataManager.instance.playerDto.pid == roomPlayerDto.id){\r\n                this.myPlayer = roomPlayerDto;\r\n\r\n                this.setCurrentHero(matchHeroSpr);\r\n                // role.roleName = this.loginResponse.name;\r\n            }\r\n            this.matchHeroDic.set(roomPlayerDto.id, roomPlayerDto);\r\n            this.gameMap.addChild(matchHeroSpr);\r\n            this.matchHeroSprs.push(matchHeroSpr);\r\n            this.matchHeroSprDic.set(roomPlayerDto.id, matchHeroSpr);\r\n        }\r\n\r\n    }\r\n    updatePlayers(){\r\n        // this.matchHeroDic = new Dictionary();\r\n        // // this.initPlayer(roleAni);\r\n        this.matchHeroSprs = [];\r\n        let len = MatchModel.instance.matchDto.members.length;\r\n        for(var i= 0; i<len; i++){\r\n            var roomPlayerDto:RoomPlayerDto = MatchModel.instance.matchDto.members[i];\r\n            let matchHeroSpr: MatchHeroSpr = this.matchHeroSprDic.get(roomPlayerDto.id);\r\n\r\n\r\n            //\r\n            // let matchHeroSpr: MatchHeroSpr = Laya.Pool.getItemByCreateFun(\"roleAniPrefab\", this.roleAniPrefab.create, this.roleAniPrefab);\r\n            // let matchHeroSpr: MatchHeroSpr = this.roleAniPrefab.create() as MatchHeroSpr;\r\n            matchHeroSpr.dataSource = roomPlayerDto;\r\n\r\n            if(GlobalDataManager.instance.playerDto.pid == roomPlayerDto.id){\r\n                this.myPlayer = roomPlayerDto;\r\n\r\n                this.setCurrentHero(matchHeroSpr);\r\n                \r\n                // role.roleName = this.loginResponse.name;\r\n            }\r\n            this.matchHeroDic.set(roomPlayerDto.id, roomPlayerDto);\r\n            \r\n            // this.gameMap.addChild(matchHeroSpr);\r\n            this.matchHeroSprs.push(matchHeroSpr);\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    addPlayer(roomPlayerChangePush: RoomPlayerChangePush) {\r\n        if(roomPlayerChangePush.type == 1){\r\n            if(this.matchHeroSprs){\r\n                if(GlobalDataManager.instance.playerDto.pid == roomPlayerChangePush.member.id){\r\n                    console.log(\" :\" + roomPlayerChangePush.member.id)\r\n                    return;//\r\n                }\r\n\r\n                let matchHeroSpr = this.getRoleById(roomPlayerChangePush.member.id);\r\n                if(matchHeroSpr){\r\n                    matchHeroSpr.dataSource = roomPlayerChangePush.member;\r\n\r\n                    \r\n                    matchHeroSpr.alpha = 1;\r\n                }else{\r\n                    //\r\n                    // let matchHeroSpr: MatchHeroSpr = Laya.Pool.getItemByCreateFun(\"roleAniPrefab\", this.roleAniPrefab.create, this.roleAniPrefab);\r\n                    let matchHeroSpr: MatchHeroSpr = this.roleAniPrefab.create() as MatchHeroSpr;\r\n                    matchHeroSpr.dataSource = roomPlayerChangePush.member;\r\n                    this.gameMap.addChild(matchHeroSpr);\r\n                    this.matchHeroSprs.push(matchHeroSpr);\r\n                }                \r\n            }          \r\n\r\n        }else{\r\n            this.removeRoleById(roomPlayerChangePush.member.id);\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n    /**  */\r\n    onSendMove(timeStamp:number, roleId:number, speed:number, dire:number, x:number, y:number):void{\r\n        if(GlobalDataManager.instance.playerDto.pid == roleId){\r\n            // console.log(\"onMove x \"+ x + \", y: \" + y)\r\n\r\n            let roomMoveRequest = new RoomMoveRequest();\r\n            roomMoveRequest.time = timeStamp;\r\n            roomMoveRequest.speed = speed;\r\n            roomMoveRequest.dire = dire;\r\n            roomMoveRequest.x = x;\r\n            roomMoveRequest.y = y;\r\n            WebSocketService.instance.sendData(roomMoveRequest);\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    /**  */\r\n    onSendTargetMove(timeStamp:number, sourceId:number, targetId:number, targetX:number, targetY:number, skillId:number = 0):void{\r\n        if(GlobalDataManager.instance.playerDto.pid == sourceId){\r\n            // console.log(\"onMove x \"+ x + \", y: \" + y)\r\n\r\n            let targetMoveRequest = new TargetMoveRequest();\r\n            targetMoveRequest.time = timeStamp;\r\n\r\n            /** pid */\r\n            targetMoveRequest.targetId = targetId;\r\n            targetMoveRequest.targetX = targetX;\r\n            targetMoveRequest.targetY = targetY;\r\n            targetMoveRequest.skillId = skillId;\r\n            /**  */\r\n            targetMoveRequest.sourceId = sourceId;\r\n\r\n            WebSocketService.instance.sendData(targetMoveRequest);\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n    /**\r\n       ,1=2=\r\n    */\r\n    onSendAnimation(skillId:number, type:number, targetId:number = -1, newX:number = -1, newY:number = -1):void{\r\n        // if(GlobalDataManager.instance.playerDto.pid == roleId){\r\n            // console.log(\"onAttack x \"+ x + \", y: \" + y)\r\n\r\n            let animationRequest = new AnimationRequest();\r\n            animationRequest.skillId = skillId;\r\n            animationRequest.type = type;\r\n            animationRequest.targetId = targetId;\r\n            animationRequest.param.set(\"newX\", `${newX}`);\r\n            animationRequest.param.set(\"newY\", `${newY}`);\r\n            \r\n            \r\n            WebSocketService.instance.sendData(animationRequest);\r\n        // }\r\n        \r\n    }\r\n\r\n    onRevAnimationPush(animationPush: AnimationPush) {\r\n        /** pid */\r\n        var attHeroSpr = GameManager.instance.getRoleById(animationPush.attId);\r\n        if(animationPush.attId != GlobalDataManager.instance.playerDto.pid){\r\n            attHeroSpr.attack(animationPush.skillId, false, animationPush.param);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    onSendAttack(targetId:number, attackType:number, skillId:number):void{\r\n        // if(GlobalDataManager.instance.playerDto.pid == roleId){\r\n            // console.log(\"onAttack x \"+ x + \", y: \" + y)\r\n\r\n            let attackRequest = new AttackRequest();\r\n            attackRequest.targetId = targetId;\r\n            attackRequest.attackType = attackType;\r\n            attackRequest.skillId = skillId;\r\n            WebSocketService.instance.sendData(attackRequest);\r\n        // }\r\n        \r\n    }\r\n\r\n\r\n\r\n    onRevMovePush(roomPlayerMovePush: RoomPlayerMovePush) {\r\n        if(roomPlayerMovePush.pid == GlobalDataManager.instance.playerDto.pid){\r\n            return;\r\n\r\n        }\r\n\r\n        var roleSprite = GameManager.instance.getRoleById(roomPlayerMovePush.pid);\r\n        if(roleSprite){\r\n            roleSprite.onPushMoveData(roomPlayerMovePush.time,roomPlayerMovePush.speed,roomPlayerMovePush.dire,roomPlayerMovePush.x,roomPlayerMovePush.y);\r\n        }else{\r\n            console.log(roomPlayerMovePush.pid + \" sprite is null\");\r\n        }\r\n    }\r\n\r\n    onRevTargetMovePush(targetMovePush: TargetMovePush) {\r\n        if(targetMovePush.sourceId == GlobalDataManager.instance.playerDto.pid){\r\n            return;\r\n        }\r\n\r\n        var roleSprite = GameManager.instance.getRoleById(targetMovePush.targetId);\r\n        if(roleSprite){\r\n            roleSprite.onPushTargetMoveData(targetMovePush.time, targetMovePush.targetX,targetMovePush.targetY);\r\n        }else{\r\n            console.log(targetMovePush.targetId + \" sprite is null\");\r\n        }\r\n    }\r\n\r\n    onRevAttackPush(attackPush: AttackPush) {\r\n        /** pid */\r\n        var attHeroSpr = GameManager.instance.getRoleById(attackPush.attPid);\r\n        if(attackPush.attPid != GlobalDataManager.instance.playerDto.pid){\r\n            var skillItem:SkillItem = SheetDataManager.intance.m_dicSkills.get(attackPush.skill);\r\n            if(skillItem.type != 5)\r\n                attHeroSpr.attack(attackPush.skill, false);\r\n        }\r\n        // if(attackPush.bj){\r\n        //     attHeroSpr.attactBj(attackPush.attackValue);\r\n        // }\r\n\r\n        /** pid */\r\n        var defHeroSpr = GameManager.instance.getRoleById(attackPush.defPid);\r\n        // if(attackPush.sb){\r\n        //     /**  */\r\n        //     defHeroSpr.takeSb();\r\n        //     return;\r\n\r\n        // }else{\r\n            /**  */\r\n            defHeroSpr.takeDamage(attackPush, attHeroSpr);\r\n        // }\r\n        \r\n\r\n        var attPlayerDto:RoomPlayerDto = this.matchHeroDic.get(attackPush.attPid);\r\n        var defPlayerDto:RoomPlayerDto = this.matchHeroDic.get(attackPush.defPid);\r\n        attPlayerDto.score = attackPush.attScore;\r\n        defPlayerDto.score = attackPush.defScore;\r\n\r\n        if(attackPush.defHp <= 0){\r\n            var attPlayerDto:RoomPlayerDto = this.matchHeroDic.get(attackPush.attPid);\r\n            attPlayerDto.kill++;\r\n        }\r\n        Signal.intance.event(GameEvent.UPDATE_KILL_NUM);\r\n    }\r\n\r\n    sendRestoreData():void{\r\n\r\n            let roomInfoRequest = new RoomInfoRequest();\r\n\r\n            WebSocketService.instance.sendData(roomInfoRequest);\r\n        // }\r\n        \r\n    }\r\n\r\n    onRevRestorePush(matchDto: MatchDto) {\r\n        MatchModel.instance.matchDto = matchDto;\r\n        Signal.intance.event(GameEvent.EVENT_RESTORE_DATA);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // createOtherRoles(roleAni: Laya.Prefab) {\r\n    //     //\r\n    //     var startX = 310;\r\n    //     var dw = this.gameMap.width - 200 * 2;\r\n    //     var dx = dw / 5;\r\n    //     this.matchRoles = [];\r\n    //     for (let i = 0; i < 5; i++) {\r\n    //         let roleAniNode = roleAni.create() as Laya.Sprite;\r\n    //         roleAniNode.getComponent(Role).roleId = i + 10;\r\n    //         roleAniNode.getComponent(Role).roleName = \"P\" + i + 10;\r\n    //         roleAniNode.getComponent(Role).itemId = i + 10;\r\n            \r\n    //         roleAniNode.pos(startX + dx *  (i%5), 350 + i/5*90);\r\n    //         this.gameMap.addChild(roleAniNode);\r\n    //         this.matchRoles.push(roleAniNode);\r\n    //     }\r\n    // }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/////////////////////////////\r\n\r\n    \r\n    // createItems() {\r\n    //     //\r\n    //     var startX = 200;\r\n    //     var dw = this.gameMap.width - 200 * 2;\r\n    //     var dx = dw / 5;\r\n    //     this.matchItems = [];\r\n    //     for (let i = 0; i < 5; i++) {\r\n    //         let box: Laya.Sprite = Laya.Pool.getItemByCreateFun(\"dropBoxPrefab\", this.dropBoxPrefab.create, this.dropBoxPrefab);\r\n    //         box.getChildByName(\"itemImg\").getComponent(DropBox).itemId = i + 1;\r\n    //         box.pos(startX + dx * i, 500);\r\n    //         this.gameMap.addChild(box);\r\n    //         this.matchItems.push(box);\r\n    //     }\r\n    // }\r\n\r\n    // createItemById(itemId: number, x: number, y: number) {\r\n    //             //\r\n    //             // Laya.loader.load(\"prefab/DropBox.lh\").then( (res)=>{\r\n    //                 let box: Laya.Sprite = Laya.Pool.getItemByCreateFun(\"dropBoxPrefab\", this.dropBoxPrefab.create, this.dropBoxPrefab);\r\n    //                 //\r\n    //                 // let box: Laya.Sprite = Laya.Pool.getItemByCreateFun(\"dropBox\", res.create, res);\r\n    //                 box.getChildByName(\"itemImg\").getComponent(DropBox).itemId = itemId;\r\n    //                 box.pos(x, y);\r\n    //                 this.gameMap.addChild(box);\r\n    //                 this.matchItems.push(box);\r\n    //             // } );\r\n\r\n\r\n    // }\r\n\r\n\r\n\r\n    // getItemById(itemId: number): Laya.Sprite {\r\n    //     var matchItem: Laya.Sprite;\r\n    //     this.matchItems.forEach(_matchItem => {\r\n    //         if (_matchItem.getChildByName(\"itemImg\").getComponent(DropBox).itemId == itemId) {\r\n    //             matchItem = _matchItem;\r\n    //             return;\r\n    //         }\r\n    //     });\r\n    //     return matchItem;\r\n    // }\r\n\r\n\r\n    /////////////////////////////\r\n\r\n    getRoleById(roleId: number): MatchHeroSpr {\r\n        let matchHeroSpr: MatchHeroSpr;\r\n        this.matchHeroSprs && this.matchHeroSprs.forEach(_matchRole => {\r\n            if (_matchRole.roomPlayerDto.id == roleId) {\r\n                matchHeroSpr = _matchRole;\r\n                return;\r\n            }\r\n        });\r\n        return matchHeroSpr;\r\n    }\r\n    removeRoleById(roleId: number) {\r\n        var matchHeroSpr: MatchHeroSpr;\r\n        this.matchHeroSprs && this.matchHeroSprs.forEach(_matchRole => {\r\n            if (_matchRole.roomPlayerDto.id == roleId) {\r\n                matchHeroSpr = _matchRole;\r\n                _matchRole.speed = 0;\r\n                _matchRole.alpha = .3;\r\n                return;\r\n            }\r\n        });\r\n\r\n    }\r\n    \r\n    onGoMatchEndRank(rankList:RoomRankPlayerDto[]){\r\n        ModuleManager.intance.openModule(ModuleName.MatchEndRankView, rankList);\r\n    }\r\n\r\n    // createEnemy(roleAni: Laya.Prefab, gameMap: Laya.Sprite, parentNode: Laya.Sprite, index: number) {\r\n    //     // Laya.loader.load(\"resources/prefab/enemy.lh\", Laya.Handler.create(null, function (sp: any) {\r\n    //     //\r\n    //     let roleAniNode = roleAni.create() as Laya.Sprite;\r\n\r\n    //     // roleAniNode.pivot(roleAniNode.width / 2, roleAniNode.height / 2);\r\n    //     // roleAniNode.x = gameMap.width / 2;\r\n    //     // roleAniNode.y = gameMap.height / 2;\r\n\r\n    //     parentNode.addChild(roleAniNode);\r\n    //     roleAniNode.getComponent(Role).speed = 0.02 + index * 0.003;\r\n    //     // roleAniNode.getComponent(Role).setCurrentIndex(index);\r\n    //     // }))\r\n    // }\r\n    // createEnemy11(roleAni: Laya.Prefab, gameMap: Laya.Sprite, parentNode: Laya.Sprite, index: number) {\r\n    //     // Laya.loader.load(\"resources/prefab/enemy.lh\", Laya.Handler.create(null, function (sp: any) {\r\n    //     //\r\n    //     let roleAniNode = roleAni.create() as Laya.Sprite;\r\n\r\n    //     // roleAniNode.pivot(roleAniNode.width / 2, roleAniNode.height / 2);\r\n    //     roleAniNode.x = gameMap.width / 2;\r\n    //     roleAniNode.y = gameMap.height / 2;\r\n\r\n    //     parentNode.addChild(roleAniNode);\r\n    //     roleAniNode.getComponent(EnemyMove).speed = 0.02 + index * 0.003\r\n    //     roleAniNode.getComponent(EnemyMove).setCurrentIndex(index);\r\n    //     // }))\r\n    // }\r\n    public getValidList(): any {\r\n        return this.validEnemyList;\r\n    }\r\n\r\n    playMusic() {\r\n        SoundMgr.instance.playMusicByURL(\"resources/music/bgm.mp3\");\r\n        // Laya.SoundManager.playMusic(\"resources/music/bgm.mp3\", 0, Laya.Handler.create(null, () => {\r\n        //     //console.log(\"\")\r\n        // }));\r\n    }\r\n\r\n    playSound(musicType: MusicType) {\r\n        var fileName = \"\"\r\n        if (musicType == MusicType.ePuGong) {\r\n            fileName = \"resources/music/pugong\"\r\n        }\r\n        else if (musicType == MusicType.eEnemyAttack) {\r\n            fileName = \"resources/music/enemyHit\"\r\n        }\r\n        else if (musicType == MusicType.eDaZhao) {\r\n            fileName = \"resources/music/dazhao\"\r\n        }\r\n        SoundMgr.instance.playSound(fileName + \".wav\", 1);\r\n    }\r\n\r\n    public setCurrentHero(hero: MatchHeroSpr) {\r\n        hero.isMe = true;\r\n        var isFirst = this.myHeroSpr  == null;\r\n        this.myHeroSpr = hero;\r\n        // \r\n        GameManager.instance.moveGameWindow(true);\r\n        // this.gameWindowX = this.myHeroSpr.x - Laya.stage.width / 2;\r\n        // this.gameWindowY = this.myHeroSpr.y - Laya.stage.height / 2;\r\n\r\n        this.myHeroSpr.initBirth(isFirst);\r\n\r\n\r\n        \r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    getAttackTarget(skillItem: SkillItem): MatchHeroSpr {\r\n        console.log(\"getAttackTarget\");\r\n        // \r\n        var skillRadius: number = skillItem.distance;\r\n        //123N\r\n\r\n        var targetsType: number = skillItem.targetsType;\r\n        if(targetsType == 2){\r\n            let lastMatchHeroSpr: MatchHeroSpr;\r\n            let lastDistance:number = 10000;\r\n            this.matchHeroSprs && this.matchHeroSprs.forEach(_matchRole => {\r\n                if(!_matchRole._isDead && !_matchRole.isMe){\r\n                    var distance = this.isEnemyInRange(_matchRole, skillRadius);\r\n                    if(distance <= skillRadius){\r\n                        if(distance < lastDistance && this.canAttack(this.myHeroSpr, _matchRole)){\r\n                            lastMatchHeroSpr = _matchRole;\r\n                            lastDistance = distance;\r\n                        }\r\n    \r\n                    }\r\n    \r\n                }\r\n            });\r\n            return lastMatchHeroSpr;\r\n        }\r\n        \r\n        return null;\r\n\r\n    }\r\n\r\n    private isEnemyInRange(enemy: MatchHeroSpr, radius: number): number {\r\n        let distance = Math.sqrt(Math.pow(enemy.x - this.myHeroSpr.x, 2) + Math.pow(enemy.y - this.myHeroSpr.y, 2));\r\n        return distance;\r\n    }\r\n\r\n    \r\n    /**   */\r\n    public canAttack(myHeroSpr:MatchHeroSpr, enemy: MatchHeroSpr): boolean {\r\n        //  B  A \r\n        let playerBPositionVector: Laya.Vector2 = new Laya.Vector2();\r\n        playerBPositionVector.x = enemy.x - myHeroSpr.x;\r\n        playerBPositionVector.y = enemy.y - myHeroSpr.y;\r\n        // console.log(\"playerBPositionVector\", playerBPositionVector);\r\n\r\n        // myHeroSpr.roleDirection;\r\n        //  A \r\n        let playerAFrontVector: Laya.Vector2 = new Laya.Vector2(1, 0); //  A \r\n        // if(myHeroSpr.directStr == \"left\"){\r\n        //     playerAFrontVector = new Laya.Vector2(-1, 0);\r\n        // }\r\n        switch(myHeroSpr.roleDirection){\r\n            case 1:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(0, -1);\r\n                break;\r\n            case 2:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(1, -1);\r\n                break;\r\n            case 3:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(1, 0);\r\n                break;\r\n            case 4:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(1, 1);\r\n                break;\r\n            case 5:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(0, 1);\r\n                break;\r\n            case 6:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(-1, 1);\r\n                break;\r\n                \r\n            case 7:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(-1, 0);\r\n                break;\r\n            case 8:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(-1, -1);\r\n                break;\r\n        }\r\n        //  B  A  A \r\n\r\n        // \r\nlet angle: number =Math.atan2(playerBPositionVector.y, playerBPositionVector.x) - Math.atan2(playerAFrontVector.y, playerAFrontVector.x) ;\r\n// console.log(\"playerAFrontVector\", playerAFrontVector);\r\n// console.log(\"Math.atan2(playerAFrontVector.y, playerAFrontVector.x)\", Math.atan2(playerAFrontVector.y, playerAFrontVector.x));\r\n// console.log(\"Math.atan2(playerBPositionVector.y, playerBPositionVector.x)\", Math.atan2(playerBPositionVector.y, playerBPositionVector.x));\r\n// console.log(\"angle 1: \" + angle);\r\n\r\n// \r\nif (angle < 0) {\r\n    angle += 2 * Math.PI; // 2\r\n}\r\n\r\n// \r\nangle = angle * 180 / Math.PI;\r\n// // // \r\n// angle = angle * 180 / Math.PI;\r\nconsole.log(\"angle 2: \" + angle);\r\n\r\n        //  B  A \r\n        let thresholdAngle: number = 45; //  45 \r\n        return (angle < thresholdAngle) || (angle > 360 - thresholdAngle);\r\n    }\r\n\r\n    \r\n    /**   */\r\n    public canTui(myHeroSpr:MatchHeroSpr, enemy: MatchHeroSpr): boolean {\r\n        //  B  A \r\n        let playerBPositionVector: Laya.Vector2 = new Laya.Vector2();\r\n        playerBPositionVector.x = enemy.x - myHeroSpr.x;\r\n        playerBPositionVector.y = enemy.y - myHeroSpr.y;\r\n        // console.log(\"playerBPositionVector\", playerBPositionVector);\r\n\r\n        // myHeroSpr.roleDirection;\r\n        //  A \r\n        let playerAFrontVector: Laya.Vector2 = new Laya.Vector2(1, 0); //  A \r\n        // if(myHeroSpr.directStr == \"left\"){\r\n        //     playerAFrontVector = new Laya.Vector2(-1, 0);\r\n        // }\r\n        switch(myHeroSpr.roleDirection){\r\n            case 1:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(0, -1);\r\n                break;\r\n            case 2:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(1, -1);\r\n                break;\r\n            case 3:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(1, 0);\r\n                break;\r\n            case 4:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(1, 1);\r\n                break;\r\n            case 5:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(0, 1);\r\n                break;\r\n            case 6:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(-1, 1);\r\n                break;\r\n                \r\n            case 7:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(-1, 0);\r\n                break;\r\n            case 8:\r\n                //\r\n                playerAFrontVector = new Laya.Vector2(-1, -1);\r\n                break;\r\n        }\r\n        //  B  A  A \r\n\r\n        // \r\nlet angle: number =Math.atan2(playerBPositionVector.y, playerBPositionVector.x) - Math.atan2(playerAFrontVector.y, playerAFrontVector.x) ;\r\n// console.log(\"playerAFrontVector\", playerAFrontVector);\r\n// console.log(\"Math.atan2(playerAFrontVector.y, playerAFrontVector.x)\", Math.atan2(playerAFrontVector.y, playerAFrontVector.x));\r\n// console.log(\"Math.atan2(playerBPositionVector.y, playerBPositionVector.x)\", Math.atan2(playerBPositionVector.y, playerBPositionVector.x));\r\n// console.log(\"angle 1: \" + angle);\r\n\r\n// \r\nif (angle < 0) {\r\n    angle += 2 * Math.PI; // 2\r\n}\r\n\r\n// \r\nangle = angle * 180 / Math.PI;\r\n// // // \r\n// angle = angle * 180 / Math.PI;\r\nconsole.log(\"angle 2: \" + angle);\r\n\r\n        //  B  A \r\n        let thresholdAngle: number = 45; //  45 \r\n        return (angle < thresholdAngle) || (angle > 360 - thresholdAngle);\r\n    }\r\n\r\n\r\n\r\n    // public setCurrentPlane(plane: Laya.Sprite) {\r\n    //     this.planeNode = plane;\r\n    // }\r\n\r\n    // public getCurrentPlane() {\r\n    //     return this.planeNode;\r\n    // }\r\n\r\n    setMyHeroDirection(direction: number) {\r\n        if (!this.myHeroSpr)\r\n            return;\r\n        if(direction != -4){\r\n            this.myHeroSpr.myRoleDirection = direction;\r\n            this.myHeroSpr.speed = this.myHeroSpr.moveSpeed;\r\n            this.myHeroSpr.inControl = true;\r\n            this.isControl = true;\r\n            console.log(\"this.myHeroSpr.inControl: \" + this.myHeroSpr.inControl);\r\n        }else{\r\n            this.myHeroSpr.speed = 0;\r\n            this.myHeroSpr.inControl = false;\r\n            this.isControl = false;\r\n            console.log(\"this.myHeroSpr.inControl: \" + this.myHeroSpr.inControl);\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n    // \r\n    moveGameWindow(immediately:boolean = false) {\r\n        if (!this.myHeroSpr)\r\n            return;\r\n\r\n        this.gameWindowX = this.myHeroSpr.x - Laya.stage.width / 2;\r\n        this.gameWindowY = this.myHeroSpr.y - Laya.stage.height / 2;\r\n\r\n        var gameMapX = - this.gameWindowX;\r\n        var gameMapY = - this.gameWindowY;\r\n        var deW = Laya.stage.width - this.gameMap.width;\r\n        var deH = Laya.stage.height - this.gameMap.height;\r\n\r\n        // console.log(\"moveGameWindow: gameMap \", gameMapX, gameMapY, Laya.stage.width, Laya.stage.height, this.gameMap.x, this.gameMap.y);\r\n        if (gameMapX > 0) {\r\n            gameMapX = 0;\r\n        } else if (gameMapX < deW) {\r\n            gameMapX = deW;\r\n        } else {\r\n            gameMapX = gameMapX;\r\n        }\r\n\r\n\r\n        if (gameMapY > 0) {\r\n            gameMapY = 0;\r\n        } else if (gameMapY < deH) {\r\n            gameMapY = deH;\r\n        } else {\r\n            gameMapY = gameMapY;\r\n        }\r\n        // this.gameMap.x = gameMapX;\r\n        // this.gameMap.y = gameMapY;\r\n        if(immediately){\r\n            this.gameMap.pos(gameMapX, gameMapY, true);\r\n\r\n        }else{\r\n            Laya.Tween.to(this.gameMap, { x: gameMapX, y: gameMapY }, 500);\r\n        }\r\n\r\n        \r\n    }\r\n\r\n}\r\n\r\nexport enum MusicType {\r\n    ePuGong = 1, //\r\n    eEnemyAttack = 2,//\r\n    eDaZhao = 3 //\r\n}", "// import './web3.min.js'\r\nexport function initWeb3() {\r\n    if (typeof web3 !== 'undefined') {\r\n        web3 = new Web3(web3.currentProvider);\r\n    }\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2023-12-27 22:15:37\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2023-12-10 23:40:56\r\n */\r\n\r\nimport { Dictionary } from \"../../../util/Dictionary\";\r\n\r\n\t/**\r\n\t *  \r\n\t */\t\r\nexport class WalletModel {\r\n    \r\n    private static _instance: WalletModel;\r\n    \r\n  \r\n//  WalletItemVo \r\n    walletDic: Dictionary = new Dictionary();\r\n\r\n    public static get instance(): WalletModel {\r\n        if(!WalletModel._instance ) {\r\n            WalletModel._instance = new WalletModel()\r\n        } \r\n        return WalletModel._instance;\r\n    }\r\n    public constructor() {\r\n        \r\n    }\r\n\r\n    /**\r\n     * @msg: \r\n     * @param {number} assetType\r\n     * @return {*}\r\n     */\r\n    getEthValue(assetType: number): any {\r\n        if(WalletModel.instance.walletDic.get(assetType))\r\n            return WalletModel.instance.walletDic.get(assetType).ethValue;\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     * @msg: \r\n     * @param {number} assetType\r\n     * @return {*}\r\n     */\r\n     getValue(assetType: number): any {\r\n        if(WalletModel.instance.walletDic.get(assetType))\r\n            return WalletModel.instance.walletDic.get(assetType).value;\r\n        return 0;\r\n    }\r\n\r\n\r\n}", "import {Debug} from \"./Debug\";\r\nexport class Debugger {\r\n    private static DEFAULT_COLOR: string = \"#ffffff\";\r\n    private bigContainer: Laya.Sprite;\r\n    private bgContainer: Laya.Sprite;\r\n    private _bgSp: Laya.Sprite;\r\n    private _debugInfoTf: Laya.Text;\r\n    private _closeTf: Laya.Label;\r\n    private _autoScrollTf: Laya.Label;\r\n    private _bgAlpha0: Laya.Label;\r\n    private _bgAlpha1: Laya.Label;\r\n    private _clearTf: Laya.Label;\r\n    private _testTf: Laya.Label;\r\n    private _actionLineList: any[];\r\n    private _lineIndex: number = 0;\r\n    private _currentLine: any[];\r\n    private _autoScroll: boolean;\r\n    private _stopScrollV: number;\r\n    private _hide: boolean;\r\n    private _time: number;\r\n    private _stage: Laya.Stage;\r\n    private _isShow: boolean = false;\r\n    private _alpha: number = 0.6;\r\n    private totalW: number;\r\n    private totalH: number;\r\n    private isInit: boolean = false;\r\n    private _isRelease: boolean = true;\r\n    public constructor(stage: Laya.Stage, isRelease: boolean) {\r\n        this._stage = stage;\r\n        this._isRelease = isRelease;\r\n        this._actionLineList = [];\r\n        this._time = (new Date()).getTime();\r\n        \r\n        let moveStartX: number;\r\n        let moveStartY: number;\r\n        let moveEndX: number;\r\n        let moveEndY: number;\r\n        let onDebugDown = function(e: Laya.Event): void {\r\n            moveStartX = e.stageX;\r\n            moveStartY = e.stageY;\r\n            moveEndX = moveStartX;\r\n            moveEndY = moveStartY;\r\n        };\r\n        let onDebugMove = function(e: Laya.Event): void {\r\n            moveEndX = e.stageX;\r\n            moveEndY = e.stageY;\r\n        };\r\n        let onDebugUp = function(e: Laya.Event): void {\r\n            let widthEnough: boolean = Laya.stage.width - (moveEndX - moveStartX) < 160;\r\n            let heightEnough: boolean = Laya.stage.height - (moveEndY - moveStartY) < 160;\r\n            // console.log(\"MainGame.onDebugUp(e)\", \"currentTarget: \" + e.currentTarget[\"constructor\"].name, \"target: \" + e.target[\"constructor\"].name, widthEnough, heightEnough);\r\n            if(widthEnough && heightEnough ) {\r\n                if(Debug.debugger ) {\r\n                    // if(this._isRelease ) {\r\n                    //     AndroidPlatform.instance.FGM_OpenComment()\r\n                    // } else {\r\n                        Laya.Browser.window.console.log = Debug.addConsoleLog;\r\n                        Debug.debugger.showOrHide()\r\n                    // }\r\n                    // Laya.timer.callLater(this, function(): void {\r\n                        \r\n                    // });\r\n                } \r\n            } \r\n        };\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, onDebugDown);\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, onDebugMove);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP, this, onDebugUp);\r\n    }\r\n    private initDebugView(): void {\r\n        if(!this.isInit ) {\r\n            this.totalW = Laya.stage.width;\r\n            this.totalH = Laya.stage.height / 2;\r\n            this.bigContainer = new Laya.Sprite();\r\n            this.bgContainer = new Laya.Sprite();\r\n            this._bgSp = new Laya.Sprite();\r\n            this._bgSp.alpha = this._alpha;\r\n            this._bgSp.graphics.drawRect(0, 0, this.totalW, this.totalH, \"#000000\");\r\n            this._bgSp.mouseEnabled = false;\r\n            this._debugInfoTf = new Laya.Text();\r\n            this._debugInfoTf.color = \"#ffffff\";\r\n            this._debugInfoTf.width = this.totalW - 10;\r\n            this._debugInfoTf.height = this.totalH - 10;\r\n            this._debugInfoTf.overflow = \"scroll\";\r\n            this._debugInfoTf.wordWrap = true;\r\n            let selfStr: string = \"[LOADINFO - DEBUGGER]\";\r\n            this.appendText(\" \" + selfStr, 0, false);\r\n            this._closeTf = new Laya.Label();\r\n            this._closeTf.color = \"#ff0000\";\r\n            this._closeTf.valign = \"middle\";\r\n            this._closeTf.width = 55;\r\n            this._closeTf.height = 55;\r\n            this._closeTf.borderColor = Debugger.DEFAULT_COLOR;\r\n            this._closeTf.text = \"\";\r\n            this._autoScrollTf = new Laya.Label();\r\n            this._autoScrollTf.color = \"#ff0000\";\r\n            this._autoScrollTf.valign = \"middle\";\r\n            this._autoScrollTf.width = 55;\r\n            this._autoScrollTf.height = 55;\r\n            this._autoScrollTf.borderColor = Debugger.DEFAULT_COLOR;\r\n            this._autoScrollTf.text = \"\";\r\n            this._bgAlpha0 = new Laya.Label();\r\n            this._bgAlpha0.color = \"#ff0000\";\r\n            this._bgAlpha0.valign = \"middle\";\r\n            this._bgAlpha0.width = 55;\r\n            this._bgAlpha0.height = 55;\r\n            this._bgAlpha0.borderColor = Debugger.DEFAULT_COLOR;\r\n            this._bgAlpha0.text = \"-\";\r\n            this._bgAlpha1 = new Laya.Label();\r\n            this._bgAlpha1.color = \"#ff0000\";\r\n            this._bgAlpha1.valign = \"middle\";\r\n            this._bgAlpha1.width = 55;\r\n            this._bgAlpha1.height = 55;\r\n            this._bgAlpha1.borderColor = Debugger.DEFAULT_COLOR;\r\n            this._bgAlpha1.text = \"+\";\r\n            this._clearTf = new Laya.Label();\r\n            this._clearTf.color = \"#ff0000\";\r\n            this._clearTf.valign = \"middle\";\r\n            this._clearTf.width = 55;\r\n            this._clearTf.height = 55;\r\n            this._clearTf.borderColor = Debugger.DEFAULT_COLOR;\r\n            this._clearTf.text = \"\";\r\n            this._testTf = new Laya.Label();\r\n            this._testTf.color = \"#ff0000\";\r\n            this._testTf.width = 55;\r\n            this._testTf.height = 55;\r\n            this._testTf.borderColor = Debugger.DEFAULT_COLOR;\r\n            this._testTf.text = \"\";\r\n            this.bgContainer.x = 5;\r\n            this.bgContainer.y = 5;\r\n            this._debugInfoTf.x = 5;\r\n            this._debugInfoTf.y = 5;\r\n            this.bgContainer.addChild(this._bgSp);\r\n            this.bgContainer.addChild(this._debugInfoTf);\r\n            this._closeTf.x = this.totalW - 60;\r\n            this._closeTf.y = 5;\r\n            this.bgContainer.addChild(this._closeTf);\r\n            this._autoScrollTf.x = this.totalW - 60;\r\n            this._autoScrollTf.y = 105;\r\n            this.bgContainer.addChild(this._autoScrollTf);\r\n            this._bgAlpha0.x = this.totalW - 60;\r\n            this._bgAlpha0.y = 205;\r\n            this.bgContainer.addChild(this._bgAlpha0);\r\n            this._bgAlpha1.x = this.totalW - 60;\r\n            this._bgAlpha1.y = 305;\r\n            this.bgContainer.addChild(this._bgAlpha1);\r\n            this._clearTf.x = this.totalW - 60;\r\n            this._clearTf.y = 405;\r\n            this.bgContainer.addChild(this._clearTf);\r\n            this._testTf.x = this.totalW - 60;\r\n            this._testTf.y = 505;\r\n            this.bigContainer.addChild(this.bgContainer);\r\n            this.bigContainer.addChild(this._testTf);\r\n            this._autoScroll = true;\r\n            this._hide = true;\r\n            this._debugInfoTf.on(Laya.Event.MOUSE_DOWN, this, this.startScrollText);\r\n            this._closeTf.on(Laya.Event.CLICK, this, this.onCloseTfClick);\r\n            this._autoScrollTf.on(Laya.Event.CLICK, this, this.onAutoScrollTfClick);\r\n            this._bgAlpha0.on(Laya.Event.CLICK, this, this.onBgAlpha0);\r\n            this._bgAlpha1.on(Laya.Event.CLICK, this, this.onBgAlpha1);\r\n            this._clearTf.on(Laya.Event.CLICK, this, this.onClearTfClick);\r\n            this._testTf.on(Laya.Event.CLICK, this, this.onTestTfClick);\r\n            this.isInit = true;\r\n        } \r\n    }\r\n    public show(): void {\r\n        this.initDebugView();\r\n        this._stage.addChild(this.bigContainer);\r\n        this._isShow = true;\r\n        this.updateView();\r\n    }\r\n    public hide(): void {\r\n        this.initDebugView();\r\n        if(this.bigContainer.parent ) {\r\n            this.bigContainer.parent.removeChild(this.bigContainer)\r\n        } \r\n        this._isShow = false;\r\n        this.updateView();\r\n    }\r\n    public showOrHide(): void {\r\n        this._isShow = !this._isShow;\r\n        if(this._isShow ) {\r\n            this.show();\r\n        } else {\r\n            this.hide();\r\n        }\r\n    }\r\n    public appendText(str: string, color: number = 0, addTime: boolean = true): void {\r\n        if(addTime ) {\r\n            let time: number = (new Date()).getTime() - this._time;\r\n            str += \"  [\" + (time / 1000).toFixed(3) + \"]\";\r\n        } \r\n        this._actionLineList.push([str + \"\\n\", color]);\r\n        if(this._lineIndex >= 200 ) {\r\n            this._actionLineList.splice(0, 20);\r\n            this._lineIndex -= 20;\r\n        } \r\n        this._count++;\r\n        if(this._count > this.maxCount ) {\r\n            this._count = 0;\r\n            if(this._debugInfoTf ) {\r\n                this._debugInfoTf.text = \"\"\r\n            } \r\n        } \r\n        if(this._isShow ) {\r\n            this._currentLine = this._actionLineList[this._lineIndex++];\r\n            if(this._debugInfoTf ) {\r\n                this._debugInfoTf.text += this._currentLine[0]\r\n            } \r\n            if(this._autoScroll ) {\r\n                if(this._debugInfoTf ) {\r\n                    this._debugInfoTf.scrollY = this._debugInfoTf.maxScrollY\r\n                } \r\n            } \r\n        } \r\n    }\r\n    private _count: number = 0;\r\n    private maxCount: number = 1000;\r\n    private updateView(): void {\r\n        if(this._isShow ) {\r\n            this._count = 0;\r\n            this._debugInfoTf.text = \"\";\r\n            let len: number = this._actionLineList.length;\r\n            for(this._lineIndex = 0; this._lineIndex < len; ++this._lineIndex) {\r\n                this._currentLine = this._actionLineList[this._lineIndex];\r\n                this._debugInfoTf.text += this._currentLine[0];\r\n                this._count++;\r\n                if(this._count > this.maxCount ) {\r\n                    this._count = 0;\r\n                    this._debugInfoTf.text = \"\";\r\n                } \r\n            }\r\n            if(this._autoScroll ) {\r\n                this._debugInfoTf.scrollY = this._debugInfoTf.maxScrollY;\r\n            } \r\n        } else {\r\n            this._debugInfoTf.text = \"\";\r\n        }\r\n    }\r\n    private onCloseTfClick(e: Laya.Event): void {\r\n        this.hide();\r\n    }\r\n    private onAutoScrollTfClick(e: Laya.Event): void {\r\n        this._autoScroll = !this._autoScroll;\r\n        if(this._autoScroll ) {\r\n            this._autoScrollTf.text = \"\";\r\n        } else {\r\n            this._autoScrollTf.text = \"\";\r\n        }\r\n    }\r\n    private onBgAlpha0(e: Laya.Event): void {\r\n        this._alpha -= 0.1;\r\n        if(this._alpha <= 0 ) {\r\n            this._alpha = 0\r\n        } \r\n        this._bgSp.alpha = this._alpha;\r\n    }\r\n    private onBgAlpha1(e: Laya.Event): void {\r\n        this._alpha += 0.1;\r\n        if(this._alpha >= 1 ) {\r\n            this._alpha = 1\r\n        } \r\n        this._bgSp.alpha = this._alpha;\r\n    }\r\n    private onClearTfClick(e: Laya.Event): void {\r\n        this._debugInfoTf.text = \"\";\r\n        this._actionLineList.length = 0;\r\n        this._lineIndex = 0;\r\n    }\r\n    private onTestTfClick(e: Laya.Event): void {\r\n        this.bgContainer.mouseEnabled = !this.bgContainer.mouseEnabled;\r\n    }\r\n    private _testFun: Function;\r\n    public set testFun(value: Function) {\r\n        this._testFun = value;\r\n    }\r\n    public get bgSp(): Laya.Sprite {\r\n        return this._bgSp;\r\n    }\r\n    private prevX: number = 0;\r\n    private prevY: number = 0;\r\n    private startScrollText(e: Laya.Event): void {\r\n        this.prevX = this._debugInfoTf.mouseX;\r\n        this.prevY = this._debugInfoTf.mouseY;\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.scrollText);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.finishScrollText);\r\n    }\r\n    private finishScrollText(e: Laya.Event): void {\r\n        Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.scrollText);\r\n        Laya.stage.off(Laya.Event.MOUSE_UP, this, this.finishScrollText);\r\n    }\r\n    private scrollText(e: Laya.Event): void {\r\n        let nowX: number = this._debugInfoTf.mouseX;\r\n        let nowY: number = this._debugInfoTf.mouseY;\r\n        this._debugInfoTf.scrollX += this.prevX - nowX;\r\n        this._debugInfoTf.scrollY += this.prevY - nowY;\r\n        this.prevX = nowX;\r\n        this.prevY = nowY;\r\n    }\r\n}", "import { Quick } from \"../global/util/Quick\";\r\nimport {Debugger} from \"./Debugger\";\r\nexport class Debug {\r\n    public static debugger: Debugger;\r\n    public static isRelease: boolean;\r\n    public static Initialize(stage: Laya.Stage, isRelease: boolean): void {\r\n        Debug.isRelease = isRelease;\r\n        if(this.debugger == null ) {\r\n            this.debugger = new Debugger(stage, isRelease);\r\n            \r\n        } \r\n    }\r\n\r\n    /**\r\n\t * type: 0= 1=\r\n\t */\r\n\tpublic static log(message:any, type:number = 0, color:number = 0):void\r\n\t{\r\n//\t\treturn;\r\n\t\tvar logMsg:string = Quick.GetLogTime + \" \" + message;\r\n\t\tif(type){\r\n\t\t\tDebug.addLog(logMsg, type, color);\r\n\t\t}\t\t\t\r\n\t\telse{\r\n\t\t\t// if(!Laya.PlatformClass)// 0\r\n\t\t\t\t// console.log(logMsg);\r\n\t\t}\r\n\t}\r\n\r\n\r\n    private static addLog(message: string, type: number = 0, color: number = 0): void {\r\n        if(this.debugger ) {\r\n            this.debugger.appendText(message, color)\r\n        } \r\n        console.log(message);\r\n    }\r\n\r\n\r\n    public static addConsoleLog(...args: any): void {\r\n        if(Debug.debugger ) {\r\n            Debug.debugger.appendText(args, 0)\r\n        } \r\n        // console.log(message);\r\n    }\r\n}", "/**\r\n* name \r\n*/\r\nimport { ErrorPopManager } from \"../common/ErrorPopManager\";\r\nimport { EthereumManager } from \"../global/contract/EthereumManager\";\r\nimport { Debug } from \"../util/Debug\";\r\nimport HttpRequest = Laya.HttpRequest;\r\nimport { GlobalDataManager } from \"../global/GlobalDataManager\";\r\nimport { Quick } from \"../global/util/Quick\";\r\nimport { GameSetting } from \"../global/GameSetting\";\r\nexport default class HttpCmd{\r\n\tpublic static httpRoot:string = getServer();\r\n\r\n\t/**\r\n\t * http\r\n\t * @param handler \r\n\t * @param action \r\n\t * @param srvArgs \r\n\t*/\r\n\tpublic static requestGet(action:string, srvArgs?:any,needLogin=false,needToken=true):any{\r\n\t\t// console.log(Quick.GetLogTime + \" REQUEST_GET action:\", action, srvArgs);\r\n\t\treturn new Promise((resolve,reject)=>{\r\n\t\t\tvar xhr:HttpRequest = Laya.Pool.getItem(\"HttpRequest\");\r\n\t\t\tif(!xhr){\r\n\t\t\t\txhr = new HttpRequest();\r\n\t\t\t}\r\n\t\t\txhr.http.timeout = 2000;//\r\n\t\t\txhr.on(Laya.Event.COMPLETE,null,completeHandler);\r\n\t\t\txhr.on(Laya.Event.ERROR,null,errorHandler);\r\n\t\t\txhr.http.onreadystatechange = ()=>{\r\n\t\t\t\t\t// In local files, status is 0 upon success in Mozilla Firefox\r\n\t\t\t\t\tif(xhr.http.readyState === XMLHttpRequest.DONE) {\r\n\t\t\t\t\t  var status = xhr.http.status;\r\n\t\t\t\t\t  if ((status >= 200 && status < 400)) {\r\n\t\t\t\t\t\t// The request has been completed successfully\r\n\t\t\t\t\t\t// console.log(xhr.http.responseText);\r\n\t\t\t\t\t  } else {\r\n\t\t\t\t\t\t// Oh no! There has been an error with the request!\r\n\t\t\t\t\t\treject()\r\n\t\t\t\t\t\trecover();\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet token = localStorage.getItem('TOX-COOKIE' + EthereumManager.instance.walletAddress);\r\n\t\t\tlet header = [\"Content-Type\", \"application/json\"];\r\n\t\t\tif(token){\r\n\t\t\t\theader = [...header,...['Authorization',token]]\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//\r\n\t\t\tlet realUrl = HttpCmd.httpRoot+ \"/\" + action+parseArgs(srvArgs);\r\n\t\t\tif(HttpCmd.httpRoot != \"https://api.cybertron.world\"){\r\n\t\t\t\tDebug.log(\"REQUEST_GET \"+ realUrl, 1);\r\n\t\t\t}\r\n\t\t\txhr.send(realUrl, null,\"get\",'json',header);\r\n\t\t\t\r\n\t\t\tfunction parseArgs(args:any):string{\r\n\t\t\t\tif(typeof args === \"string\"){\r\n\t\t\t\t\treturn args;\r\n\t\t\t\t}\r\n\t\t\t\tlet str = ''\r\n\t\t\t\tfor(let i in args){\r\n\t\t\t\t\tstr += \"&\" + i+\"=\"+args[i];\r\n\t\t\t\t}\r\n\t\t\t\t// str += \"&t=\"+Laya.Browser.now();\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfunction completeHandler(data:any):void{\r\n\t\t\t\tif(data.code === '0'){\r\n\t\t\t\t\tresolve(data.data)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tErrorPopManager.instance.showErrorWord(parseInt(data.code));\r\n\t\t\t\t\t// NoticeMgr.instance.notice('ERROR-CODE=' + data.code);\r\n\t\t\t\t\treject(data.code)\r\n\t\t\t\t}\r\n\t\t\t\trecover();\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tfunction errorHandler(data:Object,e:Event):void{\r\n\t\t\t\tdebugger\r\n\t\t\t\t//\r\n\t\t\t\treject(data)\r\n\t\t\t\trecover(); \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfunction recover():void{\r\n\t\t\t\txhr.off(Laya.Event.COMPLETE,null,completeHandler);\r\n\t\t\t\txhr.off(Laya.Event.ERROR,null,errorHandler);\r\n\t\t\t\tLaya.Pool.recover(\"HttpRequest\", xhr)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\r\n\r\n\r\n\tpublic static startHeart(){\r\n\t\t// if(GameSetting.Debug != 2)\r\n\t\tLaya.timer.loop(1000, this, this.onHeart);\r\n\t}\r\n\tstatic async onHeart() {\r\n\t\tvar data = await this.requestPost(\"wxgame/sys/ping\", {}, true, true);\r\n\t\tvar time = data.time;\r\n\t\tGlobalDataManager.instance.m_serverTime = time;\r\n\t\tvar resChange = data.resChange;\r\n\t\t// resChange =  [ [3001, 1 ] ];//\r\n\t\tif(resChange && resChange.length>0){\r\n\t\t\tGlobalDataManager.instance.moneyInfoHander(resChange);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t//\r\n\t// let loginRequest = {address:this.walletAddress,\r\n\t//     time:time,\r\n\t//     randomHex:randomHex,\r\n\t//     r:r,\r\n\t//     s:s,\r\n\t//     v:v\r\n\t// };\r\n\t// let res = await HttpCmd.requestPost('cybertron-sys-api/api/v1/auth/login',loginRequest);\r\n\r\n    private static seq:number = 0;\r\n\t/**\r\n\t * http\r\n\t * @param action \r\n\t * @param srvArgs \r\n\t*/\r\n\tpublic static requestPost(action:string, srvArgs?:any,needLogin=false,needToken=true):any{\r\n\t\t// if(GameSetting.isTest){ \r\n\t\t// \treturn [];\t\t\r\n\t\t// }\r\n\t\tlet loginToken = localStorage.getItem('TOX-COOKIE'+ EthereumManager.instance.walletAddress);\r\n\t\tif(needLogin && !loginToken){\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\treturn new Promise((resolve,reject)=>{\r\n\r\n\t\t\tvar xhr:HttpRequest = Laya.Pool.getItem(\"HttpRequest\");\r\n\t\t\tif(!xhr){\r\n\t\t\t\txhr = new HttpRequest();\r\n\t\t\t}\r\n\t\t\txhr.http.timeout = 10000;//\r\n\t\t\txhr.once(Laya.Event.COMPLETE,null,completeHandler);\r\n\t\t\txhr.once(Laya.Event.ERROR,null,errorHandler);\r\n\t\t\r\n\t\t\tlet header: any[] = [];//[\"Content-Type\", \"application/json\"];\r\n\t\t\tif(loginToken && needToken){\r\n\t\t\t\t// srvArgs.loginToken = loginToken;\r\n\t\t\t\theader = [...header,...['Authorization', loginToken]]\r\n\t\t\t}\r\n\t\t\tvar currSeq = HttpCmd.seq + 1;\r\n\t\t\tHttpCmd.seq = currSeq;\r\n\t\t\tif(HttpCmd.httpRoot != \"https://api.cybertron.world\" && action != \"wxgame/sys/ping\"){\r\n\t\t\t\tconsole.log(currSeq+ \" >>> HTTP_POST \"+ HttpCmd.httpRoot + \"/\" + action + \" \" + JSON.stringify(srvArgs), loginToken);\r\n\t\t\t}\r\n\t\t\t//\r\n\t\t\txhr.send(HttpCmd.httpRoot + \"/\" + action, srvArgs,\"post\",'json',header);\r\n\r\n\t\t\t\r\n\t\t\tasync function completeHandler(data:any){\r\n\t\t\t\tif(HttpCmd.httpRoot != \"https://api.cybertron.world\" && action != \"wxgame/sys/ping\"){\r\n\t\t\t\t\tconsole.log(currSeq+ \" <<< hTTP_RCV data: \" + JSON.stringify(data), 1);\r\n\t\t\t\t}\r\n\t\t\t\tif(data.errorCode == 0 || data.errorCode === '0'){\r\n\t\t\t\t\tresolve(data)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(data.errorCode === 10){ \r\n\t\t\t\t\t\tQuick.heroNotEnought();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(data.errorCode === 18){//token \r\n\t\t\t\t\t\tQuick.titickNotEnought();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(data.errorCode === 5){//token \r\n\t\t\t\t\t\tif(GameSetting.Debug == 0){//\r\n\t\t\t\t\t\t\tlocalStorage.setItem('TOX-COOKIE' + EthereumManager.instance.walletAddress,'')\r\n\t\t\t\t\t\t\tvar loginData = await EthereumManager.instance.refreshToken();\r\n\t\t\t\t\t\t\tif(loginData){\r\n\t\t\t\t\t\t\t\tHttpCmd.requestPost(action, srvArgs,needLogin,needToken);//\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tlocalStorage.setItem('TOX-COOKIE' + EthereumManager.instance.walletAddress,'')\r\n\t\t\t\t\t\t\tErrorPopManager.instance.showErrorWord(parseInt(data.errorCode));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(data.errorCode === 17){//token \r\n\t\t\t\t\t\tif(GameSetting.Debug == 0){//\r\n\t\t\t\t\t\t\tlocalStorage.setItem('TOX-COOKIE' + EthereumManager.instance.walletAddress,'')\r\n\t\t\t\t\t\t\tEthereumManager.instance.signAndLogin();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tlocalStorage.setItem('TOX-COOKIE' + EthereumManager.instance.walletAddress,'')\r\n\t\t\t\t\t\t\tErrorPopManager.instance.showErrorWord(parseInt(data.errorCode));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tErrorPopManager.instance.showErrorWord(parseInt(data.errorCode));\r\n\t\t\t\t\t}\r\n\t\t\t\t\treject(data.errorCode)\r\n\t\t\t\t}\r\n\t\t\t\trecover();\r\n\t\t\t}\r\n\r\n\t\t\tfunction errorHandler(data:Object,e:Event):void{\r\n\t\t\t\tconsole.log(\"errorHandler data: \" + data, 1);\r\n\t\t\t\tErrorPopManager.instance.showErrorWord(500);\r\n\t\t\t\treject(data)\r\n\t\t\t\t//\r\n\t\t\t\trecover();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfunction recover():void{\r\n\t\t\t\txhr.off(Laya.Event.COMPLETE,null,completeHandler);\r\n\t\t\t\txhr.off(Laya.Event.ERROR,null,errorHandler);\r\n\t\t\t\tLaya.Pool.recover(\"HttpRequest\", xhr)\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t}\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2023-12-18 01:30:25\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2023-12-10 20:36:40\r\n */\r\nexport class EnumWallet {\r\n/**\r\n         * \r\n         * 10000\t\r\n         * 10001\t\r\n         * 10002\t\r\n         * 10003\t\r\n         * 10004\t\r\n         * 10005\t\r\n\r\n        */\r\n    public static ASSETS_TOX: number = 10000;\r\n/**\r\n         * \r\n         * 10000\t\r\n         * 10001\t\r\n         * 10002\t\r\n         * 10003\t\r\n         * 10004\t\r\n         * 10005\t\r\n\r\n        */\r\n    public static ASSETS_ARCANITE: number = 10001;\r\n    public static ASSETS_CRYSTAL: number = 10002;\r\n    public static ASSETS_MITHRIL: number = 10003;\r\n    public static ASSETS_REDSTONE: number = 10004;\r\n    public static ASSETS_TRUEIRON: number = 10005;\r\n}", "\r\nimport { Dictionary } from \"../../util/Dictionary\";\r\nimport { SheetDataManager } from \"../SheetDataManager\";\r\n\r\nexport class EthereumConfig {\r\n    //\r\n    public static ADDRESS0:string = '0x0000000000000000000000000000000000000000';\r\n\r\n    public static configDic:Dictionary;\r\n    //TOX bsc-test\r\n    public static TOX_ADDRESS:String = '0xA7b194Fb8f9b5A3a92bD5e99E2028C922727c770';\r\n    //ERC20 ABI\r\n    public static TOKEN_ERC20ABI = [{\"inputs\":[] as any[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"miner\",\"type\":\"address\"}],\"name\":\"addMinter\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"burn\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subtractedValue\",\"type\":\"uint256\"}],\"name\":\"decreaseAllowance\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_delMinter\",\"type\":\"address\"}],\"name\":\"delMinter\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"idx\",\"type\":\"uint256\"}],\"name\":\"getMinter\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getMinterLength\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"addedValue\",\"type\":\"uint256\"}],\"name\":\"increaseAllowance\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isMinter\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"mint\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];\r\n\r\n \r\n    //\r\n    public static ACCOUNT_ADDRESS = '0x5ff2123b0Aa4bD97eeF5F6388EFCB56cd29D6835';\r\n    //ABI\r\n    public static ACCOUNT_ABI = [{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"approved\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"ApprovalForAll\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"nickName\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"avatar\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"level\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"birthHeight\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"birthPlace\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"gender\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"influence\",\"type\":\"uint256\"}],\"name\":\"Mint\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"addGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"baseURI\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"burn\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_avatar\",\"type\":\"string\"}],\"name\":\"changeAvatar\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_gender\",\"type\":\"uint256\"}],\"name\":\"changeGender\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_influence\",\"type\":\"uint256\"}],\"name\":\"changeInfluence\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_level\",\"type\":\"uint256\"}],\"name\":\"changeLevel\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_nickname\",\"type\":\"string\"}],\"name\":\"changeNickName\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"_nickname\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_avatar\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"_level\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_birthHeight\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_birthPlace\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_gender\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_influence\",\"type\":\"uint256\"}],\"name\":\"createAccount\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"deletedGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"getAccountInfo\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"nickName\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"avatar\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"level\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"birthHeight\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"birthPlace\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"gender\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"influence\",\"type\":\"uint256\"}],\"internalType\":\"struct AccountInfo\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"getApproved\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getGovernment\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getGovernmentLength\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"}],\"name\":\"isApprovedForAll\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isGovernment\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"ownerOf\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"_data\",\"type\":\"bytes\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"setApprovalForAll\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"newBaseURI\",\"type\":\"string\"}],\"name\":\"setBaseURI\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"newTokenURI\",\"type\":\"string\"}],\"name\":\"setTokenURI\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"tokenByIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"tokenOfOwnerByIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"tokenURI\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];\r\n   \r\n    //\r\n    public static CREATE_ACCOUNT_ADDRESS = '0x1f17861277281Fc2A97Ef59F15dE994D4e658e8b';\r\n    //ABI\r\n    public static CREATE_ACCOUNT_ABI = [{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_accountContract\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_place\",\"type\":\"uint256[]\"}],\"name\":\"addBirthPlace\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"addGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"deletedGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getAccountInfo\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"nickName\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"avatar\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"level\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"birthHeight\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"birthPlace\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"gender\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"influence\",\"type\":\"uint256\"}],\"internalType\":\"struct AccountInfo\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getBirthPlace\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getGovernment\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getGovernmentLength\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getWebSit\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"hasCanRegister\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"hasRegistered\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isGovernment\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"nickName\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"gender\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_avatar\",\"type\":\"string\"}],\"name\":\"registerAccount\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"_canRegister\",\"type\":\"bool\"}],\"name\":\"setCanRegister\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_websit\",\"type\":\"string\"}],\"name\":\"setWebsit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];\r\n   \r\n    //\r\n    public static EDIT_ACCOUNT_ADDRESS = '0xaa1B8FA74Ed295123a6336C2D3a88cB973160dfa';\r\n    //ABI\r\n    public static EDIT_ACCOUNT_ABI = [{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_accountContract\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"_website\",\"type\":\"string\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"addGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"deletedGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getGovernment\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getGovernmentLength\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPirce\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"exchangeToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"rate\",\"type\":\"uint256\"}],\"internalType\":\"struct UpdateProfile.Price\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getWebsite\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isGovernment\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"_isOpen\",\"type\":\"bool\"}],\"name\":\"setOpen\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_exchangeToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_rate\",\"type\":\"uint256\"}],\"name\":\"setPrice\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_website\",\"type\":\"string\"}],\"name\":\"setWebsite\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"nickName\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"avatar\",\"type\":\"string\"}],\"name\":\"updateProfile\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];\r\n\r\n\r\n    //Arcanite \r\n    public static STAKING_ARCANITE_ADDRESS = '0xc305D92dCAaa73BacB7AADe5a4EB433d3AffFF6f'\r\n    //Crystal  \r\n    public static STAKING_CRYSTAL_ADDRESS = '0xfE9fCfAA3D434A51dCC9E46C4C7fe26932cbB2C9'\r\n    //Mithril  \r\n    public static STAKING_MITHRIL_ADDRESS = '0x7E36042672b5302311A9Fd92Ea994422B673C30d'\r\n    //Redstone \r\n    public static STAKING_REDSTONE_ADDRESS = '0x4E5C8a36c7CCB5d388ef045505e590B5265e2637'\r\n    //Trueiron \r\n    public static STAKING_TRUEIRON_ADDRESS = '0xAF88Ff4BfAF5D28adB1a3D9521F5232b59CFC5E2'\r\n\r\n    //ABI\r\n    public static STAKING_POOL_ABI = [{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_poolPlace\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_stakeToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_accountContract\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_rewardsContract\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_empowerContract\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_dailyRewards\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"rewards\",\"type\":\"uint256\"}],\"name\":\"RewardAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"rewards\",\"type\":\"uint256\"}],\"name\":\"RewardPaid\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Staked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Withdrawn\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"addGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"calcCapacity\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"calcPerSecondsRewards\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"capacityOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_dailyRewards\",\"type\":\"uint256\"}],\"name\":\"changeDailyRewards\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"claimAllReward\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"claimReward\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"deletedGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"earned\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"earnedAll\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"estimatePerSecondsRewards\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getAccountCapacity\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getAccountContractAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getAccountTokens\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getAccountTokensNumber\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getDailyRewards\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getEmpowerContractAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getGovernment\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getGovernmentLength\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getLastUpdateTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getLimitTokensNumber\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPoolPlace\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getRewardsContractAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getRewardsPerUnitStored\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getRewardsRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getStakeTokenAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTokenIdleStatus\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTokenMiningStatus\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"isAccountStakeToken\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isGovernment\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_empowerContract\",\"type\":\"address\"}],\"name\":\"setEmpowerContract\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_limitTokensNumber\",\"type\":\"uint256\"}],\"name\":\"setLimitTokensNumber\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_idleStatus\",\"type\":\"uint256\"}],\"name\":\"setTokenIdleStatus\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_miningStatus\",\"type\":\"uint256\"}],\"name\":\"setTokenMiningStatus\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"stake\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalCapacity\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"withdrawAllAndClaim\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"withdrawAndClaim\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];\r\n\r\n    //ABI\r\n    public static STAKING_HERO_POWERCALC_ABI = [{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_constantValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_linearCoefficient\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_quadraticCoefficient\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_percentage\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"addGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenLevel\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isMatchProfession\",\"type\":\"bool\"}],\"name\":\"calcCapacity\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"deletedGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getFormulaParams\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"constantValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"linearCoefficient\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"quadraticCoefficient\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"percentage\",\"type\":\"uint256\"}],\"internalType\":\"struct EmpowerCalcFormula.FormulaParams\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getGovernment\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getGovernmentLength\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isGovernment\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_constantValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_linearCoefficient\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_quadraticCoefficient\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_percentage\",\"type\":\"uint256\"}],\"name\":\"setFormulaParams\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];\r\n\r\n    //\r\n    public static BLINDBOX_ADDRESS = '0xaf8d3eb0f0e0a454Ec9B3Fb7207dD70Ba302d653'\r\n    //ABI\r\n    public static BLINDBOX_ABI = [{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_heroAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_maxTotalSupply\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_baseName\",\"type\":\"string\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"accountIsInWhiteList\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"addGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_races\",\"type\":\"uint256[]\"}],\"name\":\"addRaces\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"deletedGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getBaseName\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getBuyTimes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getGovernment\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getGovernmentLength\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getIsOpen\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getMaxBuyTimes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getMaxTotalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPirce\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"exchangeToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"internalType\":\"struct HeroMallV1.Price\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getRaces\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getReceiverAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTotalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getWhiteListContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isGovernment\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"recruit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_name\",\"type\":\"string\"}],\"name\":\"setBaseName\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_maxBuyTimes\",\"type\":\"uint256\"}],\"name\":\"setMaxBuyTimes\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_maxTotalSupply\",\"type\":\"uint256\"}],\"name\":\"setMaxTotalSupply\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"_isOpen\",\"type\":\"bool\"}],\"name\":\"setOpen\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_exchangeToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_price\",\"type\":\"uint256\"}],\"name\":\"setPrice\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_receiverAddress\",\"type\":\"address\"}],\"name\":\"setReceiverAddress\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_whiteListContract\",\"type\":\"address\"}],\"name\":\"setWhiteListContract\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];\r\n    \r\n    //\r\n    public static BLINDBOX_ADDRESS_V2 = '0xaf8d3eb0f0e0a454Ec9B3Fb7207dD70Ba302d653'\r\n    //ABI\r\n    public static BLINDBOX_ABI_V2 = [{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_heroAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_maxTotalSupply\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_baseName\",\"type\":\"string\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"accountIsInWhiteList\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"addGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_races\",\"type\":\"uint256[]\"}],\"name\":\"addRaces\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"deletedGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getBaseName\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getBuyTimes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getGovernment\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getGovernmentLength\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getIsOpen\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getMaxBuyTimes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getMaxTotalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPirce\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"exchangeToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"internalType\":\"struct HeroMallV1.Price\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getRaces\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getReceiverAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTotalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getWhiteListContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isGovernment\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"recruit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_name\",\"type\":\"string\"}],\"name\":\"setBaseName\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_maxBuyTimes\",\"type\":\"uint256\"}],\"name\":\"setMaxBuyTimes\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_maxTotalSupply\",\"type\":\"uint256\"}],\"name\":\"setMaxTotalSupply\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"_isOpen\",\"type\":\"bool\"}],\"name\":\"setOpen\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_exchangeToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_price\",\"type\":\"uint256\"}],\"name\":\"setPrice\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_receiverAddress\",\"type\":\"address\"}],\"name\":\"setReceiverAddress\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_whiteListContract\",\"type\":\"address\"}],\"name\":\"setWhiteListContract\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];\r\n\r\n    \r\n    //\r\n    public static HERO_ADDRESS = '0xCC0A4E3Bd1D49D7Ef9C431C0aD87D36B0B342018'\r\n    //ABI\r\n    public static HERO_ABI = [{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"approved\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"ApprovalForAll\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"level\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"rarity\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"series\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"race\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"mineralLevel\",\"type\":\"uint256\"}],\"name\":\"Mint\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"level\",\"type\":\"uint256\"}],\"name\":\"UpdateLevel\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"mineralLevel\",\"type\":\"uint256\"}],\"name\":\"UpdateMineralLevel\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"}],\"name\":\"UpdateName\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"race\",\"type\":\"uint256\"}],\"name\":\"UpdateRace\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"rarity\",\"type\":\"uint256\"}],\"name\":\"UpdateRatity\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"series\",\"type\":\"uint256\"}],\"name\":\"UpdateSeries\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"status\",\"type\":\"uint256\"}],\"name\":\"UpdateStatus\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"addGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"baseURI\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"burn\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"government\",\"type\":\"address\"}],\"name\":\"deletedGovernment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"getApproved\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getGovernment\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getGovernmentLength\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"getNFTParams\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"level\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rarity\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"series\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"race\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"mineralLevel\",\"type\":\"uint256\"}],\"internalType\":\"struct Parmas\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"getStatus\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"}],\"name\":\"isApprovedForAll\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isGovernment\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"_name\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"_level\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_rarity\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_series\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_race\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_mineralLevel\",\"type\":\"uint256\"}],\"name\":\"mint\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"ownerOf\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"_data\",\"type\":\"bytes\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"setApprovalForAll\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"newBaseURI\",\"type\":\"string\"}],\"name\":\"setBaseURI\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"newTokenURI\",\"type\":\"string\"}],\"name\":\"setTokenURI\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"tokenByIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"tokenOfOwnerByIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"tokenURI\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_level\",\"type\":\"uint256\"}],\"name\":\"updateLevel\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_mineralLevel\",\"type\":\"uint256\"}],\"name\":\"updateMineralLevel\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_name\",\"type\":\"string\"}],\"name\":\"updateName\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"race\",\"type\":\"uint256\"}],\"name\":\"updateRace\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_rarity\",\"type\":\"uint256\"}],\"name\":\"updateRatity\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_series\",\"type\":\"uint256\"}],\"name\":\"updateSeries\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"status\",\"type\":\"uint256\"}],\"name\":\"updateStatus\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]\r\n\r\n    //Arcanite\r\n    public static ASSETS_ARCANITE_ADDRESS = '0x9973Fe783b5A1923dEE41E4115AD888573E3f2B5'\r\n    //Crystal\r\n    public static ASSETS_CRYSTAL_ADDRESS = '0x362d1C7CfE094fc4B6619Dc0486f0DadAee923A5'\r\n    //Mithril\r\n    public static ASSETS_MITHRIL_ADDRESS = '0x3f623e7d2fb52d1f8E718fb94bf82d80F1985ebf'\r\n    //Redstone\r\n    public static ASSETS_REDSTONE_ADDRESS = '0x891008aF9d77467f1c48845EAB210F951A8e9e4F'\r\n    //Trueiron\r\n    public static ASSETS_TRUEIRON_ADDRESS = '0x93C52C6ee7c814f83983Ac20cDe369DA9EFc984a'\r\n\r\n    //\r\n    public static CREATE_UNION_ADDRESS = '0xcd62E6a07072Bed38F4126ba5C9361901c71846e'\r\n    //ABI\r\n    public static CREATE_UNION_ABI = ''\r\n\r\n    //\r\n    public static UNION_NUMBER_SYS_ADDRESS = '0x45F0de10fA3982c4d18AbaE89a5F0663123f955c'\r\n    //ABI\r\n    public static UNION_NUMBER_SYS_ABI = ''\r\n\r\n    //\r\n    public static UPGRADE_UNION_ADDRESS = '0x18320fD38F3806C0A9fb2B41202Ed0bD3f826894'\r\n    //ABI\r\n    public static UPGRADE_UNION_ABI = '';\r\n\r\n    // //\r\n    // public static UNION_REWARDS_WALLET_ADDRESS = '0x3E63088CfA5922455F03bD4a0664df3B21E2e6fE'\r\n    //\r\n    public static UNION_DISTRIBUTE_ADDRESS = '0x0f6b4bBa8b01B6ee2CC3232ea963ac702CaDCe04'\r\n    //\r\n    public static UNION_WAR_ADDRESS = '0xF8489Bb617F9DCaBF33bEaeBdA4CCD029E9E247E'\r\n    // //\r\n    // public static UNION_REWARDS_WALLET_ABI = ''\r\n    //ABI\r\n    public static UNION_DISTRIBUTE_ABI = ''\r\n    //ABI\r\n    public static UNION_WAR_ABI = ''\r\n\r\n    //\r\n    public static HERO_TO_TOKEN_POOL_ADDRESS = '';\r\n    public static HERO_TO_TOKEN_POOL_ABI = '';\r\n\r\n\r\n    //\r\n    public static WITHDRAW_AND_RECHARGE_ADDRESS = '';\r\n    public static WITHDRAW_AND_RECHARGE_ABI = '';\r\n\r\n\r\n    //\r\n    public static SERIESHEROMALL_ADDRESS = '';\r\n    public static SERIESHEROMALL_ABI = '';\r\n\r\n    //\r\n    public static HEROFORMATION_ADDRESS = '';\r\n    public static HEROFORMATION_ABI = '';\r\n\r\n\r\n    //\r\n    public static HERO_MINT_ADDRESS = '';\r\n    public static HERO_MINT_ABI = '';\r\n\r\n\r\n\r\n    public static initConfig(data:any){\r\n        this.configDic = new Dictionary();\r\n        for (const iterator of data) {\r\n            let value = iterator.sstringvalue\r\n            if(iterator.sadditional === 'JSON'){\r\n                value = JSON.parse(value);\r\n            }\r\n           this.configDic.set(iterator.skey2,value);\r\n           (this as any)[iterator.skey2] = value;\r\n        }\r\n        SheetDataManager.intance.resetTokenData();// token\r\n    }\r\n}\r\n", "\r\n/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-06 16:29:41\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-13 20:54:20\r\n */\r\nexport class PlayerDto{\r\n    public pid:number;\r\n    public name:string;\r\n    public icon:string;\r\n    public lv:number;\r\n    public sex:number;\r\n    public country:number;\r\n    public exp:number;\r\n\r\n    // public gold:number;\r\n    /**\r\n    toxdts coin\r\n    {\"3001\":11,\"3004\":22} */\r\n    public coins:any = {};\r\n    // public tox:number;\r\n    // public dts:number;\r\n\r\n\r\n\r\n\r\n    \r\n    // public baseTicket:number;\r\n    // public advTicket:number;\r\n\r\n\r\n\r\n\r\n    public fightHeroPk:string;\r\n\r\n    /** id */\r\n    public roomId:number;\r\n    /** 1= 2= */\r\n    public roomState:number;\r\n    public needTip:boolean = true;\r\n\r\n    // public loginToken:string;\r\n\r\n\r\n}", "\r\nimport { LoadingManager } from \"../../../common/LoadingManager\";\r\nimport HttpCmd from \"../../../net/HttpCmd\";\r\nimport { GlobalDataManager } from \"../../GlobalDataManager\";\r\nimport { EthereumConfig } from \"../EthereumConfig\";\r\nimport { EthereumManager } from \"../EthereumManager\";\r\nimport { PlayerDto } from \"../vo/PlayerDto\";\r\n\r\nexport class ETHAccountProxy {\r\n    private create_contract :any = null;\r\n    private edit_account :any = null;\r\n    private account_contract :any = null;\r\n    public tokenId:number = 0;\r\n    private static _instance: ETHAccountProxy;\r\n    public static get instance(): ETHAccountProxy {\r\n        if(!ETHAccountProxy._instance){\r\n            ETHAccountProxy._instance = new ETHAccountProxy();\r\n        }\r\n        return ETHAccountProxy._instance;\r\n    }\r\n    public init():void {\r\n        if (typeof (window as any)['ethereum'] === 'undefined') {\r\n            return;\r\n        }   \r\n        this.account_contract = new (window as any)['web3'].eth.Contract(EthereumConfig.ACCOUNT_ABI, EthereumConfig.ACCOUNT_ADDRESS)\r\n        this.create_contract = new (window as any)['web3'].eth.Contract(EthereumConfig.CREATE_ACCOUNT_ABI, EthereumConfig.CREATE_ACCOUNT_ADDRESS)\r\n        this.edit_account = new (window as any)['web3'].eth.Contract(EthereumConfig.EDIT_ACCOUNT_ABI, EthereumConfig.EDIT_ACCOUNT_ADDRESS)\r\n    }\r\n\r\n    //AccountVo\r\n    async getAccountVoFromServer() {\r\n        let info = await HttpCmd.requestPost('cybertron-sys-api/api/v1/account/find',{address:EthereumManager.instance.walletAddress},false,false);\r\n        if(info){\r\n            let vo:PlayerDto = new PlayerDto();\r\n            Object.assign(vo,info)\r\n            console.log('info========' + JSON.stringify(vo))\r\n            return vo;\r\n        }\r\n        return info; \r\n    }\r\n\r\n    // //\r\n    // async createAcccount(nickName:string,gender:number,avatar:string, countryId:number){\r\n    //     let info = await HttpCmd.requestPost('wxgame/player/create',{name:nickName,sex:gender,icon:avatar,country:countryId, token:EthereumManager.instance.walletAddress},false, false);\r\n    //     if(info){\r\n    //         let playerDto:PlayerDto = info.playerDto;\r\n    //         // localStorage.setItem('TOX-COOKIE' + EthereumManager.instance.walletAddress, playerDto.loginToken);\r\n            \r\n    //         // console.log('info========' + JSON.stringify(vo))\r\n    //         return playerDto;\r\n    //     }\r\n    //     return null; \r\n    // }\r\n    // //\r\n    // async createAcccount(nickName:string,gender:number,avatar:string = ''){\r\n    //     LoadingManager.instance.showLoading(true);\r\n    //     await this.create_contract.methods.registerAccount(nickName,gender,avatar).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n    //         if (err) {\r\n    //             LoadingManager.instance.hideLoading();\r\n    //             return false;\r\n    //         }\r\n    //     });\r\n    //     let info = await this.getAccountInfo();\r\n    //     LoadingManager.instance.hideLoading();\r\n    //     return info;\r\n    // }\r\n    //\r\n    // async updateProfile(nickName:string,avatar:string) {\r\n    //     LoadingManager.instance.showLoading(true);\r\n    //     if(!this.tokenId){\r\n    //         await this.getTokenId();\r\n    //     }\r\n    //     await this.edit_account.methods.updateProfile(this.tokenId,nickName,avatar).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n    //         if (err) {\r\n    //             LoadingManager.instance.hideLoading();\r\n    //             return false;\r\n    //         }\r\n    //     });\r\n    //     let info = await this.getAccountInfo();\r\n    //     LoadingManager.instance.hideLoading();\r\n    //     return info;\r\n    // }\r\n    //\r\n    async updateProfile(nickName:string,avatar:string, countryId:number) {\r\n        var sex = GlobalDataManager.instance.playerDto.sex;\r\n        var playerDto = GlobalDataManager.instance.playerDto;\r\n        let info = await HttpCmd.requestPost('wxgame/player/changeInfo',{name:nickName,sex:sex,icon:avatar,country:countryId});\r\n        if(info){\r\n            \r\n            playerDto.icon = info.icon;\r\n            playerDto.country = info.country;\r\n            playerDto.name = info.name;\r\n            playerDto.sex = info.sex;\r\n            return playerDto;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    async getTokenId() {\r\n        if(this.tokenId){\r\n            return this.tokenId;\r\n        }\r\n        this.tokenId = await this.account_contract.methods.tokenOfOwnerByIndex(EthereumManager.instance.walletAddress,0).call();\r\n        this.tokenId = parseInt(this.tokenId + '');\r\n        return this.tokenId;\r\n    }\r\n\r\n    //\r\n    async getAccountInfo() {\r\n        if(!this.tokenId){\r\n            await this.getTokenId();\r\n        }\r\n        let info = await this.account_contract.methods.getAccountInfo(this.tokenId).call();\r\n        let vo:PlayerDto = new PlayerDto();\r\n        vo.pid = info[0];\r\n        vo.name = info[1];\r\n        vo.icon = info[2];\r\n        vo.lv = info[3];\r\n        vo.birthHeight = info[4];\r\n        vo.birthPlace = info[5];\r\n        vo.sex = info[6];\r\n        vo.influence = info[7];\r\n        console.log('info========' + JSON.stringify(vo))\r\n        return vo;\r\n    }\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2023-12-11 14:35:21\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2023-12-13 16:46:22\r\n */\r\nexport class WalletEvent {\r\n\r\n    public static UPDATE_LOCAL_WALLET_LIST_EVENT: string = \"WalletEvent:UPDATE_LOCAL_WALLET_LIST_EVENT\";\r\n\r\n\r\n    public static TRANSFER_LOCAL_WALLET_EVENT: string = \"WalletEvent:TRANSFER_LOCAL_WALLET_EVENT\";\r\n\r\n    \r\n    public constructor() {\r\n        \r\n    }\r\n}", "import { WalletValidateItemVo } from \"./WalletValidateItemVo\";\r\n\r\n/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2023-12-15 21:31:29\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2023-12-10 21:05:25\r\n */\r\nexport class WalletItemVo {\r\n\r\n        /**\r\n         * \r\n         * 10000\t\r\n         * 10001\t\r\n         * 10002\t\r\n         * 10003\t\r\n         * 10004\t\r\n         * 10005\t\r\n\r\n        */\r\n        public itemId:number;\r\n\r\n        /** ()*/\r\n        public value:number;\r\n        \r\n        /** () */\r\n        public ethValue:number;\r\n        /***/\r\n        public frozenValue:number;\r\n\r\n        public walletValidateItemVo:WalletValidateItemVo;\r\n}", "\r\nimport { GameLanguageMgr } from \"../../../common/GameLanguageMgr\";\r\nimport { LoadingManager } from \"../../../common/LoadingManager\";\r\nimport { NoticeMgr } from \"../../../module/notice/NoticeMgr\";\r\nimport { WalletEvent } from \"../../../module/wallet/event/WalletEvent\";\r\nimport { WalletModel } from \"../../../module/wallet/model/WalletModel\";\r\nimport { WalletItemVo } from \"../../../module/wallet/vo/WalletItemVo\";\r\nimport { WalletValidateItemVo } from \"../../../module/wallet/vo/WalletValidateItemVo\";\r\nimport { Dictionary } from \"../../../util/Dictionary\";\r\nimport { EnumWallet } from \"../../data/enumData/EnumWallet\";\r\nimport { Signal } from \"../../event/Signal\";\r\nimport { EthereumConfig } from \"../EthereumConfig\";\r\nimport { EthereumManager } from \"../EthereumManager\";\r\n\r\nexport class ETHAssetsProxy {\r\n    private assets_ary = [\r\n        [10000, EthereumConfig.TOX_ADDRESS],\r\n        [10001, EthereumConfig.ASSETS_ARCANITE_ADDRESS],\r\n        [10002, EthereumConfig.ASSETS_CRYSTAL_ADDRESS],\r\n        [10003, EthereumConfig.ASSETS_MITHRIL_ADDRESS],\r\n        [10004, EthereumConfig.ASSETS_REDSTONE_ADDRESS],\r\n        [10005, EthereumConfig.ASSETS_TRUEIRON_ADDRESS]\r\n                        ]\r\n\r\n\r\n    private assets_contract :any =null;\r\n\r\n    private static _instance: ETHAssetsProxy;\r\n    public static get instance(): ETHAssetsProxy {\r\n        if(!ETHAssetsProxy._instance){\r\n            ETHAssetsProxy._instance = new ETHAssetsProxy();\r\n        }\r\n        return ETHAssetsProxy._instance;\r\n    }\r\n    async init() {\r\n        if (typeof (window as any)['ethereum'] === 'undefined') {\r\n            return;\r\n        }\r\n        this.assets_contract = new (window as any)['web3'].eth.Contract(EthereumConfig.WITHDRAW_AND_RECHARGE_ABI, EthereumConfig.WITHDRAW_AND_RECHARGE_ADDRESS)\r\n    }\r\n\r\n    async depositWallet(tokenAddress:string,amount:any) {\r\n        LoadingManager.instance.showLoading(true);\r\n        let allow = await EthereumManager.instance.allowanceAddressByTokenAddress(EthereumConfig.WITHDRAW_AND_RECHARGE_ADDRESS,tokenAddress);\r\n        if(!allow){\r\n            LoadingManager.instance.hideLoading();\r\n            NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(15));\r\n            return ;\r\n        }\r\n        amount = (window as any)['web3'].utils.toWei(amount + '');\r\n        await this.assets_contract.methods.recharge(tokenAddress.toLowerCase(),amount).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n            if (err) {\r\n                LoadingManager.instance.hideLoading();\r\n                return false;\r\n            }\r\n        });\r\n        return true;\r\n    }\r\n\r\n\r\n    async withdrawToken(vo:WalletValidateItemVo) {\r\n        LoadingManager.instance.showLoading(true);\r\n        // tokenAddress:string,toAddress:string,amount:number,timestamp:number,hash:any,r:any,s:any,v:any\r\n        await this.assets_contract.methods.withdrawToken(vo.tokenAddress,vo.to,vo.amount,vo.timestamp,vo.hash,vo.r,vo.s,vo.v).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n            if (err) {\r\n                LoadingManager.instance.hideLoading();\r\n                return false;\r\n            }\r\n        });\r\n        return true;\r\n    }\r\n\r\n    //\r\n    async updateAssetsBalance(){\r\n        if(WalletModel.instance.walletDic == null){\r\n            WalletModel.instance.walletDic = new Dictionary();\r\n        }\r\n        for (const iterator of this.assets_ary) {\r\n            let itemId:number = iterator[0] as number;\r\n            let address = iterator[1];\r\n            let blc = await EthereumManager.instance.getERC20TokenBalance(address);    \r\n            blc = parseInt(blc)        \r\n\r\n            let walletItemVo:WalletItemVo =  WalletModel.instance.walletDic.get(itemId);\r\n            if(!walletItemVo){\r\n                walletItemVo = new WalletItemVo();\r\n                walletItemVo.itemId = itemId;\r\n                walletItemVo.value = 0;\r\n                WalletModel.instance.walletDic.set(itemId, walletItemVo);\r\n                \r\n            }\r\n            walletItemVo.ethValue = blc;\r\n        }\r\n        Signal.intance.event(WalletEvent.UPDATE_LOCAL_WALLET_LIST_EVENT);\r\n    }\r\n\r\n    updateCwt(toxValue: any){\r\n        //tox \r\n        let walletItemVo:WalletItemVo =  WalletModel.instance.walletDic.get(EnumWallet.ASSETS_TOX);\r\n        if(!walletItemVo){\r\n            walletItemVo = new WalletItemVo();\r\n            walletItemVo.itemId = EnumWallet.ASSETS_TOX;\r\n            WalletModel.instance.walletDic.set(EnumWallet.ASSETS_TOX, walletItemVo);\r\n        }\r\n        walletItemVo.ethValue = toxValue;\r\n    }\r\n\r\n\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-06 16:29:41\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-07 15:54:53\r\n * @Description: \r\n */\r\nimport { initWeb3 } from \"../../../script/util/web3\";\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { LoadingManager } from \"../../common/LoadingManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { PlatFormManager } from \"../../common/PlatFormManager\";\r\nimport { NoticeMgr } from \"../../module/notice/NoticeMgr\";\r\nimport { WalletModel } from \"../../module/wallet/model/WalletModel\";\r\nimport { WalletItemVo } from \"../../module/wallet/vo/WalletItemVo\";\r\n\r\n\r\nimport HttpCmd from \"../../net/HttpCmd\";\r\nimport { GameSetting } from \"../GameSetting\";\r\nimport { ModuleName } from \"../ModuleName\";\r\nimport { EnumWallet } from \"../data/enumData/EnumWallet\";\r\nimport { GameEvent } from \"../event/GameEvent\";\r\nimport { Signal } from \"../event/Signal\";\r\nimport { EthereumConfig } from \"./EthereumConfig\";\r\nimport { ETHAccountProxy } from \"./service/ETHAccountProxy\";\r\nimport { ETHAssetsProxy } from \"./service/ETHAssetsProxy\";\r\nimport { ETHBlindBoxProxy } from \"./service/ETHBlindBoxProxy\";\r\nimport { ETHSeriesHeroMallProxy } from \"./service/ETHSeriesHeroMallProxy\";\r\nimport { ETHStakingProxy } from \"./service/ETHStakingProxy\";\r\nimport { ETHUnionProxy } from \"./service/ETHUnionProxy\";\r\nimport jsSHA from \"./tool/jssha/dist/sha\";\r\nimport { ETHUtils } from \"./utils/ETHUtils\";\r\nimport { LoginDto } from \"./vo/LoginDto\";\r\nimport { PlayerDto } from \"./vo/PlayerDto\";\r\n\r\n\r\n\r\nexport class EthereumManager {\r\n    private static _instance: EthereumManager;\r\n\r\n    private tokenContract:any = null;\r\n\r\n    //\r\n    public walletAddress:string;\r\n    private hero_contract:any = null;\r\n    public static get instance(): EthereumManager {\r\n        if(!EthereumManager._instance){\r\n            EthereumManager._instance = new EthereumManager();\r\n        }\r\n        return EthereumManager._instance;\r\n    }\r\n    async init() {\r\n        if (typeof (window as any)['ethereum'] === 'undefined') { \r\n            NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage('130'));\r\n            return;\r\n        } \r\n\r\n        //  TODO::10\r\n        PlatFormManager.instance.sendCustumEvent(10);\r\n        // let res = await HttpCmd.requestPost('cybertron-sys-api/api/v1/config/findAll',{sAppId:'TOX-' + this.getChainId()});\r\n        // //TODO::11\r\n        // PlatFormManager.instance.sendCustumEvent(11);\r\n        // EthereumConfig.initConfig(res);\r\n        initWeb3();\r\n        this.tokenContract = new (window as any)['web3'].eth.Contract(EthereumConfig.TOKEN_ERC20ABI, EthereumConfig.TOX_ADDRESS)\r\n        this.hero_contract = new (window as any)['web3'].eth.Contract(EthereumConfig.HERO_ABI, EthereumConfig.HERO_ADDRESS)\r\n        //TODO::12\r\n        PlatFormManager.instance.sendCustumEvent(12);\r\n        // await this.dappLogin();\r\n        this.registerProxy(); \r\n        //TODO::17Proxy\r\n        PlatFormManager.instance.sendCustumEvent(17);\r\n    }\r\n\r\n    async registerProxy() {\r\n        ETHAccountProxy.instance.init();\r\n        // ETHStakingProxy.instance.init();\r\n        // ETHBlindBoxProxy.instance.init();\r\n        // ETHAssetsProxy.instance.init();\r\n        // ETHUnionProxy.instance.init();\r\n        // ETHSeriesHeroMallProxy.instance.init();\r\n\r\n        // await ETHBlindBoxProxy.instance.heroOutputRate();\r\n    }\r\n\r\n    async getWalletAddress(){\r\n        if(this.walletAddress){\r\n            return this.walletAddress;\r\n        }\r\n        initWeb3();\r\n        const accounts = await (window as any)['ethereum'].request({\r\n            method: \"eth_requestAccounts\",\r\n        });\r\n        return accounts[0];\r\n    }\r\n\r\n    //\r\n    async dappLogin(){\r\n        console.log('dappLogin this.walletAddress: '+ this.walletAddress);\r\n        // if(this.walletAddress)\r\n        //     return this.walletAddress;\r\n        //TODO::13\r\n        PlatFormManager.instance.sendCustumEvent(13);\r\n\r\n        this.walletAddress = await this.getWalletAddress();//;\r\n        \r\n         //TODO::14\r\n         PlatFormManager.instance.sendCustumEvent(14);\r\n\r\n        console.log('login to server',1);\r\n        await this.signAndLogin();\r\n        console.log('login success',1);\r\n    }\r\n\r\n    private getChainId(){\r\n        let key = '';\r\n        if (typeof (window as any)['ethereum'] === 'undefined') {\r\n            key = '0x38';\r\n        } \r\n        if(((window as any)['ethereum'].chainId + '').indexOf('0x') == -1){\r\n            key = '0x' + (window as any)['ethereum'].chainId.toString(16);\r\n        }\r\n        else{\r\n            key = (window as any)['ethereum'].chainId;\r\n        }\r\n\r\n        if(key !== '0x38' && key !== '0x61'){\r\n            NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(18));   \r\n        }\r\n        return key;\r\n    }\r\n\r\n    async signAndLogin(mustSign:boolean = false) {\r\n        console.log('signAndLogin mustSign: '+ mustSign);\r\n\r\n        var needSign:boolean = true;\r\n        let time = new Date().getTime();\r\n        let randomHex = \"\";\r\n        let r = \"\";\r\n        let s = \"\";\r\n        let v = \"\";\r\n        if(GameSetting.Debug != 0){\r\n            needSign = false;\r\n        }else{\r\n            //\r\n            if(!mustSign && localStorage.getItem('TOX-COOKIE' + this.walletAddress) && GameSetting.Debug == 0){\r\n                let loginToken = localStorage.getItem('TOX-COOKIE'+ EthereumManager.instance.walletAddress);\r\n                let _code = localStorage.getItem('TOX-COOKIE-CODE'+ EthereumManager.instance.walletAddress);\r\n                _code = ETHUtils.decode(_code)\r\n                let codes = _code.split(\"&\");\r\n                time = parseFloat(codes[0]);\r\n                randomHex = codes[1];\r\n                r = codes[2];\r\n                s = codes[3];\r\n                v = codes[4];\r\n            \r\n                \r\n                if(loginToken && time && randomHex && r && s && v){\r\n                    // let res =  await HttpCmd.requestPost('wxgame/player/checkJwt',{loginToken},false,false)\r\n                    // if(res.valid){//,\r\n                        needSign = false;\r\n                    // }\r\n                }\r\n                console.log(\"needSign: \" + needSign);\r\n            }\r\n        }\r\n        \r\n        \r\n        \r\n        if(needSign){\r\n            randomHex = (window as any)['web3'].utils.randomHex(32);\r\n            time = new Date().getTime();\r\n            let loginInfoStr = this.walletAddress+randomHex+time;\r\n        \r\n            const shaObj = new jsSHA(\"SHA-256\", \"TEXT\", { encoding: \"UTF8\" });\r\n            shaObj.update(loginInfoStr);\r\n            const hash = shaObj.getHash(\"HEX\");\r\n        \r\n            console.log('',1);\r\n            let signature = await (window as any)['web3'].eth.personal.sign(hash, this.walletAddress, (err: any,res: any) => {if(err){console.log(err,1)}});\r\n            console.log('',1);\r\n            let signature1 = signature.substring(2);\r\n        \r\n            r = \"0x\" + signature1.substring(0, 64);\r\n            s = \"0x\" + signature1.substring(64, 128);\r\n            v = \"0x\" + signature1.substring(128, 130);\r\n        }\r\n\r\n        let loginRequest = {\r\n            debug:GameSetting.Debug, //debug=1 addresstoken  addresstimerandomHexrsv\r\n            address:this.walletAddress,\r\n\r\n            time:time,\r\n            randomHex:randomHex,\r\n            r:r,\r\n            s:s,\r\n            v:v\r\n        };\r\n\r\n\r\n        \r\n        //TODO::15\r\n        PlatFormManager.instance.sendCustumEvent(15);\r\n\r\n        let loginDto:LoginDto = await HttpCmd.requestPost('wxgame/player/login',loginRequest, false, false);\r\n        // .catch((err: any)=> {\r\n            \r\n        //     return;\r\n        // })\r\n        if(loginDto){\r\n            console.log(\"\");\r\n            //TODO::16\r\n            PlatFormManager.instance.sendCustumEvent(16);\r\n            localStorage.setItem('TOX-COOKIE' + EthereumManager.instance.walletAddress, loginDto.loginToken);\r\n            var _code = ETHUtils.encode(time+\"&\"+randomHex+\"&\"+r+\"&\"+s+\"&\"+v);\r\n            localStorage.setItem('TOX-COOKIE-CODE' + EthereumManager.instance.walletAddress, _code);\r\n            // var _code = ETHUtils.decode(_code);\r\n            // console.log(' _code: ',_code);\r\n\r\n            // return loginDto;\r\n\r\n        }else{\r\n            ModuleManager.intance.openModule(ModuleName.NoServerView);\r\n            // return null;\r\n        }\r\n\r\n        Signal.intance.event(GameEvent.EVENT_LOGIN_GAME_END, loginDto);\r\n        \r\n        // localStorage.setItem('TOX-COOKIE' + EthereumManager.instance.walletAddress, loginDto.loginToken);\r\n        // //\r\n        // let inviterAddress = ETHUtils.getInviteWalletAddress();\r\n        // if(inviterAddress){\r\n        //     HttpCmd.requestPost('cybertron-sys-api/api/v1/invites/save',{inviterAddress:inviterAddress})\r\n        // }\r\n    }\r\n\r\n    async refreshToken() {\r\n        let loginDto:LoginDto;\r\n\r\n\r\n        // let loginToken = localStorage.getItem('TOX-COOKIE'+ EthereumManager.instance.walletAddress);\r\n        let _code = localStorage.getItem('TOX-COOKIE-CODE'+ EthereumManager.instance.walletAddress);\r\n        _code = ETHUtils.decode(_code)\r\n        let codes = _code.split(\"&\");\r\n        let time = parseFloat(codes[0]);\r\n        let randomHex = codes[1];\r\n        let r = codes[2];\r\n        let s = codes[3];\r\n        let v = codes[4];\r\n    \r\n        // console.log(\"loginToken: \" + loginToken);\r\n        if(time && randomHex && r && s && v){\r\n            let loginRequest = {\r\n                debug:GameSetting.Debug, //debug=1 addresstoken  addresstimerandomHexrsv\r\n                address:this.walletAddress,\r\n    \r\n                time:time,\r\n                randomHex:randomHex,\r\n                r:r,\r\n                s:s,\r\n                v:v\r\n            };\r\n    \r\n\r\n    \r\n            loginDto = await HttpCmd.requestPost('wxgame/player/getJwt',loginRequest, false, false).catch((err: any)=> {\r\n                // ModuleManager.intance.openModule(ModuleName.NoServerView);\r\n                // return;\r\n            })\r\n            if(loginDto){\r\n                localStorage.setItem('TOX-COOKIE' + EthereumManager.instance.walletAddress, loginDto.loginToken);\r\n            }\r\n        }\r\n        return loginDto;\r\n\r\n    }\r\n\r\n    //\r\n    async createAcccount(nickName:string,gender:number,avatar:string, countryId:number){\r\n        console.log(\"createAcccount\");\r\n        var needSign:boolean = true;\r\n        let time = new Date().getTime();\r\n        let randomHex = \"\";\r\n        let r = \"\";\r\n        let s = \"\";\r\n        let v = \"\";\r\n        if(GameSetting.Debug != 0 ){\r\n            needSign = false;\r\n        }else{\r\n            //\r\n            \r\n                // let loginToken = localStorage.getItem('TOX-COOKIE'+ EthereumManager.instance.walletAddress);\r\n                let _code = localStorage.getItem('TOX-COOKIE-CODE'+ EthereumManager.instance.walletAddress);\r\n                _code = ETHUtils.decode(_code)\r\n                let codes = _code.split(\"&\");\r\n                time = parseFloat(codes[0]);\r\n                randomHex = codes[1];\r\n                r = codes[2];\r\n                s = codes[3];\r\n                v = codes[4];\r\n            \r\n                \r\n                if(time && randomHex && r && s && v){\r\n                    // let res =  await HttpCmd.requestPost('wxgame/player/checkJwt',{loginToken},false,false)\r\n                    // if(res.valid){//,\r\n                        needSign = false;\r\n                    // }\r\n                }\r\n                console.log(\"needSign: \" + needSign);\r\n            \r\n        }\r\n        \r\n        \r\n        \r\n        if(needSign){\r\n            randomHex = (window as any)['web3'].utils.randomHex(32);\r\n            time = new Date().getTime();\r\n            let loginInfoStr = this.walletAddress+randomHex+time;\r\n        \r\n            const shaObj = new jsSHA(\"SHA-256\", \"TEXT\", { encoding: \"UTF8\" });\r\n            shaObj.update(loginInfoStr);\r\n            const hash = shaObj.getHash(\"HEX\");\r\n        \r\n            console.log('',1);\r\n            let signature = await (window as any)['web3'].eth.personal.sign(hash, this.walletAddress, (err: any,res: any) => {if(err){console.log(err,1)}});\r\n            console.log('',1);\r\n            let signature1 = signature.substring(2);\r\n        \r\n            r = \"0x\" + signature1.substring(0, 64);\r\n            s = \"0x\" + signature1.substring(64, 128);\r\n            v = \"0x\" + signature1.substring(128, 130);\r\n        }\r\n            \r\n            let loginDto:LoginDto;\r\n\r\n\r\n                let loginRequest = {\r\n                    name:nickName,sex:gender,icon:avatar,country:countryId,\r\n                    debug:GameSetting.Debug, //debug=1 addresstoken  addresstimerandomHexrsv\r\n                    address:this.walletAddress,\r\n        \r\n                    time:time,\r\n                    randomHex:randomHex,\r\n                    r:r,\r\n                    s:s,\r\n                    v:v\r\n                };\r\n        \r\n    \r\n        \r\n                loginDto = await HttpCmd.requestPost('wxgame/player/create',loginRequest, false, false).catch((err: any)=> {\r\n                    // ModuleManager.intance.openModule(ModuleName.NoServerView);\r\n                    // return;\r\n                })\r\n                if(loginDto){\r\n                    \r\n                    let playerDto:PlayerDto = loginDto.playerDto;\r\n                    localStorage.setItem('TOX-COOKIE' + EthereumManager.instance.walletAddress, loginDto.loginToken);\r\n                    return playerDto;\r\n                }\r\n\r\n\r\n\r\n            return null; \r\n    }\r\n    \r\n    //TOX\r\n    async getBalance(){\r\n        return 0;\r\n        let walletItemVo:WalletItemVo =  WalletModel.instance.walletDic.get(EnumWallet.ASSETS_TOX);\r\n        return walletItemVo.ethValue;\r\n        if (typeof (window as any)['ethereum'] === 'undefined') {\r\n            return 0;\r\n        }     \r\n        let account = await this.dappLogin();\r\n        let balance = await this.tokenContract.methods.balanceOf(account).call()\r\n        balance = (window as any)['web3'].utils.fromWei(balance);\r\n\r\n        ETHAssetsProxy.instance.updateCwt(balance);//tox \r\n        console.log('roleInfo.money1============', balance);\r\n        return balance;\r\n    }\r\n\r\n    async allowanceAddress(address: string){\r\n        let allowance = await this.tokenContract.methods.allowance(this.walletAddress, address).call();\r\n        if (allowance == \"0\") {\r\n            console.log('ERC20 allowance!');\r\n\r\n            await this.tokenContract.methods.approve(address, '100000000000000000000000000000' + '000000000000000000').send({ from: this.walletAddress}, (err: any, result: any) => {\r\n                if (err) {\r\n                    LoadingManager.instance.hideLoading();\r\n                    return false;\r\n                }\r\n            });\r\n            return true;\r\n        }\r\n        else{\r\n            return true;\r\n        }\r\n    }\r\n\r\n    async allowanceAddressByTokenAddress(contractAddress: string,tokenAddress: string){\r\n        let tToken = new (window as any)['web3'].eth.Contract(EthereumConfig.TOKEN_ERC20ABI, tokenAddress)\r\n        let allowance = await tToken.methods.allowance(this.walletAddress, contractAddress).call();\r\n        if (allowance == \"0\") {\r\n            console.log('ERC20 allowance!');\r\n\r\n            await tToken.methods.approve(contractAddress, '100000000000000000000000000000' + '000000000000000000').send({ from: this.walletAddress}, (err: any, result: any) => {\r\n                if (err) {\r\n                    LoadingManager.instance.hideLoading();\r\n                    return false;\r\n                }\r\n            });\r\n            return true;\r\n        }\r\n        else{\r\n            return true;\r\n        }\r\n    }\r\n\r\n    //\r\n    async signature(str: any) {\r\n        let signature = await (window as any)['web3'].eth.personal.sign(str, this.walletAddress, (err: any, res: any) => {\r\n            if (err) {\r\n                return ''\r\n            }\r\n        })\r\n        return signature;\r\n    }\r\n\r\n    //ERC20 \r\n    async getERC20TokenBalance(address: number | String){\r\n        let tokenC = new (window as any)['web3'].eth.Contract(EthereumConfig.TOKEN_ERC20ABI, address)\r\n        let balance = await tokenC.methods.balanceOf(this.walletAddress).call()\r\n        balance = (window as any)['web3'].utils.fromWei(balance);\r\n        return balance;  \r\n    }\r\n    \r\n    //  0  1  2\r\n    async getHeroStatus(tokenId:string){\r\n        return await this.hero_contract.methods.getStatus(parseInt(tokenId)).call();\r\n    }\r\n\r\n    async checkHeroIsBuzy(tokenId:string){\r\n        let status = await this.getHeroStatus(tokenId);\r\n        if(parseInt(status)){\r\n            NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(19))\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}", "\r\nimport { Dictionary } from \"../../../util/Dictionary\";\r\nimport { EthereumManager } from \"../EthereumManager\";\r\n\r\nexport class ETHUtils {\r\n\r\n    public static getInviteUrl(){\r\n        return window.location.origin + '?invite=' + this.encode(EthereumManager.instance.walletAddress);\r\n    }\r\n    //\r\n    public static encode (str: string) {  \r\n        //36\r\n        var key = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\n        var len = key.length;  //\r\n        var a = key.split(\"\");  //\r\n        var s = \"\",b, b1, b2, b3;  //\r\n        for (var i = 0; i <str.length; i ++) {  //\r\n            b = str.charCodeAt(i);  //Unicode\r\n            b1 = b % len;  //Unicode\r\n            b = (b - b1) / len;  //\r\n            b2 = b % len;  //\r\n            b = (b - b2) / len;  //\r\n            b3 = b % len;  //\r\n            s += a[b3] + a[b2] + a[b1];  //\r\n        }\r\n        return window.btoa(s);  //\r\n    } \r\n    //\r\n    public static decode (str: string) {\r\n        str = window.atob(str);\r\n        //36\r\n        var key = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\n        var len = key.length;  //\r\n        var b, b1, b2, b3, d = 0, s;  //\r\n        s = new Array(Math.floor(str.length / 3));  //\r\n        b = s.length;  //\r\n        for (var i = 0; i < b; i ++) {  //\r\n            b1 = key.indexOf(str.charAt(d));  //\r\n            d ++;\r\n            b2 = key.indexOf(str.charAt(d));  //\r\n            d ++;\r\n            b3 = key.indexOf(str.charAt(d));  //\r\n            d ++;\r\n            s[i] = b1 * len * len + b2 * len + b3  //Unicode\r\n        }\r\n        \r\n        b = decodeCharCode(s.join(',') as any);\r\n        // b = String.fromCharCode(s.join(',') as any);\r\n        // b = eval(\"String.fromCharCode(\" + s.join(',') + \")\");\r\n        return b ;  //\r\n    }\r\n\r\n    //url\r\n    public static getQueryString(name: string):any\r\n    {\r\n        var reg = new RegExp(\"(^|&)\"+ name +\"=([^&]*)(&|$)\");\r\n        var r = window.location.search.substr(1).match(reg);\r\n        if(r!=null)\r\n            return r[2];     //jsunescape\r\n        return '';\r\n    }\r\n\r\n    public static getInviteWalletAddress(){\r\n        let url = this.getQueryString('invite');\r\n        if(url){\r\n            url = this.decode(url);\r\n        }\r\n        return url;\r\n    }\r\n\r\n    public static toWei(value: number,decimals: string){\r\n        let num = value*10**parseInt(decimals);\r\n        let tokens=(window as any)['web3'].utils.toBN(\"0x\" + num.toString(16));\r\n        return tokens.toString();\r\n    }\r\n    \r\n\r\n    public static fromWei(value: string | any[],decimals: number,point=0){\r\n        if(!value){\r\n            return 0;\r\n        }\r\n       let len = value.length - decimals + point;\r\n       if(len <= 0){\r\n           return 0;\r\n       }\r\n       let temp = value.toString().slice(0,len);\r\n       if(point){\r\n           let tt = temp.length -point\r\n           if( tt<=0){\r\n                let ttt = '0.';\r\n                for (let index = 0; index < Math.abs(tt); index++) {\r\n                    ttt += '0'\r\n                }\r\n                temp = ttt + temp;\r\n           }\r\n           else\r\n           {\r\n               temp = temp.slice(0,temp.length -point) + '.' + temp.slice(temp.length-point)\r\n           }\r\n       }\r\n       return temp;\r\n    }\r\n\r\n    public static deepClone(obj:any):Dictionary{\r\n        let temp:any = new Dictionary();\r\n        for(let k in obj){\r\n            if(typeof obj[k]=='function'){\r\n               //\r\n               temp[k] = obj[k]\r\n            }else{\r\n                temp[k] = JSON.parse(JSON.stringify(obj[k]))\r\n         }\r\n         }\r\n         return temp;\r\n    }\r\n\r\n}\r\n\r\n", "\r\n\r\nclass Error {\r\n\r\n    module: number = 0;\r\n    errorCode: number = 0;\r\n    errorMessage: string = '';\r\n\r\n    static PROTOCOL_ID: number = 101;\r\n\r\n    protocolId(): number {\r\n        return Error.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: Error | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.errorCode);\r\n        buffer.writeString(packet.errorMessage);\r\n        buffer.writeInt(packet.module);\r\n    }\r\n\r\n    static read(buffer: any): Error | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new Error();\r\n        const result0 = buffer.readInt();\r\n        packet.errorCode = result0;\r\n        const result1 = buffer.readString();\r\n        packet.errorMessage = result1;\r\n        const result2 = buffer.readInt();\r\n        packet.module = result2;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default Error;\r\n", "\r\n\r\nclass Ping {\r\n\r\n    \r\n\r\n    static PROTOCOL_ID: number = 103;\r\n\r\n    protocolId(): number {\r\n        return Ping.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: Ping | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        \r\n    }\r\n\r\n    static read(buffer: any): Ping | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new Ping();\r\n        \r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default Ping;\r\n", "\r\n\r\nclass Pong {\r\n\r\n    time: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 104;\r\n\r\n    protocolId(): number {\r\n        return Pong.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: Pong | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeLong(packet.time);\r\n    }\r\n\r\n    static read(buffer: any): Pong | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new Pong();\r\n        const result0 = buffer.readLong();\r\n        packet.time = result0;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default Pong;\r\n", "\r\n/**  */\r\nclass LoginRequest {\r\n\r\n    pid: number = 0;\r\n    roomId: number = 0;\r\n    loginToken: string = '';\r\n\r\n    static PROTOCOL_ID: number = 1001;\r\n\r\n    protocolId(): number {\r\n        return LoginRequest.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: LoginRequest | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeString(packet.loginToken);\r\n        buffer.writeLong(packet.pid);\r\n        buffer.writeLong(packet.roomId);\r\n    }\r\n\r\n    static read(buffer: any): LoginRequest | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new LoginRequest();\r\n        const result0 = buffer.readString();\r\n        packet.loginToken = result0;\r\n        const result1 = buffer.readLong();\r\n        packet.pid = result1;\r\n        const result2 = buffer.readLong();\r\n        packet.roomId = result2;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default LoginRequest;\r\n", "import MatchDto from '../dto/MatchDto';\r\n\r\n/**  */\r\nclass LoginResponse {\r\n\r\n    errorCode: number = 0;\r\n    /** pid */\r\n    pid: number = 0;\r\n    /**  */\r\n    matchDto: MatchDto | null = null;\r\n\r\n    static PROTOCOL_ID: number = 1002;\r\n\r\n    protocolId(): number {\r\n        return LoginResponse.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: LoginResponse | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.errorCode);\r\n        buffer.writePacket(packet.matchDto, 25010);\r\n        buffer.writeLong(packet.pid);\r\n    }\r\n\r\n    static read(buffer: any): LoginResponse | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new LoginResponse();\r\n        const result0 = buffer.readInt();\r\n        packet.errorCode = result0;\r\n        const result1 = buffer.readPacket(25010);\r\n        packet.matchDto = result1;\r\n        const result2 = buffer.readLong();\r\n        packet.pid = result2;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default LoginResponse;\r\n", "\r\n/**  */\r\nclass LoginAgainPush {\r\n\r\n    \r\n\r\n    static PROTOCOL_ID: number = 1004;\r\n\r\n    protocolId(): number {\r\n        return LoginAgainPush.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: LoginAgainPush | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        \r\n    }\r\n\r\n    static read(buffer: any): LoginAgainPush | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new LoginAgainPush();\r\n        \r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default LoginAgainPush;\r\n", "\r\n/** GM */\r\nclass GmRequest {\r\n\r\n    /**  */\r\n    sequence: number = 0;\r\n    /**  */\r\n    param: string = '';\r\n\r\n    static PROTOCOL_ID: number = 1005;\r\n\r\n    protocolId(): number {\r\n        return GmRequest.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: GmRequest | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.sequence);\r\n        buffer.writeString(packet.param);\r\n    }\r\n\r\n    static read(buffer: any): GmRequest | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new GmRequest();\r\n        if (!buffer.isReadable()) {\r\n            return packet;\r\n        }\r\n        const result0 = buffer.readInt();\r\n        packet.sequence = result0;\r\n        if (!buffer.isReadable()) {\r\n            return packet;\r\n        }\r\n        const result1 = buffer.readString();\r\n        packet.param = result1;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default GmRequest;\r\n", "\r\n/** GM */\r\nclass GmResponse {\r\n\r\n    /**  */\r\n    sequence: number = 0;\r\n    /**  */\r\n    code: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1006;\r\n\r\n    protocolId(): number {\r\n        return GmResponse.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: GmResponse | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.sequence);\r\n        buffer.writeInt(packet.code);\r\n    }\r\n\r\n    static read(buffer: any): GmResponse | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new GmResponse();\r\n        if (!buffer.isReadable()) {\r\n            return packet;\r\n        }\r\n        const result0 = buffer.readInt();\r\n        packet.sequence = result0;\r\n        if (!buffer.isReadable()) {\r\n            return packet;\r\n        }\r\n        const result1 = buffer.readInt();\r\n        packet.code = result1;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default GmResponse;\r\n", "\r\n/** - */\r\nclass LoginBindingRequest {\r\n\r\n    /**  */\r\n    sequence: number = 0;\r\n    /**  */\r\n    token: string = '';\r\n\r\n    static PROTOCOL_ID: number = 1007;\r\n\r\n    protocolId(): number {\r\n        return LoginBindingRequest.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: LoginBindingRequest | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.sequence);\r\n        buffer.writeString(packet.token);\r\n    }\r\n\r\n    static read(buffer: any): LoginBindingRequest | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new LoginBindingRequest();\r\n        if (!buffer.isReadable()) {\r\n            return packet;\r\n        }\r\n        const result0 = buffer.readInt();\r\n        packet.sequence = result0;\r\n        if (!buffer.isReadable()) {\r\n            return packet;\r\n        }\r\n        const result1 = buffer.readString();\r\n        packet.token = result1;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default LoginBindingRequest;\r\n", "\r\n/** - */\r\nclass LoginBindingResponse {\r\n\r\n    /**  */\r\n    sequence: number = 0;\r\n    /**  */\r\n    errorCode: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1008;\r\n\r\n    protocolId(): number {\r\n        return LoginBindingResponse.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: LoginBindingResponse | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.sequence);\r\n        buffer.writeInt(packet.errorCode);\r\n    }\r\n\r\n    static read(buffer: any): LoginBindingResponse | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new LoginBindingResponse();\r\n        if (!buffer.isReadable()) {\r\n            return packet;\r\n        }\r\n        const result0 = buffer.readInt();\r\n        packet.sequence = result0;\r\n        if (!buffer.isReadable()) {\r\n            return packet;\r\n        }\r\n        const result1 = buffer.readInt();\r\n        packet.errorCode = result1;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default LoginBindingResponse;\r\n", "\r\n/**  */\r\nclass DisconnectPush {\r\n\r\n    \r\n\r\n    static PROTOCOL_ID: number = 1010;\r\n\r\n    protocolId(): number {\r\n        return DisconnectPush.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: DisconnectPush | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        \r\n    }\r\n\r\n    static read(buffer: any): DisconnectPush | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new DisconnectPush();\r\n        \r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default DisconnectPush;\r\n", "\r\n/**  */\r\nclass ResPush {\r\n\r\n    /**  */\r\n    type: number = 0;\r\n    /** id */\r\n    id: number = 0;\r\n    /**  */\r\n    count: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1012;\r\n\r\n    protocolId(): number {\r\n        return ResPush.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: ResPush | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.type);\r\n        buffer.writeInt(packet.id);\r\n        buffer.writeLong(packet.count);\r\n    }\r\n\r\n    static read(buffer: any): ResPush | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new ResPush();\r\n        if (!buffer.isReadable()) {\r\n            return packet;\r\n        }\r\n        const result0 = buffer.readInt();\r\n        packet.type = result0;\r\n        if (!buffer.isReadable()) {\r\n            return packet;\r\n        }\r\n        const result1 = buffer.readInt();\r\n        packet.id = result1;\r\n        if (!buffer.isReadable()) {\r\n            return packet;\r\n        }\r\n        const result2 = buffer.readLong();\r\n        packet.count = result2;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default ResPush;\r\n", "\r\n/** move */\r\nclass RoomMoveResponse {\r\n\r\n    x: number = 0;\r\n    y: number = 0;\r\n    /**  */\r\n    speed: number = 0;\r\n    /**  */\r\n    dire: number = 0;\r\n    errorCode: number = 0;\r\n    time: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1014;\r\n\r\n    protocolId(): number {\r\n        return RoomMoveResponse.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: RoomMoveResponse | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.dire);\r\n        buffer.writeInt(packet.errorCode);\r\n        buffer.writeInt(packet.speed);\r\n        buffer.writeLong(packet.time);\r\n        buffer.writeInt(packet.x);\r\n        buffer.writeInt(packet.y);\r\n    }\r\n\r\n    static read(buffer: any): RoomMoveResponse | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new RoomMoveResponse();\r\n        const result0 = buffer.readInt();\r\n        packet.dire = result0;\r\n        const result1 = buffer.readInt();\r\n        packet.errorCode = result1;\r\n        const result2 = buffer.readInt();\r\n        packet.speed = result2;\r\n        const result3 = buffer.readLong();\r\n        packet.time = result3;\r\n        const result4 = buffer.readInt();\r\n        packet.x = result4;\r\n        const result5 = buffer.readInt();\r\n        packet.y = result5;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default RoomMoveResponse;\r\n", "import RoomPlayerDto from '../dto/RoomPlayerDto';\r\n\r\n/**  */\r\nclass RoomPlayerChangePush {\r\n\r\n    /** 1=2= */\r\n    type: number = 0;\r\n    member: RoomPlayerDto | null = null;\r\n\r\n    static PROTOCOL_ID: number = 1016;\r\n\r\n    protocolId(): number {\r\n        return RoomPlayerChangePush.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: RoomPlayerChangePush | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writePacket(packet.member, 25011);\r\n        buffer.writeInt(packet.type);\r\n    }\r\n\r\n    static read(buffer: any): RoomPlayerChangePush | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new RoomPlayerChangePush();\r\n        const result0 = buffer.readPacket(25011);\r\n        packet.member = result0;\r\n        const result1 = buffer.readInt();\r\n        packet.type = result1;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default RoomPlayerChangePush;\r\n", "\r\n/**  */\r\nclass RoomPlayerMovePush {\r\n\r\n    pid: number = 0;\r\n    x: number = 0;\r\n    y: number = 0;\r\n    /**  */\r\n    speed: number = 0;\r\n    /**  */\r\n    dire: number = 0;\r\n    time: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1018;\r\n\r\n    protocolId(): number {\r\n        return RoomPlayerMovePush.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: RoomPlayerMovePush | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.dire);\r\n        buffer.writeLong(packet.pid);\r\n        buffer.writeInt(packet.speed);\r\n        buffer.writeLong(packet.time);\r\n        buffer.writeInt(packet.x);\r\n        buffer.writeInt(packet.y);\r\n    }\r\n\r\n    static read(buffer: any): RoomPlayerMovePush | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new RoomPlayerMovePush();\r\n        const result0 = buffer.readInt();\r\n        packet.dire = result0;\r\n        const result1 = buffer.readLong();\r\n        packet.pid = result1;\r\n        const result2 = buffer.readInt();\r\n        packet.speed = result2;\r\n        const result3 = buffer.readLong();\r\n        packet.time = result3;\r\n        const result4 = buffer.readInt();\r\n        packet.x = result4;\r\n        const result5 = buffer.readInt();\r\n        packet.y = result5;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default RoomPlayerMovePush;\r\n", "import ItemDto from '../dto/ItemDto';\r\nimport RoomRankPlayerDto from '../dto/RoomRankPlayerDto';\r\n\r\n/**  */\r\nclass RoomGameOverPush {\r\n\r\n    roomId: number = 0;\r\n    /**  */\r\n    rankList: Array<RoomRankPlayerDto> = [];\r\n    /**  */\r\n    reward: Array<ItemDto> = [];\r\n\r\n    static PROTOCOL_ID: number = 1020;\r\n\r\n    protocolId(): number {\r\n        return RoomGameOverPush.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: RoomGameOverPush | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writePacketList(packet.rankList, 25012);\r\n        buffer.writePacketList(packet.reward, 25008);\r\n        buffer.writeLong(packet.roomId);\r\n    }\r\n\r\n    static read(buffer: any): RoomGameOverPush | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new RoomGameOverPush();\r\n        const list0 = buffer.readPacketList(25012);\r\n        packet.rankList = list0;\r\n        const list1 = buffer.readPacketList(25008);\r\n        packet.reward = list1;\r\n        const result2 = buffer.readLong();\r\n        packet.roomId = result2;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default RoomGameOverPush;\r\n", "\r\n/**  */\r\nclass AttackResponse {\r\n\r\n    errorCode: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1022;\r\n\r\n    protocolId(): number {\r\n        return AttackResponse.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: AttackResponse | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.errorCode);\r\n    }\r\n\r\n    static read(buffer: any): AttackResponse | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new AttackResponse();\r\n        const result0 = buffer.readInt();\r\n        packet.errorCode = result0;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default AttackResponse;\r\n", "\r\n/**  */\r\nclass AttackPush {\r\n\r\n    /** pid */\r\n    attPid: number = 0;\r\n    /** pid */\r\n    defPid: number = 0;\r\n    /**  */\r\n    attackValue: Array<number> = [];\r\n    /**  */\r\n    allAtkValue: number = 0;\r\n    /**  */\r\n    bj: boolean = false;\r\n    /**  */\r\n    sb: boolean = false;\r\n    /** id */\r\n    skill: number = 0;\r\n    /** ,<1 */\r\n    defHp: number = 0;\r\n    /**  */\r\n    attScore: number = 0;\r\n    /**  */\r\n    defScore: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1024;\r\n\r\n    protocolId(): number {\r\n        return AttackPush.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: AttackPush | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeLong(packet.allAtkValue);\r\n        buffer.writeLong(packet.attPid);\r\n        buffer.writeLong(packet.attScore);\r\n        buffer.writeLongList(packet.attackValue);\r\n        buffer.writeBoolean(packet.bj);\r\n        buffer.writeLong(packet.defHp);\r\n        buffer.writeLong(packet.defPid);\r\n        buffer.writeLong(packet.defScore);\r\n        buffer.writeBoolean(packet.sb);\r\n        buffer.writeInt(packet.skill);\r\n    }\r\n\r\n    static read(buffer: any): AttackPush | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new AttackPush();\r\n        const result0 = buffer.readLong();\r\n        packet.allAtkValue = result0;\r\n        const result1 = buffer.readLong();\r\n        packet.attPid = result1;\r\n        const result2 = buffer.readLong();\r\n        packet.attScore = result2;\r\n        const list3 = buffer.readLongList();\r\n        packet.attackValue = list3;\r\n        const result4 = buffer.readBoolean(); \r\n        packet.bj = result4;\r\n        const result5 = buffer.readLong();\r\n        packet.defHp = result5;\r\n        const result6 = buffer.readLong();\r\n        packet.defPid = result6;\r\n        const result7 = buffer.readLong();\r\n        packet.defScore = result7;\r\n        const result8 = buffer.readBoolean(); \r\n        packet.sb = result8;\r\n        const result9 = buffer.readInt();\r\n        packet.skill = result9;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default AttackPush;\r\n", "import MatchDto from '../dto/MatchDto';\r\n\r\n/**  */\r\nclass RoomInfoResponse {\r\n\r\n    errorCode: number = 0;\r\n    /**  */\r\n    matchDto: MatchDto | null = null;\r\n\r\n    static PROTOCOL_ID: number = 1026;\r\n\r\n    protocolId(): number {\r\n        return RoomInfoResponse.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: RoomInfoResponse | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.errorCode);\r\n        buffer.writePacket(packet.matchDto, 25010);\r\n    }\r\n\r\n    static read(buffer: any): RoomInfoResponse | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new RoomInfoResponse();\r\n        const result0 = buffer.readInt();\r\n        packet.errorCode = result0;\r\n        const result1 = buffer.readPacket(25010);\r\n        packet.matchDto = result1;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default RoomInfoResponse;\r\n", "\r\n/**  */\r\nclass FirstBloodPush {\r\n\r\n    pid: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1028;\r\n\r\n    protocolId(): number {\r\n        return FirstBloodPush.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: FirstBloodPush | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeLong(packet.pid);\r\n    }\r\n\r\n    static read(buffer: any): FirstBloodPush | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new FirstBloodPush();\r\n        const result0 = buffer.readLong();\r\n        packet.pid = result0;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default FirstBloodPush;\r\n", "\r\n/** N */\r\nclass MutiKillPush {\r\n\r\n    pid: number = 0;\r\n    kill: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1030;\r\n\r\n    protocolId(): number {\r\n        return MutiKillPush.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: MutiKillPush | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.kill);\r\n        buffer.writeLong(packet.pid);\r\n    }\r\n\r\n    static read(buffer: any): MutiKillPush | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new MutiKillPush();\r\n        const result0 = buffer.readInt();\r\n        packet.kill = result0;\r\n        const result1 = buffer.readLong();\r\n        packet.pid = result1;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default MutiKillPush;\r\n", "\r\n\r\nclass AnimationResponse {\r\n\r\n    errorCode: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1032;\r\n\r\n    protocolId(): number {\r\n        return AnimationResponse.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: AnimationResponse | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.errorCode);\r\n    }\r\n\r\n    static read(buffer: any): AnimationResponse | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new AnimationResponse();\r\n        const result0 = buffer.readInt();\r\n        packet.errorCode = result0;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default AnimationResponse;\r\n", "\r\n\r\nclass AnimationPush {\r\n\r\n    /** pid */\r\n    attId: number = 0;\r\n    /** pid */\r\n    defId: number = 0;\r\n    /** ,1=animal2= */\r\n    type: number = 0;\r\n    /** id */\r\n    skillId: number = 0;\r\n    /**  */\r\n    param: Map<string, string> = new Map();\r\n\r\n    static PROTOCOL_ID: number = 1034;\r\n\r\n    protocolId(): number {\r\n        return AnimationPush.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: AnimationPush | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeLong(packet.attId);\r\n        buffer.writeLong(packet.defId);\r\n        buffer.writeStringStringMap(packet.param);\r\n        buffer.writeInt(packet.skillId);\r\n        buffer.writeInt(packet.type);\r\n    }\r\n\r\n    static read(buffer: any): AnimationPush | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new AnimationPush();\r\n        const result0 = buffer.readLong();\r\n        packet.attId = result0;\r\n        const result1 = buffer.readLong();\r\n        packet.defId = result1;\r\n        const map2 = buffer.readStringStringMap();\r\n        packet.param = map2;\r\n        const result3 = buffer.readInt();\r\n        packet.skillId = result3;\r\n        const result4 = buffer.readInt();\r\n        packet.type = result4;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default AnimationPush;\r\n", "\r\n\r\nclass TargetMoveResponse {\r\n\r\n    errorCode: number = 0;\r\n    time: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1036;\r\n\r\n    protocolId(): number {\r\n        return TargetMoveResponse.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: TargetMoveResponse | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.errorCode);\r\n        buffer.writeLong(packet.time);\r\n    }\r\n\r\n    static read(buffer: any): TargetMoveResponse | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new TargetMoveResponse();\r\n        const result0 = buffer.readInt();\r\n        packet.errorCode = result0;\r\n        const result1 = buffer.readLong();\r\n        packet.time = result1;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default TargetMoveResponse;\r\n", "\r\n\r\nclass TargetMovePush {\r\n\r\n    /** pid */\r\n    targetId: number = 0;\r\n    targetX: number = 0;\r\n    targetY: number = 0;\r\n    /**  */\r\n    sourceId: number = 0;\r\n    skillId: number = 0;\r\n    time: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1038;\r\n\r\n    protocolId(): number {\r\n        return TargetMovePush.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: TargetMovePush | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.skillId);\r\n        buffer.writeLong(packet.sourceId);\r\n        buffer.writeLong(packet.targetId);\r\n        buffer.writeInt(packet.targetX);\r\n        buffer.writeInt(packet.targetY);\r\n        buffer.writeLong(packet.time);\r\n    }\r\n\r\n    static read(buffer: any): TargetMovePush | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new TargetMovePush();\r\n        const result0 = buffer.readInt();\r\n        packet.skillId = result0;\r\n        const result1 = buffer.readLong();\r\n        packet.sourceId = result1;\r\n        const result2 = buffer.readLong();\r\n        packet.targetId = result2;\r\n        const result3 = buffer.readInt();\r\n        packet.targetX = result3;\r\n        const result4 = buffer.readInt();\r\n        packet.targetY = result4;\r\n        const result5 = buffer.readLong();\r\n        packet.time = result5;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default TargetMovePush;\r\n", "\r\n\r\nclass GameStartPush {\r\n\r\n    time: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 1040;\r\n\r\n    protocolId(): number {\r\n        return GameStartPush.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: GameStartPush | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeLong(packet.time);\r\n    }\r\n\r\n    static read(buffer: any): GameStartPush | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new GameStartPush();\r\n        const result0 = buffer.readLong();\r\n        packet.time = result0;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default GameStartPush;\r\n", "\r\n\r\nclass IntBoolDto {\r\n\r\n    /** id */\r\n    id: number = 0;\r\n    /** bool */\r\n    value: boolean = false;\r\n\r\n    static PROTOCOL_ID: number = 25007;\r\n\r\n    protocolId(): number {\r\n        return IntBoolDto.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: IntBoolDto | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.id);\r\n        buffer.writeBoolean(packet.value);\r\n    }\r\n\r\n    static read(buffer: any): IntBoolDto | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new IntBoolDto();\r\n        const result0 = buffer.readInt();\r\n        packet.id = result0;\r\n        const result1 = buffer.readBoolean(); \r\n        packet.value = result1;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default IntBoolDto;\r\n", "\r\n\r\nclass ItemDto {\r\n\r\n    type: number = 0;\r\n    id: number = 0;\r\n    count: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 25008;\r\n\r\n    protocolId(): number {\r\n        return ItemDto.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: ItemDto | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeDouble(packet.count);\r\n        buffer.writeLong(packet.id);\r\n        buffer.writeInt(packet.type);\r\n    }\r\n\r\n    static read(buffer: any): ItemDto | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new ItemDto();\r\n        const result0 = buffer.readDouble();\r\n        packet.count = result0;\r\n        const result1 = buffer.readLong();\r\n        packet.id = result1;\r\n        const result2 = buffer.readInt();\r\n        packet.type = result2;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default ItemDto;\r\n", "import RoomPlayerDto from './RoomPlayerDto';\r\n\r\n\r\nclass RoomDto {\r\n\r\n    id: number = 0;\r\n    map: number = 0;\r\n    maxX: number = 0;\r\n    maxY: number = 0;\r\n    players: Array<RoomPlayerDto> = [];\r\n\r\n    static PROTOCOL_ID: number = 25009;\r\n\r\n    protocolId(): number {\r\n        return RoomDto.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: RoomDto | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeLong(packet.id);\r\n        buffer.writeInt(packet.map);\r\n        buffer.writeInt(packet.maxX);\r\n        buffer.writeInt(packet.maxY);\r\n        buffer.writePacketList(packet.players, 25011);\r\n    }\r\n\r\n    static read(buffer: any): RoomDto | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new RoomDto();\r\n        const result0 = buffer.readLong();\r\n        packet.id = result0;\r\n        const result1 = buffer.readInt();\r\n        packet.map = result1;\r\n        const result2 = buffer.readInt();\r\n        packet.maxX = result2;\r\n        const result3 = buffer.readInt();\r\n        packet.maxY = result3;\r\n        const list4 = buffer.readPacketList(25011);\r\n        packet.players = list4;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default RoomDto;\r\n", "import RoomPlayerDto from './RoomPlayerDto';\r\n\r\n\r\nclass MatchDto {\r\n\r\n    arenaId: number = 0;\r\n    coinType: number = 0;\r\n    roomId: number = 0;\r\n    /**  */\r\n    members: Array<RoomPlayerDto> = [];\r\n    /** , */\r\n    remainderCd: number = 0;\r\n    /**  ms */\r\n    startTime: number = 0;\r\n    /**  ms */\r\n    nowTime: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 25010;\r\n\r\n    protocolId(): number {\r\n        return MatchDto.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: MatchDto | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeInt(packet.arenaId);\r\n        buffer.writeInt(packet.coinType);\r\n        buffer.writePacketList(packet.members, 25011);\r\n        buffer.writeLong(packet.nowTime);\r\n        buffer.writeLong(packet.remainderCd);\r\n        buffer.writeLong(packet.roomId);\r\n        buffer.writeLong(packet.startTime);\r\n    }\r\n\r\n    static read(buffer: any): MatchDto | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new MatchDto();\r\n        const result0 = buffer.readInt();\r\n        packet.arenaId = result0;\r\n        const result1 = buffer.readInt();\r\n        packet.coinType = result1;\r\n        const list2 = buffer.readPacketList(25011);\r\n        packet.members = list2;\r\n        const result3 = buffer.readLong();\r\n        packet.nowTime = result3;\r\n        const result4 = buffer.readLong();\r\n        packet.remainderCd = result4;\r\n        const result5 = buffer.readLong();\r\n        packet.roomId = result5;\r\n        const result6 = buffer.readLong();\r\n        packet.startTime = result6;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default MatchDto;\r\n", "\r\n\r\nclass RoomPlayerDto {\r\n\r\n    id: number = 0;\r\n    x: number = 0;\r\n    y: number = 0;\r\n    dire: number = 0;\r\n    speed: number = 0;\r\n    heroId: number = 0;\r\n    heroColor: number = 0;\r\n    name: string = '';\r\n    icon: string = '';\r\n    /** 1=0= */\r\n    leader: number = 0;\r\n    /**  */\r\n    kill: number = 0;\r\n    /**  */\r\n    hp: number = 0;\r\n    /**  */\r\n    maxHp: number = 0;\r\n    /**  */\r\n    atk: number = 0;\r\n    /**  */\r\n    score: number = 0;\r\n    /** cd */\r\n    skillCd: Map<number, number> = new Map();\r\n    /** cd */\r\n    commonCd: number = 0;\r\n\r\n    static PROTOCOL_ID: number = 25011;\r\n\r\n    protocolId(): number {\r\n        return RoomPlayerDto.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: RoomPlayerDto | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeLong(packet.atk);\r\n        buffer.writeLong(packet.commonCd);\r\n        buffer.writeInt(packet.dire);\r\n        buffer.writeInt(packet.heroColor);\r\n        buffer.writeLong(packet.heroId);\r\n        buffer.writeLong(packet.hp);\r\n        buffer.writeString(packet.icon);\r\n        buffer.writeLong(packet.id);\r\n        buffer.writeInt(packet.kill);\r\n        buffer.writeInt(packet.leader);\r\n        buffer.writeLong(packet.maxHp);\r\n        buffer.writeString(packet.name);\r\n        buffer.writeLong(packet.score);\r\n        buffer.writeIntLongMap(packet.skillCd);\r\n        buffer.writeInt(packet.speed);\r\n        buffer.writeInt(packet.x);\r\n        buffer.writeInt(packet.y);\r\n    }\r\n\r\n    static read(buffer: any): RoomPlayerDto | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new RoomPlayerDto();\r\n        const result0 = buffer.readLong();\r\n        packet.atk = result0;\r\n        const result1 = buffer.readLong();\r\n        packet.commonCd = result1;\r\n        const result2 = buffer.readInt();\r\n        packet.dire = result2;\r\n        const result3 = buffer.readInt();\r\n        packet.heroColor = result3;\r\n        const result4 = buffer.readLong();\r\n        packet.heroId = result4;\r\n        const result5 = buffer.readLong();\r\n        packet.hp = result5;\r\n        const result6 = buffer.readString();\r\n        packet.icon = result6;\r\n        const result7 = buffer.readLong();\r\n        packet.id = result7;\r\n        const result8 = buffer.readInt();\r\n        packet.kill = result8;\r\n        const result9 = buffer.readInt();\r\n        packet.leader = result9;\r\n        const result10 = buffer.readLong();\r\n        packet.maxHp = result10;\r\n        const result11 = buffer.readString();\r\n        packet.name = result11;\r\n        const result12 = buffer.readLong();\r\n        packet.score = result12;\r\n        const map13 = buffer.readIntLongMap();\r\n        packet.skillCd = map13;\r\n        const result14 = buffer.readInt();\r\n        packet.speed = result14;\r\n        const result15 = buffer.readInt();\r\n        packet.x = result15;\r\n        const result16 = buffer.readInt();\r\n        packet.y = result16;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default RoomPlayerDto;\r\n", "\r\n\r\nclass RoomRankPlayerDto {\r\n\r\n    /** id */\r\n    id: number = 0;\r\n    /**  */\r\n    heroId: number = 0;\r\n    heroColor: number = 0;\r\n    name: string = '';\r\n    icon: string = '';\r\n    /** 1=0= */\r\n    leader: number = 0;\r\n    /**  */\r\n    rankNum: number = 0;\r\n    /**  */\r\n    kill: number = 0;\r\n    /**  */\r\n    atk: number = 0;\r\n    /**  */\r\n    score: number = 0;\r\n    /**  */\r\n    die: boolean = false;\r\n\r\n    static PROTOCOL_ID: number = 25012;\r\n\r\n    protocolId(): number {\r\n        return RoomRankPlayerDto.PROTOCOL_ID;\r\n    }\r\n\r\n    static write(buffer: any, packet: RoomRankPlayerDto | null) {\r\n        if (buffer.writePacketFlag(packet) || packet == null) {\r\n            return;\r\n        }\r\n        buffer.writeLong(packet.atk);\r\n        buffer.writeBoolean(packet.die);\r\n        buffer.writeInt(packet.heroColor);\r\n        buffer.writeLong(packet.heroId);\r\n        buffer.writeString(packet.icon);\r\n        buffer.writeLong(packet.id);\r\n        buffer.writeInt(packet.kill);\r\n        buffer.writeInt(packet.leader);\r\n        buffer.writeString(packet.name);\r\n        buffer.writeInt(packet.rankNum);\r\n        buffer.writeLong(packet.score);\r\n    }\r\n\r\n    static read(buffer: any): RoomRankPlayerDto | null {\r\n        if (!buffer.readBoolean()) {\r\n            return null;\r\n        }\r\n        const packet = new RoomRankPlayerDto();\r\n        const result0 = buffer.readLong();\r\n        packet.atk = result0;\r\n        const result1 = buffer.readBoolean(); \r\n        packet.die = result1;\r\n        const result2 = buffer.readInt();\r\n        packet.heroColor = result2;\r\n        const result3 = buffer.readLong();\r\n        packet.heroId = result3;\r\n        const result4 = buffer.readString();\r\n        packet.icon = result4;\r\n        const result5 = buffer.readLong();\r\n        packet.id = result5;\r\n        const result6 = buffer.readInt();\r\n        packet.kill = result6;\r\n        const result7 = buffer.readInt();\r\n        packet.leader = result7;\r\n        const result8 = buffer.readString();\r\n        packet.name = result8;\r\n        const result9 = buffer.readInt();\r\n        packet.rankNum = result9;\r\n        const result10 = buffer.readLong();\r\n        packet.score = result10;\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default RoomRankPlayerDto;\r\n", "import Error from './common/Error';\r\nimport Ping from './common/Ping';\r\nimport Pong from './common/Pong';\r\nimport LoginRequest from './login/LoginRequest';\r\nimport LoginResponse from './login/LoginResponse';\r\nimport LoginAgainPush from './login/LoginAgainPush';\r\nimport GmRequest from './login/GmRequest';\r\nimport GmResponse from './login/GmResponse';\r\nimport LoginBindingRequest from './login/LoginBindingRequest';\r\nimport LoginBindingResponse from './login/LoginBindingResponse';\r\nimport DisconnectPush from './login/DisconnectPush';\r\nimport ResPush from './login/ResPush';\r\nimport RoomMoveRequest from './login/RoomMoveRequest';\r\nimport RoomMoveResponse from './login/RoomMoveResponse';\r\nimport RoomPlayerChangePush from './login/RoomPlayerChangePush';\r\nimport RoomPlayerMovePush from './login/RoomPlayerMovePush';\r\nimport RoomGameOverPush from './login/RoomGameOverPush';\r\nimport AttackRequest from './login/AttackRequest';\r\nimport AttackResponse from './login/AttackResponse';\r\nimport AttackPush from './login/AttackPush';\r\nimport RoomInfoRequest from './login/RoomInfoRequest';\r\nimport RoomInfoResponse from './login/RoomInfoResponse';\r\nimport FirstBloodPush from './login/FirstBloodPush';\r\nimport MutiKillPush from './login/MutiKillPush';\r\nimport AnimationRequest from './login/AnimationRequest';\r\nimport AnimationResponse from './login/AnimationResponse';\r\nimport AnimationPush from './login/AnimationPush';\r\nimport TargetMoveRequest from './login/TargetMoveRequest';\r\nimport TargetMoveResponse from './login/TargetMoveResponse';\r\nimport TargetMovePush from './login/TargetMovePush';\r\nimport GameStartPush from './login/GameStartPush';\r\nimport IntBoolDto from './dto/IntBoolDto';\r\nimport ItemDto from './dto/ItemDto';\r\nimport RoomDto from './dto/RoomDto';\r\nimport MatchDto from './dto/MatchDto';\r\nimport RoomPlayerDto from './dto/RoomPlayerDto';\r\nimport RoomRankPlayerDto from './dto/RoomRankPlayerDto';\r\n\r\nconst protocols = new Map<number, any>();\r\n\r\n// initProtocol\r\nprotocols.set(101, Error);\r\nprotocols.set(103, Ping);\r\nprotocols.set(104, Pong);\r\nprotocols.set(1001, LoginRequest);\r\nprotocols.set(1002, LoginResponse);\r\nprotocols.set(1004, LoginAgainPush);\r\nprotocols.set(1005, GmRequest);\r\nprotocols.set(1006, GmResponse);\r\nprotocols.set(1007, LoginBindingRequest);\r\nprotocols.set(1008, LoginBindingResponse);\r\nprotocols.set(1010, DisconnectPush);\r\nprotocols.set(1012, ResPush);\r\nprotocols.set(1013, RoomMoveRequest);\r\nprotocols.set(1014, RoomMoveResponse);\r\nprotocols.set(1016, RoomPlayerChangePush);\r\nprotocols.set(1018, RoomPlayerMovePush);\r\nprotocols.set(1020, RoomGameOverPush);\r\nprotocols.set(1021, AttackRequest);\r\nprotocols.set(1022, AttackResponse);\r\nprotocols.set(1024, AttackPush);\r\nprotocols.set(1025, RoomInfoRequest);\r\nprotocols.set(1026, RoomInfoResponse);\r\nprotocols.set(1028, FirstBloodPush);\r\nprotocols.set(1030, MutiKillPush);\r\nprotocols.set(1031, AnimationRequest);\r\nprotocols.set(1032, AnimationResponse);\r\nprotocols.set(1034, AnimationPush);\r\nprotocols.set(1035, TargetMoveRequest);\r\nprotocols.set(1036, TargetMoveResponse);\r\nprotocols.set(1038, TargetMovePush);\r\nprotocols.set(1040, GameStartPush);\r\nprotocols.set(25007, IntBoolDto);\r\nprotocols.set(25008, ItemDto);\r\nprotocols.set(25009, RoomDto);\r\nprotocols.set(25010, MatchDto);\r\nprotocols.set(25011, RoomPlayerDto);\r\nprotocols.set(25012, RoomRankPlayerDto);\r\n\r\nclass ProtocolManager {\r\n    static getProtocol(protocolId: number): any {\r\n        const protocol = protocols.get(protocolId);\r\n        if (protocol === null) {\r\n            throw '[protocolId:' + protocolId + ']';\r\n        }\r\n        return protocol;\r\n    }\r\n\r\n    static write(buffer: any, packet: any): void {\r\n        const protocolId = packet.protocolId();\r\n        buffer.writeInt(protocolId);\r\n        const protocol = ProtocolManager.getProtocol(protocolId);\r\n        protocol.write(buffer, packet);\r\n    }\r\n\r\n    static read(buffer: any): any {\r\n        const protocolId = buffer.readInt();\r\n        const protocol = ProtocolManager.getProtocol(protocolId);\r\n        const packet = protocol.read(buffer);\r\n        return packet;\r\n    }\r\n}\r\n\r\nexport default ProtocolManager;\r\n", "const INT_CACHE: Record<number, Long> = {};\r\nconst UINT_CACHE: Record<number, Long> = {};\r\n\r\ntype WasmExports = {\r\n  mul: (low: number, high: number, mLow: number, mHigh: number) => number;\r\n  div_s: (low: number, high: number, dLow: number, dHigh: number) => number;\r\n  div_u: (low: number, high: number, dLow: number, dHigh: number) => number;\r\n  rem_s: (low: number, high: number, dLow: number, dHigh: number) => number;\r\n  rem_u: (low: number, high: number, dLow: number, dHigh: number) => number;\r\n  get_high: () => number;\r\n};\r\n\r\nlet wasm: WasmExports;\r\n\r\ntry {\r\n  wasm = new WebAssembly.Instance(\r\n    new WebAssembly.Module(\r\n      new Uint8Array([\r\n        0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127,\r\n        127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11,\r\n        7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5,\r\n        100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114,\r\n        101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0,\r\n        10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173,\r\n        66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4,\r\n        66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32,\r\n        1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127,\r\n        34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0,\r\n        173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134,\r\n        132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126,\r\n        32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66,\r\n        32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36,\r\n        1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3,\r\n        173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167,\r\n        11,\r\n      ])\r\n    ),\r\n    {}\r\n  ).exports as WasmExports;\r\n} catch {\r\n  // no wasm support\r\n}\r\n\r\nexport class Long {\r\n  /**\r\n   * Signed zero.\r\n   */\r\n  static readonly ZERO = Long.fromInt(0);\r\n\r\n  /**\r\n   * Unsigned zero.\r\n   */\r\n  static readonly UZERO = Long.fromInt(0, true);\r\n\r\n  /**\r\n   * Signed one.\r\n   */\r\n  static readonly ONE = Long.fromInt(1);\r\n\r\n  /**\r\n   * Unsigned one.\r\n   */\r\n  static readonly UONE = Long.fromInt(1, true);\r\n\r\n  /**\r\n   * Signed negative one.\r\n   */\r\n  static readonly NEG_ONE = Long.fromInt(-1);\r\n\r\n  /**\r\n   * Maximum signed value.\r\n   */\r\n  static readonly MAX_VALUE = Long.fromBits(\r\n    0xffffffff | 0,\r\n    0x7fffffff | 0,\r\n    false\r\n  );\r\n\r\n  /**\r\n   * Maximum unsigned value.\r\n   */\r\n  static readonly MAX_UNSIGNED_VALUE = Long.fromBits(\r\n    0xffffffff | 0,\r\n    0xffffffff | 0,\r\n    true\r\n  );\r\n\r\n  /**\r\n   * Minimum signed value.\r\n   */\r\n  static readonly MIN_VALUE = Long.fromBits(0, 0x80000000 | 0, false);\r\n\r\n  /**\r\n   * The low 32 bits as a signed value.\r\n   */\r\n  low: number;\r\n\r\n  /**\r\n   * The high 32 bits as a signed value.\r\n   */\r\n  high: number;\r\n\r\n  /**\r\n   * Whether unsigned or not.\r\n   */\r\n  unsigned: boolean;\r\n\r\n  /**\r\n   * Constructs a 64 bit two's-complement integer, given its low and high 32 bit values as signed integers. See the from* functions below for more convenient ways of constructing Longs.\r\n   */\r\n  constructor(low: number, high: number, unsigned = false) {\r\n    this.low = low | 0;\r\n    this.high = high | 0;\r\n    this.unsigned = unsigned;\r\n  }\r\n\r\n  /**\r\n   * Converts the Long to a 32 bit integer, assuming it is a 32 bit integer.\r\n   */\r\n  toInt() {\r\n    return this.unsigned ? this.low >>> 0 : this.low;\r\n  }\r\n\r\n  /**\r\n   * Converts the Long to a the nearest floating-point representation of this value (double, 53 bit mantissa).\r\n   */\r\n  toNumber() {\r\n    if (this.unsigned) {\r\n      return (this.high >>> 0) * TWO_PWR_32_DBL + (this.low >>> 0);\r\n    }\r\n    return this.high * TWO_PWR_32_DBL + (this.low >>> 0);\r\n  }\r\n\r\n  /**\r\n   * Converts the Long to a string written in the specified radix.\r\n   */\r\n  toString(radix = 10): string {\r\n    if (radix < 2 || 36 < radix) {\r\n      throw RangeError(\"radix\");\r\n    }\r\n    if (this.isZero()) {\r\n      return \"0\";\r\n    }\r\n    if (this.isNegative()) {\r\n      // Unsigned Longs are never negative\r\n      if (this.equals(Long.MIN_VALUE)) {\r\n        // We need to change the Long value before it can be negated, so we remove\r\n        // the bottom-most digit in this base and then recurse to do the rest.\r\n        const radixLong = Long.fromNumber(radix);\r\n        const div = this.divide(radixLong);\r\n        const rem1 = div.multiply(radixLong).subtract(this);\r\n        return div.toString(radix) + rem1.toInt().toString(radix);\r\n      } else {\r\n        return \"-\" + this.negate().toString(radix);\r\n      }\r\n    }\r\n\r\n    // Do several (6) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    const radixToPower = Long.fromNumber(Math.pow(radix, 6), this.unsigned);\r\n    let result = \"\";\r\n    let rem = this as Long;\r\n    while (true) {\r\n      const remDiv = rem.divide(radixToPower);\r\n      const intval = rem.subtract(remDiv.multiply(radixToPower)).toInt() >>> 0;\r\n      let digits = intval.toString(radix);\r\n      rem = remDiv;\r\n      if (rem.isZero()) {\r\n        return digits + result;\r\n      } else {\r\n        while (digits.length < 6) {\r\n          digits = \"0\" + digits;\r\n        }\r\n        result = \"\" + digits + result;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets the high 32 bits as a signed integer.\r\n   */\r\n  getHighBits() {\r\n    return this.high;\r\n  }\r\n\r\n  /**\r\n   * Gets the high 32 bits as an unsigned integer.\r\n   */\r\n  getHighBitsUnsigned() {\r\n    return this.high >>> 0;\r\n  }\r\n\r\n  /**\r\n   * Gets the low 32 bits as a signed integer.\r\n   */\r\n  getLowBits() {\r\n    return this.low;\r\n  }\r\n\r\n  /**\r\n   * Gets the low 32 bits as an unsigned integer.\r\n   */\r\n  getLowBitsUnsigned() {\r\n    return this.low >>> 0;\r\n  }\r\n\r\n  /**\r\n   * Gets the number of bits needed to represent the absolute value of this Long.\r\n   */\r\n  getNumBitsAbs(): number {\r\n    if (this.isNegative()) {\r\n      // Unsigned Longs are never negative\r\n      return this.equals(Long.MIN_VALUE) ? 64 : this.negate().getNumBitsAbs();\r\n    }\r\n    const val = this.high != 0 ? this.high : this.low;\r\n    let bit;\r\n    for (bit = 31; bit > 0; bit--) {\r\n      if ((val & (1 << bit)) != 0) {\r\n        break;\r\n      }\r\n    }\r\n    return this.high != 0 ? bit + 33 : bit + 1;\r\n  }\r\n\r\n  /**\r\n   * Tests if this Long's value equals zero.\r\n   */\r\n  isZero() {\r\n    return this.high === 0 && this.low === 0;\r\n  }\r\n\r\n  /**\r\n   * Tests if this Long's value is negative.\r\n   */\r\n  isNegative() {\r\n    return !this.unsigned && this.high < 0;\r\n  }\r\n\r\n  /**\r\n   * Tests if this Long's value is positive.\r\n   */\r\n  isPositive() {\r\n    return this.unsigned || this.high >= 0;\r\n  }\r\n\r\n  /**\r\n   * Tests if this Long's value is odd.\r\n   */\r\n  isOdd() {\r\n    return (this.low & 1) === 1;\r\n  }\r\n\r\n  /**\r\n   * Tests if this Long's value is even.\r\n   */\r\n  isEven() {\r\n    return (this.low & 1) === 0;\r\n  }\r\n\r\n  /**\r\n   * Tests if this Long's value equals the specified's.\r\n   */\r\n  equals(other: Long | number | string) {\r\n    if (!(other instanceof Long)) {\r\n      other = Long.fromValue(other);\r\n    }\r\n    if (\r\n      this.unsigned !== other.unsigned &&\r\n      this.high >>> 31 === 1 &&\r\n      other.high >>> 31 === 1\r\n    ) {\r\n      return false;\r\n    }\r\n    return this.high === other.high && this.low === other.low;\r\n  }\r\n\r\n  /**\r\n   * Tests if this Long's value differs from the specified's.\r\n   */\r\n  notEquals(other: Long | number | string) {\r\n    return !this.equals(other);\r\n  }\r\n\r\n  /**\r\n   * Tests if this Long's value is less than the specified's.\r\n   */\r\n  lessThan(other: Long | number | string) {\r\n    return this.compare(other) < 0;\r\n  }\r\n\r\n  /**\r\n   * Tests if this Long's value is less than or equal the specified's.\r\n   */\r\n  lessThanOrEqual(other: Long | number | string) {\r\n    return this.compare(other) <= 0;\r\n  }\r\n\r\n  /**\r\n   * Tests if this Long's value is greater than the specified's.\r\n   */\r\n  greaterThan(other: Long | number | string) {\r\n    return this.compare(other) > 0;\r\n  }\r\n\r\n  /**\r\n   * Tests if this Long's value is greater than or equal the specified's.\r\n   */\r\n  greaterThanOrEqual(other: Long | number | string) {\r\n    return this.compare(other) >= 0;\r\n  }\r\n\r\n  /**\r\n   * Compares this Long's value with the specified's.\r\n   */\r\n  compare(other: Long | number | string) {\r\n    if (!(other instanceof Long)) {\r\n      other = Long.fromValue(other);\r\n    }\r\n    if (this.equals(other)) {\r\n      return 0;\r\n    }\r\n    const thisNeg = this.isNegative();\r\n    const otherNeg = other.isNegative();\r\n    if (thisNeg && !otherNeg) {\r\n      return -1;\r\n    }\r\n    if (!thisNeg && otherNeg) {\r\n      return 1;\r\n    }\r\n    // At this point the sign bits are the same\r\n    if (!this.unsigned) {\r\n      return this.subtract(other).isNegative() ? -1 : 1;\r\n    }\r\n    // Both are positive if at least one is unsigned\r\n    return other.high >>> 0 > this.high >>> 0 ||\r\n    (other.high === this.high && other.low >>> 0 > this.low >>> 0)\r\n      ? -1\r\n      : 1;\r\n  }\r\n\r\n  /**\r\n   * Negates this Long's value.\r\n   */\r\n  negate() {\r\n    if (!this.unsigned && this.equals(Long.MIN_VALUE)) {\r\n      return Long.MIN_VALUE;\r\n    }\r\n    return this.not().add(Long.ONE);\r\n  }\r\n\r\n  /**\r\n   * Returns the sum of this and the specified Long.\r\n   */\r\n  add(addend: Long | number | string) {\r\n    if (!(addend instanceof Long)) {\r\n      addend = Long.fromValue(addend);\r\n    }\r\n\r\n    // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\r\n\r\n    const a48 = this.high >>> 16;\r\n    const a32 = this.high & 0xffff;\r\n    const a16 = this.low >>> 16;\r\n    const a00 = this.low & 0xffff;\r\n\r\n    const b48 = addend.high >>> 16;\r\n    const b32 = addend.high & 0xffff;\r\n    const b16 = addend.low >>> 16;\r\n    const b00 = addend.low & 0xffff;\r\n\r\n    let c48 = 0;\r\n    let c32 = 0;\r\n    let c16 = 0;\r\n    let c00 = 0;\r\n    c00 += a00 + b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xffff;\r\n    c16 += a16 + b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xffff;\r\n    c32 += a32 + b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xffff;\r\n    c48 += a48 + b48;\r\n    c48 &= 0xffff;\r\n    return Long.fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n  }\r\n\r\n  /**\r\n   * Returns the difference of this and the specified Long.\r\n   */\r\n  subtract(subtrahend: Long | number | string) {\r\n    if (!(subtrahend instanceof Long)) {\r\n      subtrahend = Long.fromValue(subtrahend);\r\n    }\r\n    return this.add(subtrahend.negate());\r\n  }\r\n\r\n  /**\r\n   * Returns the product of this and the specified Long.\r\n   */\r\n  multiply(multiplier: Long | number | string): Long {\r\n    if (this.isZero()) {\r\n      return Long.ZERO;\r\n    }\r\n    if (!(multiplier instanceof Long)) {\r\n      multiplier = Long.fromValue(multiplier);\r\n    }\r\n\r\n    if (wasm) {\r\n      const low = wasm.mul(\r\n        this.low,\r\n        this.high,\r\n        multiplier.low,\r\n        multiplier.high\r\n      );\r\n      return Long.fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (multiplier.isZero()) {\r\n      return Long.ZERO;\r\n    }\r\n    if (this.equals(Long.MIN_VALUE)) {\r\n      return multiplier.isOdd() ? Long.MIN_VALUE : Long.ZERO;\r\n    }\r\n    if (multiplier.equals(Long.MIN_VALUE)) {\r\n      return this.isOdd() ? Long.MIN_VALUE : Long.ZERO;\r\n    }\r\n\r\n    if (this.isNegative()) {\r\n      if (multiplier.isNegative()) {\r\n        return this.negate().multiply(multiplier.negate());\r\n      } else {\r\n        return this.negate().multiply(multiplier).negate();\r\n      }\r\n    } else if (multiplier.isNegative()) {\r\n      return this.multiply(multiplier.negate()).negate();\r\n    }\r\n\r\n    // If both longs are small, use float multiplication\r\n    if (this.lessThan(TWO_PWR_24) && multiplier.lessThan(TWO_PWR_24)) {\r\n      return Long.fromNumber(\r\n        this.toNumber() * multiplier.toNumber(),\r\n        this.unsigned\r\n      );\r\n    }\r\n\r\n    // Divide each long into 4 chunks of 16 bits, and then add up 4x4 products.\r\n    // We can skip products that would overflow.\r\n\r\n    const a48 = this.high >>> 16;\r\n    const a32 = this.high & 0xffff;\r\n    const a16 = this.low >>> 16;\r\n    const a00 = this.low & 0xffff;\r\n\r\n    const b48 = multiplier.high >>> 16;\r\n    const b32 = multiplier.high & 0xffff;\r\n    const b16 = multiplier.low >>> 16;\r\n    const b00 = multiplier.low & 0xffff;\r\n\r\n    let c48 = 0;\r\n    let c32 = 0;\r\n    let c16 = 0;\r\n    let c00 = 0;\r\n    c00 += a00 * b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xffff;\r\n    c16 += a16 * b00;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xffff;\r\n    c16 += a00 * b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xffff;\r\n    c32 += a32 * b00;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xffff;\r\n    c32 += a16 * b16;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xffff;\r\n    c32 += a00 * b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xffff;\r\n    c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\r\n    c48 &= 0xffff;\r\n    return Long.fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n  }\r\n\r\n  /**\r\n   * Returns this Long divided by the specified. The result is signed if this Long is signed or unsigned if this Long is unsigned.\r\n   */\r\n  divide(divisor: Long | number | string): Long {\r\n    if (!(divisor instanceof Long)) {\r\n      divisor = Long.fromValue(divisor);\r\n    }\r\n    if (divisor.isZero()) {\r\n      throw Error(\"division by zero\");\r\n    }\r\n\r\n    if (wasm) {\r\n      // guard against signed division overflow: the largest\r\n      // negative number / -1 would be 1 larger than the largest\r\n      // positive number, due to two's complement.\r\n      if (\r\n        !this.unsigned &&\r\n        this.high === -0x80000000 &&\r\n        divisor.low === -1 &&\r\n        divisor.high === -1\r\n      ) {\r\n        // be consistent with non-wasm code path\r\n        return this;\r\n      }\r\n      const low = (this.unsigned ? wasm.div_u : wasm.div_s)(\r\n        this.low,\r\n        this.high,\r\n        divisor.low,\r\n        divisor.high\r\n      );\r\n      return Long.fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (this.isZero()) {\r\n      return this.unsigned ? Long.UZERO : Long.ZERO;\r\n    }\r\n    let approx;\r\n    let rem;\r\n    let res;\r\n    if (!this.unsigned) {\r\n      // This section is only relevant for signed longs and is derived from the\r\n      // closure library as a whole.\r\n      if (this.equals(Long.MIN_VALUE)) {\r\n        if (divisor.equals(Long.ONE) || divisor.equals(Long.NEG_ONE)) {\r\n          return Long.MIN_VALUE;\r\n        }\r\n        // recall that -MIN_VALUE == MIN_VALUE\r\n        else if (divisor.equals(Long.MIN_VALUE)) {\r\n          return Long.ONE;\r\n        } else {\r\n          // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\r\n          const halfThis = this.shiftRight(1);\r\n          approx = halfThis.divide(divisor).shiftLeft(1);\r\n          if (approx.equals(Long.ZERO)) {\r\n            return divisor.isNegative() ? Long.ONE : Long.NEG_ONE;\r\n          } else {\r\n            rem = this.subtract(divisor.multiply(approx));\r\n            res = approx.add(rem.divide(divisor));\r\n            return res;\r\n          }\r\n        }\r\n      } else if (divisor.equals(Long.MIN_VALUE)) {\r\n        return this.unsigned ? Long.UZERO : Long.ZERO;\r\n      }\r\n      if (this.isNegative()) {\r\n        if (divisor.isNegative()) {\r\n          return this.negate().divide(divisor.negate());\r\n        }\r\n        return this.negate().divide(divisor).negate();\r\n      } else if (divisor.isNegative()) {\r\n        return this.divide(divisor.negate()).negate();\r\n      }\r\n      res = Long.ZERO;\r\n    } else {\r\n      // The algorithm below has not been made for unsigned longs. It's therefore\r\n      // required to take special care of the MSB prior to running it.\r\n      if (!divisor.unsigned) {\r\n        divisor = divisor.toUnsigned();\r\n      }\r\n      if (divisor.greaterThan(this)) {\r\n        return Long.UZERO;\r\n      }\r\n      if (divisor.greaterThan(this.shiftRightUnsigned(1))) {\r\n        // 15 >>> 1 = 7 ; with divisor = 8 ; true\r\n        return Long.UONE;\r\n      }\r\n      res = Long.UZERO;\r\n    }\r\n\r\n    // Repeat the following until the remainder is less than other:  find a\r\n    // floating-point that approximates remainder / other *from below*, add this\r\n    // into the result, and subtract it from the remainder.  It is critical that\r\n    // the approximate value is less than or equal to the real value so that the\r\n    // remainder never becomes negative.\r\n    rem = this;\r\n    while (rem.greaterThanOrEqual(divisor)) {\r\n      // Approximate the result of division. This may be a little greater or\r\n      // smaller than the actual value.\r\n      approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));\r\n\r\n      // We will tweak the approximate result by changing it in the 48-th digit or\r\n      // the smallest non-fractional digit, whichever is larger.\r\n      const log2 = Math.ceil(Math.log(approx) / Math.LN2);\r\n      const delta = log2 <= 48 ? 1 : Math.pow(2, log2 - 48);\r\n      // Decrease the approximation until it is smaller than the remainder.  Note\r\n      // that if it is too large, the product overflows and is negative.\r\n      let approxRes = Long.fromNumber(approx);\r\n      let approxRem = approxRes.multiply(divisor);\r\n      while (approxRem.isNegative() || approxRem.greaterThan(rem)) {\r\n        approx -= delta;\r\n        approxRes = Long.fromNumber(approx, this.unsigned);\r\n        approxRem = approxRes.multiply(divisor);\r\n      }\r\n\r\n      // We know the answer can't be zero... and actually, zero would cause\r\n      // infinite recursion since we would make no progress.\r\n      if (approxRes.isZero()) {\r\n        approxRes = Long.ONE;\r\n      }\r\n\r\n      res = res.add(approxRes);\r\n      rem = rem.subtract(approxRem);\r\n    }\r\n    return res;\r\n  }\r\n\r\n  /**\r\n   * Returns this Long modulo the specified.\r\n   */\r\n  modulo(divisor: Long | number | string) {\r\n    if (!(divisor instanceof Long)) {\r\n      divisor = Long.fromValue(divisor);\r\n    }\r\n\r\n    if (wasm) {\r\n      const low = (this.unsigned ? wasm.rem_u : wasm.rem_s)(\r\n        this.low,\r\n        this.high,\r\n        divisor.low,\r\n        divisor.high\r\n      );\r\n      return Long.fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    return this.subtract(this.divide(divisor).multiply(divisor));\r\n  }\r\n\r\n  /**\r\n   * Returns the bitwise NOT of this Long.\r\n   */\r\n  not() {\r\n    return Long.fromBits(~this.low, ~this.high, this.unsigned);\r\n  }\r\n\r\n  /**\r\n   * Returns the bitwise AND of this Long and the specified.\r\n   */\r\n  and(other: Long | number | string) {\r\n    if (!(other instanceof Long)) {\r\n      other = Long.fromValue(other);\r\n    }\r\n    return Long.fromBits(\r\n      this.low & other.low,\r\n      this.high & other.high,\r\n      this.unsigned\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Returns the bitwise OR of this Long and the specified.\r\n   */\r\n  or(other: Long | number | string) {\r\n    if (!(other instanceof Long)) {\r\n      other = Long.fromValue(other);\r\n    }\r\n    return Long.fromBits(\r\n      this.low | other.low,\r\n      this.high | other.high,\r\n      this.unsigned\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Returns the bitwise XOR of this Long and the given one.\r\n   */\r\n  xor(other: Long | number | string) {\r\n    if (!(other instanceof Long)) {\r\n      other = Long.fromValue(other);\r\n    }\r\n    return Long.fromBits(\r\n      this.low ^ other.low,\r\n      this.high ^ other.high,\r\n      this.unsigned\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Returns this Long with bits shifted to the left by the given amount.\r\n   */\r\n  shiftLeft(numBits: number | Long) {\r\n    if (numBits instanceof Long) {\r\n      numBits = numBits.toInt();\r\n    }\r\n    if ((numBits &= 63) === 0) {\r\n      return this;\r\n    } else if (numBits < 32) {\r\n      const lowNum: number = this.low << numBits;\r\n      return Long.fromBits(lowNum, (this.high << numBits) | (this.low >>> (32 - numBits)), this.unsigned);\r\n    } else {\r\n      return Long.fromBits(0, this.low << (numBits - 32), this.unsigned);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns this Long with bits arithmetically shifted to the right by the given amount.\r\n   */\r\n  shiftRight(numBits: number | Long) {\r\n    if (numBits instanceof Long) {\r\n      numBits = numBits.toInt();\r\n    }\r\n    if ((numBits &= 63) === 0) {\r\n      return this;\r\n    } else if (numBits < 32) {\r\n      return Long.fromBits(\r\n        (this.low >>> numBits) | (this.high << (32 - numBits)),\r\n        this.high >> numBits,\r\n        this.unsigned\r\n      );\r\n    } else {\r\n      return Long.fromBits(\r\n        this.high >> (numBits - 32),\r\n        this.high >= 0 ? 0 : -1,\r\n        this.unsigned\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns this Long with bits logically shifted to the right by the given amount.\r\n   */\r\n  shiftRightUnsigned(numBits: number | Long) {\r\n    if (numBits instanceof Long) {\r\n      numBits = numBits.toInt();\r\n    }\r\n    if ((numBits &= 63) === 0) {\r\n      return this;\r\n    }\r\n    if (numBits < 32) {\r\n      return Long.fromBits(\r\n        (this.low >>> numBits) | (this.high << (32 - numBits)),\r\n        this.high >>> numBits,\r\n        this.unsigned\r\n      );\r\n    }\r\n    if (numBits === 32) {\r\n      return Long.fromBits(this.high, 0, this.unsigned);\r\n    }\r\n    return Long.fromBits(this.high >>> (numBits - 32), 0, this.unsigned);\r\n  }\r\n\r\n  /**\r\n   * Returns this Long with bits rotated to the left by the given amount.\r\n   */\r\n  rotateLeft(numBits: number | Long) {\r\n    let b;\r\n    if (numBits instanceof Long) {\r\n      numBits = numBits.toInt();\r\n    }\r\n    if ((numBits &= 63) === 0) {\r\n      return this;\r\n    }\r\n    if (numBits === 32) {\r\n      return Long.fromBits(this.high, this.low, this.unsigned);\r\n    }\r\n    if (numBits < 32) {\r\n      b = 32 - numBits;\r\n      return Long.fromBits(\r\n        (this.low << numBits) | (this.high >>> b),\r\n        (this.high << numBits) | (this.low >>> b),\r\n        this.unsigned\r\n      );\r\n    }\r\n    numBits -= 32;\r\n    b = 32 - numBits;\r\n    return Long.fromBits(\r\n      (this.high << numBits) | (this.low >>> b),\r\n      (this.low << numBits) | (this.high >>> b),\r\n      this.unsigned\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Returns this Long with bits rotated to the right by the given amount.\r\n   */\r\n  rotateRight(numBits: number | Long) {\r\n    let b;\r\n    if (numBits instanceof Long) {\r\n      numBits = numBits.toInt();\r\n    }\r\n    if ((numBits &= 63) === 0) {\r\n      return this;\r\n    }\r\n    if (numBits === 32) {\r\n      return Long.fromBits(this.high, this.low, this.unsigned);\r\n    }\r\n    if (numBits < 32) {\r\n      b = 32 - numBits;\r\n      return Long.fromBits(\r\n        (this.high << b) | (this.low >>> numBits),\r\n        (this.low << b) | (this.high >>> numBits),\r\n        this.unsigned\r\n      );\r\n    }\r\n    numBits -= 32;\r\n    b = 32 - numBits;\r\n    return Long.fromBits(\r\n      (this.low << b) | (this.high >>> numBits),\r\n      (this.high << b) | (this.low >>> numBits),\r\n      this.unsigned\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Converts this Long to signed.\r\n   */\r\n  toSigned() {\r\n    if (!this.unsigned) {\r\n      return this;\r\n    }\r\n    return Long.fromBits(this.low, this.high, false);\r\n  }\r\n\r\n  /**\r\n   * Converts this Long to unsigned.\r\n   */\r\n  toUnsigned() {\r\n    if (this.unsigned) {\r\n      return this;\r\n    }\r\n    return Long.fromBits(this.low, this.high, true);\r\n  }\r\n\r\n  /**\r\n   * Converts this Long to its byte representation.\r\n   */\r\n  toBytes(le?: boolean) {\r\n    return le ? this.toBytesLE() : this.toBytesBE();\r\n  }\r\n\r\n  /**\r\n   * Converts this Long to its little endian byte representation.\r\n   */\r\n  toBytesLE() {\r\n    const hi = this.high;\r\n    const lo = this.low;\r\n    return [\r\n      lo & 0xff,\r\n      (lo >>> 8) & 0xff,\r\n      (lo >>> 16) & 0xff,\r\n      lo >>> 24,\r\n      hi & 0xff,\r\n      (hi >>> 8) & 0xff,\r\n      (hi >>> 16) & 0xff,\r\n      hi >>> 24,\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * Converts this Long to its big endian byte representation.\r\n   */\r\n  toBytesBE() {\r\n    const hi = this.high;\r\n    const lo = this.low;\r\n    return [\r\n      hi >>> 24,\r\n      (hi >>> 16) & 0xff,\r\n      (hi >>> 8) & 0xff,\r\n      hi & 0xff,\r\n      lo >>> 24,\r\n      (lo >>> 16) & 0xff,\r\n      (lo >>> 8) & 0xff,\r\n      lo & 0xff,\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * Creates a Long from its byte representation.\r\n   */\r\n  static fromBytes(bytes: number[], unsigned?: boolean, le?: boolean) {\r\n    return le\r\n      ? Long.fromBytesLE(bytes, unsigned)\r\n      : Long.fromBytesBE(bytes, unsigned);\r\n  }\r\n\r\n  /**\r\n   * Creates a Long from its little endian byte representation.\r\n   */\r\n  static fromBytesLE(bytes: number[], unsigned?: boolean) {\r\n    return new Long(\r\n      bytes[0] | (bytes[1] << 8) | (bytes[2] << 16) | (bytes[3] << 24),\r\n      bytes[4] | (bytes[5] << 8) | (bytes[6] << 16) | (bytes[7] << 24),\r\n      unsigned\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Creates a Long from its big endian byte representation.\r\n   */\r\n  static fromBytesBE(bytes: number[], unsigned?: boolean) {\r\n    return new Long(\r\n      (bytes[4] << 24) | (bytes[5] << 16) | (bytes[6] << 8) | bytes[7],\r\n      (bytes[0] << 24) | (bytes[1] << 16) | (bytes[2] << 8) | bytes[3],\r\n      unsigned\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Returns a Long representing the given 32 bit integer value.\r\n   */\r\n  static fromInt(value: number, unsigned?: boolean) {\r\n    let cache;\r\n    if (unsigned) {\r\n      value >>>= 0;\r\n      if ((cache = 0 <= value && value < 256)) {\r\n        const cachedObj = UINT_CACHE[value];\r\n        if (cachedObj) {\r\n          return cachedObj;\r\n        }\r\n      }\r\n      const obj = Long.fromBits(value, (value | 0) < 0 ? -1 : 0, true);\r\n      if (cache) {\r\n        UINT_CACHE[value] = obj;\r\n      }\r\n      return obj;\r\n    } else {\r\n      value |= 0;\r\n      if ((cache = -128 <= value && value < 128)) {\r\n        const cachedObj = INT_CACHE[value];\r\n        if (cachedObj) {\r\n          return cachedObj;\r\n        }\r\n      }\r\n      const obj = Long.fromBits(value, value < 0 ? -1 : 0, false);\r\n      if (cache) {\r\n        INT_CACHE[value] = obj;\r\n      }\r\n      return obj;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\r\n   */\r\n  static fromNumber(value: number, unsigned?: boolean): Long {\r\n    if (isNaN(value)) {\r\n      return unsigned ? Long.UZERO : Long.ZERO;\r\n    }\r\n    if (unsigned) {\r\n      if (value < 0) {\r\n        return Long.UZERO;\r\n      }\r\n      if (value >= TWO_PWR_64_DBL) {\r\n        return Long.MAX_UNSIGNED_VALUE;\r\n      }\r\n    } else {\r\n      if (value <= -TWO_PWR_63_DBL) {\r\n        return Long.MIN_VALUE;\r\n      }\r\n      if (value + 1 >= TWO_PWR_63_DBL) {\r\n        return Long.MAX_VALUE;\r\n      }\r\n    }\r\n    if (value < 0) {\r\n      return Long.fromNumber(-value, unsigned).negate();\r\n    }\r\n    return Long.fromBits(\r\n      value % TWO_PWR_32_DBL | 0,\r\n      (value / TWO_PWR_32_DBL) | 0,\r\n      unsigned\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Returns a Long representing the 64 bit integer that comes by concatenating the given low and high bits. Each is assumed to use 32 bits.\r\n   */\r\n  static fromBits(lowBits: number, highBits: number, unsigned?: boolean) {\r\n    return new Long(lowBits, highBits, unsigned);\r\n  }\r\n\r\n  /**\r\n   * Returns a Long representation of the given string, written using the specified radix.\r\n   */\r\n  static fromString(\r\n    str: string,\r\n    unsigned?: boolean | number,\r\n    radix?: number\r\n  ): Long {\r\n    if (str.length === 0) {\r\n      throw Error(\"empty string\");\r\n    }\r\n    if (\r\n      str === \"NaN\" ||\r\n      str === \"Infinity\" ||\r\n      str === \"+Infinity\" ||\r\n      str === \"-Infinity\"\r\n    ) {\r\n      return Long.ZERO;\r\n    }\r\n    if (typeof unsigned === \"number\") {\r\n      // For goog.math.long compatibility\r\n      (radix = unsigned), (unsigned = false);\r\n    } else {\r\n      unsigned = !!unsigned;\r\n    }\r\n    radix = radix || 10;\r\n    if (radix < 2 || 36 < radix) {\r\n      throw RangeError(\"radix\");\r\n    }\r\n\r\n    let p;\r\n    if ((p = str.indexOf(\"-\")) > 0) {\r\n      throw Error(\"interior hyphen\");\r\n    } else if (p === 0) {\r\n      return Long.fromString(str.substring(1), unsigned, radix).negate();\r\n    }\r\n\r\n    // Do several (8) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    const radixToPower = Long.fromNumber(Math.pow(radix, 8));\r\n\r\n    let result = Long.ZERO;\r\n    for (let i = 0; i < str.length; i += 8) {\r\n      const size = Math.min(8, str.length - i);\r\n      const value = parseInt(str.substring(i, i + size), radix);\r\n      if (size < 8) {\r\n        const power = Long.fromNumber(Math.pow(radix, size));\r\n        result = result.multiply(power).add(Long.fromNumber(value));\r\n      } else {\r\n        result = result.multiply(radixToPower);\r\n        result = result.add(Long.fromNumber(value));\r\n      }\r\n    }\r\n    result.unsigned = unsigned;\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Converts the specified value to a Long using the appropriate from* function for its type.\r\n   */\r\n  static fromValue(\r\n    val:\r\n      | Long\r\n      | number\r\n      | string\r\n      | { low: number; high: number; unsigned: boolean },\r\n    unsigned?: boolean\r\n  ) {\r\n    if (typeof val === \"number\") {\r\n      return Long.fromNumber(val, unsigned);\r\n    }\r\n    if (typeof val === \"string\") {\r\n      return Long.fromString(val, unsigned);\r\n    }\r\n    return Long.fromBits(\r\n      val.low,\r\n      val.high,\r\n      typeof unsigned === \"boolean\" ? unsigned : val.unsigned\r\n    );\r\n  }\r\n}\r\n\r\nconst TWO_PWR_16_DBL = 1 << 16;\r\nconst TWO_PWR_24_DBL = 1 << 24;\r\nconst TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\r\nconst TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\r\nconst TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;\r\nconst TWO_PWR_24 = Long.fromInt(TWO_PWR_24_DBL);\r\n", "// from https://github.com/hornta/long-ts\r\nimport {Long} from \"./Long\";\r\n\r\n\r\n/**\r\n * Constructs new long bits.\r\n * @classdesc Helper class for working with the low and high bits of a 64 bit value.\r\n * @memberof util\r\n * @constructor\r\n * @param {number} lo Low 32 bits, unsigned\r\n * @param {number} hi High 32 bits, unsigned\r\n */\r\nclass Longbits {\r\n  lo: number;\r\n  hi: number;\r\n\r\n  constructor(lo:number, hi:number) {\r\n    this.lo = lo >>> 0;\r\n    this.hi = hi >>> 0;\r\n  }\r\n\r\n  /**\r\n   * Zig-zag encodes this long bits.\r\n   */\r\n  zzEncode(): Longbits {\r\n    const mask = this.hi >> 31;\r\n    this.hi = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;\r\n    this.lo = (this.lo << 1 ^ mask) >>> 0;\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Zig-zag decodes this long bits.\r\n   */\r\n  zzDecode(): Longbits {\r\n    const mask = -(this.lo & 1);\r\n    this.lo = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;\r\n    this.hi = (this.hi >>> 1 ^ mask) >>> 0;\r\n    return this;\r\n  };\r\n\r\n\r\n  /**\r\n   * Converts this long bits to a long.\r\n   */\r\n  toLong(unsigned): Long {\r\n    return new Long(this.lo | 0, this.hi | 0, Boolean(unsigned));\r\n  };\r\n\r\n  /**\r\n   * Constructs new long bits from the specified number.\r\n   */\r\n  static from(value: any) {\r\n    if (typeof value === 'number') {\r\n      return Longbits.fromNumber(value as number);\r\n    }\r\n    if (typeof value === 'string' || value instanceof String) {\r\n      value = Long.fromString(value as string);\r\n    }\r\n    return value.low || value.high ? new Longbits(value.low >>> 0, value.high >>> 0) : zero;\r\n  }\r\n\r\n  /**\r\n   * Constructs new long bits from the specified number.\r\n   */\r\n  static fromNumber(value: number): Longbits {\r\n    if (value === 0) {\r\n      return zero;\r\n    }\r\n    const sign = value < 0;\r\n    if (sign) {\r\n      value = -value;\r\n    }\r\n    let lo = value >>> 0;\r\n    let hi = (value - lo) / 4294967296 >>> 0;\r\n    if (sign) {\r\n      hi = ~hi >>> 0;\r\n      lo = ~lo >>> 0;\r\n      if (++lo > 4294967295) {\r\n        lo = 0;\r\n        if (++hi > 4294967295) {\r\n          hi = 0;\r\n        }\r\n      }\r\n    }\r\n    return new Longbits(lo, hi);\r\n  }\r\n}\r\n\r\n\r\n\r\n/**\r\n * Zero bits.\r\n */\r\nconst zero = new Longbits(0, 0);\r\n\r\n\r\nfunction writeVarint64(byteBuffer: any, value: Longbits) {\r\n    let count = 0;\r\n    while (value.hi) {\r\n        byteBuffer.writeByte(value.lo & 127 | 128);\r\n        value.lo = (value.lo >>> 7 | value.hi << 25) >>> 0;\r\n        value.hi >>>= 7;\r\n        count = count + 7;\r\n    }\r\n    while (value.lo > 127) {\r\n        if (count >= 56) {\r\n            byteBuffer.writeByte(value.lo);\r\n            return;\r\n        }\r\n        byteBuffer.writeByte(value.lo & 127 | 128);\r\n        value.lo = value.lo >>> 7;\r\n        count = count + 7;\r\n    }\r\n    byteBuffer.writeByte(value.lo);\r\n}\r\n\r\nfunction readLongVarint(buffer: any) {\r\n    // tends to deopt with local vars for octet etc.\r\n    const bits = new Longbits(0, 0);\r\n    let i = 0;\r\n    const len = buffer.length;\r\n    let pos = 0;\r\n    if (len - pos > 4) { // fast route (lo)\r\n        for (; i < 4; ++i) {\r\n            // 1st..4th\r\n            bits.lo = (bits.lo | (buffer[pos] & 127) << i * 7) >>> 0;\r\n            if (buffer[pos++] < 128) {\r\n                return bits;\r\n            }\r\n        }\r\n        // 5th\r\n        bits.lo = (bits.lo | (buffer[pos] & 127) << 28) >>> 0;\r\n        bits.hi = (bits.hi | (buffer[pos] & 127) >> 4) >>> 0;\r\n        if (buffer[pos++] < 128) {\r\n            return bits;\r\n        }\r\n        i = 0;\r\n    } else {\r\n        for (; i < 3; ++i) {\r\n            // 1st..3th\r\n            bits.lo = (bits.lo | (buffer[pos] & 127) << i * 7) >>> 0;\r\n            if (buffer[pos++] < 128) {\r\n                return bits;\r\n            }\r\n        }\r\n        // 4th\r\n        bits.lo = (bits.lo | (buffer[pos++] & 127) << i * 7) >>> 0;\r\n        return bits;\r\n    }\r\n\r\n    // 6th..9th\r\n    for (; i < 4; ++i) {\r\n        // \r\n        if (pos === 8) {\r\n            bits.hi = (bits.hi | buffer[pos] << i * 7 + 3) >>> 0;\r\n            return bits;\r\n        }\r\n        bits.hi = (bits.hi | (buffer[pos] & 127) << i * 7 + 3) >>> 0;\r\n        if (buffer[pos++] < 128) {\r\n            return bits;\r\n        }\r\n    }\r\n\r\n    return bits;\r\n}\r\n\r\nexport function writeInt64(byteBuffer: any, value: any) {\r\n    const bits = Longbits.from(value).zzEncode();\r\n    writeVarint64(byteBuffer, bits);\r\n}\r\n\r\nexport function readInt64(buffer: any): Long {\r\n    return readLongVarint(buffer).zzDecode().toLong(false);\r\n}\r\n", "import ProtocolManager from \"../ProtocolManager\";\r\n\r\nimport {writeInt64, readInt64} from \"./Longbits\";\r\n\r\nconst empty_str = '';\r\nconst initSize = 128;\r\nconst maxSize = 655537;\r\n\r\nconst maxShort = 32767;\r\nconst minShort = -32768;\r\n\r\nconst maxInt = 2147483647;\r\nconst minInt = -2147483648;\r\n\r\n// UTF-8\r\nconst encoder = new TextEncoder();\r\nconst decoder = new TextDecoder();\r\n\r\n// nodejs\r\n// const util = require('util');\r\n// const encoder = new util.TextEncoder('utf-8');\r\n// const decoder = new util.TextDecoder('utf-8');\r\n\r\n// jslong\r\n// const maxLong = 9007199254740992;\r\n// const minLong = -9007199254740992;\r\n\r\nfunction copy(original: ArrayBuffer, newLength: number) {\r\n    if (original.byteLength > newLength) {\r\n        throw new Error('newLength is too small');\r\n    }\r\n    const dst = new ArrayBuffer(newLength);\r\n    new Uint8Array(dst).set(new Uint8Array(original));\r\n    return dst;\r\n}\r\n\r\nfunction encodeZigzagInt(n: number) {\r\n    // +31\r\n    return (n << 1) ^ (n >> 31);\r\n}\r\n\r\nfunction decodeZigzagInt(n: number) {\r\n    return (n >>> 1) ^ -(n & 1);\r\n}\r\n\r\n\r\nclass ByteBuffer {\r\n    writeOffset: number;\r\n    readOffset: number;\r\n    buffer: ArrayBuffer;\r\n    bufferView: DataView;\r\n\r\n    constructor() {\r\n        this.writeOffset = 0;\r\n        this.readOffset = 0;\r\n        this.buffer = new ArrayBuffer(initSize);\r\n        this.bufferView = new DataView(this.buffer, 0, this.buffer.byteLength);\r\n    }\r\n\r\n    setWriteOffset(writeOffset: number): void {\r\n        if (writeOffset > this.buffer.byteLength) {\r\n            throw new Error('index out of bounds exception:readerIndex:' + this.readOffset +\r\n                ', writerIndex:' + this.writeOffset +\r\n                '(expected:0 <= readerIndex <= writerIndex <= capacity:' + this.buffer.byteLength);\r\n        }\r\n        this.writeOffset = writeOffset;\r\n    }\r\n\r\n    setReadOffset(readOffset: number): void {\r\n        if (readOffset > this.writeOffset) {\r\n            throw new Error('index out of bounds exception:readerIndex:' + this.readOffset +\r\n                ', writerIndex:' + this.writeOffset +\r\n                '(expected:0 <= readerIndex <= writerIndex <= capacity:' + this.buffer.byteLength);\r\n        }\r\n        this.readOffset = readOffset;\r\n    }\r\n\r\n    getCapacity(): number {\r\n        return this.buffer.byteLength - this.writeOffset;\r\n    }\r\n\r\n    ensureCapacity(minCapacity: number): void {\r\n        while (minCapacity - this.getCapacity() > 0) {\r\n            const newSize = this.buffer.byteLength * 2;\r\n            if (newSize > maxSize) {\r\n                throw new Error('out of memory error');\r\n            }\r\n            this.buffer = copy(this.buffer, newSize);\r\n            this.bufferView = new DataView(this.buffer, 0, this.buffer.byteLength);\r\n        }\r\n    }\r\n\r\n    isReadable(): boolean {\r\n        return this.writeOffset > this.readOffset;\r\n    }\r\n\r\n    writeBytes(byteArray: ArrayBuffer): void {\r\n        const length = byteArray.byteLength;\r\n        this.ensureCapacity(length);\r\n        new Uint8Array(this.buffer).set(new Uint8Array(byteArray), this.writeOffset);\r\n        this.writeOffset += length;\r\n    }\r\n\r\n    toBytes(): ArrayBuffer {\r\n        const result = new ArrayBuffer(this.writeOffset);\r\n        new Uint8Array(result).set(new Uint8Array(this.buffer.slice(0, this.writeOffset)));\r\n        return result;\r\n    }\r\n\r\n    writeBoolean(value: boolean): void {\r\n        if (!(value === true || value === false)) {\r\n            throw new Error('value must be true of false');\r\n        }\r\n        this.ensureCapacity(1);\r\n        if (value === true) {\r\n            this.bufferView.setInt8(this.writeOffset, 1);\r\n        } else {\r\n            this.bufferView.setInt8(this.writeOffset, 0);\r\n        }\r\n        this.writeOffset++;\r\n    }\r\n\r\n    readBoolean(): boolean {\r\n        const value = this.bufferView.getInt8(this.readOffset);\r\n        this.readOffset++;\r\n        return (value === 1);\r\n    }\r\n\r\n    writeByte(value: number): void {\r\n        this.ensureCapacity(1);\r\n        this.bufferView.setInt8(this.writeOffset, value);\r\n        this.writeOffset++;\r\n    }\r\n\r\n    readByte(): number {\r\n        const value = this.bufferView.getInt8(this.readOffset);\r\n        this.readOffset++;\r\n        return value;\r\n    }\r\n\r\n    writeShort(value: number): void {\r\n        if (!(minShort <= value && value <= maxShort)) {\r\n            throw new Error('value must range between minShort:-32768 and maxShort:32767');\r\n        }\r\n        this.ensureCapacity(2);\r\n        this.bufferView.setInt16(this.writeOffset, value);\r\n        this.writeOffset += 2;\r\n    }\r\n\r\n    readShort(): number {\r\n        const value = this.bufferView.getInt16(this.readOffset);\r\n        this.readOffset += 2;\r\n        return value;\r\n    }\r\n\r\n    writeRawInt(value: number): void {\r\n        if (!(minInt <= value && value <= maxInt)) {\r\n            throw new Error('value must range between minInt:-2147483648 and maxInt:2147483647');\r\n        }\r\n        this.ensureCapacity(4);\r\n        this.bufferView.setInt32(this.writeOffset, value);\r\n        this.writeOffset += 4;\r\n    }\r\n\r\n    readRawInt(): number {\r\n        const value = this.bufferView.getInt32(this.readOffset);\r\n        this.readOffset += 4;\r\n        return value;\r\n    }\r\n\r\n    writeInt(value: number): void {\r\n        if (!(minInt <= value && value <= maxInt)) {\r\n            throw new Error('value must range between minInt:-2147483648 and maxInt:2147483647');\r\n        }\r\n        this.ensureCapacity(5);\r\n\r\n        value = encodeZigzagInt(value);\r\n\r\n        if (value >>> 7 === 0) {\r\n            this.writeByte(value);\r\n            return;\r\n        }\r\n\r\n        if (value >>> 14 === 0) {\r\n            this.writeByte((value & 0x7F) | 0x80);\r\n            this.writeByte((value >>> 7));\r\n            return;\r\n        }\r\n\r\n        if (value >>> 21 === 0) {\r\n            this.writeByte((value & 0x7F) | 0x80);\r\n            this.writeByte((value >>> 7 | 0x80));\r\n            this.writeByte(value >>> 14);\r\n            return;\r\n        }\r\n\r\n        if (value >>> 28 === 0) {\r\n            this.writeByte((value & 0x7F) | 0x80);\r\n            this.writeByte((value >>> 7 | 0x80));\r\n            this.writeByte((value >>> 14 | 0x80));\r\n            this.writeByte(value >>> 21);\r\n            return;\r\n        }\r\n\r\n        this.writeByte((value & 0x7F) | 0x80);\r\n        this.writeByte((value >>> 7 | 0x80));\r\n        this.writeByte((value >>> 14 | 0x80));\r\n        this.writeByte((value >>> 21 | 0x80));\r\n        this.writeByte(value >>> 28);\r\n    }\r\n\r\n    readInt(): number {\r\n        let b = this.readByte();\r\n        let value = b & 0x7F;\r\n        if ((b & 0x80) !== 0) {\r\n            b = this.readByte();\r\n            value |= (b & 0x7F) << 7;\r\n            if ((b & 0x80) !== 0) {\r\n                b = this.readByte();\r\n                value |= (b & 0x7F) << 14;\r\n                if ((b & 0x80) !== 0) {\r\n                    b = this.readByte();\r\n                    value |= (b & 0x7F) << 21;\r\n                    if ((b & 0x80) !== 0) {\r\n                        b = this.readByte();\r\n                        value |= (b & 0x7F) << 28;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return decodeZigzagInt(value);\r\n    }\r\n\r\n    writeLong(value: number): void {\r\n        if (value === null || value === undefined) {\r\n            throw new Error('value must not be null');\r\n        }\r\n        this.ensureCapacity(9);\r\n\r\n        writeInt64(this, value);\r\n    }\r\n\r\n    readLong(): number {\r\n        const buffer = new ArrayBuffer(9);\r\n        const bufferView = new DataView(buffer, 0, buffer.byteLength);\r\n\r\n        let count = 0;\r\n        let b = this.readByte();\r\n        bufferView.setUint8(count++, b);\r\n        if ((b & 0x80) !== 0) {\r\n            b = this.readByte();\r\n            bufferView.setUint8(count++, b);\r\n            if ((b & 0x80) !== 0) {\r\n                b = this.readByte();\r\n                bufferView.setUint8(count++, b);\r\n                if ((b & 0x80) !== 0) {\r\n                    b = this.readByte();\r\n                    bufferView.setUint8(count++, b);\r\n                    if ((b & 0x80) !== 0) {\r\n                        b = this.readByte();\r\n                        bufferView.setUint8(count++, b);\r\n                        if ((b & 0x80) !== 0) {\r\n                            b = this.readByte();\r\n                            bufferView.setUint8(count++, b);\r\n                            if ((b & 0x80) !== 0) {\r\n                                b = this.readByte();\r\n                                bufferView.setUint8(count++, b);\r\n                                if ((b & 0x80) !== 0) {\r\n                                    b = this.readByte();\r\n                                    bufferView.setUint8(count++, b);\r\n                                    if ((b & 0x80) !== 0) {\r\n                                        b = this.readByte();\r\n                                        bufferView.setUint8(count++, b);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return readInt64(new Uint8Array(buffer.slice(0, count))).toNumber();\r\n    }\r\n\r\n    writeFloat(value: number): void {\r\n        if (value === null || value === undefined) {\r\n            throw new Error('value must not be null');\r\n        }\r\n        this.ensureCapacity(4);\r\n        this.bufferView.setFloat32(this.writeOffset, value);\r\n        this.writeOffset += 4;\r\n    }\r\n\r\n    readFloat(): number {\r\n        const value = this.bufferView.getFloat32(this.readOffset);\r\n        this.readOffset += 4;\r\n        return value;\r\n    }\r\n\r\n    writeDouble(value: number): void {\r\n        if (value === null || value === undefined) {\r\n            throw new Error('value must not be null');\r\n        }\r\n        this.ensureCapacity(8);\r\n        this.bufferView.setFloat64(this.writeOffset, value);\r\n        this.writeOffset += 8;\r\n    }\r\n\r\n    readDouble(): number {\r\n        const value = this.bufferView.getFloat64(this.readOffset);\r\n        this.readOffset += 8;\r\n        return value;\r\n    }\r\n\r\n    writeChar(value: string): void {\r\n        if (value === null || value === undefined || value.length === 0) {\r\n            this.writeString(empty_str);\r\n            return;\r\n        }\r\n        this.writeString(value.charAt(0));\r\n    }\r\n\r\n    readChar(): string {\r\n        return this.readString();\r\n    }\r\n\r\n    writeString(value: string): void {\r\n        if (value === null || value === undefined || value.trim().length === 0) {\r\n            this.writeInt(0);\r\n            return;\r\n        }\r\n\r\n        const uint8Array = encoder.encode(value);\r\n\r\n        this.ensureCapacity(5 + uint8Array.length);\r\n\r\n        this.writeInt(uint8Array.length);\r\n        uint8Array.forEach((value: number) => this.writeByte(value));\r\n    }\r\n\r\n    readString(): string {\r\n        const length = this.readInt();\r\n        if (length <= 0) {\r\n            return empty_str;\r\n        }\r\n        const uint8Array = new Uint8Array(this.buffer.slice(this.readOffset, this.readOffset + length));\r\n        const value = decoder.decode(uint8Array);\r\n        this.readOffset += length;\r\n        return value;\r\n    }\r\n\r\n    writePacketFlag(value: any): boolean {\r\n        const flag = (value === null) || (value === undefined);\r\n        this.writeBoolean(!flag);\r\n        return flag;\r\n    };\r\n\r\n    writePacket(packet: any, protocolId: number) {\r\n        const protocolRegistration = ProtocolManager.getProtocol(protocolId);\r\n        protocolRegistration.write(this, packet);\r\n    };\r\n\r\n    readPacket(protocolId: number): any {\r\n        const protocolRegistration = ProtocolManager.getProtocol(protocolId);\r\n        return protocolRegistration.read(this);\r\n    };\r\n\r\n    writeBooleanArray(array: Array<boolean> | null) {\r\n        if (array === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(array.length);\r\n            array.forEach(element => {\r\n                this.writeBoolean(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readBooleanArray(): any {\r\n        const array: boolean[] = [];\r\n        const length = this.readInt();\r\n        if (length > 0) {\r\n            for (let index = 0; index < length; index++) {\r\n                array.push(this.readBoolean());\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n\r\n    writeByteArray(array: Array<number> | null) {\r\n        if (array === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(array.length);\r\n            array.forEach(element => {\r\n                this.writeByte(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readByteArray(): any {\r\n        const array: number[] = [];\r\n        const length = this.readInt();\r\n        if (length > 0) {\r\n            for (let index = 0; index < length; index++) {\r\n                array.push(this.readByte());\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n\r\n    writeShortArray(array: Array<number> | null) {\r\n        if (array === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(array.length);\r\n            array.forEach(element => {\r\n                this.writeShort(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readShortArray(): any {\r\n        const array: number[] = [];\r\n        const length = this.readInt();\r\n        if (length > 0) {\r\n            for (let index = 0; index < length; index++) {\r\n                array.push(this.readShort());\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n\r\n    writeIntArray(array: Array<number> | null) {\r\n        if (array === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(array.length);\r\n            array.forEach(element => {\r\n                this.writeInt(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readIntArray(): any {\r\n        const array: number[] = [];\r\n        const length = this.readInt();\r\n        if (length > 0) {\r\n            for (let index = 0; index < length; index++) {\r\n                array.push(this.readInt());\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n\r\n    writeLongArray(array: Array<number> | null) {\r\n        if (array === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(array.length);\r\n            array.forEach(element => {\r\n                this.writeLong(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readLongArray(): any {\r\n        const array: number[] = [];\r\n        const length = this.readInt();\r\n        if (length > 0) {\r\n            for (let index = 0; index < length; index++) {\r\n                array.push(this.readLong());\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n\r\n    writeFloatArray(array: Array<number> | null) {\r\n        if (array === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(array.length);\r\n            array.forEach(element => {\r\n                this.writeFloat(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readFloatArray(): any {\r\n        const array: number[] = [];\r\n        const length = this.readInt();\r\n        if (length > 0) {\r\n            for (let index = 0; index < length; index++) {\r\n                array.push(this.readFloat());\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n\r\n    writeDoubleArray(array: Array<number> | null) {\r\n        if (array === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(array.length);\r\n            array.forEach(element => {\r\n                this.writeDouble(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readDoubleArray(): any {\r\n        const array: number[] = [];\r\n        const length = this.readInt();\r\n        if (length > 0) {\r\n            for (let index = 0; index < length; index++) {\r\n                array.push(this.readDouble());\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n\r\n    writeStringArray(array: Array<string> | null) {\r\n        if (array === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(array.length);\r\n            array.forEach(element => {\r\n                this.writeString(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readStringArray(): any {\r\n        const array: string[] = [];\r\n        const length = this.readInt();\r\n        if (length > 0) {\r\n            for (let index = 0; index < length; index++) {\r\n                array.push(this.readString());\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n\r\n    writeCharArray(array: Array<string> | null) {\r\n        if (array === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(array.length);\r\n            array.forEach(element => {\r\n                this.writeChar(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readCharArray(): any {\r\n        const array: string[] = [];\r\n        const length = this.readInt();\r\n        if (length > 0) {\r\n            for (let index = 0; index < length; index++) {\r\n                array.push(this.readChar());\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n\r\n    writePacketArray(array: Array<any> | null, protocolId: number) {\r\n        if (array === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            const protocolRegistration = ProtocolManager.getProtocol(protocolId);\r\n            this.writeInt(array.length);\r\n            array.forEach(element => {\r\n                protocolRegistration.write(this, element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readPacketArray(protocolId: number): any {\r\n        const array: any[] = [];\r\n        const length = this.readInt();\r\n        if (length > 0) {\r\n            const protocolRegistration = ProtocolManager.getProtocol(protocolId);\r\n            for (let index = 0; index < length; index++) {\r\n                array.push(protocolRegistration.read(this));\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n\r\n    // ---------------------------------------------list-------------------------------------------\r\n    writeBooleanList(list: any) {\r\n        this.writeBooleanArray(list);\r\n    };\r\n\r\n    readBooleanList(): any {\r\n        return this.readBooleanArray();\r\n    };\r\n\r\n    writeByteList(list: any) {\r\n        this.writeByteArray(list);\r\n    };\r\n\r\n    readByteList(): any {\r\n        return this.readByteArray();\r\n    };\r\n\r\n    writeShortList(list: any) {\r\n        this.writeShortArray(list);\r\n    };\r\n\r\n    readShortList(): any {\r\n        return this.readShortArray();\r\n    };\r\n\r\n    writeIntList(list: any) {\r\n        this.writeIntArray(list);\r\n    };\r\n\r\n    readIntList(): any {\r\n        return this.readIntArray();\r\n    };\r\n\r\n    writeLongList(list: any) {\r\n        this.writeLongArray(list);\r\n    };\r\n\r\n    readLongList(): any {\r\n        return this.readLongArray();\r\n    };\r\n\r\n    writeFloatList(list: any) {\r\n        this.writeFloatArray(list);\r\n    };\r\n\r\n    readFloatList(): any {\r\n        return this.readFloatArray();\r\n    };\r\n\r\n    writeDoubleList(list: any) {\r\n        this.writeDoubleArray(list);\r\n    };\r\n\r\n    readDoubleList(): any {\r\n        return this.readDoubleArray();\r\n    };\r\n\r\n    writeStringList(list: any) {\r\n        this.writeStringArray(list);\r\n    };\r\n\r\n    readStringList(): any {\r\n        return this.readStringArray();\r\n    };\r\n\r\n    writeCharList(list: any) {\r\n        this.writeCharArray(list);\r\n    };\r\n\r\n    readCharList(): any {\r\n        return this.readCharArray();\r\n    };\r\n\r\n    writePacketList(list: any, protocolId: number) {\r\n        this.writePacketArray(list, protocolId);\r\n    };\r\n\r\n    readPacketList(protocolId: number): any {\r\n        return this.readPacketArray(protocolId);\r\n    };\r\n\r\n    // ---------------------------------------------set-------------------------------------------\r\n    writeBooleanSet(set: Set<boolean> | null) {\r\n        if (set === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(set.size);\r\n            set.forEach(element => {\r\n                this.writeBoolean(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readBooleanSet(): any {\r\n        return new Set(this.readBooleanArray());\r\n    };\r\n\r\n    writeByteSet(set: Set<number> | null) {\r\n        if (set === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(set.size);\r\n            set.forEach(element => {\r\n                this.writeByte(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readByteSet(): any {\r\n        return new Set(this.readByteArray());\r\n    };\r\n\r\n    writeShortSet(set: Set<number> | null) {\r\n        if (set === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(set.size);\r\n            set.forEach(element => {\r\n                this.writeShort(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readShortSet(): any {\r\n        return new Set(this.readShortArray());\r\n    };\r\n\r\n    writeIntSet(set: Set<number> | null) {\r\n        if (set === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(set.size);\r\n            set.forEach(element => {\r\n                this.writeInt(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readIntSet(): any {\r\n        return new Set(this.readIntArray());\r\n    };\r\n\r\n    writeLongSet(set: Set<number> | null) {\r\n        if (set === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(set.size);\r\n            set.forEach(element => {\r\n                this.writeLong(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readLongSet(): any {\r\n        return new Set(this.readLongArray());\r\n    };\r\n\r\n    writeFloatSet(set: Set<number> | null) {\r\n        if (set === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(set.size);\r\n            set.forEach(element => {\r\n                this.writeFloat(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readFloatSet(): any {\r\n        return new Set(this.readFloatArray());\r\n    };\r\n\r\n    writeDoubleSet(set: Set<number> | null) {\r\n        if (set === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(set.size);\r\n            set.forEach(element => {\r\n                this.writeDouble(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readDoubleSet(): any {\r\n        return new Set(this.readDoubleArray());\r\n    };\r\n\r\n    writeStringSet(set: Set<string> | null) {\r\n        if (set === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(set.size);\r\n            set.forEach(element => {\r\n                this.writeString(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readStringSet(): any {\r\n        return new Set(this.readStringArray());\r\n    };\r\n\r\n    writeCharSet(set: Set<string> | null) {\r\n        if (set === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(set.size);\r\n            set.forEach(element => {\r\n                this.writeChar(element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readCharSet(): any {\r\n        return new Set(this.readCharArray());\r\n    };\r\n\r\n    writePacketSet(set: Set<any> | null, protocolId: number) {\r\n        if (set === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            const protocolRegistration = ProtocolManager.getProtocol(protocolId);\r\n            this.writeInt(set.size);\r\n            set.forEach(element => {\r\n                protocolRegistration.write(this, element);\r\n            });\r\n        }\r\n    };\r\n\r\n    readPacketSet(protocolId: number): any {\r\n        return new Set(this.readPacketArray(protocolId));\r\n    };\r\n\r\n    // ---------------------------------------------map-------------------------------------------\r\n    writeIntIntMap(map: Map<number, number> | null) {\r\n        if (map === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(map.size);\r\n            map.forEach((value, key) => {\r\n                this.writeInt(key);\r\n                this.writeInt(value);\r\n            });\r\n        }\r\n    };\r\n\r\n    readIntIntMap(): any {\r\n        const map = new Map();\r\n        const size = this.readInt();\r\n        if (size > 0) {\r\n            for (let index = 0; index < size; index++) {\r\n                const key = this.readInt();\r\n                const value = this.readInt();\r\n                map.set(key, value);\r\n            }\r\n        }\r\n        return map;\r\n    };\r\n\r\n    writeIntLongMap(map: Map<number, number> | null) {\r\n        if (map === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(map.size);\r\n            map.forEach((value, key) => {\r\n                this.writeInt(key);\r\n                this.writeLong(value);\r\n            });\r\n        }\r\n    };\r\n\r\n    readIntLongMap(): any {\r\n        const map = new Map();\r\n        const size = this.readInt();\r\n        if (size > 0) {\r\n            for (let index = 0; index < size; index++) {\r\n                const key = this.readInt();\r\n                const value = this.readLong();\r\n                map.set(key, value);\r\n            }\r\n        }\r\n        return map;\r\n    };\r\n\r\n    writeIntStringMap(map: Map<number, string> | null) {\r\n        if (map === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(map.size);\r\n            map.forEach((value, key) => {\r\n                this.writeInt(key);\r\n                this.writeString(value);\r\n            });\r\n        }\r\n    };\r\n\r\n    readIntStringMap(): any {\r\n        const map = new Map();\r\n        const size = this.readInt();\r\n        if (size > 0) {\r\n            for (let index = 0; index < size; index++) {\r\n                const key = this.readInt();\r\n                const value = this.readString();\r\n                map.set(key, value);\r\n            }\r\n        }\r\n        return map;\r\n    };\r\n\r\n    writeIntPacketMap(map: Map<number, any> | null, protocolId: number) {\r\n        if (map === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            const protocolRegistration = ProtocolManager.getProtocol(protocolId);\r\n            this.writeInt(map.size);\r\n            map.forEach((value, key) => {\r\n                this.writeInt(key);\r\n                protocolRegistration.write(this, value);\r\n            });\r\n        }\r\n    };\r\n\r\n    readIntPacketMap(protocolId: number): any {\r\n        const map = new Map();\r\n        const size = this.readInt();\r\n        if (size > 0) {\r\n            const protocolRegistration = ProtocolManager.getProtocol(protocolId);\r\n            for (let index = 0; index < size; index++) {\r\n                const key = this.readInt();\r\n                const value = protocolRegistration.read(this);\r\n                map.set(key, value);\r\n            }\r\n        }\r\n        return map;\r\n    };\r\n\r\n    writeLongIntMap(map: Map<number, number> | null) {\r\n        if (map === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(map.size);\r\n            map.forEach((value, key) => {\r\n                this.writeLong(key);\r\n                this.writeInt(value);\r\n            });\r\n        }\r\n    };\r\n\r\n    readLongIntMap(): any {\r\n        const map = new Map();\r\n        const size = this.readInt();\r\n        if (size > 0) {\r\n            for (let index = 0; index < size; index++) {\r\n                const key = this.readLong();\r\n                const value = this.readInt();\r\n                map.set(key, value);\r\n            }\r\n        }\r\n        return map;\r\n    };\r\n\r\n    writeLongLongMap(map: Map<number, number> | null) {\r\n        if (map === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(map.size);\r\n            map.forEach((value, key) => {\r\n                this.writeLong(key);\r\n                this.writeLong(value);\r\n            });\r\n        }\r\n    };\r\n\r\n    readLongLongMap(): any {\r\n        const map = new Map();\r\n        const size = this.readInt();\r\n        if (size > 0) {\r\n            for (let index = 0; index < size; index++) {\r\n                const key = this.readLong();\r\n                const value = this.readLong();\r\n                map.set(key, value);\r\n            }\r\n        }\r\n        return map;\r\n    };\r\n\r\n    writeLongStringMap(map: Map<number, string> | null) {\r\n        if (map === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(map.size);\r\n            map.forEach((value, key) => {\r\n                this.writeLong(key);\r\n                this.writeString(value);\r\n            });\r\n        }\r\n    };\r\n\r\n    readLongStringMap(): any {\r\n        const map = new Map();\r\n        const size = this.readInt();\r\n        if (size > 0) {\r\n            for (let index = 0; index < size; index++) {\r\n                const key = this.readLong();\r\n                const value = this.readString();\r\n                map.set(key, value);\r\n            }\r\n        }\r\n        return map;\r\n    };\r\n\r\n    writeLongPacketMap(map: Map<number, any> | null, protocolId: number): any {\r\n        if (map === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            const protocolRegistration = ProtocolManager.getProtocol(protocolId);\r\n            this.writeInt(map.size);\r\n            map.forEach((value, key) => {\r\n                this.writeLong(key);\r\n                protocolRegistration.write(this, value);\r\n            });\r\n        }\r\n    };\r\n\r\n    readLongPacketMap(protocolId: number): any {\r\n        const map = new Map();\r\n        const size = this.readInt();\r\n        if (size > 0) {\r\n            const protocolRegistration = ProtocolManager.getProtocol(protocolId);\r\n            for (let index = 0; index < size; index++) {\r\n                const key = this.readLong();\r\n                const value = protocolRegistration.read(this);\r\n                map.set(key, value);\r\n            }\r\n        }\r\n        return map;\r\n    };\r\n\r\n    writeStringIntMap(map: Map<string, number> | null) {\r\n        if (map === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(map.size);\r\n            map.forEach((value, key) => {\r\n                this.writeString(key);\r\n                this.writeInt(value);\r\n            });\r\n        }\r\n    };\r\n\r\n    readStringIntMap(): any {\r\n        const map = new Map();\r\n        const size = this.readInt();\r\n        if (size > 0) {\r\n            for (let index = 0; index < size; index++) {\r\n                const key = this.readString();\r\n                const value = this.readInt();\r\n                map.set(key, value);\r\n            }\r\n        }\r\n        return map;\r\n    };\r\n\r\n    writeStringLongMap(map: Map<string, number> | null) {\r\n        if (map === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(map.size);\r\n            map.forEach((value, key) => {\r\n                this.writeString(key);\r\n                this.writeLong(value);\r\n            });\r\n        }\r\n    };\r\n\r\n    readStringLongMap(): any {\r\n        const map = new Map();\r\n        const size = this.readInt();\r\n        if (size > 0) {\r\n            for (let index = 0; index < size; index++) {\r\n                const key = this.readString();\r\n                const value = this.readLong();\r\n                map.set(key, value);\r\n            }\r\n        }\r\n        return map;\r\n    };\r\n\r\n    writeStringStringMap(map: Map<string, string> | null) {\r\n        if (map === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            this.writeInt(map.size);\r\n            map.forEach((value, key) => {\r\n                this.writeString(key);\r\n                this.writeString(value);\r\n            });\r\n        }\r\n    };\r\n\r\n    readStringStringMap(): any {\r\n        const map = new Map();\r\n        const size = this.readInt();\r\n        if (size > 0) {\r\n            for (let index = 0; index < size; index++) {\r\n                const key = this.readString();\r\n                const value = this.readString();\r\n                map.set(key, value);\r\n            }\r\n        }\r\n        return map;\r\n    };\r\n\r\n    writeStringPacketMap(map: Map<string, any> | null, protocolId: number) {\r\n        if (map === null) {\r\n            this.writeInt(0);\r\n        } else {\r\n            const protocolRegistration = ProtocolManager.getProtocol(protocolId);\r\n            this.writeInt(map.size);\r\n            map.forEach((value, key) => {\r\n                this.writeString(key);\r\n                protocolRegistration.write(this, value);\r\n            });\r\n        }\r\n    };\r\n\r\n    readStringPacketMap(protocolId: number): any {\r\n        const map = new Map();\r\n        const size = this.readInt();\r\n        if (size > 0) {\r\n            const protocolRegistration = ProtocolManager.getProtocol(protocolId);\r\n            for (let index = 0; index < size; index++) {\r\n                const key = this.readString();\r\n                const value = protocolRegistration.read(this);\r\n                map.set(key, value);\r\n            }\r\n        }\r\n        return map;\r\n    };\r\n}\r\n\r\nexport default ByteBuffer;\r\n", "import GameManager from \"../../script/logic/GameManager\";\r\nimport { SceneType } from \"../common/baseScene/SceneType\";\r\nimport { ErrorPopManager } from \"../common/ErrorPopManager\";\r\nimport {LoadingManager} from \"../common/LoadingManager\";\r\nimport { ModuleManager } from \"../common/ModuleManager\";\r\nimport { SceneManager } from \"../common/SceneManager\";\r\nimport { EthereumManager } from \"../global/contract/EthereumManager\";\r\nimport { GameEvent } from \"../global/event/GameEvent\";\r\nimport { Signal } from \"../global/event/Signal\";\r\nimport { GameSetting } from \"../global/GameSetting\";\r\nimport { GlobalDataManager } from \"../global/GlobalDataManager\";\r\nimport { ModuleName } from \"../global/ModuleName\";\r\nimport { Quick } from \"../global/util/Quick\";\r\nimport { MatchModel } from \"../module/match/MatchModel\";\r\n// import { DigModel } from \"../module/dig/model/DigModel\";\r\n// import { KnapsackNetModel } from \"../module/knapsack/KnapsackNetModel\";\r\n// import { ETHMailProxy } from \"../module/mail/proxy/ETHMailProxy\";\r\nimport { Debug } from \"../util/Debug\";\r\nimport ByteBuffer from \"./protocol/buffer/ByteBuffer\";\r\nimport Error from \"./protocol/common/Error\";\r\nimport Ping from \"./protocol/common/Ping\";\r\nimport AnimationPush from \"./protocol/login/AnimationPush\";\r\nimport AttackPush from \"./protocol/login/AttackPush\";\r\nimport FirstBloodPush from \"./protocol/login/FirstBloodPush\";\r\nimport GameStartPush from \"./protocol/login/GameStartPush\";\r\nimport LoginAgainPush from \"./protocol/login/LoginAgainPush\";\r\nimport LoginRequest from \"./protocol/login/LoginRequest\";\r\nimport LoginResponse from \"./protocol/login/LoginResponse\";\r\nimport MutiKillPush from \"./protocol/login/MutiKillPush\";\r\nimport RoomGameOverPush from \"./protocol/login/RoomGameOverPush\";\r\nimport RoomInfoResponse from \"./protocol/login/RoomInfoResponse\";\r\nimport RoomPlayerChangePush from \"./protocol/login/RoomPlayerChangePush\";\r\nimport RoomPlayerMovePush from \"./protocol/login/RoomPlayerMovePush\";\r\nimport TargetMovePush from \"./protocol/login/TargetMovePush\";\r\nimport ProtocolManager from \"./protocol/ProtocolManager\";\r\nexport class WebSocketService {\r\n    // public static m_strHttpHost: string = getWSServer() + \"/cybertron-websocket/websocket?jwt=\";\r\n    public static m_strHttpHost: string = getWSServer();\r\n    public m_socket: Laya.Socket;\r\n    private m_iConnectTimes: number;\r\n    private m_iMaxTimes: number = 100000;// 10;\r\n    private m_iHeartTime: number = 60000;\r\n    // private cookie:string;\r\n    private isConnect:boolean;\r\n    private isOtherLogin:boolean;\r\n\r\n\r\n    //\r\n    public static CMD_99999:number=99999;\r\n\r\n    // //\r\n    // public static CMD_10002:number=10002;\r\n\r\n    // //\r\n    // public static CMD_10000:number=10000;\r\n    // //\r\n    // public static CMD_10001:number=10001;\r\n    // //\r\n    // public static CMD_11000:number=11000;\r\n\r\n    // //\r\n    // public static CMD_13001:number=13001;\r\n\r\n\r\n    // /***/\r\n    // public static CMD_13002:number=13002;\r\n\r\n    // /***/\r\n    // public static CMD_13003:number=13003;\r\n\r\n    /***/\r\n    public static CMD_20001:number=20001;\r\n\r\n    /***/\r\n    public static CMD_10099:number=10099;\r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public constructor() {\r\n        this.m_socket = new Laya.Socket();\r\n        this.m_socket.on(Laya.Event.OPEN, this, this.onSocketOpen);\r\n        this.m_socket.on(Laya.Event.CLOSE, this, this.onSocketClose);\r\n        this.m_socket.on(Laya.Event.MESSAGE, this, this.onMessageReveived);\r\n        this.m_socket.on(Laya.Event.ERROR, this, this.onConnectError);\r\n    }\r\n    private static _instance: WebSocketService;\r\n    public static get instance(): WebSocketService {\r\n        if(WebSocketService._instance == null ) {\r\n            WebSocketService._instance = new WebSocketService()\r\n        } \r\n        return WebSocketService._instance;\r\n    }\r\n\r\n    public isMatching:boolean = false;\r\n\r\n    \r\n    public initSocket(): void {\r\n\r\n        this.isMatching = true;\r\n\r\n        //\r\n        // var ws = \"ws://120.53.94.125:10011\";\r\n        var ws = MatchModel.instance.roomDto.connectAddr;\r\n\r\n        WebSocketService.m_strHttpHost =  ws;\r\n        \r\n        // this.cookie = localStorage.getItem('TOX-COOKIE'+ EthereumManager.instance.walletAddress);\r\n        this.reconnect();\r\n        \r\n    }\r\n    /**\r\n     * \r\n     */\r\n    public onSocketOpen(): void {\r\n        this.isConnect = true;\r\n        this.m_iConnectTimes = 0;\r\n        Debug.log(\"websocket----websocket connected\", 1);\r\n        // Laya.timer.loop(30*1000, this, this.sendHeart);\r\n        // HttpNetService.instance.reSendData();\r\n        this.onLogin();\r\n\r\n\r\n        \r\n    }\r\n\r\n    public openId:string;\r\n\r\n\r\n    private onLogin():void{\r\n\r\n\r\n        // \r\n        let loginRequest = new LoginRequest();\r\n        loginRequest.roomId = MatchModel.instance.roomDto.roomId;\r\n        loginRequest.loginToken = localStorage.getItem('TOX-COOKIE'+ EthereumManager.instance.walletAddress);\r\n        loginRequest.pid = GlobalDataManager.instance.playerDto.pid;\r\n        this.sendData(loginRequest);\r\n    }\r\n\r\n\r\n    public onSocketClose(e: any): void {\r\n        Debug.log(\"websocket----closed\", 1);\r\n        if(!this.isMatching){\r\n            return; //\r\n        }\r\n        if(this.isOtherLogin)\r\n            return;\r\n        this.isConnect = false;\r\n        if(this.m_iConnectTimes <= this.m_iMaxTimes ) {\r\n            Laya.timer.once(1500, this, function(): void {\r\n                WebSocketService.instance.reconnect();\r\n                WebSocketService.instance.m_iConnectTimes++;\r\n            });\r\n            \r\n        } else {\r\n            LoadingManager.instance.hideLoading();\r\n        }\r\n    }\r\n    public onConnectError(e: any): void {\r\n        Debug.log(\"websocket----onConnectError e:\"+ + e, 1);\r\n        if(!this.isMatching){\r\n            return; //\r\n        }\r\n        if(this.isOtherLogin)\r\n            return;\r\n        this.isConnect = false;\r\n        if(this.m_iConnectTimes <= this.m_iMaxTimes ) {\r\n            Laya.timer.once(1500, this, function(): void {\r\n                WebSocketService.instance.reconnect();\r\n                WebSocketService.instance.m_iConnectTimes++;\r\n            });\r\n        } else {\r\n            LoadingManager.instance.hideLoading();\r\n        }\r\n    }\r\n\r\n    private reconnect(){\r\n        console.log(\"websocket----reconnect: \" + WebSocketService.m_strHttpHost);\r\n        if(!this.isMatching){\r\n            return; //\r\n        }\r\n        \r\n        // this.cookie = localStorage.getItem('TOX-COOKIE'+ EthereumManager.instance.walletAddress);\r\n        // if(!this.cookie)return;\r\n        // this.m_socket.connectByUrl(WebSocketService.m_strHttpHost + this.cookie);\r\n        this.m_socket.connectByUrl(WebSocketService.m_strHttpHost);\r\n        Debug.log(\"websocket----connect websocket\", 1);\r\n    }\r\n\r\n    public onSendMessage(): void {\r\n        // this.m_socket.flush();\r\n    }\r\n    public sendData(packet?:any): void {\r\n        if(this.isConnect){\r\n            // this.m_socket.send(JSON.stringify(data));\r\n\r\n            const buffer = new ByteBuffer();\r\n            buffer.setWriteOffset(4);\r\n            ProtocolManager.write(buffer, packet);\r\n            buffer.writeBoolean(false);\r\n            const writeOffset = buffer.writeOffset;\r\n            buffer.setWriteOffset(0);\r\n            buffer.writeRawInt(writeOffset - 4);\r\n            buffer.setWriteOffset(writeOffset);\r\n            this.m_socket.send(buffer.buffer);\r\n\r\n\r\n            console.log(\"websocket ------>>>>>>>> send message PROTOCOL_ID:\" + packet.protocolId()+ \"\" + JSON.stringify(packet));\r\n        }else{\r\n            Debug.log(\"socket send error \" + JSON.stringify(packet));\r\n        }\r\n        \r\n    }\r\n    async onMessageReveived(event: any) {\r\n\r\n        // let {cmd,code,data} = JSON.parse(message);\r\n\r\n\r\n        const data = event;\r\n        const buffer = new ByteBuffer();\r\n        buffer.writeBytes(data);\r\n        buffer.setReadOffset(4);\r\n        const packet = ProtocolManager.read(buffer);\r\n\r\n        let cmd = packet.protocolId();\r\n        // let message = packet.protocolId();\r\n\r\n        // if( WebSocketService.m_strHttpHost.indexOf('wss') === -1){\r\n            // console.log(message);\r\n            \r\n            console.log(\"websocket ------<<<<<<<< recv PROTOCOL_ID: \" + cmd + \"\" +  JSON.stringify(packet));\r\n        // }\r\n\r\n        let errorCode = packet.errorCode;\r\n        if(errorCode && errorCode > 0){\r\n            \r\n            console.warn(\"errorCode \" + errorCode + \", errorMessage \" + ErrorPopManager.instance.get(errorCode));\r\n            if(errorCode == 9){\r\n                // let loginResponse:LoginResponse = packet;\r\n                Signal.intance.event(GameEvent.EVENT_CLOSE_MODULE,ModuleName.EnterRoomView);\r\n                SceneManager.intance.setCurrentScene(SceneType.M_SCENE_MAIN);\r\n                Quick.errorCodeTip(ErrorPopManager.instance.get(errorCode));\r\n\r\n\r\n            }\r\n            // ErrorPopManager.instance.showErrorWord(errorCode);\r\n            return;\r\n        }\r\n\r\n\r\n\r\n        Signal.intance.event(\"msg_\" + cmd, [data]);//\r\n        switch (cmd) {\r\n            case LoginResponse.PROTOCOL_ID:\r\n                console.log(\"\");\r\n\r\n                    let loginResponse:LoginResponse = packet;\r\n                    // Object.assign(loginResponse, packet);\r\n\r\n                    // console.log(\" \" + loginResponse.name);\r\n                    MatchModel.instance.matchDto = loginResponse.matchDto;\r\n                    SceneManager.intance.setCurrentScene(SceneType.M_SCENE_MATCH);\r\n                \r\n                \r\n                // GameManager.instance.loginResponse = loginResponse.matchDto;\r\n                // Laya.Scene.open(\"scenes/match/Match.ls\");\r\n                break;\r\n\r\n            case GameStartPush.PROTOCOL_ID:\r\n                console.log(\"\");\r\n                let gameStartPush:GameStartPush = packet;\r\n                ModuleManager.intance.disposeView(ModuleName.MatchReadyView);\r\n                MatchModel.instance.stopAll = false;\r\n\r\n                break;\r\n\r\n            case RoomPlayerMovePush.PROTOCOL_ID:\r\n                console.log(\"\");\r\n                let roomPlayerMovePush:RoomPlayerMovePush = packet;\r\n                GameManager.instance.onRevMovePush(roomPlayerMovePush);\r\n                // Object.assign(roomPlayerMovePush, packet);\r\n\r\n                // WebSocketService.instance.onSetMoveData()\r\n                break;\r\n            case TargetMovePush.PROTOCOL_ID:\r\n                console.log(\"\");\r\n                let targetMovePush:TargetMovePush = packet;\r\n                GameManager.instance.onRevTargetMovePush(targetMovePush);\r\n                // Object.assign(roomPlayerMovePush, packet);\r\n\r\n                // WebSocketService.instance.onSetMoveData()\r\n                break;\r\n            case AttackPush.PROTOCOL_ID:\r\n                console.log(\"\");\r\n                let attackPush:AttackPush = packet;\r\n                GameManager.instance.onRevAttackPush(attackPush);\r\n\r\n                break;\r\n            case AnimationPush.PROTOCOL_ID:\r\n                console.log(\"\");\r\n                let animationPush:AnimationPush = packet;\r\n                GameManager.instance.onRevAnimationPush(animationPush);\r\n                break;\r\n            case RoomPlayerChangePush.PROTOCOL_ID:\r\n                console.log(\"\");\r\n                let roomPlayerChangePush:RoomPlayerChangePush = packet;\r\n                // Object.assign(roomPlayerChangePush, packet);\r\n                GameManager.instance.addPlayer(roomPlayerChangePush);\r\n                \r\n                // WebSocketService.instance.onSetMoveData()\r\n                break;\r\n            case FirstBloodPush.PROTOCOL_ID:\r\n                console.log(\"\");\r\n                let firstBloodPush:FirstBloodPush = packet;\r\n                Signal.intance.event(GameEvent.EVENT_FirstBlood, [firstBloodPush]);\r\n                break;\r\n            case MutiKillPush.PROTOCOL_ID:\r\n                console.log(\"\");\r\n                let mutiKillPush:MutiKillPush = packet;\r\n                Signal.intance.event(GameEvent.EVENT_MutiKill, [mutiKillPush]);\r\n                break;\r\n            case RoomGameOverPush.PROTOCOL_ID:\r\n                console.log(\"\");\r\n                let roomGameOverPush:RoomGameOverPush = packet;\r\n                // Object.assign(roomGameOverPush, packet);\r\n                if(MatchModel.instance.matchDto && MatchModel.instance.matchDto.roomId == roomGameOverPush.roomId){\r\n                    GameManager.instance.onGoMatchEndRank(roomGameOverPush.rankList);\r\n                    MatchModel.instance.reward = roomGameOverPush.reward;\r\n                    this.isMatching = false;\r\n                    \r\n                }\r\n                break;\r\n                \r\n                // WebSocketService.instance.onSetMoveData()\r\n               \r\n            case RoomInfoResponse.PROTOCOL_ID:\r\n                console.log(\"\");\r\n                let roomInfoResponse:RoomInfoResponse = packet;                \r\n                GameManager.instance.onRevRestorePush(roomInfoResponse.matchDto);\r\n                \r\n                // GameManager.instance.loginResponse = loginResponse.matchDto;\r\n                // Laya.Scene.open(\"scenes/match/Match.ls\");\r\n                break;                \r\n\r\n            case Error.PROTOCOL_ID:\r\n                console.log(\"\");\r\n                let error:Error = new Error();\r\n                Object.assign(error, packet);\r\n    \r\n                console.log(\"errorMessage \" + error.errorMessage);\r\n                ErrorPopManager.instance.showErrByString(error.errorMessage);\r\n                break;\r\n\r\n            // case WebSocketService.CMD_10000:\r\n            //     let vo:HeroVo = new HeroVo();\r\n            //     Object.assign(vo,data)\r\n            //     GlobalDataManager.instance.addHero(vo);\r\n            //     LoadingManager.instance.hideLoading();\r\n            //     Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[[vo]]);\r\n            //     console.log(\"websocket----------------------------card\");\r\n            //     break;\r\n    \r\n            // case WebSocketService.CMD_10002:\r\n            //     let vo1:HeroVo = new HeroVo();\r\n            //     Object.assign(vo1,data)\r\n            //     GlobalDataManager.instance.addHero(vo1);\r\n            //     LoadingManager.instance.hideLoading();\r\n\r\n            //     Signal.intance.event(GameEvent.EVENT_HERO_CARD_BACK,[[vo1]]);\r\n\r\n            //     KnapsackNetModel.instance.useHeroCard = vo1;\r\n            //     ModuleManager.intance.openModule(ModuleName.UseCardDialog)\r\n            //     console.log(\"websocket----------------------------card\");\r\n            //     break;\r\n            // case WebSocketService.CMD_10001:\r\n            //     let hero:HeroVo = new HeroVo();\r\n            //     Object.assign(hero,data)\r\n            //     GlobalDataManager.instance.updateHero(hero);\r\n            //     console.log(\"websocket----------------------------hero status\");\r\n            //     break;\r\n            // case WebSocketService.CMD_11000:\r\n            //     ETHMailProxy.instance.updateInfo();\r\n            //     console.log(\"websocket----------------------------email\");\r\n            //     break;\r\n\r\n            // case WebSocketService.CMD_13001:\r\n            //     Signal.intance.event(WebSocketService.CMD_13001+'');\r\n            //     Signal.intance.event(GameEvent.UPDATE_ASSETS);\r\n            //     console.log(\"websocket----------------------------union info\");\r\n            //     break;\r\n\r\n            // case WebSocketService.CMD_13002:\r\n            // case WebSocketService.CMD_13003:\r\n            //     await ETHStakingProxy.instance.initPoolList();\r\n            //     DigModel.instance.isRunning = false;\r\n            //     Signal.intance.event(GameEvent.UPDATE_DIG_CTROL);\r\n            //     LoadingManager.instance.hideLoading();\r\n            //     console.log(\"websocket----------------------------pool info\");\r\n            //     break;\r\n            case LoginAgainPush.PROTOCOL_ID://\r\n                this.isOtherLogin = true;\r\n                Laya.timer.clearAll(this);\r\n                Quick.otherLogin();\r\n                console.log(\"websocket----------------------------otherLogin\");\r\n                break;\r\n            case WebSocketService.CMD_20001://\r\n                let accoutVo = GlobalDataManager.instance.playerDto;\r\n                Object.assign(accoutVo,data)\r\n                Signal.intance.event(GameEvent.ACCOUNTVO_UPDATE);\r\n                console.log(\"accout----------------------------update\");\r\n                break;\r\n            case WebSocketService.CMD_10099:\r\n                LoadingManager.instance.hideLoading();\r\n                Signal.intance.event('SET_HERO_POSTION_SUCCESS');\r\n                console.log(\"formation----------------------------update\");\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    private sendHeart(): void {\r\n        if(!this.m_socket.connected)return;\r\n        // this.sendData({cmd:WebSocketService.CMD_99999})\r\n        this.sendData(new Ping());\r\n        // console.log('send---heart')\r\n    }\r\n\r\n}", "import {ErrorPopManager} from \"../common/ErrorPopManager\";\r\nimport {GameLanguageMgr} from \"../common/GameLanguageMgr\";\r\nimport {LoadingManager} from \"../common/LoadingManager\";\r\nimport {ModuleManager} from \"../common/ModuleManager\";\r\nimport {ModuleName} from \"../global/ModuleName\";\r\nimport {Signal} from \"../global/event/Signal\";\r\nimport {Quick} from \"../global/util/Quick\";\r\nimport {MessageReader} from \"./pack/MessageReader\";\r\nimport {MsgBodyAnaly} from \"./pack/MsgBodyAnaly\";\r\n\r\nimport { GameSetting } from \"../global/GameSetting\";\r\nimport { WebSocketService } from \"./WebSocketService\";\r\n\r\nexport class HttpNetService {\r\n    private static _instance: HttpNetService;\r\n    public static get instance(): HttpNetService {\r\n        if(!HttpNetService._instance ) {\r\n            HttpNetService._instance = new HttpNetService();\r\n        } \r\n        return HttpNetService._instance;\r\n    }\r\n    private static _IS_SEND: boolean = false;\r\n    private _callDataArr: any[];\r\n    private _httpReq: Laya.HttpRequest;\r\n    private static ErrorIndex: number = 0;\r\n    public static RepeatTimes: number = 8;\r\n    public static RepeatTimesTimeOut: number = 3;\r\n    public static ErrorTips: string = \"\";\r\n    private static RepeatHandler: Laya.Handler;\r\n    public static LoginTime: number = 5000;\r\n    public static RequestTime: number = 4000;\r\n    public static MaxSendTimes: number = 5;\r\n    private static reqTimes: number = 0;\r\n    private static timeoutTimes: number = 0;\r\n    private static errorTimes: number = 0;\r\n    private _isSending: boolean = false;\r\n    private _stopSending: boolean = false;\r\n    private _sendCmd: number = 0;\r\n    public tokenContract:any;\r\n    private tokenAbi:any;\r\n    public constructor() {\r\n        this._callDataArr = [];\r\n        this._httpReq = new Laya.HttpRequest();\r\n        this._httpReq.http.timeout = 15000;\r\n        this._httpReq.http.ontimeout = this.timeoutFunction;\r\n        this._httpReq.on(Laya.Event.COMPLETE, this, this.reqCompleteHandler);\r\n        this._httpReq.on(Laya.Event.ERROR, this, this.reqErrorHandler);\r\n        this._httpReq.on(Laya.Event.PROGRESS, this, this.reqProcessHandler);\r\n        HttpNetService.RepeatHandler = Laya.Handler.create(this, this.repeatCallHandler, null, false);\r\n    }\r\n    private repeatCallHandler(): void {\r\n        let _Calldata: any = this._callDataArr[0];\r\n        if(_Calldata ) {\r\n            let needReSend: boolean = _Calldata.needReSend;\r\n            if(needReSend ) {\r\n                this._callDataArr.shift();\r\n                this._sendByByte(_Calldata.command, _Calldata.callData, _Calldata.isShowLoading, true);\r\n            } else {\r\n                this._callDataArr.shift();\r\n            }\r\n        } \r\n    }\r\n    private timeoutFunction(): void {\r\n        HttpNetService.ErrorIndex++;\r\n        if(this._sendCmd == 2 ) {\r\n            // let parameters: any = new Object();\r\n            // parameters[\"login_step\"] = \"1_3\";\r\n            // parameters[\"login_msg\"] = \"timeout\";\r\n            // PlatFormManager.instance.sendCustumEvent(52, parameters);\r\n        } \r\n        if(HttpNetService.timeoutTimes < HttpNetService.MaxSendTimes ) {\r\n            // let parameters: any = new Object();\r\n            // parameters[\"ErrorIndex\"] = HttpNetService.ErrorIndex;\r\n            // parameters[\"sendCmd\"] = this._sendCmd;\r\n            // PlatFormManager.instance.sendCustumEvent(44, parameters);\r\n        } \r\n        HttpNetService.timeoutTimes++;\r\n        HttpNetService._IS_SEND = false;\r\n        this._isSending = false;\r\n        if(HttpNetService.ErrorIndex >= HttpNetService.RepeatTimesTimeOut ) {\r\n            LoadingManager.instance.hideLoading();\r\n            HttpNetService.ErrorTips = GameLanguageMgr.instance.getLanguage(\"5076\");\r\n            ModuleManager.intance.openModule(ModuleName.ClientErrView);\r\n        } else {\r\n            HttpNetService.RepeatHandler.run();\r\n        }\r\n    }\r\n    private reqCompleteHandler(evt: Laya.Event): void {\r\n        let totalTime: number = Laya.Browser.now() - this.m_nSendTime;\r\n        if(totalTime && totalTime > HttpNetService.RequestTime ) {\r\n            if(HttpNetService.reqTimes < HttpNetService.MaxSendTimes ) {\r\n                // let parameters: any = new Object();\r\n                // parameters[\"totalTime\"] = totalTime;\r\n                // parameters[\"sendCmd\"] = this._sendCmd;\r\n                // PlatFormManager.instance.sendCustumEvent(47, parameters);\r\n            } \r\n            HttpNetService.reqTimes++;\r\n        } else {\r\n            HttpNetService.reqTimes = 0;\r\n            HttpNetService.timeoutTimes = 0;\r\n            HttpNetService.errorTimes = 0;\r\n        }\r\n        console.log(\"cmd time\" + (Laya.Browser.now() - this.m_nSendTime));\r\n        if(this._httpReq.data == null ) {\r\n            ErrorPopManager.instance.showErrByString(\"_buff:null\");\r\n            return;\r\n        } \r\n        this._isSending = false;\r\n        HttpNetService.ErrorIndex = 0;\r\n        let _byt: Laya.Byte = new Laya.Byte(this._httpReq.data);\r\n        let hasComBack: boolean;\r\n        if(_byt ) {\r\n            let _read: MessageReader = new MessageReader();\r\n            let _cookie: string = _read.ReadString(_byt);\r\n            MsgBodyAnaly.instance.analyCookie(_cookie);\r\n            let _num: number = _read.ReadByte(_byt);\r\n            for(let a: number = 0; a < _num; a++) {\r\n                _read.ReadByte(_byt);\r\n                let _len: number = _read.ReadShort(_byt);\r\n                let _byts: Laya.Byte = _read.ReadBytes(_byt, _byt.pos + _len);\r\n                _byt.pos += _len;\r\n                if(_byts.length < 2 ) {\r\n                    continue;;\r\n                } \r\n                _byts.pos = 0;\r\n                let _composeByt: Laya.Byte = _read.ReadBytes(_byts, _byts.length);\r\n                _composeByt.pos = 0;\r\n                let _arr: Uint8Array = new Uint8Array(_composeByt.buffer);\r\n                let _data2: Uint8Array = new Uint8Array(decompressByt(_arr));\r\n                let _unCompose: Laya.Byte = new Laya.Byte(_data2.buffer);\r\n                _unCompose.pos = 0;\r\n                let _dataArr: any[] = MsgBodyAnaly.instance.analyServer(_unCompose);\r\n                if(Laya.LayaEnv.isConch ) {\r\n                    console.log(\"REVC_CMD: cmdID:\" + _dataArr[0] + \" data:\" + _dataArr, 1);\r\n                } else {\r\n                    console.log(Quick.GetLogTime + \" REVC_CMD: cmdID:\", _dataArr[0], _dataArr);\r\n                }\r\n                if(_dataArr[0] == 153 ) {\r\n                    console.log(\"......\");\r\n                } \r\n                if(_dataArr[0] == 27 && (_dataArr[1] == 20000 || _dataArr[1] == 20042) ) {\r\n                    hasComBack = true\r\n                } \r\n                Signal.intance.event(\"msg_\" + _dataArr.shift(), [_dataArr]);\r\n            }\r\n            if(_num == 0 ) {\r\n                console.log(\"REVC_DATA: NO_DATA\", 1);\r\n            } \r\n        } \r\n        if(this._callDataArr.length > 0 ) {\r\n            let _data: any = this._callDataArr.shift();\r\n            if((hasComBack && _data) && _data.callBackHandler != null ) {\r\n                _data.callBackHandler.run();\r\n            } \r\n        } \r\n        HttpNetService._IS_SEND = false;\r\n        if(this._callDataArr.length > 0 ) {\r\n            HttpNetService.RepeatHandler.run();\r\n        } else {\r\n            LoadingManager.instance.hideLoading();\r\n        }\r\n    }\r\n    private reqErrorHandler(error: string): void {\r\n        console.log(\"[error] HttpNetService reqError: [\" + error + \"]\", 1);\r\n        if(HttpNetService.errorTimes < HttpNetService.MaxSendTimes ) {\r\n            if(this._sendCmd == 2 ) {\r\n                // let parameters: any = new Object();\r\n                // parameters[\"login_step\"] = \"1_3\";\r\n                // parameters[\"login_msg\"] = \"error\";\r\n                // PlatFormManager.instance.sendCustumEvent(52, parameters);\r\n            } \r\n            // let parameters: any = new Object();\r\n            // parameters[\"ErrorIndex\"] = HttpNetService.ErrorIndex;\r\n            // parameters[\"sendCmd\"] = this._sendCmd;\r\n            // PlatFormManager.instance.sendCustumEvent(45, parameters);\r\n        } \r\n        HttpNetService.errorTimes++;\r\n        LoadingManager.instance.showLoadingByInfo(GameLanguageMgr.instance.getLanguage(5205));\r\n        HttpNetService.ErrorIndex++;\r\n        HttpNetService._IS_SEND = false;\r\n        this._isSending = false;\r\n        if(HttpNetService.ErrorIndex >= HttpNetService.RepeatTimes ) {\r\n            LoadingManager.instance.hideLoading();\r\n            HttpNetService.ErrorTips = GameLanguageMgr.instance.getLanguage(\"5075\");\r\n            ModuleManager.intance.openModule(ModuleName.ClientErrView);\r\n            this._callDataArr.length = 0;\r\n        } else {\r\n            Laya.timer.once(1000, this, function(): void {\r\n                HttpNetService.RepeatHandler.run();\r\n            });\r\n        }\r\n    }\r\n    private reqProcessHandler(evt: Laya.Event): void {\r\n        \r\n    }\r\n    public DataToService(value: Laya.Byte): void {\r\n        \r\n        if(Laya.LayaEnv.isConch ) {\r\n            this._httpReq.send(GameSetting.server, value.buffer, \"post\", \"arraybuffer\", [\"Content-Type\", \"application/x-www-form-urlencoded\", \"Connection\", \"close\"]);\r\n        } else {\r\n            this._httpReq.send(GameSetting.server, value.buffer, \"post\", \"arraybuffer\", [\"Content-Type\", \"application/x-www-form-urlencoded\"]);\r\n        }\r\n    }\r\n    private m_nSendTime: number;\r\n    public SendData(commandID: number, data: any, _callBackHandler: Laya.Handler = null, _isShowLoding: boolean = true, _needReSend: boolean = true): void {\r\n        if(this._stopSending ) {\r\n            return\r\n        } \r\n        this.m_nSendTime = Laya.Browser.now();\r\n        HttpNetService.ErrorIndex = 0;\r\n        if(_needReSend)\r\n            this._callDataArr.push({command: commandID, callData: data, callBackHandler: _callBackHandler, isShowLoading: _isShowLoding, needReSend: _needReSend});\r\n        this._sendByByte(commandID, data, _isShowLoding, false);\r\n    }\r\n    protected _sendByByte(commandID: number, data: any, _isShowLoding: boolean = true, isReSend: boolean = false): void {\r\n        // if(HttpNetService._IS_SEND == false ) {\r\n        //     if(Laya.LayaEnv.isConch ) {\r\n        //         console.log(\"SEND_CMD: cmdID:\" + commandID + \" data:\" + data + \" _isShowLoding:\" + _isShowLoding, 1);\r\n        //     } else {\r\n                // console.log(Quick.GetLogTime + \" SEND_CMD: cmdID:\", commandID, data);\r\n            // }\r\n            this._sendCmd = commandID;\r\n            if(this._sendCmd == 2 ) {\r\n                // let parameters: any = new Object();\r\n                // parameters[\"login_step\"] = \"1_1\";\r\n                // PlatFormManager.instance.sendCustumEvent(52, parameters);\r\n            } \r\n            // Laya.timer.clear(this, this.sendOutHandler);\r\n            // this._isSending = true;\r\n            // HttpNetService._IS_SEND = true;\r\n            // if(_isShowLoding ) {\r\n            //     if(commandID == 2 ) {\r\n            //         if(isReSend ) {\r\n            //             LoadingManager.instance.showLoadingByInfo(GameLanguageMgr.instance.getLanguage(5204))\r\n            //         } \r\n            //     } else {\r\n            //         LoadingManager.instance.showLoading(true)\r\n            //     }\r\n            // } else {\r\n            //     LoadingManager.instance.hideLoading();\r\n            // }\r\n\r\n            WebSocketService.instance.sendData({\"cmd\":commandID, \"code\":\"\", \"data\":data});\r\n            // let _byt: Laya.Byte = MsgBodyAnaly.instance.analyClient(commandID, data);\r\n            // this.DataToService(_byt);\r\n        // } \r\n    }\r\n\r\n    public reSendData():void{\r\n        \r\n        if(this._callDataArr.length > 0 ) {\r\n            HttpNetService.RepeatHandler.run();\r\n        }\r\n    }\r\n    private sendOutHandler(): void {\r\n        Laya.timer.clear(this, this.sendOutHandler);\r\n        if(this._isSending ) {\r\n            this._isSending = false;\r\n            if(HttpNetService.ErrorIndex >= HttpNetService.RepeatTimes ) {\r\n                LoadingManager.instance.hideLoading();\r\n                HttpNetService.ErrorTips = \"Client Error!\";\r\n                ModuleManager.intance.openModule(ModuleName.ClientErrView);\r\n                this._callDataArr.length = 0;\r\n            } else {\r\n                HttpNetService.RepeatHandler.run();\r\n            }\r\n        } \r\n    }\r\n    public EnCodeByte(value: Laya.Byte): Laya.Byte {\r\n        value.pos = 0;\r\n        let _read: MessageReader = new MessageReader();\r\n        let _byt: Laya.Byte = _read.ReadBytes(value, value.length);\r\n        _byt.pos = 0;\r\n        let _newByt: Laya.Byte = new Laya.Byte();\r\n        let index: number = 0;\r\n        let _data: any;\r\n        let _newData: number = 0;\r\n        for(let j: number = 0; j < _byt.length; j++) {\r\n            if(index >= 6 ) {\r\n                index = 1;\r\n            } else {\r\n                index += 1;\r\n            }\r\n            _data = _byt.getByte();\r\n            _newData = _data;\r\n            _data >>= 8 - index;\r\n            _newData <<= index;\r\n            _newData |= _data;\r\n            _newData ^= 3;\r\n            _newByt.writeByte(_newData);\r\n        }\r\n        return _newByt;\r\n    }\r\n    public DecryptByte(value: Laya.Byte): Laya.Byte {\r\n        value.pos = 0;\r\n        let _read: MessageReader = new MessageReader();\r\n        let _byt: Laya.Byte = _read.ReadBytes(value, value.length);\r\n        _byt.pos = 0;\r\n        let _newByt: Laya.Byte = new Laya.Byte();\r\n        let index: number = 0;\r\n        let _data: any;\r\n        let _uint8Arr: Uint8Array = new Uint8Array(_byt.buffer);\r\n        for(let a: number = 0; a < _uint8Arr.length; a++) {\r\n            if(index >= 6 ) {\r\n                index = 1;\r\n            } else {\r\n                index += 1;\r\n            }\r\n            _data = _uint8Arr[a];\r\n            _data ^= 3;\r\n            _data <<= 8 - index;\r\n            _uint8Arr[a] ^= 3;\r\n            _uint8Arr[a] >>= index;\r\n            _uint8Arr[a] |= _data;\r\n        }\r\n        _newByt = new Laya.Byte(_uint8Arr.buffer);\r\n        return _newByt;\r\n    }\r\n    public init(): void {\r\n        // let _obj: any = GameResourceManager.instance.getResByURL(\"config/login.json\");\r\n        // MsgBodyAnaly.instance.analyData = _obj;\r\n        // let server =  GameSetting.server;\r\n        // console.log(\"server: \" + server);\r\n    }\r\n    \r\n    private HttpLoadProcess(progress: number): void {\r\n        \r\n    }\r\n    private httpLoadComplete(data: any): void {\r\n        MsgBodyAnaly.instance.analyData = data;\r\n    }\r\n    public dispose(): void {\r\n        \r\n    }\r\n    public set stopSending(value: boolean) {\r\n        this._stopSending = value;\r\n    }\r\n}\r\n\r\nfunction decompressByt(_arr: Uint8Array): Iterable<number> {\r\n    throw new Error(\"Function not implemented.\");\r\n}\r\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2023-12-28 19:30:41\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2023-12-27 16:24:23\r\n */\r\nexport class HeroEvent extends Laya.Event {\r\n    public static INIT_SUIT_EVENT: string = \"HeroEvent:INIT_SUIT_EVENT\";\r\n    public static EVENT_FIND_ITEM_CLICK: string = \"HeroEvent:EVENT_FIND_ITEM_CLICK\";\r\n    public static EVENT_RELEASE_ITEM_CLICK: string = \"HeroEvent:EVENT_RELEASE_ITEM_CLICK\";\r\n    public static EVENT_FINISH: string = \"HeroEvent:EVENT_FINISH\";\r\n    public static EVENT_START: string = \"HeroEvent:EVENT_START\";\r\n    public static EVENT_AGAIN: string = \"HeroEvent:EVENT_AGAIN\";\r\n    public static EVENT_ENABLE_TIJIAO: string = \"HeroEvent:EVENT_ENABLE_TIJIAO\";\r\n    public static EVENT_HUMANSTAY: string = \"HeroEvent:EVENT_HUMANSTAY\";\r\n    public static EVENT_STOPGAME: string = \"HeroEvent:EVENT_STOPGAME\";\r\n    public static EVENT_RESTORE: string = \"HeroEvent:EVENT_RESTORE\";\r\n    public static EVENT_CANCEL_RESTORE: string = \"HeroEvent:EVENT_CANCEL_RESTORE\";\r\n    public static EVENT_COLLISIONENTER: string = \"HeroEvent:EVENT_COLLISIONENTER\";\r\n    public static EVENT_HERO_DRAW_UPDATE_PRODUCTION: string = \"HeroEvent:EVENT_HERO_DRAW_UPDATE_PRODUCTION\";\r\n    public static SELECT_UI: string = \"HeroEvent:SELECT_UI\";\r\n    public constructor() {\r\n        super();\r\n    }\r\n}", "import {GameLanguageMgr} from \"./game/common/GameLanguageMgr\";\r\nimport {PlatFormManager} from \"./game/common/PlatFormManager\";\r\nimport {GameSetting} from \"./game/global/GameSetting\";\r\nimport {NoticeMgr} from \"./game/module/notice/NoticeMgr\";\r\nexport class GameUserInfo {\r\n    private static _instance: GameUserInfo;\r\n    public static get instance(): GameUserInfo {\r\n        if(!GameUserInfo._instance ) {\r\n            GameUserInfo._instance = new GameUserInfo();\r\n        } \r\n        return GameUserInfo._instance;\r\n    }\r\n    public setCmdData(cmdId: number, data: any): void {\r\n        let str: string = JSON.stringify(data);\r\n        Laya.LocalStorage.setItem(GameUserInfo.GAME_TOKEN + \"_\" + cmdId, str);\r\n    }\r\n    public getCmdData(cmdId: number): any {\r\n        let str: string = Laya.LocalStorage.getItem(GameUserInfo.GAME_TOKEN + \"_\" + cmdId);\r\n        let obj: any = JSON.parse(str);\r\n        return obj;\r\n    }\r\n    public static GAME_TOKEN: string = \"hjy3116\";\r\n    private CODE_NEW: string = GameUserInfo.GAME_TOKEN + \"CODE_NEW\";\r\n    private CODE_PLAYNAME: string = GameUserInfo.GAME_TOKEN + \"PLAYNAME\";\r\n    private _playerName: string = \"Player\";\r\n    private CODE_PLAYHEAD: string = GameUserInfo.GAME_TOKEN + \"PLAYHEAD\";\r\n    private _playerHead: string = \"img_1_1\";\r\n    private CODE_RANK: string = GameUserInfo.GAME_TOKEN + \"RANK\";\r\n    private CODE_ISRECHARGED: string = GameUserInfo.GAME_TOKEN + \"CODE_ISRECHARGED\";\r\n    public isCallBackOrder: boolean = false;\r\n    private CODE_CURRTIMES: string = GameUserInfo.GAME_TOKEN + \"CURRTIMES\";\r\n    private CODE_LASTSERVERTIME: string = GameUserInfo.GAME_TOKEN + \"LASTSERVERTIME\";\r\n    private CODE_TOTALROUND: string = GameUserInfo.GAME_TOKEN + \"TOTALROUND\";\r\n    private CODE_COINID: string = GameUserInfo.GAME_TOKEN + \"COINID\";\r\n    private CODE_LEVEL: string = GameUserInfo.GAME_TOKEN + \"LEVEL\";\r\n    private CODE_HUMAN: string = GameUserInfo.GAME_TOKEN + \"HUMAN\";\r\n    private CODE_MAX_TIME: string = GameUserInfo.GAME_TOKEN + \"CODE_MAX_TIME\";\r\n    private CODE_CURR_TIME: string = GameUserInfo.GAME_TOKEN + \"CODE_CURR_TIME\";\r\n    private CODE_IS_TIP: string = GameUserInfo.GAME_TOKEN + \"CODE_IS_TIP\";\r\n    private CODE_IS_GUIDE: string = GameUserInfo.GAME_TOKEN + \"CODE_IS_GUIDE\";\r\n    public get isNewPlayer(): boolean {\r\n        let tt: string = Laya.LocalStorage.getItem(this.CODE_NEW);\r\n        if(!tt || tt == \"\" ) {\r\n            this.isNewPlayer = false;\r\n            return true;\r\n        } \r\n        return false;\r\n    }\r\n    public set isNewPlayer(value: boolean) {\r\n        Laya.LocalStorage.setItem(this.CODE_NEW, \"notnew\");\r\n    }\r\n    public get playerName(): string {\r\n        return this._playerName;\r\n    }\r\n    public set playerName(value: string) {\r\n        this._playerName = value;\r\n        Laya.LocalStorage.setItem(this.CODE_PLAYNAME, this._playerName);\r\n    }\r\n    public get playerHead(): string {\r\n        return this._playerHead;\r\n    }\r\n    public set playerHead(value: string) {\r\n        this._playerHead = value;\r\n        Laya.LocalStorage.setItem(this.CODE_PLAYHEAD, this._playerHead);\r\n    }\r\n    public constructor() {\r\n        \r\n    }\r\n    public init(): void {\r\n        if(this.isNewPlayer ) {\r\n            this.playerName = this._playerName;\r\n            this.playerHead = this._playerHead;\r\n            \r\n            this.coinNum = 0;\r\n            this.rankNum = 586748;\r\n            this.humans = [\"1_1\"];\r\n            this.currHuman = 1;\r\n        } else {\r\n            this._playerName = Laya.LocalStorage.getItem(this.CODE_PLAYNAME);\r\n            this._playerHead = Laya.LocalStorage.getItem(this.CODE_PLAYHEAD);\r\n        }\r\n    }\r\n    public get myRank(): string {\r\n        let str: string;\r\n        str = this.rankNum + \"\";\r\n        return str;\r\n    }\r\n    public get rankNum(): number {\r\n        let tt: string = Laya.LocalStorage.getItem(this.CODE_RANK);\r\n        if(tt ) {\r\n            let _tt: number = parseInt(tt);\r\n            if(_tt && _tt > 0 ) {\r\n                return _tt\r\n            } \r\n        } \r\n        return 0;\r\n    }\r\n    public set rankNum(value: number) {\r\n        Laya.LocalStorage.setItem(this.CODE_RANK, value + \"\");\r\n    }\r\n    public get coinNum(): number {\r\n        let tt: string = Laya.LocalStorage.getItem(this.CODE_COINID);\r\n        console.log(\"GameUserInfo.coinNum() tt: \" + tt);\r\n        if(tt ) {\r\n            let _tt: number = parseInt(tt);\r\n            if(_tt && _tt > 0 ) {\r\n                return _tt\r\n            } \r\n        } \r\n        return 0;\r\n    }\r\n    public set coinNum(value: number) {\r\n        Laya.LocalStorage.setItem(this.CODE_COINID, value + \"\");\r\n    }\r\n    public get isRecharged(): string {\r\n        let tt: string = Laya.LocalStorage.getItem(this.CODE_ISRECHARGED);\r\n        console.log(\"GameUserInfo.isRecharged() tt: \" + tt);\r\n        if(tt ) {\r\n            let _tt: number = parseInt(tt);\r\n            if(_tt && _tt > 0 ) {\r\n                return _tt + \"\"\r\n            } \r\n        } \r\n        return \"0\";\r\n    }\r\n    public set isRecharged(value: string) {\r\n        Laya.LocalStorage.setItem(this.CODE_ISRECHARGED, value + \"\");\r\n    }\r\n    public AddCoinNum(_value: number): void {\r\n        this.coinNum += _value;\r\n        this.getNewRank();\r\n    }\r\n    public getNewRank(): void {\r\n      \r\n    }\r\n    public get currTimes(): number {\r\n        let tt: string = Laya.LocalStorage.getItem(this.CODE_CURRTIMES);\r\n        if(tt ) {\r\n            let _tt: number = parseInt(tt);\r\n            if(_tt && _tt > 0 ) {\r\n                return _tt\r\n            } \r\n        } \r\n        return 0;\r\n    }\r\n    public set currTimes(value: number) {\r\n        Laya.LocalStorage.setItem(this.CODE_CURRTIMES, value + \"\");\r\n    }\r\n    public get lastServerTime(): string {\r\n        let tt: string = Laya.LocalStorage.getItem(this.CODE_LASTSERVERTIME);\r\n        console.log(\"GameUserInfo.lastServerTime() tt: \" + tt);\r\n        return tt;\r\n    }\r\n    public set lastServerTime(value: string) {\r\n        Laya.LocalStorage.setItem(this.CODE_LASTSERVERTIME, value + \"\");\r\n    }\r\n    public get totalRound(): number {\r\n        let tt: string = Laya.LocalStorage.getItem(this.CODE_TOTALROUND);\r\n        if(tt ) {\r\n            let _tt: number = parseInt(tt);\r\n            if(_tt && _tt > 0 ) {\r\n                return _tt\r\n            } \r\n        } \r\n        return 0;\r\n    }\r\n    public set totalRound(value: number) {\r\n        Laya.LocalStorage.setItem(this.CODE_TOTALROUND, value + \"\");\r\n    }\r\n    public get level(): number {\r\n        let tt: string = Laya.LocalStorage.getItem(this.CODE_LEVEL);\r\n        if(tt ) {\r\n            let _tt: number = parseInt(tt);\r\n            if(_tt && _tt > 0 ) {\r\n                return _tt\r\n            } \r\n        } \r\n        return 1;\r\n    }\r\n    public set level(value: number) {\r\n        Laya.LocalStorage.setItem(this.CODE_LEVEL, value + \"\");\r\n    }\r\n    public get currTime(): number {\r\n        let tt: string = Laya.LocalStorage.getItem(this.CODE_CURR_TIME);\r\n        if(tt ) {\r\n            let _tt: number = parseInt(tt);\r\n            if(_tt && _tt > 0 ) {\r\n                return _tt\r\n            } \r\n        } \r\n        return 0;\r\n    }\r\n    public set currTime(value: number) {\r\n        Laya.LocalStorage.setItem(this.CODE_CURR_TIME, value + \"\");\r\n    }\r\n    public get isTip(): number {\r\n        let tt: string = Laya.LocalStorage.getItem(this.CODE_IS_TIP);\r\n        if(tt ) {\r\n            let _tt: number = parseInt(tt);\r\n            if(_tt && _tt > 0 ) {\r\n                return _tt\r\n            } \r\n        } \r\n        return 0;\r\n    }\r\n    public set isTip(value: number) {\r\n        Laya.LocalStorage.setItem(this.CODE_IS_TIP, value + \"\");\r\n    }\r\n    public get isGuide(): number {\r\n        let tt: string = Laya.LocalStorage.getItem(this.CODE_IS_GUIDE);\r\n        if(tt ) {\r\n            let _tt: number = parseInt(tt);\r\n            if(_tt && _tt > 0 ) {\r\n                return _tt\r\n            } \r\n        } \r\n        return 0;\r\n    }\r\n    public set isGuide(value: number) {\r\n        Laya.LocalStorage.setItem(this.CODE_IS_GUIDE, value + \"\");\r\n    }\r\n    public get currHuman(): number {\r\n        let tt: string = Laya.LocalStorage.getItem(this.CODE_MAX_TIME);\r\n        if(tt ) {\r\n            let _tt: number = parseInt(tt);\r\n            if(_tt && _tt > 0 ) {\r\n                return _tt\r\n            } \r\n        } \r\n        return 1;\r\n    }\r\n    public set currHuman(value: number) {\r\n        Laya.LocalStorage.setItem(this.CODE_MAX_TIME, value + \"\");\r\n    }\r\n    public get humans(): any[] {\r\n        let tt: string = Laya.LocalStorage.getItem(this.CODE_HUMAN);\r\n        if(tt ) {\r\n            let _tts: any[] = tt.split(\",\");\r\n            if(_tts ) {\r\n                return _tts\r\n            } \r\n        } \r\n        return null;\r\n    }\r\n    public set humans(_tts: any[]) {\r\n        if(_tts ) {\r\n            for(let i of _tts) {\r\n                if(i == \"\" ) {\r\n                    throw new Error(\"GameUserInfo.pops(_tts) , value: \" + i);\r\n                } \r\n            }\r\n            let str: string = _tts.join(\",\");\r\n            Laya.LocalStorage.setItem(this.CODE_HUMAN, str);\r\n        } \r\n    }\r\n    public recharge(): void {\r\n        if(GameUserInfo.instance.isRecharged == \"1\" ) {\r\n            NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(10011));\r\n        } else {\r\n            if(GameSetting.Login_UID == \"-1\" ) {\r\n                NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(10012));\r\n            } else if(GameUserInfo.instance.isCallBackOrder ) {\r\n                PlatFormManager.instance.recharge();\r\n            } else {\r\n                console.log(\"TVStartView.onClickADS() \");\r\n            }\r\n        }\r\n    }\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2023-12-18 01:30:25\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2023-12-26 22:00:08\r\n */\r\nimport {BaseItem} from \"../BaseItem\";\r\nexport class HeroAttupSheetItem extends BaseItem {\r\n\r\n    public id: number; //id|id\t\r\n    public race: number; //race|\t\r\n    public star_lv: number; //star_lv|\t\r\n    public HP_UP: number; //HP_UP|\t\r\n    public ATK_UP: number; //ATK_UP|\t\r\n    public DEF_UP: number; //DEF_UP|\t\r\n    public SPD_UP: number; //SPD_UP|\t\r\n    public CRIT_UP: number; //CRIT_UP|\t\r\n    public LUY_UP: number; //LUY_UP|\r\n\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2023-12-18 01:30:25\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2023-12-26 22:00:08\r\n */\r\nimport {BaseItem} from \"../BaseItem\";\r\nexport class HeroLvSheetItem extends BaseItem {\r\n\r\n    public hero_lv: number; //hero_lv|\t\r\n    public hero_star: number; //hero_star|\t\r\n    public race: number; //race|\t\r\n    public resource1_id: number; //resource1_id| 1\t\r\n    public hero_resource1: number; //hero_resource1| 1 \t\r\n    public resource2_id: number; //resource2_id| 2\t\t\r\n    public hero_resource2: number; //hero_resource2| 2 \t\r\n    public resource3_id: number; //resource3_id| 3\t\r\n    public hero_resource3: number; //hero_resource3| 3 \t\r\n    public skiil1_lv: number; //skiil1_lv|1 \t\r\n    public skiil2_lv: number; //skiil2_lv|2 \t\r\n    public p_skill: number; //p_skill|id\r\n\r\n\r\n\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n}", "import {Quick} from \"./Quick\";\r\nimport {GameLanguageMgr} from \"../../common/GameLanguageMgr\";\r\nimport {GlobalDataManager} from \"../GlobalDataManager\";\r\nexport class TimeUtil {\r\n    public static OneDaySceond: number = 24 * 3600;\r\n    public static OneHourSceond: number = 3600;\r\n    public static OneMiniuteSecond: number = 60;\r\n    public constructor() {\r\n        \r\n    }\r\n    public static formatMM(totalMM: number): string {\r\n        if(totalMM <= 0 ) {\r\n            return '00:000';\r\n        } \r\n        let _second: number, millisecon: number;\r\n        _second = totalMM / 1000;\r\n        millisecon = totalMM % 1000;\r\n        let numberTime: string = \"\";\r\n        if(_second <= 9 ) {\r\n            numberTime += \"0\";\r\n        } \r\n        numberTime += Math.floor(_second);\r\n        numberTime += \":\";\r\n        if(millisecon <= 9 ) {\r\n            numberTime += \"00\";\r\n        } else if(millisecon <= 99 ) {\r\n            numberTime += \"0\";\r\n        } \r\n        numberTime += millisecon;\r\n        return numberTime;\r\n    }\r\n    public static format(totalsec: number, _sign: string = \":\", needHour: boolean = true): string {\r\n        if(totalsec <= 0 ) {\r\n            if(needHour ) {\r\n                return '00:00:00';\r\n            } \r\n            return '00:00';\r\n        } \r\n        let _second: number, _day: number, remain: number, _hours: number, _minute: number;\r\n        _hours = totalsec / 3600;\r\n        remain = totalsec % 3600;\r\n        _minute = remain / 60;\r\n        _second = remain % 60;\r\n        let numberTime: string = \"\";\r\n        if(needHour ) {\r\n            if(_hours <= 9 ) {\r\n                numberTime += \"0\";\r\n            } \r\n            numberTime += Math.floor(_hours) + _sign;\r\n        } \r\n        if(_minute <= 9 ) {\r\n            numberTime += \"0\";\r\n        } \r\n        numberTime += Math.floor(_minute) + _sign;\r\n        if(Math.ceil(_second) <= 9 ) {\r\n            numberTime += \"0\";\r\n        } \r\n        numberTime += Math.ceil(_second);\r\n        return numberTime;\r\n    }\r\n    public static formatWithDay(totalsec: number, _sign: string = \":\"): string {\r\n        if(totalsec <= 0 ) {\r\n            return '00:00';\r\n        } \r\n        let _second: number, _day: number, remain: number, _hours: number, _minute: number;\r\n        _day = totalsec / 86400;\r\n        remain = totalsec % 86400;\r\n        _hours = remain / 3600;\r\n        remain = remain % 3600;\r\n        _minute = remain / 60;\r\n        _second = remain % 60;\r\n        let numberTime: string = \"\";\r\n        if(_day >= 1 ) {\r\n            let lanId: number = _day > 1 ? 2005 : 2003;\r\n            numberTime = GameLanguageMgr.instance.getLanguage(lanId, Math.floor(_day)) + \" \";\r\n            if(_hours <= 9 ) {\r\n                numberTime += \"0\";\r\n            } \r\n            if(_second % 2 != 0 ) {\r\n                _sign = Quick.getColorText(_sign, \"#412b20\")\r\n            } \r\n            numberTime += Math.floor(_hours) + _sign;\r\n            if(_minute <= 9 ) {\r\n                numberTime += \"0\";\r\n            } \r\n            numberTime += Math.floor(_minute);\r\n        } else {\r\n            if(_hours <= 9 ) {\r\n                numberTime += \"0\";\r\n            } \r\n            numberTime = Math.floor(_hours) + _sign;\r\n            if(_minute <= 9 ) {\r\n                numberTime += \"0\";\r\n            } \r\n            numberTime += Math.floor(_minute) + _sign;\r\n            if(Math.ceil(_second) <= 9 ) {\r\n                numberTime += \"0\";\r\n            } \r\n            numberTime += Math.ceil(_second);\r\n        }\r\n        return numberTime;\r\n    }\r\n    public static getTimeArray(second: number, formatType: string = \"HH-MM-SS\"): any[] {\r\n        second = Math.max(0, second);\r\n        if(formatType.indexOf(\"-\") == -1 ) {\r\n            return [];\r\n        } \r\n        let result: any[] = [];\r\n        let types: any[] = formatType.split(\"-\");\r\n        for(let type of types) {\r\n            if(type == \"DD\" ) {\r\n                result.push(Math.floor(second / TimeUtil.OneDaySceond));\r\n            } else if(type == \"HH\" ) {\r\n                result.push(Math.floor(second % TimeUtil.OneDaySceond / TimeUtil.OneHourSceond));\r\n            } else if(type == \"MM\" ) {\r\n                result.push(Math.floor(second % TimeUtil.OneHourSceond / TimeUtil.OneMiniuteSecond));\r\n            } else if(type == \"SS\" ) {\r\n                result.push(second % TimeUtil.OneMiniuteSecond);\r\n            } \r\n        }\r\n        return result;\r\n    }\r\n    public static getServerDate(timeStamp: number): Date {\r\n        let date: Date = new Date(timeStamp);\r\n        return date;\r\n    }\r\n    //   00:00\r\n    public static formatTime(sec:number) {\r\n        return (parseInt((sec / 60)+'') + 100).toString().substring(1) + \":\" + (parseInt((sec % 60) +'') + 100).toString().substring(1);\r\n    }\r\n\r\n    //   00:00:00\r\n    public static formatTime000000(sec:number) {\r\n        if (!sec) {\r\n            return '00:00:00';\r\n        }\r\n        return (parseInt((sec / 3600)+'') + 100).toString().substring(1)+ ':' + (parseInt((sec % 3600 / 60)+'') + 100).toString().substring(1) + \":\" + (parseInt((sec % 60) + '') + 100).toString().substring(1);\r\n    }\r\n    public static formatTimeStamp(time: number, formatType: string = \"YY-MT-DD HH:MM:SS\"): string {\r\n        let date: Date = TimeUtil.getServerDate(time);\r\n        // let types: any[] = formatType.split(\"-\");\r\n        let formatStr: string = \"\";\r\n        // if((types.indexOf(\"MT\") >= 0 || types.indexOf(\"YY\") >= 0) || types.indexOf(\"DD\") >= 0 ) {\r\n            if(formatType.indexOf(\"YY\") >= 0 ) {\r\n                formatStr = date.getFullYear()+\"\";\r\n                formatType = formatType.replace(\"YY\", formatStr);\r\n\r\n            } \r\n            if(formatType.indexOf(\"MT\") >= 0 ) {\r\n                let month: number = date.getMonth() + 1;\r\n                if(month > 9 ) {\r\n                    formatStr = month+\"\";\r\n                } else {\r\n                    formatStr = \"0\" + month;\r\n                }\r\n                \r\n                formatType = formatType.replace(\"MT\", formatStr);\r\n\r\n            } \r\n            if(formatType.indexOf(\"DD\") >= 0 ) {\r\n                let _date: number = date.getDate();\r\n                if(_date > 9 ) {\r\n                    formatStr = _date+\"\";\r\n                } else {\r\n                    formatStr = \"0\" + _date;\r\n                }\r\n\r\n                formatType = formatType.replace(\"DD\", formatStr);\r\n            } \r\n        // } else if((types.indexOf(\"HH\") >= 0 || types.indexOf(\"MM\") >= 0) || types.indexOf(\"SS\") >= 0 ) {\r\n            if(formatType.indexOf(\"HH\") >= 0 ) {\r\n                let hour: number = date.getHours();\r\n                if(hour > 9 ) {\r\n                    formatStr = hour+\"\";\r\n                } else {\r\n                    formatStr = \"0\" + hour;\r\n                }\r\n                formatType = formatType.replace(\"HH\", formatStr);\r\n            } \r\n            if(formatType.indexOf(\"MM\") >= 0 ) {\r\n                let min: number = date.getMinutes();\r\n                if(min > 9 ) {\r\n                    formatStr = min+\"\";\r\n                } else {\r\n                    formatStr = \"0\" + min\r\n                }\r\n                formatType = formatType.replace(\"MM\", formatStr);\r\n            } \r\n            if(formatType.indexOf(\"SS\") >= 0 ) {\r\n                let sec: number = date.getSeconds();\r\n                if(sec > 9 ) {\r\n                    formatStr = sec+\"\";\r\n                } else {\r\n                    formatStr = \"0\" + sec\r\n                }\r\n                formatType = formatType.replace(\"SS\", formatStr);\r\n            } \r\n        // } \r\n        return formatType;\r\n    }\r\n    public static formatTimeStamps(time: number, formatType: string = \"YY-MT-DD HH:MM:SS\"): string {\r\n        let date: Date = TimeUtil.getServerDate(time);\r\n        let formatStr: string = formatType;\r\n        formatStr = TimeUtil.parseTimeDetail(date, formatStr, \"YY\", false);\r\n        formatStr = TimeUtil.parseTimeDetail(date, formatStr, \"MT\", false);\r\n        formatStr = TimeUtil.parseTimeDetail(date, formatStr, \"DD\", false);\r\n        formatStr = TimeUtil.parseTimeDetail(date, formatStr, \"HH\", true);\r\n        formatStr = TimeUtil.parseTimeDetail(date, formatStr, \"MM\", true);\r\n        formatStr = TimeUtil.parseTimeDetail(date, formatStr, \"SS\", true);\r\n        return formatStr;\r\n    }\r\n    private static parseTimeDetail(date: Date, formatStr: string, signType: string, needZero: boolean): string {\r\n        if(formatStr.indexOf(signType) >= 0 ) {\r\n            let secStr: string;\r\n            let sec: number;\r\n            if(signType == \"YY\" ) {\r\n                sec = date.getFullYear()\r\n            } else if(signType == \"MT\" ) {\r\n                sec = date.getMonth() + 1\r\n            } else if(signType == \"DD\" ) {\r\n                sec = date.getDate()\r\n            } else if(signType == \"HH\" ) {\r\n                sec = date.getHours()\r\n            } else if(signType == \"MM\" ) {\r\n                sec = date.getMinutes()\r\n            } else if(signType == \"SS\" ) {\r\n                sec = date.getSeconds()\r\n            } \r\n            if(sec > 9 || !needZero ) {\r\n                secStr = sec.toString()\r\n            } else {\r\n                secStr = \"0\" + sec\r\n            }\r\n            formatStr = formatStr.replace(signType, secStr);\r\n        } \r\n        return formatStr;\r\n    }\r\n    public static getServerTimeStr(): string {\r\n        return TimeUtil.formatTimeStamp(Laya.timer.currTimer);\r\n    }\r\n    public static getTimeArr(): any[] {\r\n        let str: string = TimeUtil.getServerTimeStr();\r\n        let arr: any[] = str.split(\"/\");\r\n        return arr;\r\n    }\r\n    public static get getDay(): number {\r\n        let str: string = TimeUtil.getServerTimeStr();\r\n        let arr: any[] = str.split(\"/\");\r\n        let day: number = parseInt(arr[2]);\r\n        return day;\r\n    }\r\n    public static parseSheetTime(time1: any[]): string {\r\n        let timeStr: string = \"\";\r\n        if(time1 ) {\r\n            let len: number = time1.length;\r\n            for(let i: number = 0; i < len; i++) {\r\n                let temp: string = \"\";\r\n                if(time1[i] < 10 ) {\r\n                    temp = \"0\" + time1[i]\r\n                } else {\r\n                    temp = time1[i]\r\n                }\r\n                if(i !== len - 1 ) {\r\n                    temp = temp + \":\"\r\n                } \r\n                timeStr += temp;\r\n            }\r\n        } \r\n        return timeStr;\r\n    }\r\n}", "import { GameUserInfo } from \"../../../../GameUserInfo\";\r\nimport { GameLanguageMgr } from \"../../../common/GameLanguageMgr\";\r\nimport { GlobalDataManager } from \"../../../global/GlobalDataManager\";\r\nimport { SheetDataManager } from \"../../../global/SheetDataManager\";\r\nimport { HeroVo } from \"../../../global/contract/vo/HeroVo\";\r\nimport { HeroAttupSheetItem } from \"../../../global/data/sheetItem/hero/HeroAttupSheetItem\";\r\nimport { HeroLvSheetItem } from \"../../../global/data/sheetItem/hero/HeroLvSheetItem\";\r\nimport { ItemItem } from \"../../../global/data/sheetItem/item/ItemItem\";\r\nimport { TimeUtil } from \"../../../global/util/TimeUtil\";\r\nimport { Dictionary } from \"../../../util/Dictionary\";\r\n\r\nexport class HeroModel {\r\n\r\n    private static _instance: HeroModel;\r\n    private _inited: boolean = false;\r\n    private _initUpgrade: boolean = false;\r\n    // public sign: string = \"item_\";\r\n    // public rigidBods: any[];\r\n    // public tempSprites: any[];\r\n    // public _mass: number = 30;\r\n    // public _friction: number = 1000;\r\n    // public _restitution: number = 0.1;\r\n    public itemItem:ItemItem;\r\n    heroOutputRateDic: Dictionary;\r\n\r\n\r\n\r\n\r\n    public static get instance(): HeroModel {\r\n        if(!HeroModel._instance ) {\r\n            HeroModel._instance = new HeroModel()\r\n        } \r\n        return HeroModel._instance;\r\n    }\r\n    public constructor() {\r\n        this.init();\r\n    }\r\n\r\n\r\n    public init(): void {\r\n        if(!this._inited ) {\r\n\r\n            this._inited = true;\r\n        } \r\n    }\r\n\r\n    public initUpgrade(): void {\r\n        if(!this._initUpgrade ) {\r\n            let sheetManager: SheetDataManager = SheetDataManager.intance;\r\n            if(!sheetManager.m_dicHeroLv ) {\r\n                //hero_lv|\thero_star|\trace|\r\n                sheetManager.m_dicHeroLv = sheetManager.initConfig(\"hero_lv\", [\"hero_lv\", \"hero_star\", \"race\"], HeroLvSheetItem)\r\n            }\r\n            if(!sheetManager.m_dicHeroAttup ) {\r\n                //race|\t star_lv|\t\r\n                sheetManager.m_dicHeroAttup = sheetManager.initConfig(\"hero_attup\", [\"star_lv\", \"race\"], HeroAttupSheetItem)\r\n            }\r\n            this._initUpgrade = true;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public heroList: any[] = [];\r\n\r\n    private getHead(sex: number): string {\r\n        let index: number = Math.floor(Math.random() * 3) + 1;\r\n        return \"common/common_icon/img_\" + sex + \"_\" + index + \".png\";\r\n    }\r\n\r\n    getNextHero(vo:HeroVo):HeroVo {\r\n        let index = GlobalDataManager.instance.m_heroData.heroVoDic.keys.indexOf(vo.pk);\r\n        if(GlobalDataManager.instance.m_heroData.heroVoDic.keys.length === 1){\r\n            return null;\r\n        }\r\n        if(index <= GlobalDataManager.instance.m_heroData.heroVoDic.keys.length - 2){\r\n            return GlobalDataManager.instance.m_heroData.heroVoDic.values[index + 1] \r\n        }\r\n        return null;\r\n    }\r\n    getLastHero(vo:HeroVo):HeroVo {\r\n        let index = GlobalDataManager.instance.m_heroData.heroVoDic.keys.indexOf(vo.pk);\r\n\r\n        if(index > 0){\r\n            return GlobalDataManager.instance.m_heroData.heroVoDic.values[index- 1]\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public setStar(ui:any, _star: string):void{\r\n        console.log(\"setStar: _star \" + _star);\r\n\r\n        let star:number = parseInt(_star);\r\n\r\n        var ziNum = Math.floor(star/6);\r\n        var yellowNum = star%6;\r\n        var totalNum = ziNum + yellowNum\r\n        let m:number = 0;\r\n\r\n        for(let i:number = 0; i< ziNum; i++){\r\n            ui[\"img_star\" + (i+1) ].skin = \"gameIcon/hero/heroDetail/img_star_2.png\";\r\n            ui[\"img_star\" + (i+1) ].visible = true;\r\n        }\r\n        for(let i:number = ziNum; i< yellowNum; i++){\r\n            ui[\"img_star\" + (i+1) ].skin = \"gameIcon/hero/heroDetail/img_star_1.png\";\r\n            ui[\"img_star\" + (i+1) ].visible = true;\r\n        }\r\n        for(let i:number = totalNum; i< 5; i++){\r\n            // ui[\"img_star\" + (i+1) ].skin = \"gameIcon/hero/heroDetail/img_star_0.png\";\r\n            ui[\"img_star\" + (i+1) ].visible = false;\r\n        }\r\n        // for(let i:number = 1;i<6;i++){\r\n        //     // if(i==1){\r\n        //     //     m = ui[\"img_star\"+i].width/2;\r\n        //     // }\r\n            \r\n        //     ui[\"img_star\"+i].visible = i<=star;\r\n        // }\r\n         \r\n\r\n        let totalW:number = ui.box_star.width;\r\n        let offsetX:number = 46;\r\n        \r\n        if(totalNum == 1){\r\n            ui[\"img_star\"+1].x = totalW/2 -m;\r\n        }else if(totalNum == 2){\r\n            ui[\"img_star\"+1].x = totalW/2 - offsetX/2 -m;\r\n            ui[\"img_star\"+2].x = totalW/2 + offsetX/2 -m;\r\n        }else if(totalNum == 3){\r\n            ui[\"img_star\"+1].x = totalW/2 -m;\r\n            ui[\"img_star\"+2].x = totalW/2 - offsetX -m;\r\n            ui[\"img_star\"+3].x = totalW/2 + offsetX -m;\r\n        }else if(totalNum == 4){\r\n            ui[\"img_star\"+1].x = totalW/2 - offsetX/2 -m;\r\n            ui[\"img_star\"+2].x = totalW/2 + offsetX/2 -m;\r\n            ui[\"img_star\"+3].x = totalW/2 - offsetX*(1/2+1) -m;\r\n            ui[\"img_star\"+4].x = totalW/2 + offsetX*(1/2+1) -m;\r\n        }else{\r\n            ui[\"img_star\"+1].x = totalW/2 -m;\r\n            ui[\"img_star\"+2].x = totalW/2 - offsetX -m;\r\n            ui[\"img_star\"+3].x = totalW/2 + offsetX -m;\r\n            \r\n            ui[\"img_star\"+4].x = totalW/2 - offsetX*2 -m;\r\n            ui[\"img_star\"+5].x = totalW/2 + offsetX*2 -m;\r\n        }\r\n\r\n\r\n        \r\n    }\r\n    public getRoundName(_roundType: number): string {\r\n        let str: string = GameLanguageMgr.instance.getLanguage(10014, 16, 8);\r\n        if(_roundType == 4 ) {\r\n            str = GameLanguageMgr.instance.getLanguage(10014, 2, 1);\r\n        } else if(_roundType == 3 ) {\r\n            str = GameLanguageMgr.instance.getLanguage(10014, 4, 2);\r\n        } else if(_roundType == 2 ) {\r\n            str = GameLanguageMgr.instance.getLanguage(10014, 8, 4);\r\n        } \r\n        return str;\r\n    }\r\n \r\n\r\n    private playTimes: number;\r\n    public checkNeedPopRecharge(): boolean {\r\n        let serverTime: string = TimeUtil.getServerTimeStr();\r\n        if(serverTime != GameUserInfo.instance.lastServerTime ) {\r\n            GameUserInfo.instance.currTimes = 0;\r\n        } \r\n        this.playTimes++;\r\n        if((this.playTimes == 4 || this.playTimes == 9) && GameUserInfo.instance.currTimes < 2 ) {\r\n            GameUserInfo.instance.lastServerTime = TimeUtil.getServerTimeStr();\r\n            GameUserInfo.instance.currTimes++;\r\n            return true;\r\n        } \r\n        return false;\r\n    }\r\n\r\n\r\n}\r\n\r\n", "export class BlindBoxVo {\r\n    exchangeToken:string;\r\n    //\r\n    mineralLevel:string;\r\n    price:string;\r\n    //\r\n    rarity:string;\r\n    //\r\n    showPrice:string;\r\n    //  \r\n    idx:number;\r\n\r\n    /**  */\r\n    currentPrice:string;\r\n    /**  */\r\n    currentToken:string;\r\n\r\n    /**  */\r\n    totalSupply:string;\r\n    /**  */\r\n    sellAmount:string;\r\n    /**  */\r\n    series:string;\r\n    /**  */\r\n    race:string;\r\n    /**  */\r\n    currentTokenName:string;\r\n    /**  */\r\n    tokenContract: any;\r\n    /**\r\n     * @msg:  1= 2=\r\n     * @param {*}\r\n     * @return {*}\r\n     */\r\n    type: number;\r\n}", "export class HeroOutputRate {\r\n\r\n    /**id*/\r\n    public id:number;\r\n\r\n    /**  */\r\n    public mineralLevel:number;\r\n    \r\n    /**/*/\r\n    public capacity:number;\r\n    \r\n\r\n}\r\n\r\n", "\r\nimport { GameLanguageMgr } from \"../../../common/GameLanguageMgr\";\r\nimport { LoadingManager } from \"../../../common/LoadingManager\";\r\nimport { GetItemDataModel } from \"../../../module/item/model/GetItemDataModel\";\r\nimport { GetItemService } from \"../../../module/item/service/GetItemService\";\r\nimport { HeroEvent } from \"../../../module/luckdraw/event/HeroEvent\";\r\nimport { HeroModel } from \"../../../module/luckdraw/model/HeroModel\";\r\nimport { NoticeMgr } from \"../../../module/notice/NoticeMgr\";\r\nimport HttpCmd from \"../../../net/HttpCmd\";\r\nimport { Dictionary } from \"../../../util/Dictionary\";\r\nimport { GlobalDataManager } from \"../../GlobalDataManager\";\r\nimport { SheetDataManager } from \"../../SheetDataManager\";\r\nimport { ShopItem } from \"../../data/sheetItem/shop/ShopItem\";\r\nimport { GameEvent } from \"../../event/GameEvent\";\r\nimport { Signal } from \"../../event/Signal\";\r\nimport { Quick } from \"../../util/Quick\";\r\nimport { EthereumConfig } from \"../EthereumConfig\";\r\nimport { EthereumManager } from \"../EthereumManager\";\r\nimport { BlindBoxVo } from \"../vo/BlindBoxVo\";\r\nimport { HeroOutputRate } from \"../vo/HeroOutputRate\";\r\nimport { HeroVo } from \"../vo/HeroVo\";\r\n\r\nexport class ETHBlindBoxProxy {\r\n    private mail_contract:any = null;\r\n    private isOpen:boolean;\r\n    public showPrice:string;\r\n    //\r\n    public mailList:Dictionary;\r\n    \r\n\r\n    private static _instance: ETHBlindBoxProxy;\r\n    public static get instance(): ETHBlindBoxProxy {\r\n        if(!ETHBlindBoxProxy._instance){\r\n            ETHBlindBoxProxy._instance = new ETHBlindBoxProxy();\r\n        }\r\n        return ETHBlindBoxProxy._instance;\r\n    }\r\n    public init():void {\r\n        if (typeof (window as any)['ethereum'] === 'undefined') {\r\n            return;\r\n        }   \r\n        this.mail_contract = new (window as any)['web3'].eth.Contract(EthereumConfig.BLINDBOX_ABI, EthereumConfig.BLINDBOX_ADDRESS);\r\n    }\r\n\r\n    // \r\n    async initData(){\r\n        this.mailList = new Dictionary();\r\n        LoadingManager.instance.showLoading(true);\r\n        let len = await this.mail_contract.methods.getPricesLength().call();\r\n        for (let i:number = 0 ;i < len;i++) {\r\n\r\n            let iterator = await this.mail_contract.methods.getPriceByIndex(i).call();\r\n            let vo:BlindBoxVo = new BlindBoxVo();\r\n            vo.type = 1;\r\n            vo.idx = i;\r\n            Object.assign(vo,iterator);\r\n            this.mailList.set(vo.idx, vo);\r\n            vo.showPrice = (window as any)['web3'].utils.fromWei(vo.currentPrice + '');\r\n        }\r\n        LoadingManager.instance.hideLoading();\r\n    }\r\n\r\n    //\r\n    async hasFree(){\r\n        let open = await this.mail_contract.methods.getIsFreeOpen().call()\r\n        if(!open)return false;\r\n        let hasFreeHero =  await this.mail_contract.methods.hasFreeHero(EthereumManager.instance.walletAddress).call();\r\n        return !hasFreeHero;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    \r\n    //  idx  return 1  2 3 4 5 6 999   0 \r\n    async recruit(idx: any){\r\n        // LoadingManager.instance.showLoading(true);\r\n\r\n\r\n        let vo:ShopItem = SheetDataManager.intance.m_dicShops.get(idx);\r\n\r\n\r\n        let price = vo.cost[1];\r\n        let have = await EthereumManager.instance.getBalance();\r\n        // let need = (window as any)['web3'].utils.fromWei(price + '');\r\n        // if(parseFloat(have) < parseFloat(need)){\r\n        //     // LoadingManager.instance.hideLoading();\r\n        //     NoticeMgr.instance.notice(\"no money\");\r\n        //     Quick.moneyNotEnought();\r\n        //     // Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(14)]);\r\n        //     return;\r\n        // }\r\n\r\n        let temp = await HttpCmd.requestPost('wxgame/hero/heroBuy',{shopId: vo.id},true,true);\r\n        if(temp){\r\n            // LoadingManager.instance.hideLoading();\r\n                // Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(16)]);\r\n\r\n\r\n                // let vo:HeroVo = new HeroVo();\r\n                // vo.id = temp.reward[0].id;\r\n                // vo.lv = temp.reward[0].lv;              \r\n                // // vo.count = temp.reward[0].count;              \r\n                // var type = temp.reward[0].type;\r\n                // vo.pk = temp.reward[0].pk;\r\n                // // temp.resChange =  [ [3001, 1 ] ]; //\r\n                // GlobalDataManager.instance.addHero(vo);\r\n                GetItemDataModel.instance.autoPop = false;\r\n                GlobalDataManager.instance.herosDataUpdataHandler(temp.reward);\r\n\r\n\r\n                if(temp.resChange){\r\n                    GlobalDataManager.instance.moneyInfoHander(temp.resChange);\r\n                }\r\n                if(temp.fightHeroPk){\r\n                    GlobalDataManager.instance.playerDto.fightHeroPk = temp.fightHeroPk;\r\n                }           \r\n                \r\n                LoadingManager.instance.hideLoading();\r\n                // Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[[vo]]);\r\n        }\r\n\r\n        \r\n\r\n    }\r\n\r\n\r\n        \r\n    //  idx  return 1  2 3 4 5 6 999   0 \r\n    async recruitItem(idx: any, num:number){\r\n        // LoadingManager.instance.showLoading(true);\r\n\r\n\r\n        let vo:ShopItem = SheetDataManager.intance.m_dicShops.get(idx);\r\n\r\n\r\n        let price = vo.cost[1];\r\n        let have = await EthereumManager.instance.getBalance();\r\n        // let need = (window as any)['web3'].utils.fromWei(price + '');\r\n        // if(parseFloat(have) < parseFloat(need)){\r\n        //     // LoadingManager.instance.hideLoading();\r\n        //     NoticeMgr.instance.notice(\"no money\");\r\n        //     Quick.moneyNotEnought();\r\n        //     // Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(14)]);\r\n        //     return;\r\n        // }\r\n\r\n        let temp = await HttpCmd.requestPost('wxgame/hero/itemBuy',{shopId: vo.id, count:num},true,true);\r\n        if(temp){\r\n            // LoadingManager.instance.hideLoading();\r\n                // Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(16)]);\r\n                GlobalDataManager.instance.itemsDataUpdataHandler(temp.reward, false);\r\n\r\n\r\n                // let vo:HeroVo = new HeroVo();\r\n                // vo.id = temp.reward[0].id;\r\n                // vo.lv = temp.reward[0].lv;              \r\n                // // vo.count = temp.reward[0].count;              \r\n                // var type = temp.reward[0].type;\r\n                // vo.pk = temp.reward[0].pk;\r\n                // // temp.resChange =  [ [3001, 1 ] ]; //\r\n                // GlobalDataManager.instance.addHero(vo);\r\n\r\n\r\n                // GetItemService.instance.startShow();\r\n\r\n\r\n                if(temp.resChange){\r\n                    GlobalDataManager.instance.moneyInfoHander(temp.resChange);\r\n                }\r\n                if(temp.fightHeroPk){\r\n                    GlobalDataManager.instance.playerDto.fightHeroPk = temp.fightHeroPk;\r\n                }           \r\n                \r\n                LoadingManager.instance.hideLoading();\r\n                // Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[[vo]]);\r\n        }\r\n\r\n        \r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // //  idx  return 1  2 3 4 5 6 999   0 \r\n    // async recruit(idx: any){\r\n    //     LoadingManager.instance.showLoading(true);\r\n    //     this.isOpen = await this.mail_contract.methods.getIsPaidOpen().call();\r\n    //     let maxTotalSupply = await this.mail_contract.methods.getPeriodTotalSupply().call();\r\n    //     let totalSupply = await this.mail_contract.methods.getCurrentPeriodSellAmount().call();\r\n\r\n    //     if(!this.isOpen){\r\n    //         LoadingManager.instance.hideLoading();\r\n    //         Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(12)]); \r\n    //         return ;\r\n    //     }\r\n\r\n    //     if(parseInt(maxTotalSupply) === parseInt(totalSupply)){\r\n    //         LoadingManager.instance.hideLoading();\r\n    //         Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(13)]);\r\n    //         return \r\n    //     }\r\n\r\n    //     let vo:BlindBoxVo = this.mailList.get(idx);\r\n\r\n    //     if(vo.totalSupply === vo.sellAmount){\r\n    //         LoadingManager.instance.hideLoading();\r\n    //         Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(13)]);\r\n    //         return;\r\n    //     }\r\n\r\n    //     let price = vo.currentPrice;\r\n    //     let have = await EthereumManager.instance.getBalance();\r\n    //     let need = (window as any)['web3'].utils.fromWei(price + '');\r\n    //     if(parseFloat(have) < parseFloat(need)){\r\n    //         LoadingManager.instance.hideLoading();\r\n    //         Quick.moneyNotEnought();\r\n    //         // Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(14)]);\r\n    //         return;\r\n    //     }\r\n        \r\n    //     let allow = await EthereumManager.instance.allowanceAddress(EthereumConfig.BLINDBOX_ADDRESS);\r\n    //     if(!allow){\r\n    //         LoadingManager.instance.hideLoading();\r\n    //         Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(15)]);\r\n    //         return ;\r\n    //     }\r\n    //     await this.mail_contract.methods.recruit(idx).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n    //         if (err) {\r\n    //             LoadingManager.instance.hideLoading();\r\n    //             Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(16)]);\r\n    //             return ;\r\n    //         }\r\n    //     });\r\n    // }\r\n\r\n    //return \r\n    async recruitFree(){\r\n        LoadingManager.instance.showLoading(true);\r\n        this.isOpen = await this.mail_contract.methods.getIsOpen().call();\r\n        let free = await this.hasFree();\r\n        if(!this.isOpen){\r\n            LoadingManager.instance.hideLoading();\r\n            Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(12)]);\r\n            return ;\r\n        }\r\n        if(!free){\r\n            Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(17)]);\r\n            return;\r\n        }\r\n        \r\n        await this.mail_contract.methods.recruitFree().send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n            if (err) {\r\n                LoadingManager.instance.hideLoading();\r\n                Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(16)]);\r\n                return ; \r\n            }\r\n        });\r\n    }\r\n\r\n    //  \r\n    async ownerHero() {\r\n        \r\n\r\n        let temp = await HttpCmd.requestPost('wxgame/hero/heroList',{},true,true);\r\n        GlobalDataManager.instance.m_heroData.initData(temp.heroList);\r\n\r\n        console.log('HERO LIST');\r\n        // return list;\r\n    }\r\n\r\n    //  \r\n    async ownerBag() {\r\n        \r\n\r\n        let temp = await HttpCmd.requestPost('wxgame/hero/bagList',{},true,true);\r\n        GlobalDataManager.instance.m_packageData.initData(temp.data);\r\n\r\n        console.log('BAG LIST');\r\n        // return list;\r\n    }\r\n\r\n    //  \r\n    // async ownerHero() {\r\n    //     GlobalDataManager.instance.m_heroData.heroVoDic.clear();\r\n    //     let temp = await HttpCmd.requestPost('cybertron-sys-api/api/v1/heroes/findOwner',{},true);\r\n    //     let list:Array<HeroVo> = [];\r\n    //     for (const iterator of temp) {\r\n    //             let heroVo = this.makeHeroVo(iterator) as HeroVo;\r\n    //             list.push(this.makeHeroVo(iterator));\r\n    //             GlobalDataManager.instance.m_heroData.heroVoDic.set(heroVo.id, heroVo);\r\n                \r\n    //     }\r\n    //     console.log('HERO LIST');\r\n    //     return list;\r\n    // }\r\n\r\n\r\n    //  \r\n    async heroOutputRate() {\r\n        if(HeroModel.instance.heroOutputRateDic)\r\n            return;\r\n        let temp = await HttpCmd.requestPost('cybertron-sys-api/api/v1/heroes/heroOutputRate',{},true);\r\n        HeroModel.instance.heroOutputRateDic = new Dictionary();\r\n        \r\n        for (const iterator of temp) {\r\n\r\n            let vo:HeroOutputRate = new HeroOutputRate();\r\n            Object.assign(vo,iterator);\r\n            HeroModel.instance.heroOutputRateDic.set(vo.mineralLevel, vo);\r\n        }\r\n        console.log('HERO heroOutputRate');\r\n        Signal.intance.event(HeroEvent.EVENT_HERO_DRAW_UPDATE_PRODUCTION);  \r\n        \r\n    }\r\n\r\n    private makeHeroVo(obj: any){\r\n        let vo:HeroVo = new HeroVo();\r\n        Object.assign(vo,obj)\r\n        return vo; \r\n    }\r\n}", "import { GetItemDataModel } from \"../../../module/item/model/GetItemDataModel\";\r\nimport { GetItemService } from \"../../../module/item/service/GetItemService\";\r\nimport { Dictionary } from \"../../../util/Dictionary\";\r\nimport { HeroDto } from \"../../contract/vo/HeroDto\";\r\nimport { HeroVo } from \"../../contract/vo/HeroVo\";\r\nimport { GameEvent } from \"../../event/GameEvent\";\r\nimport { Signal } from \"../../event/Signal\";\r\n\r\n\r\nexport class HeroData {\r\n\r\n//     \r\n// 1\r\n// 2\r\n// 3\r\n// 4IDID\r\n\r\n//1: Consumption\r\n\r\n//2: Equipment\r\n\r\n//3: Currency\r\n\r\n//4: Hero (prop ID is the same as hero ID)\r\n\r\n\r\n\r\n    public heroVoDic: Dictionary;\r\n\r\n\r\n    public constructor() {\r\n        this.heroVoDic = new Dictionary();\r\n\r\n\r\n    }\r\n    public initData(data: any[]): void {\r\n\r\n        if(!this.heroVoDic ) {\r\n            this.heroVoDic = new Dictionary()\r\n        } \r\n\r\n        let heroVo: HeroVo;\r\n        for(let i: number = 0; i < data.length; i++) {\r\n            heroVo = new HeroVo();\r\n            var heroDto = data[i] as HeroDto;\r\n            heroVo.id = heroDto.id;\r\n                heroVo.lv = heroDto.lv;\r\n                heroVo.pk = heroDto.pk;\r\n                heroVo.color = heroDto.color;\r\n            this.pushItem(heroVo);\r\n        }\r\n\r\n\r\n\r\n        console.log(\"@@@@@@@@@@@@@@@@@@-----------------------------------------packVo: \");\r\n    }\r\n\r\n\r\n\r\n    public updateData(data: any[]): void {\r\n        console.dir(\"\" + data);\r\n\r\n        this.updataItemVoByArr(data);\r\n\r\n    }\r\n\r\n\r\n\r\n    // public getFaceShipItemVoByItemId(itemId: number): HeroVo {\r\n    //     let packVO: PackageVo = this.m_dicPackageData.get(PackageData.TYPE_FACECHIP) as PackageVo;\r\n    //     if(packVO ) {\r\n    //         return packVO.getItemByTypeId(itemId)\r\n    //     } else {\r\n    //         return null\r\n    //     }\r\n    // }\r\n\r\n\r\n\r\n    private pushItem(heroVo: HeroVo): void {\r\n        this.heroVoDic.set(heroVo.pk, heroVo);\r\n\r\n        \r\n    }\r\n    private removeItem(heroVo: HeroVo): void {\r\n        this.heroVoDic.remove(heroVo.pk);\r\n\r\n    }\r\n\r\n    public updataItemVoByArr(dataArr: any[], isLvUp: boolean = false): void {\r\n\r\n        let updateIds: any[] = [];\r\n        let dispatchGetItem: boolean = false;\r\n        let heroDto: HeroDto;\r\n        for(let i: number = 0; i < dataArr.length; i++) {\r\n            heroDto = dataArr[i];\r\n            let heroVo: HeroVo = this.heroVoDic.get(heroDto.pk);\r\n            if(heroVo == null ) {\r\n                heroVo = new HeroVo();\r\n                heroVo.id = heroDto.id;\r\n                heroVo.pk = heroDto.pk;\r\n                heroVo.lv = heroDto.lv;\r\n                heroVo.color = heroDto.color;\r\n                heroVo.m_bNew = true;\r\n                // if(isLvUp ) {\r\n                    heroVo.newAddCnt = 1;\r\n                // } else {\r\n                //     heroVo.newAddCnt = heroDto.count;\r\n                // }\r\n                // let suitInfo: SuitShowInfo = SuitSheetDataManager.instance.getSuitById(heroVo.m_heroVo.parent_suite);\r\n                // if(suitInfo ) {\r\n                //     SuitSheetDataManager.instance.checkSuitOk(suitInfo);\r\n                // } \r\n                if(heroVo.newAddCnt > 0 ) {\r\n                    this.pushItem(heroVo);\r\n                } \r\n            } else {\r\n                // if(isLvUp ) {\r\n                    heroVo.newAddCnt = 1;\r\n                // } else {\r\n                //     heroVo.newAddCnt = heroDto.count - heroVo.m_iNum;\r\n                // }\r\n            }\r\n            heroVo.isLvUp = isLvUp;\r\n            // heroVo.initDataByArr(heroDto);\r\n            updateIds.push(heroVo.pk);\r\n            if(heroVo.m_iNum <= 0 ) {\r\n                this.removeItem(heroVo)\r\n            } \r\n            if(heroVo.newAddCnt > 0 && GetItemDataModel.instance.needPop ) {\r\n                \r\n                GetItemDataModel.instance.addHeroItem(heroVo);\r\n                dispatchGetItem = true;\r\n            } \r\n        }\r\n        if((dispatchGetItem && GetItemDataModel.instance.needPop) && GetItemDataModel.instance.autoPop ) {\r\n            GetItemService.instance.startShow();\r\n        } \r\n        if(updateIds.length > 0 ) {\r\n            Signal.intance.event(GameEvent.PACKAGE_UPDATE_ITEM, [updateIds])\r\n        } \r\n    }\r\n    public getItemById(typeId: number): HeroVo {\r\n        let heroVo: HeroVo = this.heroVoDic.get(typeId);\r\n        return heroVo;\r\n    }\r\n\r\n    // public getListBySubType(subType: any, style: number = -10000, sex: number = 0): any[] {\r\n    //     let items: any[] = [];\r\n    //     for(let i: number = 0; i < this.heroVoDic.values.length; i++) {\r\n    //         let heroVo: HeroVo = this.heroVoDic.values[i];\r\n    //         // if(heroVo.subType == subType ) {\r\n    //             // if(style != -10000 ) {\r\n    //             //     if(heroVo.m_iStyleType.indexOf(style + \"\") != -1 ) {\r\n    //             //         if(parseInt(heroVo.m_heroVo.m_iSex + \"\") == sex ) {\r\n    //             //             items.push(heroVo);\r\n    //             //         } \r\n    //             //     } \r\n    //             // } else {\r\n    //             //     if(parseInt(heroVo.m_heroVo.m_iSex + \"\") == sex ) {\r\n    //                     items.push(heroVo);\r\n    //             //     } \r\n    //             // }\r\n    //         // } \r\n    //     }\r\n    //     items.sort(this.sortOnQa);\r\n    //     return items;\r\n    // }\r\n    // public getListByParentType(parentType: number, style: number = -10000, sex: number = 0): any[] {\r\n    //     let items: any[] = [];\r\n    //     for(let i: number = 0; i < this.m_dicItemList.values.length; i++) {\r\n    //         let heroVo: HeroVo = this.m_dicItemList.values[i];\r\n    //         if(heroVo.type == parentType ) {\r\n    //             // if(style != -10000 ) {\r\n    //             //     if(heroVo.m_iStyleType.indexOf(style + \"\") != -1 ) {\r\n    //             //         if(parseInt(heroVo.m_heroVo.m_iSex + \"\") == sex ) {\r\n    //             //             items.push(heroVo);\r\n    //             //         } \r\n    //             //     } \r\n    //             // } else {\r\n    //             //     if(parseInt(heroVo.m_heroVo.m_iSex + \"\") == sex ) {\r\n    //                     items.push(heroVo);\r\n    //             //     } \r\n    //             // }\r\n    //         } \r\n    //     }\r\n    //     items.sort(this.sortOnQa);\r\n    //     return items;\r\n    // }\r\n    // private sortOnQa(a: HeroVo, b: HeroVo): number {\r\n    //     let aState: number = a.heroItem.quality;\r\n    //     let bState: number = b.heroItem.quality;\r\n    //     if(aState < bState ) {\r\n    //         return 1;\r\n    //     } else if(aState > bState ) {\r\n    //         return -1;\r\n    //     } else {\r\n    //         return 0;\r\n    //     }\r\n    // }\r\n\r\n\r\n}", "import {ErrorPopManager} from \"../common/ErrorPopManager\";\r\nimport {GameLanguageMgr} from \"../common/GameLanguageMgr\";\r\nimport {LoadingManager} from \"../common/LoadingManager\";\r\nimport {ModuleManager} from \"../common/ModuleManager\";\r\n// import {IGameDispose} from \"./GameInterface/IGameDispose\";\r\n\r\nimport {NpcModel} from \"./data/sheetItem/globalmodel/NpcModel\";\r\nimport {SysteSheetModel} from \"./data/sheetItem/globalmodel/SysteSheetModel\";\r\nimport {GameEvent} from \"./event/GameEvent\";\r\nimport {Signal} from \"./event/Signal\";\r\n\r\nimport {VipInfo} from \"./vo/VipInfo\";\r\n\r\nimport {PackageData} from \"./vo/pack/PackageData\";\r\n\r\n\r\nimport {GetItemDataModel} from \"../module/item/model/GetItemDataModel\";\r\nimport {GetItemService} from \"../module/item/service/GetItemService\";\r\n\r\nimport { GameSetting } from \"./GameSetting\";\r\nimport { GlobalService } from \"./GlobalService\";\r\nimport { ModuleName } from \"./ModuleName\";\r\nimport { Dictionary } from \"../util/Dictionary\";\r\nimport { EnumConsumeType } from \"./data/enumData/EnumConsumeType\";\r\nimport { HttpNetService } from \"../net/HttpNetService\";\r\nimport { MsgBodyAnaly } from \"../net/pack/MsgBodyAnaly\";\r\nimport { PlayerDto } from \"./contract/vo/PlayerDto\";\r\n// import luckdrawevevt from \"../module/luckdraw/event/luckdrawevevt\";\r\nimport { ETHBlindBoxProxy } from \"./contract/service/ETHBlindBoxProxy\";\r\nimport { MailVo } from \"./vo/mail/MailVo\";\r\nimport { PlatFormManager } from \"../common/PlatFormManager\";\r\nimport { HeroData } from \"./vo/pack/HeroData\";\r\nexport class GlobalDataManager {\r\n    // addHero(heroVo: HeroVo) {\r\n    //     if(!this.heroVoDic){\r\n    //         this.heroVoDic = new Dictionary();            \r\n    //     }\r\n    //         this.heroVoDic.set(heroVo.id + '', heroVo);\r\n    // }\r\n    // updateHero(heroVo: HeroVo) {\r\n    //     if(!this.heroVoDic){\r\n    //         this.heroVoDic = new Dictionary();            \r\n    //     }\r\n    //         this.heroVoDic.set(heroVo.id + '', heroVo);\r\n    // }\r\n\r\n\r\n    // public heroVoDic:Dictionary;\r\n    async initData() {\r\n        //  TODO::20\r\n        PlatFormManager.instance.sendCustumEvent(20);\r\n        \r\n        // if(!this.heroVoDic){\r\n        //     this.heroVoDic = new Dictionary();            \r\n        // }\r\n        await ETHBlindBoxProxy.instance.ownerHero();\r\n        await ETHBlindBoxProxy.instance.ownerBag();\r\n        // for (const _heroVo of heroVos) {\r\n        //     let heroVo = _heroVo as HeroVo;\r\n        //     this.heroVoDic.set(heroVo.id, heroVo);\r\n            \r\n        // }\r\n\r\n        //  TODO::21\r\n        PlatFormManager.instance.sendCustumEvent(21);\r\n        // this.refreshStakePool();\r\n        // await this.refreshStakePool();\r\n\r\n        // Laya.timer.loop(60000, this, this.refreshStakePool);\r\n        \r\n    }\r\n    addMail(mailinfor: MailVo) {\r\n        if(!this.mailVoDic){\r\n            this.mailVoDic = new Dictionary();            \r\n        }\r\n            this.mailVoDic.set(mailinfor.id, mailinfor);\r\n    }\r\n    \r\n\r\n    public mailVoDic:Dictionary;\r\n//     async initMailData() {\r\n//         if(!this.mailVoDic){\r\n//             this.mailVoDic = new Dictionary();            \r\n//         }\r\n//         let mailVos:any[] = await ETHBlindBoxProxy.instance.ownerHero();\r\n        \r\n//         for (const _mailVo of mailVos) {\r\n//             let mailinfor = _mailVo as MailVo;\r\n//             this.mailVoDic.set(mailinfor.id, mailinfor);\r\n//         }\r\n//         this.refreshStakePool();\r\n//         // await this.refreshStakePool();\r\n\r\n//         Laya.timer.loop(60000, this, this.refreshStakePool);\r\n        \r\n//     }\r\n// //  TODO:: \r\n//     async refreshStakePool(){\r\n//         await ETHStakingProxy.instance.initPoolList();\r\n        \r\n//         let digList:Array<StakePoolVo> = ETHStakingProxy.instance.poolDic.values as Array<StakePoolVo>;\r\n//         // var digList:Array<any> = GlobalDataManager.instance.digList;\r\n//         // for(let i = 0;i<digList.length;i++){\r\n//         //     let digDetail:StakePoolVo = digList[i];\r\n\r\n//         //     this.view[\"box_\"+(i+1)].dataSource = digDetail;\r\n\r\n//         // }\r\n//         Signal.intance.event(GameEvent.UPDATE_DIG_ASSETS);\r\n//     }\r\n    public timeZoneOff: number = 0;\r\n    // public playerDto: RoleInfo;\r\n    public vipInfo: VipInfo;\r\n    public m_packageData: PackageData;\r\n    public m_heroData: HeroData;\r\n    public systemOpenModel: SysteSheetModel;\r\n    public npcModel: NpcModel;\r\n    // public m_storeVo: StoreVo;\r\n    public m_dicCustomerVo: Dictionary;\r\n    // public m_mallInfoVo: MallInfoVo;\r\n    public m_adRankDic: Dictionary;\r\n    // public m_achievementInfoVo: AchievementInfo;\r\n    public hearIntervalSceond: number = 10 * 60;\r\n    private _timeStamp: number = 0;\r\n    private _m_strLanguage: number = 1;\r\n    public isLanChanged: boolean = false;\r\n\r\n\r\n    private lastTimestamp: number = 0;\r\n\r\n    private _m_serverTime: number = 0;\r\n    public get m_serverTime(): number {\r\n        let timestamp: number = Date.now();\r\n        // console.log(timestamp);\r\n        return this._m_serverTime + (timestamp - this.lastTimestamp);\r\n    }\r\n    public set m_serverTime(value: number) {\r\n        this._m_serverTime = value;\r\n        this.lastTimestamp = Date.now();\r\n    }\r\n    public m_strShiqu: string;\r\n    public M_S_VersionServer: string = \"1.0.0\";\r\n    private static _instance: GlobalDataManager;\r\n    // public digList:any[];\r\n    /**\r\n     * @msg: \r\n     * @return {*}\r\n     */    \r\n    playerDto: PlayerDto;\r\n    public headId:any = 10001;\r\n    public countryId:any = 1000;\r\n    public get m_strLanguage(): number {\r\n        return this._m_strLanguage;\r\n    }\r\n    public set m_strLanguage(value: number) {\r\n        this._m_strLanguage = value;\r\n    }\r\n    public static get instance(): GlobalDataManager {\r\n        if(!GlobalDataManager._instance ) {\r\n            GlobalDataManager._instance = new GlobalDataManager();\r\n        } \r\n        return GlobalDataManager._instance;\r\n    }\r\n    public init(): void {\r\n\r\n        // this.digList = new Array();\r\n        // this.digList = [[1, \"100\"],[2, \"200\"],[3, \"300\"],[4, \"400\"],[5, \"500\"]];\r\n\r\n\r\n        this.vipInfo = new VipInfo();\r\n        this.m_packageData = new PackageData();\r\n        this.m_heroData = new HeroData();\r\n        this.systemOpenModel = new SysteSheetModel();\r\n        this.npcModel = new NpcModel();\r\n        // this.m_storeVo = new StoreVo();\r\n        this.m_dicCustomerVo = new Dictionary();\r\n        // this.m_mallInfoVo = new MallInfoVo();\r\n        // this.m_achievementInfoVo = new AchievementInfo();\r\n        Signal.intance.on(\"msg_27\", this, this.commonErrHandler);\r\n        // Signal.intance.on(\"msg_4\", this, this.roleInfoHandler);\r\n        Signal.intance.on(\"msg_7\", this, this.roleLeveHandler);\r\n        // Signal.intance.on(\"msg_5\", this, this.roleEnduranceHandler);\r\n        Signal.intance.on(\"msg_11\", this, this.vipInfoHandler);\r\n        Signal.intance.on(\"msg_13\", this, this.onVipUpgrade);\r\n        Signal.intance.on(\"msg_6\", this, this.moneyInfoHander);\r\n        // Signal.intance.on(\"msg_79\", this, this.itemsDataInitHandler);\r\n        // Signal.intance.on(\"msg_80\", this, this.itemsDataUpdataHandler);\r\n        // Signal.intance.on(\"msg_14\", this, this.itemsDataInitHandler);\r\n        // Signal.intance.on(\"msg_16\", this, this.itemsDataUpdataHandler);\r\n        // Signal.intance.on(\"msg_17\", this, this.itemsFacesDataInitHandler);\r\n        // Signal.intance.on(\"msg_18\", this, this.itemsFaceUpdateHandler);\r\n        // Signal.intance.on(\"msg_41\", this, this.initStoreDataHandler);\r\n        // Signal.intance.on(\"msg_37\", this, this.upgradeCostumerHandler);\r\n        // Signal.intance.on(\"msg_57\", this, this.onImproveBack);\r\n        // Signal.intance.on(\"msg_58\", this, this.onImproveBack);\r\n        // Signal.intance.on(\"msg_69\", this, this.initMallHandler);\r\n        // Signal.intance.on(\"msg_94\", this, this.initMainTaskHandler);\r\n        // Signal.intance.on(\"msg_98\", this, this.initAchievementHandler);\r\n        // Signal.intance.on(\"msg_99\", this, this.updataAchievementHandler);\r\n        // Signal.intance.on(\"msg_130\", this, this.initSuitRewardHandler);\r\n        // Signal.intance.on(\"msg_1000\", this, this.getTimeZoneOff);\r\n        Signal.intance.on(\"msg_90\", this, this.initSystemOpen);\r\n        // Signal.intance.on(\"msg_91\", this, this.updateSystemOpen);\r\n        // Signal.intance.on(\"msg_320\", this, this.initGuideHandler);\r\n        // Signal.intance.on(\"msg_297\", this, this.initFriendsGiftHandler);\r\n        // Signal.intance.on(\"msg_271\", this, this.recieveOnlineAward);\r\n        // Signal.intance.on(\"msg_173\", this, this.reciveFirstRecharge);\r\n        // Signal.intance.on(\"msg_281\", this, this.reciveFriendList);\r\n        // Signal.intance.on(\"msg_40\", this, this.reciveBuyCustomerMsg);\r\n        // Signal.intance.on(\"msg_35\", this, this.reciveCustomerVo);\r\n        // Signal.intance.on(\"msg_21\", this, this.onUpdatePsAndEndurance);\r\n        Signal.intance.on(\"msg_161\", this, this.reciveTurnoverVo);\r\n        Signal.intance.on(\"msg_333\", this, this.onInitSceneBg);\r\n        Signal.intance.on(\"msg_350\", this, this.onInitStoreDiscount);\r\n        Signal.intance.on(\"msg_388\", this, this.onInitTitle);\r\n        // Signal.intance.on(Cmd.RECV_MSG(Cmd.MSG_RESULT_REVIEW_RECORD_S2C), this, this.onInitReviewstate);\r\n        // Signal.intance.on(Cmd.RECV_MSG(Cmd.MSG_INIT_ACTIVITY_AG_S2C), this, this.onInitAdRank);\r\n        // Signal.intance.on(\"msg_102\", this, this.onReciveBuyTimes);\r\n        Signal.intance.on(\"msg_1002\", this, this.onLanChange);\r\n        // Signal.intance.on(\"msg_1871\", this, this.onDsUrl, null, true);\r\n        // Signal.intance.on(Cmd.RECV_MSG(Cmd.MSG_GET_PVP_GRADE_S2C), this, this.onGetPvpGrade);\r\n        // Signal.intance.on(Cmd.RECV_MSG(Cmd.MSG_SYS_BASE_INFO_S2C), this, this.onInitStyleAndTag);\r\n\r\n        \r\n        // Signal.intance.on(Cmd.RECV_MSG(Cmd.MSG_LUCKDRAW_INIT_S2C), this, this.onInitLuckdraw);\r\n\r\n\r\n        \r\n        // PartyNet.instance.init();\r\n        // AdvertModel.instance.init();\r\n        // ActivityCenterModel.intance.init();\r\n        // TravelNet.instance.init();\r\n        // MailNet.instance.init();\r\n        \r\n\r\n    }\r\n    public initSend(): void {\r\n        // HttpNetService.instance.SendData(1870, []);\r\n        // if(GameSetting.GM_DATA != \"\" ) {\r\n        //     HttpNetService.instance.SendData(325, [GameSetting.GM_DATA]);\r\n        // } \r\n    }\r\n\r\n    private onLanChange(data: any): void {\r\n        let resoult: number = parseInt(data[0]);\r\n        let needRefresh: number = parseInt(data[1]);\r\n        switch(resoult) {\r\n            case 1:\r\n            {\r\n                if(needRefresh == 1 ) {\r\n                    PlatFormManager.instance.reload();\r\n                } \r\n            }\r\n            break;\r\n            case 2:\r\n            break;\r\n        }\r\n    }\r\n    public get timeStamp(): number {\r\n        return this._timeStamp + (Laya.Browser.now() - this.recordStampTime) / 1000;\r\n    }\r\n    private recordStampTime: number;\r\n    public set timeStamp(value: number) {\r\n        this.recordStampTime = Laya.Browser.now();\r\n        this._timeStamp = value;\r\n    }\r\n    public onReciveBuyTimes(data: any): void {\r\n        GlobalDataManager.instance.playerDto.updateRoleBuyTimes(data);\r\n    }\r\n    public reciveTurnoverVo(data: any): void {\r\n        // StoreModel.instance.shopturnov = new ShopTurnoverVo();\r\n        // StoreModel.instance.shopturnov.turnover = data[0];\r\n        // StoreModel.instance.shopturnov.total = data[1];\r\n        // StoreModel.instance.shopturnov.isreward = data[2];\r\n        // StoreModel.instance.shopturnov.tisreward = data[3];\r\n        // Signal.intance.event(GameEvent.EVENT_UPDATE_TURNOVER_AWARD_STATE);\r\n    }\r\n    public onInitSceneBg(data: any): void {\r\n        // let arr: any[] = data[0];\r\n        // BackGroundModel.instance.bgHomeId = arr[0][1];\r\n        // BackGroundModel.instance.bgItemId = arr[1][1];\r\n    }\r\n    public onInitTitle(data: any): void {\r\n        // TitleNetService.instance.onInitTitle(data);\r\n    }\r\n    // private onInitReviewstate(data: any): void {\r\n    //     let _reviewstate: number = parseInt(data[0]);\r\n    //     CommentModel.instance.reviewstate = _reviewstate;\r\n    // }\r\n    // private onInitAdRank(data: any): void {\r\n    //     this.m_adRankDic = new Dictionary();\r\n    //     let ags: any[] = data[0];\r\n    //     if(ags ) {\r\n    //         for(let ag of ags) {\r\n    //             let type: number = parseInt(ag[0]);\r\n    //             let channels: any[] = ag[1];\r\n    //             if(type ) {\r\n    //                 this.m_adRankDic.set(type, channels.join())\r\n    //             } \r\n    //         }\r\n    //     } \r\n    // }\r\n    public getAdRankById(type: number): string {\r\n        if(this.m_adRankDic && this.m_adRankDic.get(type) ) {\r\n            return this.m_adRankDic.get(type);\r\n        } \r\n        return \"\";\r\n    }\r\n    private onGetPvpGrade(data: any): void {\r\n        let currGradeId: number = data[0];\r\n        // TaylorSwifModel.instance.currGradeId = currGradeId;\r\n    }\r\n    public onInitStoreDiscount(data: any): void {\r\n        // StoreModel.instance.onInitStoreDiscount(data);\r\n    }\r\n\r\n    getRealExp(avo:PlayerDto){\r\n        return parseInt(avo.exp) - parseInt(avo.nowExp);\r\n    }\r\n\r\n    getRealNextExp(avo:PlayerDto){\r\n        return parseInt(avo.nextExp) - parseInt(avo.nowExp);\r\n    }\r\n    public reciveBuyCustomerMsg(data: any): void {\r\n        // StoreModel.instance.buytimes = data[1];\r\n    }\r\n    private onInitStyleAndTag(data: any): void {\r\n        let datas: any[] = data[0];\r\n        for(let i: number = 0; i < datas.length; i++) {\r\n            let _datas: any[] = datas[i];\r\n            let funId: number = _datas[0];\r\n            let styleId: number = _datas[1];\r\n            let tagId: number = _datas[2];\r\n            // if(funId == EnumFun.FUN_THUMB ) {\r\n            //     ThumbMainModel.instance.tag = tagId\r\n            // } else if(funId == EnumFun.FUN_PVP ) {\r\n            //     TaylorSwifModel.instance.tag = tagId\r\n            // } else if(funId == EnumFun.FUN_PVPMULTI ) {\r\n            //     PvpMultiModel.instance.currTag = tagId\r\n            // } \r\n        }\r\n    }\r\n    public reciveCustomerVo(data: any): void {\r\n        // StoreModel.instance.reFreshTime = data[1];\r\n        // let customers: any[] = [];\r\n        // let cusTomer: CustomerVo;\r\n        // for(let i: number = 0; i < data[0].length; i++) {\r\n        //     cusTomer = new CustomerVo();\r\n        //     cusTomer.npcId = data[0][i][0];\r\n        //     let budgets: any[] = data[0][i][1];\r\n        //     if(budgets && budgets instanceof Array ) {\r\n        //         if(budgets.length > 0 ) {\r\n        //             cusTomer.budgetType = budgets[0][0];\r\n        //             cusTomer.budget = budgets[0][1];\r\n        //         } \r\n        //     } \r\n        //     cusTomer.part = data[0][i][2];\r\n        //     cusTomer.level = data[0][i][3];\r\n        //     cusTomer.chapter = data[0][i][4];\r\n        //     cusTomer.reward = data[0][i][5];\r\n        //     cusTomer.initCustomerVo();\r\n        //     customers.push(cusTomer);\r\n        // }\r\n        // StoreModel.instance.totalRecive = data[2];\r\n        // StoreModel.instance.customers = customers;\r\n        // if(StoreModel.instance.isGiveUp == true ) {\r\n        //     StoreModel.instance.clearCurrNpcCloth();\r\n        //     StoreModel.instance.isGiveUp = false;\r\n        // } \r\n        // Signal.intance.event(GameEvent.EVENT_REFRESH_CUSTOMER_MESSAGE);\r\n    }\r\n    public reciveFriendList(data: any): void {\r\n        // FriendModel.instance.totalFriendNum = data[1];\r\n        // FriendModel.instance.updateFriends(data[0]);\r\n    }\r\n    public firstRechargeState: number;\r\n    public reciveFirstRecharge(data: any): void {\r\n        // this.firstRechargeState = data[0];\r\n        // RechargeModel.instance.onRecieveFirstRechargeClothes(data[1]);\r\n    }\r\n    public hasReceiveFirst(): boolean {\r\n        return this.firstRechargeState.toString() == \"3\";\r\n    }\r\n    public recieveOnlineAward(data: any): void {\r\n        // OnLineAwardModel.Instance.awardCD = data[0];\r\n        // OnLineAwardModel.Instance.awardID = data[1];\r\n        // OnLineAwardModel.Instance.startCD();\r\n    }\r\n    public initFriendsGiftHandler(data: any): void {\r\n        // FriendModel.instance.hasGetFriends = data[0];\r\n        // FriendModel.instance.sendFriends = data[1];\r\n        // FriendModel.instance.reciveFriends = data[2];\r\n    }\r\n    public initSystemOpen(data: any): void {\r\n        this.systemOpenModel.initSystemOpen(data[0]);\r\n    }\r\n    public updateSystemOpen(data: any): void {\r\n        let opens: any[] = data[0];\r\n        GlobalService.instance.addNewOpenFun(opens);\r\n        for(let i: number = 0; i < opens.length; i++) {\r\n            this.systemOpenModel.openSystem.set(opens[i], true);\r\n            // Signal.intance.event(GameEvent.EVENT_FUNCTION_OPEN_UPDATE, opens[i]);\r\n        }\r\n    }\r\n    public serverTimeUpdateHandler(): void {\r\n        let interValTime: number = this.hearIntervalSceond * 1000;\r\n        Laya.timer.loop(interValTime, this, this.onHear);\r\n    }\r\n    public onHear(): void {\r\n        // HttpNetService.instance.SendData(165, [], null, false);\r\n    }\r\n    private initSuitRewardHandler(data: any): void {\r\n        // SuitNetService.instance.initSuitRewardHandler(data);\r\n    }\r\n    private updataAchievementHandler(data: any): void {\r\n        // this.m_achievementInfoVo.initItem(data);\r\n    }\r\n    // private getTimeZoneOff(value: any[]): void {\r\n    //     console.log(value[0]);\r\n    //     this.timeZoneOff = parseFloat(value[0]);\r\n    //     this.m_serverTime = parseFloat(value[1]) * 1000;\r\n    //     this.m_strShiqu = value[2];\r\n    //     let _serverLanId: number = value[3];\r\n    //     if(!GameSetting.ignoreLang ) {\r\n    //         if(_serverLanId != 0 && this.m_strLanguage != _serverLanId ) {\r\n    //             this.m_strLanguage = _serverLanId;\r\n    //             this.isLanChanged = true;\r\n    //         } else {\r\n    //             // if(_serverLanId == 0 && GameSetting.isMobile ) {\r\n    //             //     // HttpNetService.instance.SendData(1001, [this.m_strLanguage, 0])\r\n    //             // } \r\n    //             let type: string = GameLanguageMgr.instance.getLanTypeById(this.m_strLanguage);\r\n    //             GameLanguageMgr.instance.FGM_SetLanguage(type);\r\n    //         }\r\n    //     } \r\n    //     this.M_S_VersionServer = value[4];\r\n    //     MsgBodyAnaly.instance.reflashCookie();\r\n    //     console.log(\"-----------------Timem_strShiqu: \" + this.m_strShiqu + \", timeZoneOff: \" + this.timeZoneOff + \", m_serverTime: \" + this.m_serverTime, 1);\r\n    //     console.log(\"-----------------serverLanId: \" + _serverLanId + \" m_strLanguage: \" + this.m_strLanguage, 1);\r\n    //     console.log(\"-----------------serverversion\" + this.M_S_VersionServer, 1);\r\n    // }\r\n    private initAchievementHandler(data: any): void {\r\n        // this.m_achievementInfoVo.initData(data[0]);\r\n        // Signal.intance.event(\"msg_98_comp\");\r\n    }\r\n    public initMainTaskHandler(data: any): void {\r\n        // TaskModel.instance.curTaskId = data[0];\r\n        // TaskModel.instance.done = data[1];\r\n        // TaskModel.instance.state = data[2];\r\n        // Signal.intance.event(GameEvent.REFRESH_MAIN_TASK);\r\n    }\r\n    private initMallHandler(data: any[]): void {\r\n        // this.m_mallInfoVo.initDataByArr(data[0]);\r\n    }\r\n    private upgradeCostumerHandler(data: any[]): void {\r\n        // let customerVo: CustomerVo = StoreModel.instance.getCustomVoById(data[0]);\r\n        // let oldLevel: number = customerVo.level;\r\n        // customerVo.level = data[1];\r\n        // customerVo.exp = data[2];\r\n        // if(oldLevel == customerVo.level ) {\r\n        //     return\r\n        // } \r\n        // let upgradeData: any[] = [oldLevel, customerVo];\r\n        // Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, [ModuleName.CustomerLevelUpDialog, upgradeData]);\r\n    }\r\n    private onImproveBack(): void {\r\n        // Signal.intance.event(GameEvent.IMPROVE_SUCESS_EVENT);\r\n    }\r\n    private initStoreDataHandler(data: any[]): void {\r\n        // this.m_storeVo.m_iLevel = data[0];\r\n        // this.m_storeVo.m_iExp = data[1];\r\n        // if(data.length > 2 ) {\r\n        //     this.m_storeVo.m_iCostMoney = data[2]\r\n        // } \r\n    }\r\n    /**isAll :  */\r\n    public itemsDataUpdataHandler(data: any, isAll:boolean): void {\r\n        this.m_packageData.updateData(data, isAll);\r\n        Signal.intance.event(GameEvent.EVENT_ITEM_UPDATE);\r\n    }\r\n    public herosDataUpdataHandler(data: any): void {\r\n        this.m_heroData.updateData(data);\r\n        // Signal.intance.event(GameEvent.EVENT_ITEM_UPDATE);\r\n    }\r\n    // private itemsFaceUpdateHandler(data: any[]): void {\r\n    //     GetItemDataModel.instance.needPop = false;\r\n    //     this.m_packageData.clothData.updataItemVoByArr(data[0], data[1]);\r\n    //     GetItemDataModel.instance.needPop = true;\r\n    //     // this.facePackageVO.updataItemVoByArr(data[0]);\r\n    // }\r\n    // private itemsFacesDataInitHandler(data: any[]): void {\r\n    //     this.m_packageData.getDataByType(PackageData.TYPE_Consumption).initDataByArr([1, data[0], data[1]], false);\r\n    //     // this.facePackageVO.initDataByArr(data);\r\n    // }\r\n    private itemsDataInitHandler(data: any[]): void {\r\n        this.m_packageData.initData(data);\r\n    }\r\n    public vipInfoHandler(data: any[]): void {\r\n        // this.vipInfo.vipLv = data[0];\r\n        this.vipInfo.trecharge = data[1];\r\n        this.vipInfo.isRewards = data[2];\r\n        this.vipInfo.daygift = data[3];\r\n        // Signal.intance.event(GameEvent.VIP_INFO_CHANGE);\r\n    }\r\n    private onVipUpgrade(value: any[]): void {\r\n        // if(value.length >= 2 ) {\r\n        //     this.vipInfo.vipLv = value[0];\r\n        //     this.vipInfo.trecharge = value[1];\r\n        //     // Signal.intance.event(GameEvent.VIP_INFO_CHANGE);\r\n        // } \r\n    }\r\n\r\n\r\n//=========================================================\r\n\r\n//=================================================\r\n// private onInitLuckdraw(data: any): void {\r\n\r\n//     Signal.intance.event(luckdrawevevt.INIT_LUCKDEAW_EVENT);\r\n// }\r\n\r\n\r\n\r\n\r\n\r\npublic getConsumeValue(itemId: number): number {\r\n    itemId = parseInt(itemId.toString());\r\n    var coinNum = this.playerDto.coins[itemId];\r\n    // if(itemId == EnumConsumeType.TYPE_GOLD){\r\n    //     return this.playerDto.gold;\r\n    // }    \r\n    // else{//\r\n\r\n        return coinNum>0?coinNum:0;\r\n    // }\r\n}\r\npublic hasEnoughMoney(id: number, cost: number, showTip: boolean = true): boolean {\r\n    id = parseInt(id.toString());\r\n    cost = parseInt(cost.toString());\r\n    switch(id) {\r\n        // case EnumConsumeType.TYPE_GOLD:\r\n        // {\r\n        //     if(this.playerDto.gold < cost && showTip ) {\r\n        //         Signal.intance.event(\"open_buy\", 3);\r\n        //     } \r\n        //     return this.playerDto.gold >= cost;\r\n        // }\r\n        // break;\r\n\r\n        default://\r\n        {\r\n            if(this.playerDto.coins[id] < cost && showTip ) {\r\n                Signal.intance.event(\"open_buy\", 4);\r\n            } \r\n            return this.playerDto.coins[id] >= cost\r\n        }\r\n        break;\r\n    }\r\n}\r\n\r\n\r\n\r\n    public moneyInfoHander(data: any[], autoPatchEvent: boolean = true, needPop: boolean = true): void {\r\n        let totalNeed: boolean = false;\r\n        let needPush: boolean = false;\r\n        let delta: number = 0;\r\n        for(let info of data) {\r\n            needPush = false;\r\n            // if(info[0] == EnumConsumeType.TYPE_GOLD ) {\r\n\r\n            //     delta = parseInt(info[1] + \"\") - this.playerDto.gold;\r\n            //     this.playerDto.gold = parseInt(info[1] + \"\");\r\n\r\n            //     needPush = delta > 0;\r\n\r\n            // } else \r\n            if(info[0] == EnumConsumeType.TYPE_EXP ) {\r\n\r\n                delta = parseInt(info[1] + \"\") - this.playerDto.exp;\r\n                this.playerDto.exp = parseInt(info[1] + \"\");\r\n\r\n                needPush = delta > 0;\r\n\r\n            }else {//\r\n                delta = parseInt(info[1] + \"\") - this.playerDto.coins[info[0]];\r\n                this.playerDto.coins[info[0]] = parseInt(info[1] + \"\");\r\n\r\n                needPush = delta > 0;\r\n            }\r\n            if((needPush && GetItemDataModel.instance.needPop) && needPop ) {\r\n                totalNeed = true;\r\n                GetItemDataModel.instance.addConsumeByServer([info[0], delta]);\r\n            } \r\n        }\r\n        // this.playerDto.updateRoleBuyTimes(data[1]);\r\n        if(autoPatchEvent ) {\r\n            Signal.intance.event(GameEvent.ROLE_INFO_CHANGE);\r\n        } \r\n        if(totalNeed && GetItemDataModel.instance.autoPop ) {\r\n            GetItemService.instance.startShow()\r\n        } \r\n    }\r\n\r\n    private initReceiveExp: boolean = true;\r\n    public roleLeveHandler(data: any[]): void {\r\n        let needSend: boolean = this.playerDto.lv > 0 && this.playerDto.lv != data[0];\r\n        let lastLevel: number = this.playerDto.lv;\r\n        this.playerDto.lv = data[0];\r\n        this.playerDto.trueiron = data[1];\r\n        let currLevel: number = this.playerDto.lv;\r\n        if((this.playerDto.deltaExp > 0 && GetItemDataModel.instance.needPop) && !this.initReceiveExp ) {\r\n            GetItemDataModel.instance.addConsumeByServer([EnumConsumeType.TYPE_EXP, this.playerDto.deltaExp])\r\n        } \r\n        if(GetItemDataModel.instance.autoPop && !this.initReceiveExp ) {\r\n            GetItemService.instance.startShow()\r\n        } \r\n        this.initReceiveExp = false;\r\n        if(needSend ) {\r\n            Signal.intance.event(GameEvent.ROLE_INFO_CHANGE);\r\n            Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, [ModuleName.RoleUpgradeView]);\r\n            // let level7: number = parseInt(SheetDataManager.intance.getGeneralValueById(80) + \"\");\r\n            // let level13: number = parseInt(SheetDataManager.intance.getGeneralValueById(81) + \"\");\r\n            // let level35: number = parseInt(SheetDataManager.intance.getGeneralValueById(82) + \"\");\r\n            // if(lastLevel < level7 && currLevel >= level7 ) {\r\n            //     PlatFormManager.instance.sendCustumEvent(39)\r\n            // } \r\n            // if(lastLevel < level13 && currLevel >= level13 ) {\r\n            //     PlatFormManager.instance.sendCustumEvent(40)\r\n            // } \r\n            // if(lastLevel < level35 && currLevel >= level35 ) {\r\n            //     PlatFormManager.instance.sendCustumEvent(41)\r\n            // } \r\n            // AndroidPlatform.instance.FGM_Event_LevelUp(currLevel);\r\n        } \r\n    }\r\n    // public roleInfoHandler(data: any): void {\r\n    //     this.playerDto.initRoleInfo(data);\r\n    //     Signal.intance.event(GameEvent.ROLE_INFO_CHANGE);\r\n    // }\r\n    public initGuideHandler(data: any): void {\r\n        let guideID: number = data[0];\r\n        let guides: any[] = data[1];\r\n        if(GameSetting.UseGuide == false ) {\r\n            guideID = 0;\r\n            guides = [100, 110, 120, 130, 140, 150, 160, 190, 200, 210, 220, 230, 232, 235, 245, 250, 260, 270, 280, 290, 293, 296, 300, 310, 330];\r\n        } \r\n        // GuideNetService.finishGroupMap = new Dictionary();\r\n        // GuideNetService.finishGroupMap[0] = true;\r\n        // guides.forEach(function(group: number, ...params): void {\r\n        //     GuideNetService.finishGroupMap[group] = true;\r\n        // });\r\n        // let endId: number = GuideSheetDataManager.instance.getEndId();\r\n        // console.log(\"endId: \" + endId);\r\n        // if(guideID == 0 || guideID >= endId ) {\r\n        //     Quick.guideProxy.guideID = (guideID = 0)\r\n        // } else {\r\n        //     Quick.guideProxy.guideID = guideID\r\n        // }\r\n    }\r\n    public needPopError: boolean = true;\r\n    private commonErrHandler(value: any[]): void {\r\n        LoadingManager.instance.hideLoading();\r\n        if(parseInt(value[0]) == 20000 ) {\r\n            if(this.needPopError ) {\r\n                ErrorPopManager.instance.showErrorWord(parseInt(value[0]));\r\n                Signal.intance.event(GameEvent.RECIVE_SUCESS_SERVICE);\r\n            } \r\n            return;\r\n        } else if(parseInt(value[0]) == 20008 ) {\r\n            Signal.intance.event(\"open_buy\", 1);\r\n            return;\r\n        } else if(parseInt(value[0]) == 20007 ) {\r\n            Signal.intance.event(\"open_buy\", 2);\r\n            return;\r\n        } else if(parseInt(value[0]) == 20015 ) {\r\n            Signal.intance.event(\"open_buy\", 3);\r\n            return;\r\n        } else if(parseInt(value[0]) == 20016 ) {\r\n            Signal.intance.event(\"open_buy\", 4);\r\n            return;\r\n        } else if(parseInt(value[0]) == 10021 ) {\r\n            HttpNetService.ErrorTips = ErrorPopManager.instance.get(10021);\r\n            ModuleManager.intance.openModule(ModuleName.ClientErrView);\r\n            return;\r\n        // } else if(parseInt(value[0]) == 10022 ) {\r\n        //     ModuleManager.intance.openModule(ModuleName.GameSettingGameAccountView, [GameSettingGameAccountView.GAMESETTING_LOGIN, ErrorPopManager.instance.get(10022)]);\r\n        //     return;\r\n        } else if(parseInt(value[0]) == 10023 ) {\r\n            HttpNetService.ErrorTips = ErrorPopManager.instance.get(10023);\r\n            ModuleManager.intance.openModule(ModuleName.ClientErrView);\r\n            return;\r\n        } else if(parseInt(value[0]) == 10019 ) {\r\n            HttpNetService.ErrorTips = ErrorPopManager.instance.get(10019);\r\n            ModuleManager.intance.openModule(ModuleName.ClientErrView);\r\n            return;\r\n        } else if(parseInt(value[0]) == 20053 ) {\r\n            \r\n        } else if(parseInt(value[0]) == 10002 ) {\r\n            HttpNetService.ErrorTips = GameLanguageMgr.instance.getLanguage(5085);\r\n            ModuleManager.intance.openModule(ModuleName.ClientErrView);\r\n            return;\r\n        // } else if(parseInt(value[0]) == 30036 ) {\r\n        //     PartyNet.instance.onPartyOverTip(\"5157\");\r\n        //     return;\r\n        } \r\n        ErrorPopManager.instance.showErrorWord(parseInt(value[0]));\r\n        console.log(\"Server Error Code:\" + value[0]);\r\n    }\r\n    public dispose(): void {\r\n        \r\n    }\r\n\r\n    public parseNumber(setValue: any[]): any[] {\r\n        let _value: any[] = [];\r\n        for(let i: number = 0; i < setValue.length; i++) {\r\n            let v: number = setValue[i];\r\n            v = this.dividedNumber(v);\r\n            _value.push(v.toString());\r\n        }\r\n        return _value;\r\n    }\r\n    public dividedNumber(v: number): number {\r\n        return v / 10000;\r\n    }\r\n}", "import {BaseItem} from \"../BaseItem\";\r\nexport class GeneralItem extends BaseItem {\r\n    public id: number;\r\n    public value: any;\r\n    public constructor() {\r\n        super();\r\n    }\r\n}", "import {IBaseSheetDataModel} from \"./IBaseSheetDataModel\";\r\nimport {BaseSheetItem} from \"./BaseSheetItem\";\r\nimport {IBaseSheetItem} from \"./IBaseSheetItem\";\r\nimport {GameResourceManager} from \"../../../common/GameResourceManager\";\r\nimport {Dictionary} from \"../../../util/Dictionary\";\r\nexport class BaseSheetDataModel implements IBaseSheetDataModel {\r\n    protected _idKeyName: string = \"\";\r\n    protected _jsonName: string = \"\";\r\n    protected _sheetItemCls: any = null;\r\n    protected _idToValueMap: Dictionary;\r\n    protected _items: any[];\r\n    protected _isParse: boolean = false;\r\n    public constructor(jsonName: string, idKeyName: string, sheetItemCls: any) {\r\n        this._idKeyName = idKeyName;\r\n        this._jsonName = jsonName;\r\n        this._sheetItemCls = sheetItemCls;\r\n        this._idToValueMap = new Dictionary();\r\n        this._items = [];\r\n    }\r\n    public parseJson(): void {\r\n        if(this._isParse ) {\r\n            return\r\n        } \r\n        let json: any = GameResourceManager.instance.getResByURL(\"config/\" + this._jsonName + \".json\");\r\n        if(!json ) {\r\n            throw new Error(\"\" + this._jsonName)\r\n        } \r\n        for(let obj of json) {\r\n            let item: BaseSheetItem = new this._sheetItemCls();\r\n            item.beFill(obj);\r\n            this._idToValueMap.set(obj[this._idKeyName], item);\r\n            this._items.push(item);\r\n            this.addItemProcess(item);\r\n        }\r\n        this._isParse = true;\r\n    }\r\n    protected addItemProcess(item: BaseSheetItem): void {\r\n        \r\n    }\r\n    public getItemById(id: number): IBaseSheetItem {\r\n        if(this.excuteIsParse() ) {\r\n            if(this._idToValueMap.get(id) ) {\r\n                return this._idToValueMap.get(id);\r\n            } else {\r\n                return null;\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    public getAllItems(): any[] {\r\n        if(this.excuteIsParse() ) {\r\n            return this._items\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n    protected excuteIsParse(): boolean {\r\n        if(!this._isParse ) {\r\n            \r\n        } \r\n        return this._isParse;\r\n    }\r\n}", "\r\nimport { Dictionary } from \"../../../../util/Dictionary\";\r\nimport {SheetDataManager} from \"../../../SheetDataManager\";\r\nimport { BaseSheetDataModel } from \"../BaseSheetDataModel\";\r\nexport class ItemSheetDataModel extends BaseSheetDataModel{\r\n    private _itemsTypeMap: Dictionary = null;\r\n    public constructor() {\r\n        super(\"\",\"\",\"\");\r\n        this._itemsTypeMap = new Dictionary();\r\n    }\r\n    private getCombineKey(key1: any, key2: any, splitKey: string): string {\r\n        return key1 + splitKey.toString() + key2;\r\n    }\r\n    public getItemsByChildType(childType: number, itemType: number): any[] {\r\n        let combineKey: string = this.getCombineKey(childType, itemType, \"childType_itemType\");\r\n        if(this._itemsTypeMap.get(combineKey) ) {\r\n            return this._itemsTypeMap.get(combineKey)\r\n        } \r\n        this._itemsTypeMap.set(combineKey, []);\r\n        let items: any[] = SheetDataManager.intance.m_dicItems.values;\r\n        for(let item of items) {\r\n            if(item.child_type == childType && item.itm_type == itemType ) {\r\n                this._itemsTypeMap.get(combineKey).push(item);\r\n            } \r\n        }\r\n        return this._itemsTypeMap.get(combineKey);\r\n    }\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-06 16:29:41\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-01-07 19:50:29\r\n */\r\n\r\nimport {BaseItem} from \"../BaseItem\";\r\nexport class ItemItem extends BaseItem {\r\n\r\n    \r\n    public id: number;\r\n    public name: string;\r\n\r\n\r\n    public quality: number;\r\n    public type: number;\r\n    \r\n\r\n    public subType: number;\r\n\r\n    public icon: string;\r\n\r\n        \r\n    //instruction|\r\n    public des: string;\r\n\r\n    \r\n    public realIcon(): string {\r\n        return \"https://cdn.bunnyswap.cc/images/items/\"+this.icon;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    //tokenId|\r\n    private tokenId: string;\r\n\r\n    public resourse: any[];\r\n\r\n\r\n    public max_quality: number;\r\n    public item_maxnum: number;\r\n    public buy_price: any[];\r\n    public sell_price: any[];\r\n    public sell_exp: number;\r\n    public item_detail: number;\r\n\r\n\r\n    public use:string;\r\n\r\n\r\n\r\n\r\n    private _starArr: any[];\r\n\r\n\r\n    public get starArr(): any[] {\r\n        if(this._starArr ) {\r\n            return this._starArr\r\n        } \r\n        this._starArr = [];\r\n        if(this.max_quality == 0 ) {\r\n            return this._starArr\r\n        } \r\n        let rate: number = this.quality / this.max_quality * 5;\r\n        for(let k: number = 1; k <= 5; k++) {\r\n            if(rate >= k ) {\r\n                this._starArr.push(0)\r\n            } else if(k - rate <= .5 ) {\r\n                this._starArr.push(2)\r\n            } else {\r\n                this._starArr.push(1)\r\n            }\r\n        }\r\n        return this._starArr;\r\n    }\r\n}", "\r\nimport {BaseItem} from \"../BaseItem\";\r\nexport class MapSheetItem extends BaseItem {\r\n\r\n    // id|id\t\tname|\ticon|\tproduction|ID\r\n\r\n\r\n    public id: number;\r\n    public name: string;\r\n    public icon: string;\r\n    public production: number;\r\n\r\n    \r\n    //instruction|\r\n    public instruction: string;\r\n    //tokenId|\r\n    public tokenId: string;\r\n\r\n}", "import {IBaseSheetItem} from \"./IBaseSheetItem\";\r\nexport class BaseSheetItem implements IBaseSheetItem {\r\n    public constructor() {\r\n        \r\n    }\r\n    public beFill(sourceObj: any): void {\r\n        for(let key in sourceObj) {\r\n            if(this.hasOwnProperty(key) ) {\r\n                let value: any = sourceObj[key];\r\n                if(value instanceof String ) {\r\n                    if(String(value).indexOf(\"[[\") >= 0 ) {\r\n                        value = JSON.parse(value as string)\r\n                    } \r\n                } \r\n                this[key] = value;\r\n            } \r\n        }\r\n    }\r\n    public converNumberStrArr(arr: any[]): any[] {\r\n        let result: any[] = [];\r\n        for(let i: number = 0; i < arr.length; i++) {\r\n            result.push(parseInt(arr[i]))\r\n        }\r\n        return result;\r\n    }\r\n}", "import {GameLanguageMgr} from \"../../../../../../common/GameLanguageMgr\";\r\nimport {BaseSheetItem} from \"../../../BaseSheetItem\";\r\nexport class CatagoryChildTypeSheetItem extends BaseSheetItem {\r\n    private _childtypeID: number;\r\n    private _childtype: string;\r\n    private _icon: string;\r\n    private _if_use: boolean;\r\n    public constructor() {\r\n        super();\r\n    }\r\n    public get icon(): string {\r\n        return this._icon;\r\n    }\r\n    public set icon(value: string) {\r\n        this._icon = value;\r\n    }\r\n    private _childtypeL: string = \"\";\r\n    public get childtype(): string {\r\n        if(this._childtypeL == \"\" ) {\r\n            this._childtypeL = GameLanguageMgr.instance.getLanguage(this._childtype)\r\n        } \r\n        return this._childtypeL;\r\n    }\r\n    public set childtype(value: string) {\r\n        this._childtype = value;\r\n    }\r\n    public get childtypeID(): number {\r\n        return this._childtypeID;\r\n    }\r\n    public set childtypeID(value: number) {\r\n        this._childtypeID = value;\r\n    }\r\n    public get if_use(): boolean {\r\n        return this._if_use;\r\n    }\r\n    public set if_use(value: boolean) {\r\n        this._if_use = value;\r\n    }\r\n}", "import {CatagoryChildTypeSheetItem} from \"./CatagoryChildTypeSheetItem\";\r\nimport {BaseSheetDataModel} from \"../../../BaseSheetDataModel\";\r\nimport { EnumeCatagoryChildType } from \"../../../../enumData/EnumeCatagoryChildType\";\r\nexport class CatagoryChildTypeSheetDataModel extends BaseSheetDataModel {\r\n    private _beautySalonUpgradeItems: any[] = null;\r\n    private _beautySalonSkinItems: any[] = null;\r\n    private _beautySalonFeaturesItems: any[] = null;\r\n    private _beautySlonHairItems: any[] = null;\r\n    public constructor() {\r\n        super(\"catagory_childtype\", \"childtypeID\", CatagoryChildTypeSheetItem);\r\n    }\r\n    public getBeautySalonUpgradeItems(): any[] {\r\n        if(this._beautySalonUpgradeItems ) {\r\n            return this._beautySalonUpgradeItems\r\n        } \r\n        this._beautySalonUpgradeItems = [];\r\n        this._beautySalonUpgradeItems.push(this.getItemById(EnumeCatagoryChildType.MODEL));\r\n        this._beautySalonUpgradeItems = this._beautySalonUpgradeItems.concat(this.getHairTabItems());\r\n        return this._beautySalonUpgradeItems;\r\n    }\r\n    public getSkinTabItems(): any[] {\r\n        if(this._beautySalonSkinItems ) {\r\n            return this._beautySalonSkinItems\r\n        } \r\n        this._beautySalonSkinItems = [];\r\n        this._beautySalonSkinItems.push(this.getItemById(EnumeCatagoryChildType.SkinColor));\r\n        this._beautySalonSkinItems.push(this.getItemById(EnumeCatagoryChildType.FACE_TYPE));\r\n        return this._beautySalonSkinItems;\r\n    }\r\n    public getFeaturesTabItems(): any[] {\r\n        if(this._beautySalonFeaturesItems ) {\r\n            return this._beautySalonFeaturesItems\r\n        } \r\n        this._beautySalonFeaturesItems = [];\r\n        this._beautySalonFeaturesItems.push(this.getItemById(EnumeCatagoryChildType.Eye));\r\n        this._beautySalonFeaturesItems.push(this.getItemById(EnumeCatagoryChildType.Nose));\r\n        this._beautySalonFeaturesItems.push(this.getItemById(EnumeCatagoryChildType.Mouse));\r\n        this._beautySalonFeaturesItems.push(this.getItemById(EnumeCatagoryChildType.Eyebrow));\r\n        this._beautySalonFeaturesItems.push(this.getItemById(EnumeCatagoryChildType.EYE_ZHU));\r\n        return this._beautySalonFeaturesItems;\r\n    }\r\n    public isSalonFeatureType(childType: number): boolean {\r\n        childType = parseInt(childType.toString());\r\n        if((((childType == EnumeCatagoryChildType.Eye || childType == EnumeCatagoryChildType.Nose) || childType == EnumeCatagoryChildType.Mouse) || childType == EnumeCatagoryChildType.Eyebrow) || childType == EnumeCatagoryChildType.EYE_ZHU ) {\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n    public getHairTabItems(): any[] {\r\n        if(this._beautySlonHairItems ) {\r\n            return this._beautySlonHairItems\r\n        } \r\n        this._beautySlonHairItems = [];\r\n        // this._beautySlonHairItems.push(this.getItemById(EnumeCatagoryChildType.ShortHair));\r\n        // this._beautySlonHairItems.push(this.getItemById(EnumeCatagoryChildType.MiddleHair));\r\n        // this._beautySlonHairItems.push(this.getItemById(EnumeCatagoryChildType.LongHair));\r\n        return this._beautySlonHairItems;\r\n    }\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-06 16:55:10\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-09 22:58:42\r\n */\r\nimport {BaseItem} from \"../BaseItem\";\r\nexport class ShopItem extends BaseItem {\r\n\r\n\r\n    public id: number; //id\t\r\n    public type: number; //\t\r\n    public icon: string; //icon\t\r\n    public title: string; //id\t\t\r\n    public des: string; //id\t\t\r\n    public cost: any[]; //id,\t\r\n    public dropId: number; //id\r\n    public open: number; //open|0=1=\r\n\r\n}", "import { BaseItem } from \"../BaseItem\";\r\n\r\nexport class SceneItem extends BaseItem {\r\n    public ID: number;\r\n    public scene: number;\r\n    public music: string;\r\n    public resourse: string;\r\n    public toggle: number;\r\n    public name: string;\r\n    public constructor() {\r\n        super();\r\n    }\r\n}", "import {BaseItem} from \"../data/sheetItem/BaseItem\";\r\nexport class HeadItem extends BaseItem {\r\n    public id: number;\r\n    // public head:string;\r\n    public constructor() {\r\n        super();\r\n    }\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-06 16:55:10\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-04 18:55:32\r\n */\r\nimport {BaseItem} from \"../BaseItem\";\r\nexport class HeroItem extends BaseItem {\r\n\r\n\r\n    public id: number; //id\t\r\n    public name:string; //\r\n\r\n    public serialId: number; //serialId|ID\r\n    /** 1=Dinoos ( \r\n        2=Baddos (from baddies  )\r\n        3=Tauros (from taurus )\r\n        4=Spiros (from spirit ) \r\n     */\r\n    public race: number; //   \r\n    public icon: string; //icon|     ()\r\n\r\n    public quality: number; //quality|,\r\n    public level: number; //level|\r\n\r\n    \r\n    public skillIds:any[];//ids\r\n\r\n\r\n\r\n    public maxHp: number; //maxHp|\t\r\n    public atk: number; //atk|\t\r\n    public def: number; //def|\t\r\n    public mov: number; //mov|\t\r\n    public crt: number; //crt|\t\r\n    public crtRate: number; //crtRate|\t\r\n    public immunity: number; //immunity|\t\r\n    public dex: number; //dex|\t\r\n    public miss: number; //miss|\r\n\r\n\r\n\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-06 16:55:10\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-16 21:11:40\r\n */\r\nimport {BaseItem} from \"../BaseItem\";\r\nexport class ArenaItem extends BaseItem {\r\n\r\n\r\n    public id: number; //id\t\r\n    public name:string; //\r\n    public coinType: number; //\r\n    public lv: number; //\r\n    \r\n\r\n    public heroLevel: number; //\r\n    \r\n\r\n    public queueTime: number; //\t\t\r\n    public numberMin: number; //\r\n    public numberMax: number; //\r\n    public fightTime: number; //\r\n    public mapid: number; //mapid|id\r\n\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-06 16:55:10\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-02-18 17:12:46\r\n */\r\nimport {BaseItem} from \"../BaseItem\";\r\nexport class SkillItem extends BaseItem {\r\n\r\n\r\n    public id: number; //id\t\r\n    /**\r\n        1=\r\n        2=\r\n        PSBUFF50%\r\n        1BUFFBUFF50%\r\n    */\r\n    public type: number; //\r\n    public name:string; //\r\n    public des:string; //\r\n\r\n    \t\t\r\n\r\n    \r\n    /**targetsType|\r\n     */\r\n    public targetsType: number; //targetsType|\r\n    \r\n    /**targetsNum|\r\n     */\r\n    public targetsNum: number; //targetsNum|\r\n    \r\n    /**distance|\r\n     */\r\n    public distance: number; //distance|\r\n\r\n\r\n\r\n\r\n    /**icon */\r\n    public icon: string; //icon|\r\n\r\n\r\n    /**commCd|cd\r\n     */\r\n    public commCd: number; //commCd|cd\r\n\r\n\r\n    /**cd|cd\r\n     */\r\n    public cd: number; //cd|cd\r\n\r\n\r\n\r\n\r\n    public hurt: number; //hurt|\r\n    /**\r\n            1:\r\n        N\r\n        ||\r\n        |[{30,50},{30,100},{40,150}]5030%10030%15040%\r\n        0100%\r\n    */\r\n    public section: any[]; //section|\r\n\r\n    /**BUFFBUFFBUFF\r\n        [[buffid],[buffid]]\r\n        \r\n        1=\r\n        2=\r\n    */\r\n    public buff: any[]; //buff|BUFF\r\n    public releaseEff: number; //releaseEff|\r\n    public flightEff: number; //flightEff|\r\n\r\n    \t\r\n\r\n\r\n\r\n\r\n    public hitEff: number; //hitEff|\r\n    /** \r\n    1=\r\n    2=\r\n     */\r\n    public displacementType: number; //displacementType|\r\n    public displacement: number; //displacement|\r\n\r\n\r\n\r\n    public fightBack: number; //fightBack|\r\n\r\n\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-06 16:55:10\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-02-02 18:11:35\r\n */\r\nimport {BaseItem} from \"../BaseItem\";\r\nexport class BuffItem extends BaseItem {\r\n\r\n\r\n    public id: number; //id\t\r\n    /**buff */\r\n    public name:string; //buff\r\n    /**group| */\r\n    public group:number; //group|\r\n    /**addType|\r\n        1=(\r\n        2=BUFF\r\n        3=BUFFBUFF\r\n        4=\r\n    */\r\n    public addType:number; //addType|    \r\n    /**triggerTiming|\r\n        1=\r\n    */\r\n    public triggerTiming:number; //triggerTiming|    \r\n    /**buffEffect|\r\n        1=  1id+-\r\n        [1,1015,5000]\r\n\r\n    */\r\n    public buffEffect:any[]; //buffEffect|    \r\n    \r\n\r\n    /**des| */\r\n    public des: string; //des|\t   \r\n\r\n    /**ms */\r\n    public time: number; //\r\n\r\n}", "import {BaseItem} from \"../data/sheetItem/BaseItem\";\r\nexport class CountryItem extends BaseItem {\r\n    public id: number;\r\n    public name:string;\r\n    public constructor() {\r\n        super();\r\n    }\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-03-14 16:55:10\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-14 20:37:27\r\n */\r\nimport {BaseItem} from \"../BaseItem\";\r\nexport class UnionItem extends BaseItem {\r\n\r\n    // id|\tname|\tdeclaration|\tunionLv|\tmaxNumber|\tnumber|\r\n\r\n\r\n\r\n    public id: number; //id|\r\n    public name: string; //name|\t\t\r\n    public declaration: string; //declaration|\r\n    public unionLv: number; //unionLv|\r\n    public number: number; //number|\r\n    public maxNumber: number; //maxNumber|\r\n\r\n\r\n\r\n}", "import { GameResourceManager } from \"../common/GameResourceManager\";\r\nimport { HeroPositonExcel } from \"../module/hero/execl/HeroPositonExcel\";\r\nimport { Dictionary } from \"../util/Dictionary\";\r\nimport { GlobalDataManager } from \"./GlobalDataManager\";\r\nimport { EthereumConfig } from \"./contract/EthereumConfig\";\r\nimport { EnumeCatagoryChildType } from \"./data/enumData/EnumeCatagoryChildType\";\r\nimport { BaseItem } from \"./data/sheetItem/BaseItem\";\r\nimport { BaseSheetDataModel } from \"./data/sheetItem/BaseSheetDataModel\";\r\nimport { FailureTipItem } from \"./data/sheetItem/failureTip/FailureTipItem\";\r\nimport { GeneralItem } from \"./data/sheetItem/general/GeneralItem\";\r\nimport { ItemSheetDataModel } from \"./data/sheetItem/item/ItemSheetDataModel\";\r\nimport { ItemItem } from \"./data/sheetItem/item/ItemItem\";\r\nimport { MapSheetItem } from \"./data/sheetItem/item/MapSheetItem\";\r\nimport { SheetDictionary } from \"./data/sheetItem/item/SheetDictionary\";\r\nimport { CatagoryChildTypeSheetDataModel } from \"./data/sheetItem/item/catagory/childType/CatagoryChildTypeSheetDataModel\";\r\nimport { ShopItem } from \"./data/sheetItem/shop/ShopItem\";\r\nimport { SceneItem } from \"./data/sheetItem/sound/SceneItem\";\r\nimport { HeadItem } from \"./vo/HeadItem\";\r\nimport { SocialShareItem } from \"./vo/SocialShareItem\";\r\nimport { HeroItem } from \"./data/sheetItem/hero/HeroItem\";\r\nimport { ArenaItem } from \"./data/sheetItem/match/ArenaItem\";\r\nimport { SkillItem } from \"./data/sheetItem/hero/Skilltem\";\r\nimport { BuffItem } from \"./data/sheetItem/hero/BuffItem\";\r\nimport { CountryItem } from \"./vo/CountryItem\";\r\nimport { UnionItem } from \"./data/sheetItem/union/UnionItem\";\r\n\r\n\r\nexport class SheetDataManager {\r\n    private static _instance: SheetDataManager;\r\n    private _modelList: Dictionary;\r\n    public static DataType_Items: string = \"SheetDataManager:items\";\r\n    public static DataType_CatagoryChildType: string = \"SheetDataManager:CatagoryChildType\";\r\n    public static DataType_BeautyPiece: string = \"SheetDataManager:beautypiece\";\r\n    public static DataType_BeautyExp: string = \"SheetDataManager:beautyexp\";\r\n    public static DataType_ClothStyleScore: string = \"SheetDataManager:clothStyleScore\";\r\n    public m_dicParentType: Dictionary;\r\n    public m_dicChildType: Dictionary;\r\n    public m_dicStyle: Dictionary;\r\n    public m_dicTags: Dictionary;\r\n    public m_dicItems: SheetDictionary;\r\n    public m_dicMaps: SheetDictionary;\r\n\r\n\r\n    public m_dicTokenMaps: Dictionary;\r\n    \r\n    public m_dicRule: Dictionary;\r\n    public m_dicWorldMap: Dictionary;\r\n\r\n\r\n    public m_dicShops: Dictionary;\r\n    public m_dicUnions: Dictionary;\r\n    public m_dicHeros: SheetDictionary;\r\n    public m_dicSkills: SheetDictionary;\r\n    public m_dicBuffs: SheetDictionary;\r\n    /** ID  */\r\n    public m_dicArenaDic: Dictionary;\r\n    /**   */\r\n    public m_dicArenaMulDic: Dictionary;\r\n\r\n\r\n    public m_dicWorldMapStar: Dictionary;\r\n    public m_dicDisplay: Dictionary;\r\n    public m_dicGenerate: SheetDictionary;\r\n    public m_dicFailureTip: Dictionary;\r\n    public m_dicMall: Dictionary;\r\n    public m_dicWorldMapShopItem: Dictionary;\r\n    public m_dicWorldMapChildTypeItem: Dictionary;\r\n    public m_dicMainTask: Dictionary;\r\n    \r\n    public m_vipProto: Dictionary;\r\n    public m_dicAchievement: Dictionary;\r\n    public m_mattrDic: Dictionary;\r\n    public m_dicScene: Dictionary;\r\n    public m_dicGuildGeneral: Dictionary;\r\n    public m_dicGuildMainBuild: Dictionary;\r\n    public m_dicGuildOption: Dictionary;\r\n    // public m_dicGuildProof: Dictionary;\r\n    public m_dicGuildLevel: Dictionary;\r\n    public m_dicGuildBuildingMain: Dictionary;\r\n    public m_dicGuildContribution: Dictionary;\r\n\r\n\r\n\r\n\r\n    public m_dicUnionWar: Dictionary;\r\n    public m_dicHeroLv: Dictionary;\r\n    public m_dicHeroAttup: Dictionary;\r\n\r\n    public m_dicDetailrull: Dictionary;\r\n    // public m_dicGuildShop: Dictionary;\r\n    // public m_dicGuildShopInfo: Dictionary;\r\n    public m_dicRecharge: Dictionary;\r\n    public m_dicDailyRecharge: Dictionary;\r\n    public m_dicShopLv: Dictionary;\r\n    public m_dicRoleLv: Dictionary;\r\n    public m_dicGrade: Dictionary;\r\n    public m_dicGallery: Dictionary;\r\n    public m_dicStage: Dictionary;\r\n    public m_dicSkin: Dictionary;\r\n    public m_dicFace_attribute: Dictionary;\r\n    public m_dicUnionApplyDialog: Dictionary;\r\n    public m_dicMail: SheetDictionary;\r\n    public m_dicSocialShare: Dictionary;\r\n\r\n    public m_dicWhiteList: Dictionary;\r\n    private _m_fragrances: any[];\r\n    public m_dicWorkShopUpgrade: Dictionary;\r\n    public m_dicHead: Dictionary;\r\n    public m_dicCountry: Dictionary;\r\n    public m_dicUnionHead: SheetDictionary;\r\n    public m_dicHeroPos:SheetDictionary;\r\n\r\n    public m_dicDChapter:SheetDictionary;\r\n    public m_dicSamllChaper:SheetDictionary;\r\n\r\n\r\n    public m_dicMonster:SheetDictionary;\r\n\r\n    public m_dicVariable:SheetDictionary;\r\n    public m_dicMonsterGrouping:SheetDictionary;\r\n\r\n    public m_dicEquip:SheetDictionary;\r\n\r\n\r\n    \r\n    public m_headDic: Dictionary;\r\n    public get m_fragrances(): any[] {\r\n        if(this._m_fragrances ) {\r\n            return this._m_fragrances\r\n        } \r\n        this._m_fragrances = [];\r\n        for(let item of this.m_dicItems.values) {\r\n            if(item && item.child_type + \"\" == EnumeCatagoryChildType.FRAGRANCE + \"\" ) {\r\n                this._m_fragrances.push(item);\r\n            } \r\n        }\r\n        return this._m_fragrances;\r\n    }\r\n    public set m_fragrances(value: any[]) {\r\n        this._m_fragrances = value;\r\n    }\r\n    public m_dicTimeStageMap: Dictionary;\r\n    public constructor() {\r\n        if(SheetDataManager._instance ) {\r\n            throw new Error(\"SheetDataManager,new.\");\r\n        } \r\n        SheetDataManager._instance = this;\r\n        this._modelList = new Dictionary();\r\n    }\r\n    public static get intance(): SheetDataManager {\r\n        if(SheetDataManager._instance ) {\r\n            return SheetDataManager._instance\r\n        } \r\n        SheetDataManager._instance = new SheetDataManager();\r\n        return SheetDataManager._instance;\r\n    }\r\n\r\n    public resetTokenData():void{\r\n        //\r\n        this.m_dicItems.get(10000).tokenId = EthereumConfig.TOX_ADDRESS;//TOX\r\n        this.m_dicItems.get(10001).tokenId = EthereumConfig.ASSETS_ARCANITE_ADDRESS;//Arcanite\r\n        this.m_dicItems.get(10002).tokenId = EthereumConfig.ASSETS_CRYSTAL_ADDRESS;//Crystal\r\n        this.m_dicItems.get(10003).tokenId = EthereumConfig.ASSETS_MITHRIL_ADDRESS;//Mithril\r\n        this.m_dicItems.get(10004).tokenId = EthereumConfig.ASSETS_REDSTONE_ADDRESS;//Redstone\r\n        this.m_dicItems.get(10005).tokenId = EthereumConfig.ASSETS_TRUEIRON_ADDRESS;//Trueiron\r\n\r\n        //\r\n\r\n        this.m_dicMaps.get(1).tokenId = EthereumConfig.STAKING_ARCANITE_ADDRESS;//Arcanite \r\n        this.m_dicMaps.get(2).tokenId = EthereumConfig.STAKING_CRYSTAL_ADDRESS;//Crystal  \r\n        this.m_dicMaps.get(3).tokenId = EthereumConfig.STAKING_MITHRIL_ADDRESS;//Mithril  \r\n        this.m_dicMaps.get(4).tokenId = EthereumConfig.STAKING_REDSTONE_ADDRESS;//Redstone \r\n        this.m_dicMaps.get(5).tokenId = EthereumConfig.STAKING_TRUEIRON_ADDRESS;//Trueiron \r\n\r\n        this.mapsCallBack();\r\n\r\n    }\r\n    public init(): void {\r\n        let startTime: number = Laya.Browser.now();\r\n        // this.getCatagoryChildTypeModel().parseJson();\r\n        // this.getBeautyPieceModel().parseJson();\r\n        GlobalDataManager.instance.systemOpenModel.parseJson();\r\n        // this.m_dicParentType = this.initConfig(\"catagory_clothtype\", [\"parenttypeID\"], CatagoryClothtypeItem);\r\n        // this.m_dicChildType = this.initConfig(\"catagory_childtype\", [\"childtypeID\"], CatagoryChildtypeItem);\r\n        // this.m_dicStyle = this.initConfig(\"catagory_style\", [\"styleID\"], CatagoryStyleItem);\r\n        // this.m_dicTags = this.initConfig(\"tags\", [\"tagID\"], TagsItem);\r\n        // this.m_dicFace_attribute = this.initConfig(\"face_atrribute\", [\"type\", \"quality\"], FaceAttributeItem);\r\n        // MailStItem\r\n        // this.m_dicMail = this.initConfigObject(\"mailmessage\", MailStItem);\r\n        this.m_dicItems = this.initConfigObject(\"item\", ItemItem);\r\n\r\n\r\n        \r\n        this.m_dicShops = this.initConfig(\"shop\", [\"id\"], ShopItem);\r\n        this.m_dicUnions = this.initConfig(\"union\", [\"id\"], UnionItem);\r\n        this.m_dicHeros = this.initConfigObject(\"hero\", HeroItem);\r\n        this.m_dicSkills = this.initConfigObject(\"skill\", SkillItem);\r\n        this.m_dicBuffs = this.initConfigObject(\"buff\", BuffItem);\r\n        this.m_dicArenaDic = new Dictionary();\r\n        this.m_dicArenaMulDic = this.initConfig(\"arena\", [\"lv\", \"coinType\"], ArenaItem, true, Laya.Handler.create(this, this.onSetArena, null, false));\r\n\r\n\r\n\r\n\r\n\r\n\r\n        this.m_dicMaps = this.initConfigObject(\"map\", MapSheetItem);\r\n        this.mapsCallBack();\r\n        console.log(\"-----------------------sheetdata-time1:\" + (Laya.Browser.now() - startTime));\r\n\r\n        this.m_dicHead = this.initConfig(\"head\", [\"id\"], HeadItem);\r\n        this.m_dicCountry = this.initConfig(\"country\", [\"id\"], CountryItem);\r\n        // this.m_dicUnionHead = this.initConfigObject(\"unionhead\", HeadItem);\r\n        // this.m_dicHeroPos = this.initConfigObject(\"hero_position\", HeroPositonExcel);\r\n\r\n        // this.m_dicDChapter = this.initConfigObject(\"d_chapter\", DChapterExcel);\r\n        // this.m_dicSamllChaper = this.initConfigObject(\"small_chapter\", SmallChapterExcel);\r\n        // this.m_dicDrop = this.initConfigObject(\"drop\", DropExcel);\r\n        // this.m_dicMonster = this.initConfigObject(\"monster_att\", MonsterExcel);\r\n        // this.m_dicVariable = this.initConfigObject(\"variable\", VariableExcel);\r\n\r\n        // this.m_dicMonsterGrouping = this.initConfigObject(\"monster_grouping\", VariableExcel);\r\n        // this.m_dicEquip = this.initConfigObject(\"equip\", EquipExcel);\r\n\r\n\r\n        // if(GameSetting.IsCheckItem ) {\r\n        //     this.initConfig(\"npc_face\", [\"id\"], NpcFaceItem)\r\n        // } \r\n\r\n        // this.m_dicRule = this.initConfig(\"rule\", [\"ID\"], RuleItem);\r\n        // this.m_dicWorldMap = this.initConfig(\"world_map\", [\"levelID\"], WorldMapItem);\r\n\r\n\r\n        // this.m_dicWorldMapStar = this.initConfig(\"world_map_star_reward\", [\"chapter\", \"difficulty\"], WorldMapStarItem);\r\n        // this.m_dicDisplay = this.initConfig(\"display\", [\"id\"], DisplayItem);\r\n        this.m_dicGenerate = this.initConfigObject(\"general\", GeneralItem);\r\n        // this.m_dicFailureTip = this.initConfig(\"failure_tip\", [\"ID\"], FailureTipItem);\r\n        // this.m_dicMall = this.initConfig(\"mall\", [\"store\"], MallItem);\r\n        // this.m_dicWorldMapShopItem = this.initConfig2(\"world_map_shop_item\", \"store\", WorldMapShopItem);\r\n        this.m_dicWorldMapChildTypeItem = new Dictionary();\r\n        // this.m_dicMainTask = this.initConfig(\"quest\", [\"id\"], MainTaskVo);\r\n        // this.m_vipProto = this.initConfig(\"vip_power\", [\"level\"], VipProtoItem);\r\n        // this.m_dicAchievement = this.initConfig(\"achievement\", [\"id\"], AchievementItem);\r\n\r\n\r\n        // this.m_dicWorkShopUpgrade = this.initConfig(\"workshop_upgrade\", [\"level\"], WorkShopUpgradeVo);\r\n        // this.m_dicFacebookShare = this.initConfig(\"fb_share\", [\"id\"], FbShareVo);\r\n        // this.m_dicSocialShare = this.initConfig(\"social_share\", [\"id\"], SocialShareItem);\r\n        // this.m_dicWhiteList = this.initConfig(\"whitelist\", [\"id\"], WhiteListItem);\r\n\r\n        // PhoneModel.instance.preInit();\r\n        // RechargeModel.instance.init();\r\n        // MonthCardModel.instance.init();\r\n        console.log(\"-----------------------sheetdata-time2:\" + (Laya.Browser.now() - startTime));\r\n    }\r\n    private mapsCallBack(): void {\r\n        this.m_dicTokenMaps = new Dictionary();\r\n        for (const item of this.m_dicMaps.values) {\r\n            if(item ) {\r\n                // if(!this.m_dicTokenMaps ) {\r\n                    \r\n                // } \r\n                this.m_dicTokenMaps.set(item.tokenId , item);\r\n            } \r\n        }\r\n        \r\n    }\r\n\r\n    // public getDropByDropGroupId(id){\r\n    //     if(!this.m_dicDropGroup){\r\n    //         this.m_dicDropGroup = new Dictionary();\r\n    //         for (const iterator of this.m_dicDrop.values) {\r\n    //             let excel:DropExcel = iterator as DropExcel;\r\n    //             let ary = this.m_dicDropGroup.get(excel.group_id);\r\n    //             if(!ary || !ary.length){\r\n    //                 ary = [];\r\n    //                 this.m_dicDropGroup.set(excel.group_id,ary)\r\n    //             }\r\n    //             ary.push(excel);\r\n    //         }\r\n    //     }\r\n    //     return this.m_dicDropGroup.get(id);\r\n    // }\r\n\r\n    private onSetArena(arenaItem: ArenaItem): void {\r\n        // console.log(\"onSetArena: arenaItem\");\r\n        this.m_dicArenaDic.set(arenaItem.id, arenaItem);\r\n        // if(item && item.child_type + \"\" == EnumeCatagoryChildType.FRAGRANCE + \"\" ) {\r\n        //     if(!this.m_fragrances ) {\r\n        //         this.m_fragrances = []\r\n        //     } \r\n        //     this.m_fragrances.push(item);\r\n        // } \r\n    }\r\n    public preInit(): void {\r\n        this.m_dicScene = this.initConfig(\"scene\", [\"name\"], SceneItem);\r\n        // this.m_dicDetailrull = this.initConfig(\"detailrull\", [\"id\"], DetailruleItem);\r\n        // this.m_dicSkin = this.initConfig(\"skin\", [\"id\"]);\r\n    }\r\n    public getItemModel(): ItemSheetDataModel {\r\n        return this.getDataModel(SheetDataManager.DataType_Items) as ItemSheetDataModel;\r\n    }\r\n    // public getCatagoryChildTypeModel(): CatagoryChildTypeSheetDataModel {\r\n    //     return this.getDataModel(SheetDataManager.DataType_CatagoryChildType) as CatagoryChildTypeSheetDataModel;\r\n    // }\r\n    // public getBeautyPieceModel(): BeautyPieceSheetDataModel {\r\n    //     return this.getDataModel(SheetDataManager.DataType_BeautyPiece) as BeautyPieceSheetDataModel;\r\n    // }\r\n    // public getBeautyExpModel(): IBeautyExpSheetDataModel {\r\n    //     return this.getDataModel(SheetDataManager.DataType_BeautyExp) as IBeautyExpSheetDataModel;\r\n    // }\r\n    public getGeneralValueById(id: number): any {\r\n        if(this.m_dicGenerate && this.m_dicGenerate.get(id) ) {\r\n            return (this.m_dicGenerate.get(id) as GeneralItem).value\r\n        } \r\n        return 0;\r\n    }\r\n    public getSocialShareValueById(id: number): any {\r\n        if(this.m_dicSocialShare && this.m_dicSocialShare.get(id) ) {\r\n            return (this.m_dicSocialShare.get(id) as SocialShareItem).parameter\r\n        } \r\n        return 0;\r\n    }\r\n    public getDataModel(dataType: string): BaseSheetDataModel {\r\n        if(!this._modelList.get(dataType) ) {\r\n            switch(dataType) {\r\n                case SheetDataManager.DataType_Items:\r\n                {\r\n                    this._modelList.set(dataType, new ItemSheetDataModel())\r\n                }\r\n                break;\r\n                case SheetDataManager.DataType_CatagoryChildType:\r\n                {\r\n                    this._modelList.set(dataType, new CatagoryChildTypeSheetDataModel())\r\n                }\r\n                break;\r\n                // case SheetDataManager.DataType_BeautyPiece:\r\n                // {\r\n                //     this._modelList.set(dataType, new BeautyPieceSheetDataModel())\r\n                // }\r\n                // break;\r\n                // case SheetDataManager.DataType_BeautyExp:\r\n                // {\r\n                //     this._modelList.set(dataType, new BeautyExpSheetDataModel())\r\n                // }\r\n                // break;\r\n            }\r\n        } \r\n        return this._modelList.get(dataType);\r\n    }\r\n    public static getArrFromDictionary(dic: Dictionary, key: string, value: any): any[] {\r\n        let arr: any[] = [];\r\n        for(let i: number = 0; i < dic.values.length; i++) {\r\n            if(dic.values[i][key] + \"\" == value + \"\" ) {\r\n                arr.push(dic.values[i]);\r\n            } \r\n        }\r\n        return arr;\r\n    }\r\n    public getArrFromDicItemByKey(key: string, value: any): any[] {\r\n        let arr: any[] = [];\r\n        for(let i: number = 0; i < this.m_dicItems.values.length; i++) {\r\n            if(this.m_dicItems.values[i][key] + \"\" == value + \"\" ) {\r\n                arr.push(this.m_dicItems.values[i]);\r\n            } \r\n        }\r\n        return arr;\r\n    }\r\n    public initConfigObject(name: string, BaseItemClass: any = null, callBack: Laya.Handler = null): SheetDictionary {\r\n        let url: string = \"config/\" + name + \".json\";\r\n        console.log(\"initConfigObject url: \" + url);\r\n        let data: any = GameResourceManager.instance.getResByURL(url).data;\r\n        let dic: SheetDictionary = new SheetDictionary(data, BaseItemClass);\r\n        return dic;\r\n    }\r\n    public initConfig(name: string, keyArr: any[], BaseItemClass: any = null, clearJson: boolean = false, callBack: Laya.Handler = null): Dictionary {\r\n        let url: string = \"config/\" + name + \".json\";\r\n        console.log(\"initConfig url: \" + url);\r\n        let data: any[] = GameResourceManager.instance.getResByURL(url).data;\r\n        let dic: Dictionary = new Dictionary();\r\n        if(!data ) {\r\n            console.log(\"ERROR : SheetDataManager -->initConfig()\" + \"  url:\" + url);\r\n            return dic;\r\n        } \r\n        let item: BaseItem;\r\n        for(let i: number = 0; i < data.length; i++) {\r\n            let key: string = this.compoundKey(data[i], keyArr);\r\n            if(BaseItemClass ) {\r\n                item = new BaseItemClass();\r\n                if( item.init == null ) {\r\n                    console.log(\"ERROR :BaseItem> SheetDataManager -->initConfig()\" + \"  url:\" + url);\r\n                } \r\n                item.init(data[i]);\r\n                dic.set(key, item);\r\n                if(callBack ) {\r\n                    callBack.runWith(item)\r\n                } \r\n            } else {\r\n                dic.set(key, data[i]);\r\n                if(callBack ) {\r\n                    callBack.runWith(data[i])\r\n                } \r\n            }\r\n        }\r\n        if(clearJson ) {\r\n            let targetURL: string = GameResourceManager.instance.setResURL(url);\r\n            Laya.Loader.clearRes(targetURL);\r\n            \r\n        } \r\n        return dic;\r\n    }\r\n    private compoundKey(itemData: any, keyArr: any[]): string {\r\n        let key: any = \"\";\r\n        let len: number = keyArr.length;\r\n        if(len > 1){\r\n            for(let j: number = 0; j < len; j++) {\r\n                key += itemData[keyArr[j]];\r\n                if(j != len - 1 ) {\r\n                    key += \"_\"\r\n                } \r\n            }\r\n        }else{\r\n            key = itemData[keyArr[0]];\r\n        }\r\n        \r\n        return key;\r\n    }\r\n    private getCompoundKey(valueArr: any[]): string {\r\n        let key: any = \"\";\r\n        let len: number = valueArr.length;\r\n        if(len > 1){\r\n            for(let j: number = 0; j < len; j++) {\r\n                key += valueArr[j];\r\n                if(j != len - 1 ) {\r\n                    key += \"_\"\r\n                } \r\n            }\r\n        }else{\r\n            key = valueArr[0];\r\n        }\r\n        \r\n        return key;\r\n    }\r\n    public initConfig2(name: string, key1: string, BaseItemClass: any, clearJson: boolean = true): Dictionary {\r\n        let url: string = \"config/\" + name + \".json\";\r\n        let data: any[] = GameResourceManager.instance.getResByURL(url).data;\r\n        let dic: Dictionary = new Dictionary();\r\n        if(!data ) {\r\n            console.log(\"ERROR : SheetDataManager -->initConfig2()\" + \"  url:\" + url);\r\n            return dic;\r\n        } \r\n        let item: BaseItem;\r\n        for(let i: number = 0; i < data.length; i++) {\r\n            let key: string = data[i][key1];\r\n            let dataArr: any[];\r\n            if(dic.get(key) == null ) {\r\n                dataArr = [];\r\n                dic.set(key, dataArr);\r\n            } else {\r\n                dataArr = dic.get(key);\r\n            }\r\n            item = new BaseItemClass();\r\n            if( item.init == null ) {\r\n                console.log(\"ERROR :<BaseItem> SheetDataManager -->initConfig2()\" + \"  url:\" + url);\r\n            } \r\n            item.init(data[i]);\r\n            dataArr.push(item);\r\n        }\r\n        if(clearJson && name != \"items\" ) {\r\n            let targetURL: string = GameResourceManager.instance.setResURL(url);\r\n            Laya.Loader.clearRes(targetURL);\r\n        } \r\n        return dic;\r\n    }\r\n    public getItemsBy(itemType: number, childType: number): any[] {\r\n        let petSheets: any[] = this.getArrFromDicItemByKey(\"itm_type\", itemType);\r\n        let result: any[] = [];\r\n        for(let itemS of petSheets) {\r\n            if(itemS.child_type.toString() == childType.toString() ) {\r\n                result.push(itemS);\r\n            } \r\n        }\r\n        return result;\r\n    }\r\n    public getSheetDataByMultiKey(m_dic: Dictionary, multiKeyValue: any[]): any {\r\n        let key: string = this.getCompoundKey(multiKeyValue);\r\n        return m_dic.get(key);\r\n    }\r\n}", "import {ModuleManager} from \"./ModuleManager\";\r\nimport {SceneLoadMgr} from \"./SceneLoadMgr\";\r\nimport {SoundMgr} from \"./SoundMgr\";\r\nimport {LayerManager} from \"./LayerManager\";\r\nimport {BaseScene} from \"./baseScene/BaseScene\";\r\nimport {SceneType} from \"./baseScene/SceneType\";\r\nimport {SheetDataManager} from \"../global/SheetDataManager\";\r\nimport {SceneItem} from \"../global/data/sheetItem/sound/SceneItem\";\r\nimport {GameEvent} from \"../global/event/GameEvent\";\r\nimport {Signal} from \"../global/event/Signal\";\r\nimport {Quick} from \"../global/util/Quick\";\r\n// import {PreLoadScene} from \"../module/login/PreLoadScene\";\r\nimport { ModuleName } from \"../global/ModuleName\";\r\n\r\nexport class SceneManager {\r\n    private static _instance: SceneManager;\r\n    public dragging: boolean;\r\n    public static get intance(): SceneManager {\r\n        if(SceneManager._instance ) {\r\n            return SceneManager._instance\r\n        } \r\n        SceneManager._instance = new SceneManager();\r\n        return SceneManager._instance;\r\n    }\r\n    public static m_arrSceneToDialog: any[] = [];\r\n    // public static m_arrSceneToDialogBG: any[] = [SceneType.M_SCENE_SUIT, SceneType.M_SCENE_BEAUTY_SALON];\r\n    \r\n    public topView:any;//MainTopView;\r\n    public bottomView:any;//MainBottomView;\r\n    public m_sceneCurrent: Laya.Scene;\r\n    public mainSceneX: number = 10086;\r\n    public fromScene: string;\r\n    public m_arrFromScenes: any[];\r\n    public constructor() {\r\n        Signal.intance.on(GameEvent.EVENT_MODULE_ADDED, this, this.onAdded);\r\n    }\r\n    public init(): void {\r\n        \r\n    }\r\n    public setup(): void {\r\n        \r\n    }\r\n    public onAdded(data: any): void {\r\n        // if(data instanceof MainTopView)\r\n\t\t// \t{\r\n\t\t// \t\tthis.topView = data;\r\n\t\t// \t\tthis.topView.visible = this._showTop;\r\n\t\t// \t}else if(data instanceof MainBottomView)\r\n\t\t// \t{\r\n\t\t// \t\tthis.bottomView = data;\r\n\t\t// \t\tthis.bottomView.visible = this._showBottom;\r\n\t\t// \t}\r\n\r\n            \r\n    }\r\n    public isCloseAll: boolean = true;\r\n    public getPreSceneData(): any[] {\r\n        if(this.m_arrFromScenes.length < 1 ) {\r\n            return [SceneType.M_SCENE_MAIN, true, 1, null];\r\n        } else {\r\n            let secenData: any[] = this.m_arrFromScenes.pop();\r\n            console.log(\"pop-----------route\" + this.m_arrFromScenes.join(\" | \"));\r\n            return secenData;\r\n        }\r\n        return [SceneType.M_SCENE_MAIN, true, 1, null];\r\n    }\r\n    public removePreSceneData(): void {\r\n        this.m_arrFromScenes = [];\r\n    }\r\n    public setBackScene(): void {\r\n        let preSceneData: any[] = this.getPreSceneData();\r\n        this.setCurrentScene(preSceneData[0], preSceneData[1], false);\r\n    }\r\n    public setMainScene(type: number = 1, data: any = null): void {\r\n        this.setCurrentScene(SceneType.M_SCENE_MAIN, data);\r\n    }\r\n    private enterMainSceneTimes: number = 0;\r\n    private m_preScene: Laya.Scene;\r\n    public async setCurrentScene(sceneType: string, data: any = null, pushBack: boolean = false, needRemember: boolean = true): Promise<void> {\r\n        \r\n        let isReOpen: boolean = false;\r\n        // if(sceneType == SceneType.M_SCENE_FIND ) {\r\n        //     if(this.currSceneName && this.currSceneName == sceneType ) {\r\n        //         isReOpen = true;\r\n        //         if(this.m_sceneCurrent ) {\r\n        //             this.m_sceneCurrent.source = data;\r\n        //             this.m_sceneCurrent.open();\r\n        //         } \r\n        //         return;\r\n        //     } \r\n        // } else {\r\n            if((this.m_sceneCurrent && this.m_sceneCurrent.name == sceneType)  ) {\r\n                console.log(\"currentScene\" + this.m_sceneCurrent.name + \"  openScene\" + sceneType);\r\n                return;\r\n            } \r\n        // }\r\n\r\n        // this.showTopView(false);\r\n        // this.showBottomView(false);\r\n        // this._showTop = showTop;\r\n        // this._showBottom = showBottom;\r\n        if(this.isCloseAll ) {\r\n            ModuleManager.intance.closeAll();\r\n        } else {\r\n            this.isCloseAll = true;\r\n        }\r\n        // if(GameSetting.usePcUI && SceneManager.m_arrSceneToDialog.indexOf(this.currSceneName) != -1 ) {\r\n            \r\n        // } else {\r\n        //     if(GameSetting.usePcUI && SceneManager.m_arrSceneToDialog.indexOf(sceneType) != -1 ) {\r\n        //         LoadingManager.instance.showLoading(true);\r\n        //     } else {\r\n        //         SceneLoadingManager.instance.showLoading(false);\r\n        //     }\r\n        // }\r\n        if(this.m_sceneCurrent ) {\r\n            if(!this.m_arrFromScenes ) {\r\n                this.m_arrFromScenes = []\r\n            } \r\n            if(pushBack ) {\r\n                let lastNeedRemember: boolean = this.m_sceneCurrent.m_arrOpenSceneData[3];\r\n                if(lastNeedRemember ) {\r\n                    this.m_arrFromScenes.push(this.m_sceneCurrent.m_arrOpenSceneData)\r\n                } \r\n            } \r\n            console.log(\"open-----------scene\" + this.m_arrFromScenes);\r\n            this.fromScene = this.m_sceneCurrent.name;\r\n            console.log(\"fromSceneName: \" + this.fromScene);\r\n            if(SceneManager.m_arrSceneToDialog.indexOf(sceneType) == -1 ) {\r\n            // if(SceneManager.m_arrSceneToDialog.indexOf(sceneType) == -1 || !GameSetting.usePcUI ) {\r\n                if(this.m_sceneCurrent == this.m_preScene ) {\r\n                    this.m_preScene = null\r\n                } \r\n                this.m_sceneCurrent.toScene = sceneType;\r\n                // this.m_sceneCurrent.dispose();\r\n                this.m_sceneCurrent.removeSelf();\r\n                this.m_sceneCurrent = null;\r\n                Laya.loader.clearUnLoaded();\r\n                SceneLoadMgr.instance.dispose();\r\n            } else {\r\n                this.m_preScene = this.m_sceneCurrent;\r\n            }\r\n            if((!pushBack && SceneManager.m_arrSceneToDialog.indexOf(sceneType) == -1) && this.m_preScene ) {\r\n                this.m_sceneCurrent = this.m_preScene;\r\n                this.m_sceneCurrent.toScene = sceneType;\r\n                // this.m_sceneCurrent.dispose();\r\n                this.m_sceneCurrent.removeSelf();\r\n                this.m_sceneCurrent = null;\r\n                Laya.loader.clearUnLoaded();\r\n                SceneLoadMgr.instance.dispose();\r\n            } \r\n        } \r\n        let sceneItem: SceneItem = SheetDataManager.intance.m_dicScene.get(sceneType);\r\n        if(sceneItem && sceneItem.music != null && sceneItem.music != \"0\" && sceneItem.music != \"\") {\r\n            console.log(\"SceneManager.setCurrentScene sceneItem.music: \" + sceneItem.music);\r\n            \r\n                SoundMgr.instance.playMusicByName(sceneItem.music)\r\n            \r\n        } \r\n        switch(sceneType) {\r\n            case SceneType.M_SCENE_MAIN:\r\n            {\r\n                this.m_arrFromScenes = []\r\n                // GameResourceManager.instance.clearCache();\r\n\r\n\r\n    //         // Laya.Scene.open(\"scenes/match/MatchReady.ls\"); //Laya.Scene.open(\"./Scenes/Index.ls\");\r\n    //         // Laya.Scene.open(\"scenes/Game.ls\"); //Laya.Scene.open(\"./Scenes/Index.ls\");\r\n                this.m_sceneCurrent = await Laya.Scene.open(\"scenes/mainView/MainScene.ls\");\r\n\r\n                // this.m_sceneCurrent = new MainScene(\"scene/mainbg.jpg\")\r\n                this.enterMainSceneTimes++\r\n                // if(((AdvertModel.instance.popAdvertState && this.enterMainSceneTimes >= 3) && GuideNetService.instance.isEndGuid) && !Laya.Browser.onPC ) {\r\n                //     Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, [ModuleName.PopAdvert]);\r\n                // } \r\n            }\r\n            break;\r\n            case SceneType.M_SCENE_SHOP:\r\n                {\r\n                    this.m_sceneCurrent = await Laya.Scene.open(\"scenes/shop/ShopScene.ls\", true, data);\r\n                }\r\n                break;\r\n            case SceneType.M_SCENE_HERO:\r\n            {\r\n                this.m_sceneCurrent = await Laya.Scene.open(\"scenes/hero/MyHeroScene.ls\");\r\n                // this.m_sceneCurrent = new HeroScene(\"scene/img_com_bg.png\", true, type, data)\r\n            }\r\n            break;\r\n            // case SceneType.M_SCENE_AFKBATTLE:\r\n            // {\r\n            //     this.m_sceneCurrent = new AFKBattleScene(\"\", true, type, data)\r\n            // }\r\n            // break;\r\n            case SceneType.M_SCENE_KNAPSACK:\r\n            {\r\n                this.m_sceneCurrent = await Laya.Scene.open(\"scenes/item/KnapsackScene.ls\");\r\n            }\r\n            break;\r\n            case SceneType.M_SCENE_UNION:\r\n            {\r\n                this.m_sceneCurrent = await Laya.Scene.open(\"scenes/union/UnionScene.ls\");\r\n            }\r\n            break;\r\n            case SceneType.M_SCENE_MATCH_READY:\r\n            {\r\n                this.m_sceneCurrent = await Laya.Scene.open(\"scenes/match/MatchReady.ls\");\r\n            }\r\n            break;\r\n            case SceneType.M_SCENE_MATCH:\r\n            {\r\n                this.m_sceneCurrent = await Laya.Scene.open(\"scenes/match/Match.ls\");\r\n            }\r\n            break;\r\n            // case SceneType.M_SCENE_DIG:\r\n            //     {\r\n            //         this.m_sceneCurrent = new DigScene(\"\", true, data)\r\n            //     }\r\n            //     break;\r\n            // case SceneType.M_SCENE_ARENA:\r\n            //     {\r\n            //         this.m_sceneCurrent = new ArenaScene(\"\", true, data)\r\n            //     }\r\n            //     break;\r\n            //     case SceneType.M_SCENE_MAIL:\r\n            //         {\r\n            //             this.m_sceneCurrent = new MailScene(\"\", true, data)\r\n            //         }\r\n            //         break;\r\n            // case SceneType.M_SCENE_PRE_LOAD:\r\n            // break;\r\n            // case SceneType.M_SCENE_UNIONWAR:\r\n\t\t\t// \t\tthis.m_sceneCurrent = new UnionWarScene(\"scene/img_com_bg.png\");\t\t\r\n\t\t\t// \t\tbreak;\r\n            // case SceneType.M_SCENE_RANK:\r\n\t\t\t// \t\tthis.m_sceneCurrent = new RankScene(\"scene/img_com_bg.png\");\t\t\r\n\t\t\t// \t\tbreak;\r\n            // case SceneType.M_SCENE_GUILD:\r\n\t\t\t// \t\tthis.m_sceneCurrent = new GuildScene(\"scene/img_com_bg.png\");\r\n\t\t\t// \t\tbreak;\r\n            default:\r\n            break;\r\n        }\r\n        // if(this.m_sceneCurrent && this.m_sceneCurrent.showTopBySelf ) {\r\n        //     this._showTop = this.m_sceneCurrent.showTop\r\n        // } \r\n        // this.showTopView(this._showTop);\r\n\r\n        // if(this.m_sceneCurrent && this.m_sceneCurrent.showBottomBySelf ) {\r\n        //     this._showBottom = this.m_sceneCurrent.showBottom\r\n        // } \r\n        // this.showBottomView(this._showBottom);\r\n        Quick.logs(\"======================  Scene: \" + sceneType + \"  ======================\");\r\n        this.m_sceneCurrent.name = sceneType;\r\n        this.m_sceneCurrent.fromScene = this.fromScene;\r\n        this.m_sceneCurrent.m_arrOpenSceneData = [sceneType, data, pushBack, needRemember];\r\n        let layerType: number = LayerManager.M_SCENE;\r\n        // if(SceneManager.m_arrSceneToDialog.indexOf(sceneType) != -1 && GameSetting.usePcUI ) {\r\n        //     layerType = LayerManager.M_PANEL;\r\n        // } \r\n        // LayerManager.instence.setPosition(this.m_sceneCurrent, this.m_sceneCurrent.m_iPositionType);\r\n        // LayerManager.instence.addToLayerAndSet(this.m_sceneCurrent, layerType, LayerManager.LEFTUP);\r\n\r\n        // if ( this.topView && this.topView.topView){\r\n        //     // if(this.m_sceneCurrent.name == SceneType.M_SCENE_MAIN || this.m_sceneCurrent.name == SceneType.M_SCENE_UNIONWAR){\r\n        //     if(this.m_sceneCurrent.name == SceneType.M_SCENE_MAIN){\r\n        //         this.topView.topView.mcBtnBox.visible = true;\r\n        //     }else{\r\n        //         this.topView.topView.mcBtnBox.visible = false;\r\n        //     }\r\n        // }\r\n    }\r\n    public _showTop: boolean;\r\n    \r\n    private isTopOpening: boolean = false;\r\n    \r\n//     public showTopView(showTop: boolean): void {\r\n//         //\t\t\tvar mainTopView:MainTopView = Module.GetView( ModuleName.MainTopView ) as MainTopView;\r\n// \t\t\tif(showTop){\r\n// \t\t\t\tif ( this.topView ){\r\n// \t\t\t\t\tif(this.topView.visible == false)\r\n// \t\t\t\t\t\tthis.topView.visible = true;\r\n// \t\t\t\t\tthis.isTopOpening = false;\r\n// \t\t\t\t\tthis.topView.topView.headBox.visible = true;\r\n// \t\t\t\t}else{\r\n// //\t\t\t\t\tQuick.logs(\"MainTopView \");\r\n// \t\t\t\t\tif(this.isTopOpening == false){\r\n// \t\t\t\t\t\tSignal.intance.event(GameEvent.EVENT_OPEN_MODULE, ModuleName.MainTopView );//\r\n// \t\t\t\t\t\tthis.isTopOpening = true;\r\n// \t\t\t\t\t}\r\n// \t\t\t\t\tLaya.timer.frameOnce(5, this, this.showTopView, [showTop]);\r\n// \t\t\t\t}\r\n// \t\t\t}else{\r\n// \t\t\t\tLaya.timer.clear(this, this.showTopView);\r\n// \t\t\t\tif(this.topView && this.topView.visible)\r\n// \t\t\t\t\tthis.topView.visible = false;\r\n// \t\t\t}\r\n//     }\r\n\r\n    public _showBottom: boolean;    \r\n    private isBottomOpening: boolean = false;\r\n//     public showBottomView(showBottom: boolean): void {\r\n//         //\t\t\tvar mainBottomView:MainBottomView = Module.GetView( ModuleName.MainBottomView ) as MainBottomView;\r\n// \t\t\tif(showBottom){\r\n// \t\t\t\tif ( this.bottomView ){\r\n// \t\t\t\t\tif(this.bottomView.visible == false)\r\n// \t\t\t\t\t\tthis.bottomView.visible = true;\r\n// \t\t\t\t\tthis.isBottomOpening = false;\r\n// \t\t\t\t\t// this.bottomView.bottomView.headBox.visible = true;\r\n// \t\t\t\t}else{\r\n// //\t\t\t\t\tQuick.logs(\"MainBottomView \");\r\n// \t\t\t\t\tif(this.isBottomOpening == false){\r\n// \t\t\t\t\t\tSignal.intance.event(GameEvent.EVENT_OPEN_MODULE, ModuleName.MainBottomView );//\r\n// \t\t\t\t\t\tthis.isBottomOpening = true;\r\n// \t\t\t\t\t}\r\n// \t\t\t\t\tLaya.timer.frameOnce(5, this, this.showBottomView, [showBottom]);\r\n// \t\t\t\t}\r\n// \t\t\t}else{\r\n// \t\t\t\tLaya.timer.clear(this, this.showBottomView);\r\n// \t\t\t\tif(this.bottomView && this.bottomView.visible)\r\n// \t\t\t\t\tthis.bottomView.visible = false;\r\n// \t\t\t}\r\n//     }\r\n    \r\n    public initPreload(): void {\r\n        // if(!GameSetting.m_bInstantGame ) {\r\n            let sceneItem: SceneItem = SheetDataManager.intance.m_dicScene.get(SceneType.M_SCENE_PRE_LOAD);\r\n            if(sceneItem && sceneItem.music != null && sceneItem.music != \"0\" && sceneItem.music != \"\") {\r\n                console.log(\"SceneManager.initPreload sceneItem.music: \" + sceneItem.music);\r\n                SoundMgr.instance.playMusicByName(sceneItem.music);\r\n\r\n            } \r\n        // } \r\n        // this.m_sceneCurrent = new PreLoadScene(null);\r\n        // LayerManager.instence.addToLayerAndSet(this.m_sceneCurrent, LayerManager.M_SCENE, LayerManager.LEFTUP);\r\n    }\r\n    public get currSceneName(): string {\r\n        if(this.m_sceneCurrent ) {\r\n            return this.m_sceneCurrent.name\r\n        } \r\n        return \"\";\r\n    }\r\n}", "import {GameLanguageMgr} from \"./GameLanguageMgr\";\r\nimport {PlatFormManager} from \"./PlatFormManager\";\r\nimport {SceneManager} from \"./SceneManager\";\r\nimport {ErrorPopManager} from \"./ErrorPopManager\";\r\nimport {GameSetting} from \"../global/GameSetting\";\r\nimport {GlobalDataManager} from \"../global/GlobalDataManager\";\r\nimport {SheetDataManager} from \"../global/SheetDataManager\";\r\nimport {SpotSheetDataManager} from \"../global/data/sheetItem/spot/SpotSheetDataManager\";\r\nimport {Dictionary} from \"../util/Dictionary\";\r\nimport { ItemItem } from \"../global/data/sheetItem/item/ItemItem\";\r\nimport { SpotInfo } from \"../global/data/sheetItem/spot/SpotInfo\";\r\nimport { HeadItem } from \"../global/vo/HeadItem\";\r\nimport { Signal } from \"../global/event/Signal\";\r\nimport { GameEvent } from \"../global/event/GameEvent\";\r\nimport GameManager from \"../../script/logic/GameManager\";\r\nexport class GameResourceManager {\r\n\r\n    private resArr: Array<any> = [\r\n        // \"gameIcon/map/images/img_1001_01.jpg\",\r\n        // \"gameIcon/map/images/img_1001_02.jpg\",\r\n        // \"gameIcon/map/images/img_1001_03.jpg\",\r\n        // \"gameIcon/map/images/img_1001_04.jpg\",\r\n        \"gameIcon/map/img_1001.jpg\",\r\n        \"res/common/comm_bg/img_com_bg.jpg\",\r\n        \"res/common/comm/img_bg_large.png\",\r\n        \"res/common/comm/img_bg_medium.png\",\r\n        \"res/common/comm/img_bg_small.png\",\r\n\r\n        { url: \"res/common.atlas\", type: Laya.Loader.ATLAS },\r\n        // { url: \"resources/UI/images/bg.atlas\", type: Laya.Loader.ATLAS },\r\n        // { url: \"resources/UI/images/cd.atlas\", type: Laya.Loader.ATLAS },\r\n        // { url: \"resources/UI/images/comp.atlas\", type: Laya.Loader.ATLAS },\r\n        // { url: \"resources/UI/images/test.atlas\", type: Laya.Loader.ATLAS },\r\n\r\n\r\n        // { url: \"resources/UI/role/atlasAni/139x.atlas\", type: Laya.Loader.ATLAS },\r\n        // { url: \"resources/UI/role/frameAni/role.atlas\", type: Laya.Loader.ATLAS },\r\n\r\n        // { url: \"resources/UI/role/spineAni/dragon.sk\", type: Laya.Loader.BUFFER },\r\n        // { url: \"resources/UI/role/spineAni/goblins.sk\", type: Laya.Loader.BUFFER },\r\n\r\n        { url: \"gameIcon/effect/match/beiji/spine.sk\" },\r\n        { url: \"gameIcon/effect/match/dunpai/spine.sk\" },\r\n\r\n        { url: \"gameIcon/effect/ruchang/effect1.skel\", type: Laya.Loader.SPINE },\r\n        { url: \"gameIcon/effect/ruchang/effect2.skel\", type: Laya.Loader.SPINE },\r\n        { url: \"gameIcon/effect/ruchang/effect3.skel\", type: Laya.Loader.SPINE },\r\n        { url: \"gameIcon/effect/hua/effect.skel\", type: Laya.Loader.SPINE },\r\n\r\n        { url: \"scenes/mainView/MainScene.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"scenes/shop/ShopScene.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"scenes/hero/MyHeroScene.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"scenes/match/Match.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"scenes/match/MatchHeroSpr.lh\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"scenes/match/DamageNumber.lh\", type: Laya.Loader.HIERARCHY },\r\n\r\n        // { url: \"scenes/uiDemo/Msg.ls\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"scenes/uiDemo/page/OpenMainScene.ls\", type: Laya.Loader.HIERARCHY },\r\n\r\n        // { url: \"prefab/uiDemo/useUI/ChangeTexture.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/useUI/MouseThrough.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/useUI/PhysicalCollision.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/useUI/Progress.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/useUI/TextShow.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/page/Dialog.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/page/Win.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/page/IframeElement.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/page/UsePanel.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/list/BagList.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/list/ComboBox.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/list/LoopList.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/list/MailList.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/list/Refresh.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/list/TreeBox.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/list/TreeList.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/animation/AtlasAni.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/animation/FrameAni.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/animation/SkeletonAni.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/animation/TimelineAni.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/animation/TweenAni.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/interactive/Astar.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/interactive/Joystick.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/interactive/ShapeDetection.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/uiDemo/interactive/tiledMap.lh\", type: Laya.Loader.HIERARCHY },\r\n\r\n        // { url: \"prefab/Bullet.lh\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"prefab/closeBtn.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/ComboList.lh\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"prefab/defaultButton.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/defaultLabel.lh\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"prefab/DropBox.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/LoopImg.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/role.lh\", type: Laya.Loader.HIERARCHY },\r\n\r\n        // { url: \"prefab/ani/cd.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/ani/refresh.lh\", type: Laya.Loader.HIERARCHY },\r\n\r\n        // { url: \"resources/3d/girl/girl.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"resources/3d/LayaMonkey/LayaMonkey.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"resources/3d/trail/Cube.lh\", type: Laya.Loader.HIERARCHY },\r\n\r\n        // { url: \"prefab/ani/refresh.lh\", type: Laya.Loader.HIERARCHY },\r\n        // { url: \"prefab/ani/cd.lh\", type: Laya.Loader.HIERARCHY },\r\n\r\n        { url: \"resources/sound/destroy.wav\", type: Laya.Loader.BUFFER },\r\n        { url: \"resources/sound/hit.wav\", type: Laya.Loader.BUFFER },\r\n        // { url: \"resources/files/layaAir.mp4\", type: Laya.Loader.BUFFER }\r\n\r\n    ];\r\n\r\n\r\n    \r\n\r\n    public m_arrPreResource: any[] = [\r\n        \"config/spot.json\",\r\n        \r\n        \"config/scene.json\"\r\n   ];\r\n    public m_arrInitResource: any[] = [\r\n        // \"res/atlas/common/common_bg2.atlas\",\r\n        // \"res/atlas/common/common_bg3.atlas\",\r\n        // \"res/atlas/common/common_icon.atlas\",\r\n        // \"res/atlas/common/common_btn.atlas\",\r\n        // \"res/atlas/common.atlas\",\r\n        // \"res/atlas/signin.atlas\",\r\n        // \"res/atlas/main.atlas\",\r\n        // \"res/atlas/mainUI1.atlas\",\r\n        \"config/general.json\",                              \r\n        \"config/head.json\",                  \r\n        \"config/country.json\",                  \r\n        // \"config/unionhead.json\",                  \r\n        // \"config/hero_position.json\",                  \r\n        // \"config/d_chapter.json\",                  \r\n        // \"config/small_chapter.json\",                  \r\n        \"config/variable.json\",                  \r\n        \"config/equip.json\",     \r\n\r\n        \"config/shop.json\",                  \r\n        \"config/union.json\",                  \r\n        \"config/hero.json\",                  \r\n        \"config/skill.json\",                  \r\n        \"config/buff.json\",                  \r\n        \"config/item.json\",    \r\n        \"config/arena.json\",    \r\n\r\n        \"config/map.json\",\r\n        \"config/level.json\",\r\n        // \"config/monster_grouping.json\",\r\n        \"config/mailmessage.json\",\r\n        // \"config/monster_att.json\",\r\n        // \"res/atlas/createrole/createLogin.atlas\"\r\n         \r\n    ];\r\n\r\n    public m_objModuleReource: any = {\r\n        \"FindScene\":[\"res/atlas/find.atlas\"],\r\n        \"MainScene\":[],\r\n        \"ShopScene\":[],\r\n        \"CommentDialog\":[\"res/atlas/comment.atlas\"],\r\n        \"GuideView\":[\"res/atlas/guide.atlas\",\"res/atlas/ShopView.atlas\",\"config/newplayer.json\"],\r\n        \"ShareView\":[\"res/atlas/share.atlas\"],\t\r\n        // \"TVStartView\":[\"res/atlas/tvStart.atlas\"],\r\n        // \"MainTopView\": [],\r\n        // \"MainBottomView\":[],\r\n        \"SelectHeadDialog\":[],\r\n        \"UnionApplyDialog\":[\"config/alliance_constant.json\",\"config/guild_building_main.json\",\"config/alliance_pos.json\",\"config/guild_level.json\"],\r\n        \"GuildScene\":[\"res/atlas/union.atlas\",\"config/alliance_constant.json\",\"config/guild_building_main.json\",\"config/alliance_pos.json\",\"config/guild_level.json\",\"config/guild_apply.json\",\"config/guild_contrubute.json\"],\r\n        \"UnionWarScene\":[\"res/atlas/unionWar.atlas\",\"config/resource_node.json\"],\r\n         \r\n        \"HeroScene\":[\"res/atlas/hero.atlas\",\"config/hero_lv.json\",\"config/hero_attup.json\",\"res/atlas/equip.atlas\"],\r\n        \"AFKBattleScene\":[\"res/atlas/battle.atlas\"],\r\n        \"ArenaScene\":[\"res/atlas/Arena.atlas\"],\r\n        \"KnapsackScene\":[\"res/atlas/mainUI1.atlas\"],\r\n        \"UnionScene\":[\"res/union1.atlas\"]\r\n\r\n    };\r\n\r\n    \r\n    public m_objModuleViews: any = {\r\n        \"NoServerView\":\"scenes/createRole/NoServer.lh\",\r\n        \"CreateLoginView\":\"scenes/createRole/CreateLoginView.lh\",\r\n        \"ChangeHeadDialog\":\"scenes/createRole/ChangeHeadDialog.lh\",\r\n        \"HeroGetDialog\":\"scenes/shop/HeroGetDialog.lh\",\r\n        \"ItemGetDialog\":\"scenes/item/ItemGetDialog.lh\",\r\n        \"KnapsackTipDialog\":\"scenes/item/KnapsackTipDialog.lh\",\r\n        \"SelectHeadDialog\":\"scenes/createRole/SelectHeadDialog.lh\",\r\n        \"TxtNoticeView\":\"scenes/notice/TxtNoticeView.lh\",\r\n        \"RoleInfoDialog\":\"scenes/createRole/RoleInfoDialog.lh\",\r\n        \"CreateRoomDialog\":\"scenes/mainView/CreateRoomDialog.lh\",\r\n        \"EnterRoomView\":\"scenes/mainView/EnterRoomView.lh\",\r\n        \"InputPwdDialog\":\"scenes/mainView/InputPwdDialog.lh\",\r\n        \"HeroDetailDialog\":\"scenes/hero/HeroDetailDialog.lh\",\r\n        \"MatchEndRankView\":\"scenes/match/MatchEndRankView.lh\",\r\n        \"MatchReadyView\":\"scenes/match/MatchReadyView.lh\",\r\n        \"MatchEndView\":\"scenes/match/MatchEndView.lh\",\r\n        \"GameSettingLanguageDialog\":\"scenes/gameSetting/GameSettingLanguageDialog.lh\",\r\n        \"SkillTipDialog\":\"scenes/hero/SkillTipDialog.lh\",\r\n        \"BaseAlertDialog\":\"scenes/baseAlert/BaseAlertDialog.lh\",\r\n\r\n\r\n        \r\n\r\n    };\r\n\r\n\r\n    public m_objConfigReource: any = {};\r\n    public static GameLanguage_URL: string;\r\n    private m_commonResource: Dictionary = new Dictionary();\r\n    private m_UILang: string;\r\n    private m_NomalLang: string;\r\n    private m_ErrorLang: string;\r\n\r\n    private static _instance: GameResourceManager;\r\n    public constructor() {\r\n        if(GameResourceManager._instance ) {\r\n            throw new Error(\"LayerManager,new.\");\r\n        } \r\n        GameResourceManager._instance = this;\r\n    }\r\n    public static get instance(): GameResourceManager {\r\n        if(GameResourceManager._instance == null) {\r\n           GameResourceManager._instance = new GameResourceManager(); \r\n        }\r\n        return GameResourceManager._instance;\r\n    }\r\n    public init(): void {\r\n        Laya.loader.on(Laya.Event.ERROR, this, this.onError);\r\n        this.initGameLanguage();\r\n    }\r\n    private initGameLanguage(): void {\r\n        GameResourceManager.GameLanguage_URL = \"config/language.json\";\r\n        Laya.loader.load(GameResourceManager.GameLanguage_URL, Laya.Handler.create(this, this.initGameResource));\r\n    }\r\n    private initGameResource(data: any): void {\r\n        if(data == null ) {\r\n            return\r\n        } \r\n        let obj: Laya.TextResource = GameResourceManager.instance.getResBySetURL(GameResourceManager.GameLanguage_URL);\r\n        GameLanguageMgr.instance.initLanTypes(obj.data);\r\n        Laya.loader.clearRes(GameResourceManager.GameLanguage_URL);\r\n        this.onConfigLoaded();\r\n    }\r\n    private onError(err: string): void {\r\n        \r\n    }\r\n    private onConfigLoaded(): void {\r\n        \r\n        //  TODO::4\r\n        let spotInfo: SpotInfo = new SpotInfo();\r\n        spotInfo.ID = 4;\r\n        spotInfo.Event = \"\";\r\n        PlatFormManager.instance.sendCustumEvent(4, null, spotInfo);\r\n        \r\n        if(!GameSetting.ignoreLang ) {\r\n            GlobalDataManager.instance.m_strLanguage = GameLanguageMgr.instance.getLanIdByType(GameSetting.User_Lan)\r\n        } \r\n        this.m_UILang = \"config/lang_english\" + GlobalDataManager.instance.m_strLanguage + \".json\";\r\n        this.m_NomalLang = \"config/english\" + GlobalDataManager.instance.m_strLanguage + \".json\";\r\n        this.m_ErrorLang = \"config/error\" + GlobalDataManager.instance.m_strLanguage + \".json\";\r\n        this.m_arrPreResource.push(this.m_UILang);\r\n        this.m_arrPreResource.push(this.m_NomalLang);\r\n        this.m_arrPreResource.push(this.m_ErrorLang);\r\n        this.initResourceURL(this.m_arrPreResource, true);\r\n\r\n        this.initResourceURL(this.m_arrInitResource, true);\r\n        this.addFont1();\r\n    }\r\n    private addFont1(): void {\r\n        // this.onLoadThreeDimen();\r\n        // return;\r\n        //\r\n        Laya.loader.load(\"res/font/CookieRun Regular.otf\", Laya.Loader.TTF).then(() => {\r\n            // var label: Label = new Label();\r\n            // label.font = \"maobi\";\r\n            // label.text = \"\";\r\n            // label.fontSize = 30;\r\n            // label.color = '#FFFFFF';\r\n        \r\n            // this.Main.box2D.addChild(label);\r\n            // label.pos(30, 50)\r\n            this.loadDemoResource();\r\n        });\r\n\r\n        // let bitmapFont: Laya.BitmapFont = new Laya.BitmapFont();\r\n        // let url: string = this.setResURLByRoot(\"bitmapFont/gothic.fnt\");\r\n        // bitmapFont.loadFont(url, new Laya.Handler(this, this.onFontLoaded1, [bitmapFont]));\r\n    }\r\n    // private onFontLoaded1(bitmapFont: Laya.BitmapFont): void {\r\n    //     bitmapFont.setSpaceWidth(10);\r\n    //     Laya.Text.registerBitmapFont(\"gothic\", bitmapFont);\r\n    //     this.addFont2();\r\n    // }\r\n    // private addFont2(): void {\r\n    //     let bitmapFont: Laya.BitmapFont = new Laya.BitmapFont();\r\n    //     let url: string = this.setResURLByRoot(\"bitmapFont/ebrima.fnt\");\r\n    //     bitmapFont.loadFont(url, new Laya.Handler(this, this.onFontLoaded2, [bitmapFont]));\r\n    // }\r\n    // private onFontLoaded2(bitmapFont: Laya.BitmapFont): void {\r\n    //     bitmapFont.setSpaceWidth(10);\r\n    //     Laya.Text.registerBitmapFont(\"ebrima\", bitmapFont);\r\n    //     this.onLoadThreeDimen();\r\n    // }\r\n\r\n    private loadDemoResource():void{\r\n        //3.0load2D,3D\r\n        Laya.loader.load(this.resArr, null, Laya.Handler.create(this, this.onPreAssetPress1, null, false)).then(() => {\r\n        //     // \r\n        //     this.init();\r\n        //     this.loadingProcess = 0.98;\r\n        //     console.log(\"\", this.loadingProcess);\r\n        //     //\r\n        //     Laya.timer.once(1000, this, () => {\r\n        //         //\r\n        //         // Laya.Scene.open(\"scenes/match/MatchReady.ls\"); //Laya.Scene.open(\"./Scenes/Index.ls\");\r\n        //         // Laya.Scene.open(\"scenes/Game.ls\"); //Laya.Scene.open(\"./Scenes/Index.ls\");\r\n        //         // Laya.Scene.open(\"scenes/Index.ls\"); //Laya.Scene.open(\"./Scenes/Index.ls\");\r\n        //     });\r\n        GameManager.instance.damageNumPrefab = Laya.loader.getRes(\"scenes/match/DamageNumber.lh\");\r\n        GameManager.instance.roleAniPrefab = Laya.loader.getRes(\"scenes/match/MatchHeroSpr.lh\");\r\n\r\n\r\n        GameManager.instance.ruchangEffects = [Laya.loader.getRes(\"gameIcon/effect/ruchang/effect1.skel\"), Laya.loader.getRes(\"gameIcon/effect/ruchang/effect2.skel\"), Laya.loader.getRes(\"gameIcon/effect/ruchang/effect3.skel\")];\r\n        GameManager.instance.huaEffect = Laya.loader.getRes(\"gameIcon/effect/hua/effect.skel\");\r\n        GameManager.instance.beijiTemplet = Laya.loader.getRes(\"gameIcon/effect/match/beiji/spine.sk\");\r\n        GameManager.instance.dunpaiTemplet = Laya.loader.getRes(\"gameIcon/effect/match/dunpai/spine.sk\");\r\n\r\n\r\n        \r\n        var roleAniPrefab = GameManager.instance.roleAniPrefab.create();\r\n        console.log(\" ================ roleAniPrefab: \" + roleAniPrefab);\r\n        this.onLoadThreeDimen();\r\n\r\n        });\r\n    }\r\n    private onLoadThreeDimen(): void {\r\n        Laya.loader.load(this.m_arrPreResource, Laya.Handler.create(this, this.onPreAssetLoaded), Laya.Handler.create(this, this.onPreAssetPress2, null, false));\r\n    }\r\n    private m_iPrecess: number;\r\n    private va: any;\r\n    private loadingView: any = Laya.Browser.window.loadingView;\r\n    private onPreAssetPress1(value: number): void {\r\n        this.va = (value * 100 * .5).toFixed(0);\r\n        if(this.loadingView && this.va < 100 ) {\r\n            if(this.va > this.m_iPrecess ) {\r\n                this.loadingView.loading(this.va);\r\n            } \r\n        } \r\n    }\r\n    private onPreAssetPress2(value: number): void {\r\n        this.va = (value * 100 *.5+.5).toFixed(0);\r\n        if(this.loadingView && this.va < 100 ) {\r\n            if(this.va > this.m_iPrecess ) {\r\n                this.loadingView.loading(this.va);\r\n            } \r\n        } \r\n    }\r\n    // public startLoopPress(): void {\r\n    //     Laya.timer.frameLoop(2, this, this.setPrePress);\r\n    // }\r\n    // private setPrePress(): void {\r\n    //     if(this.loadingView && this.va < 95 ) {\r\n    //         if(this.va > this.m_iPrecess || this.m_iPrecess > 90 ) {\r\n    //             Laya.timer.clear(this, this.setPrePress);\r\n    //         } \r\n    //         this.m_iPrecess += 1;\r\n    //         this.loadingView.loading(this.m_iPrecess);\r\n    //     } else {\r\n    //         Laya.timer.clear(this, this.setPrePress);\r\n    //     }\r\n    // }\r\n    private onPreAssetLoaded(loaded: boolean): void {\r\n        if(!loaded ) {\r\n            return\r\n        } \r\n        // Laya.Scene.setUIMap(\"ui.json\");\r\n        let startTime: number = Laya.Browser.now();\r\n        SpotSheetDataManager.instance.initSpotCfgData();\r\n        // PlatFormManager.instance.sendCustumEvent(73);\r\n        // let obj: any = GameResourceManager.instance.getResByURL(\"ui.json\");\r\n        // Laya.View.uiMap = obj;\r\n        // obj = GameResourceManager.instance.getResByURL(\"unpack.json\");\r\n        // UnpackMgr.instance.initUnpackRes(obj);\r\n        this.initResourceURL(this.m_objModuleReource);\r\n        this.initResourceURL(this.m_objConfigReource);\r\n        //  TODO::5\r\n        PlatFormManager.instance.sendCustumEvent(5);\r\n        SheetDataManager.intance.preInit();\r\n        \r\n        this.setGlobalLanguage();\r\n        // this.clearResUrlByRoot(\"ui.json\", true);\r\n        // this.clearResUrlByRoot(\"unpack.json\", true);\r\n        //  TODO::6\r\n        PlatFormManager.instance.sendCustumEvent(6);\r\n        Signal.intance.event(GameEvent.EVENT_BACK_TO_LOGIN);\r\n        SceneManager.intance.initPreload();\r\n        if(this.loadingView ) {\r\n            this.loadingView.loading(100);\r\n        } \r\n        console.log(\"-----------------------preload-time:\" + (Laya.Browser.now() - startTime));\r\n    }\r\n    private setGlobalLanguage(): void {\r\n        \r\n        let obj: any = GameResourceManager.instance.getResByURL(this.m_NomalLang);\r\n        GameLanguageMgr.instance.initConfigLan(obj.data);\r\n        let uiArr: any = GameResourceManager.instance.getResByURL(this.m_UILang);\r\n        GameLanguageMgr.instance.initUILan(uiArr.data);\r\n        let _data: any = GameResourceManager.instance.getResByURL(this.m_ErrorLang);\r\n        ErrorPopManager.instance.initErrData(_data.data);\r\n        this.clearResUrlByRoot(this.m_UILang, true);\r\n        this.clearResUrlByRoot(this.m_NomalLang, true);\r\n        this.clearResUrlByRoot(this.m_ErrorLang, true);\r\n    }\r\n    // public loadLanguage(completeHandler: Laya.Handler, progress: Laya.Handler): void {\r\n    //     let m_arrLanguage: any[] = [];\r\n    //     this.m_UILang = \"config/lang_english\" + GlobalDataManager.instance.m_strLanguage + \".json\";\r\n    //     this.m_NomalLang = \"config/english\" + GlobalDataManager.instance.m_strLanguage + \".json\";\r\n    //     this.m_ErrorLang = \"config/error\" + GlobalDataManager.instance.m_strLanguage + \".json\";\r\n    //     m_arrLanguage.push({url: this.setResURL(this.m_UILang), type: Laya.Loader.JSON});\r\n    //     m_arrLanguage.push({url: this.setResURL(this.m_NomalLang), type: Laya.Loader.JSON});\r\n    //     m_arrLanguage.push({url: this.setResURL(this.m_ErrorLang), type: Laya.Loader.JSON});\r\n    //     Laya.loader.load(m_arrLanguage, completeHandler, progress);\r\n    // }\r\n\r\n\r\n    private initResourceURL(data: any, isCommon: boolean = false): void {\r\n        if(data instanceof Array ) {\r\n            this.setResURLArr(data, isCommon);\r\n        } else if(data instanceof Object ) {\r\n            for(let key in data) {\r\n                this.setResURLArr(data[key], isCommon);\r\n            }\r\n        } \r\n    }\r\n    private setResURLArr(data: any[], isCommon: boolean): void {\r\n        let defaultType: string;\r\n        let url: string;\r\n        for(let i: number = 0; i < data.length; i++) {\r\n            if(isCommon ) {\r\n                this.m_commonResource.set(data[i], true);\r\n                url = this.setResURL(data[i]);\r\n                defaultType = this.getTypeFromUrl(url);\r\n                data[i] = {url: url, type: defaultType, size: 1, priority: 1};\r\n            } else if(this.m_commonResource.get(data[i]) ) {\r\n                data.splice(i, 1);\r\n                i--;\r\n            } else {\r\n                url = this.setResURL(data[i]);\r\n                defaultType = this.getTypeFromUrl(url);\r\n                data[i] = {url: url, type: defaultType, size: 1, priority: 1};\r\n            }\r\n        }\r\n    }\r\n    private static _extReg: RegExp = /\\.(\\w+)\\??/g;\r\n    public getTypeFromUrl(url: string): string {\r\n        let { ext, typeId, main, loaderType } = Laya.Loader.getURLInfo(url);\r\n        GameResourceManager._extReg.lastIndex = url.lastIndexOf(\".\");\r\n        let result: any[] = GameResourceManager._extReg.exec(url);\r\n        if(result && result.length > 1 ) {\r\n            return result[1].toLowerCase();\r\n            // let type:string = Laya.Loader.typeMap[result[1].toLowerCase()];\r\n            // if(url.indexOf(\"/atlas/\") > -1 && type == Laya.Loader.JSON ) {\r\n            //     type = Laya.Loader.ATLAS;\r\n            // } else if(url.indexOf(\"/effect/\") > -1 && type == Laya.Loader.JSON ) {\r\n            //     type = Laya.Loader.ATLAS;\r\n            // } \r\n            // return type;\r\n        } \r\n        return \"text\";\r\n    }\r\n    public setResURL(url: string): string {\r\n\r\n        return url;\r\n    }\r\n    public clearResUrlByRoot(url: string, forceDispose: boolean = false): void {\r\n        let formatUrl: string = url;// this.resRoot(url);\r\n\r\n        Laya.loader.clearRes(formatUrl);\r\n    }\r\n    public hasFormatEffectUrl(url: string): boolean {\r\n        if(url.indexOf(\"effect/\") >= 0 ) {\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n    public setItemResURL(value: any): string {\r\n        if(value && value.hasOwnProperty(\"item_img\") ) {\r\n            return this.setResURL(\"icon/\" + value[\"item_img\"] + \".png\")\r\n        } else {\r\n            return \"\"\r\n        }\r\n    }\r\n\r\n\r\n    public setThreeDimenUrl(str: string): string {\r\n        if(str ) {\r\n            return this.setResURL(\"threeDimen/\" + str)\r\n        } else {\r\n            return \"\"\r\n        }\r\n    }\r\n    public getThreeDimenUrl(str: string): any {\r\n        let targetURL: string = this.setResURL(\"threeDimen/\" + str);\r\n        let data: any = Laya.Loader.getRes(targetURL);\r\n        return data;\r\n    }\r\n    public getResByURL(url: string): any {\r\n        let targetURL: string = GameResourceManager.instance.setResURL(url);\r\n        let data: any = Laya.Loader.getRes(targetURL);\r\n        return data;\r\n    }\r\n    public getResBySetURL(url: string): any {\r\n        let data: any = Laya.Loader.getRes(url);\r\n        return data;\r\n    }\r\n    private ii: number = 100;\r\n    public loadModuleUrl(name: any, complete: Laya.Handler = null, type: string = null, priority: number = 1, cache: boolean = true): void {\r\n        console.log(\"loadModuleUrl m_strName: \" + name);\r\n        this.ii++;\r\n        let urlArr: any[] = GameResourceManager.instance.m_objModuleReource[name];\r\n        if(urlArr == null || urlArr.length < 1 ) {\r\n            complete.run();\r\n            return;\r\n        } \r\n        Laya.loader.load(urlArr, Laya.Handler.create(this, this.loadItemComplete, [complete, urlArr]), Laya.Handler.create(this, this.onLoadProgress, [name], false), type, priority, cache, this.ii.toString());\r\n    }\r\n    private loadItemComplete(value: Laya.Handler, urlArr: any[]): void {\r\n        \r\n        if(!this.usedUrlDic ) {\r\n            this.usedUrlDic = new Dictionary()\r\n        } \r\n        for(let a in urlArr) {\r\n            let urlStrKey: string = urlArr[a].url;\r\n            let urlStrValue: number = this.usedUrlDic.get(urlStrKey);\r\n            if(urlStrValue ) {\r\n                this.usedUrlDic.set(urlStrKey, ++urlStrValue)\r\n            } else {\r\n                this.usedUrlDic.set(urlStrKey, 1)\r\n            }\r\n        }\r\n        value.run();\r\n    }\r\n    private usedUrlDic: Dictionary;\r\n    public clearModuleUrl(m_strName: string): void {\r\n        console.log(\"clearModuleUrl m_strName: \" + m_strName);\r\n        let urlArr: any[] = GameResourceManager.instance.m_objModuleReource[m_strName];\r\n        for(let a in urlArr) {\r\n            let urlStrKey: string = urlArr[a].url;\r\n            if(this.usedUrlDic ) {\r\n                let urlStrValue: number = this.usedUrlDic.get(urlStrKey);\r\n                urlStrValue -= 1;\r\n                if(urlStrValue < 1 ) {\r\n                    this.usedUrlDic.remove(urlStrKey);\r\n                    Laya.loader.clearRes(urlStrKey);\r\n                } else {\r\n                    this.usedUrlDic.set(urlStrKey, urlStrValue);\r\n                }\r\n            } \r\n        }\r\n    }\r\n    private onLoadProgress(name: string, progress: number): void {\r\n        \r\n    }\r\n    public loadResource(url: any, complete: Laya.Handler = null, progress: Laya.Handler = null, type: string = null, priority: number = 1, cache: boolean = true): void {\r\n        Laya.loader.load(url, complete, progress, type, priority, cache);\r\n    }\r\n    // public getIconUrlFromAtals(atlas: string, name: string): string {\r\n    //     let url: string = this.setResURL(\"icon/\" + atlas + \"/\" + name + \".png\");\r\n    //     return url;\r\n    // }\r\n    // public getConsumeconUrl(consumeType:number):string\r\n\t// \t{\r\n\t// \t\tvar item:ItemItem = SheetDataManager.intance.m_dicItems.get(consumeType);\r\n\t// \t\treturn item ? this.getIconUrl(item.icon) : \"\";\r\n\t// \t}\r\n    // public getIconUrl(name: string): string {\r\n    //     let url: string = this.setResURL(\"icon/\" + name + \".png\");\r\n    //     return url;\r\n    // }\r\n\r\n    /**  */\r\n    public getCountryIcon(name: any): string {\r\n        let url: string = this.setResURL(\"gameIcon/country/img_\" + name+\".png\");\r\n        return url;\r\n    }\r\n\r\n    /**  */\r\n    public getHeroEggIcon(name: string): string {\r\n        let url: string = this.setResURL(\"gameIcon/hero/heroEgg/img_\" + name+\".png\");\r\n        return url;\r\n    }\r\n    public getHeroEggBigIcon(name: string): string {\r\n        let url: string = this.setResURL(\"gameIcon/hero/heroEggBig/img_\" + name+\".png\");\r\n        return url;\r\n    }\r\n    public getHeroHeadIcon(name: string): string {\r\n        let url: string = this.setResURL(\"gameIcon/hero/heroHead/img_\" + name+\".png\");\r\n        return url;\r\n    }\r\n    public getHeroQuality(name: string): string {\r\n        let url: string = this.setResURL(\"gameIcon/hero/heroQuality/img_\" + name+\".png\");\r\n        return url;\r\n    }\r\n\r\n    public getHeroBackIcon(name: any): string {\r\n        let url: string = this.setResURL(\"gameIcon/hero/heroDetail/img_hero_di_\" + name+\".png\");\r\n        return url;\r\n    }\r\n\r\n    public getHeroFrontIcon(name: any): string {\r\n        let url: string = this.setResURL(\"gameIcon/hero/heroDetail/img_hero_\" + name+\".png\");\r\n        return url;\r\n    }\r\n  \r\n    /**  */\r\n    public getItemIcon(name: string): string {\r\n        let url: string = this.setResURL(\"gameIcon/items/item/img_\" + name+\".png\");\r\n        return url;\r\n    }\r\n    public getItemBgIcon(name: string): string {\r\n        let url: string = this.setResURL(\"gameIcon/items/itemBg/img_\" + name+\".png\");\r\n        return url;\r\n    }\r\n    public getItemBigIcon(name: string): string {\r\n        let url: string = this.setResURL(\"gameIcon/items/itemBig/img_\" + name+\".png\");\r\n        return url;\r\n    }\r\n    public getItemQualityIcon(name: string): string {\r\n        let url: string = this.setResURL(\"gameIcon/items/itemQuality/img_\" + name+\".png\");\r\n        return url;\r\n    }\r\n    \r\n    /**  */\r\n    public getMoneyIcon(name: string): string {\r\n        let url: string = this.setResURL(\"gameIcon/items/money/img_\" + name+\".png\");\r\n        return url;\r\n    }\r\n\r\n    public getAttrIcon(name: string): string {\r\n        let url: string = this.setResURL(\"gameIcon/attr/img_attr_\" + name+\".png\");\r\n        return url;\r\n    }\r\n\r\n    public getSkillIcon(name: string, isBig:boolean = false): string {\r\n        let url: string;\r\n        if(isBig){\r\n            url = this.setResURL(\"gameIcon/skill/skills/img_big_\" + name+\".png\");\r\n        }else{\r\n            url = this.setResURL(\"gameIcon/skill/skills/img_\" + name+\".png\");\r\n        }\r\n        \r\n        return url;\r\n    }\r\n\r\n    public getPlayerIcon(headId: any):string{\r\n        if(parseInt(headId) > 0)\r\n            return this.setResURL(\"gameIcon/head/headCircle/img_\"+headId+\".png\");\r\n        else\r\n            return headId;\r\n    }\r\n\r\n\r\n    public getSceneBgUrl(sceneUrl: string): string {\r\n        let url: string = \"scene/\" + sceneUrl + \".jpg\";\r\n        return url;\r\n    }\r\n    public clearSKinUrl(roleSkinUrlArr: any[]): void {\r\n        for(let a in roleSkinUrlArr) {\r\n            if(roleSkinUrlArr[a] instanceof String && roleSkinUrlArr[a].indexOf(\"skincolor\") == -1 ) {\r\n                Laya.loader.clearRes(roleSkinUrlArr[a]);\r\n            } \r\n        }\r\n        roleSkinUrlArr = [];\r\n    }\r\n\r\n    public getFunctionIcon(icon: string): string {\r\n        let url: string = this.setResURL(\"icon/functionIcon/\" + icon + \".png\");\r\n        return url;\r\n    }\r\n    public getNewFunIcon(icon: string): string {\r\n        return this.setResURL(\"icon/newFunIcon/\" + icon + \".png\");\r\n    }\r\n\r\n\r\n    public getSoundURL(name: string, pix: string = \".ogg\"): string {\r\n        let url: string;\r\n\r\n            url = this.setResURL(\"mp3/\" + name + pix);\r\n\r\n        return url;\r\n    }\r\n    public getSoundURLogg(name: string): string {\r\n        let url: string;\r\n\r\n            url = this.setResURL(\"mp3/\" + name);\r\n\r\n        return url;\r\n    }\r\n    public getSceneUrl(sceneId: number): string {\r\n        return \"scene/sceneBg/\" + sceneId + \".jpg\";\r\n    }\r\n    public getMianSysIcon(functionId: any): string {\r\n        let url: string = this.setResURL(\"icon/mainSysIcon/\" + \"btn_\" + functionId + \".png\");\r\n        return url;\r\n    }\r\n    public getEffectUrl(effectName: any): string {\r\n        let url: string = this.setResURL(\"effect/\" + effectName + \".json\");\r\n        return url;\r\n    }\r\n    public getLoadingUrl(effectName: any): string {\r\n        let url: string = this.setResURL(\"effect/\" + effectName);\r\n        return url;\r\n    }\r\n    public getGuangImg(img: any): string {\r\n        let url: string = this.setResURL(\"swf/\" + img + \".png\");\r\n        return url;\r\n    }\r\n    // public getGuildIcon(icon: number): string {\r\n    //     let headItem:HeadItem = SheetDataManager.intance.m_dicUnionHead.get(icon);\r\n        \r\n    //     return this.setResURL(\"gameIcon/union/\" + headItem.head + \".png\");\r\n    // }\r\n    // public getGuildLevelIcon(level: number): string {\r\n    //     switch(level) {\r\n    //         case 1:\r\n    //         {\r\n    //             return \"Guild/img_0059_gongzuoshi.png\"\r\n    //         }\r\n    //         break;\r\n    //         case 2:\r\n    //         {\r\n    //             return \"Guild/img_0059_xiaogongsi.png\"\r\n    //         }\r\n    //         break;\r\n    //         case 3:\r\n    //         {\r\n    //             return \"Guild/img_xiaoqiye.png\"\r\n    //         }\r\n    //         break;\r\n    //         case 4:\r\n    //         {\r\n    //             return \"Guild/img_0059_zhongxing.png\"\r\n    //         }\r\n    //         break;\r\n    //         case 5:\r\n    //         {\r\n    //             return \"Guild/img_0059.png\"\r\n    //         }\r\n    //         break;\r\n    //         default:\r\n    //         {\r\n    //             return \"\"\r\n    //         }\r\n    //         break;\r\n    //     }\r\n    // }\r\n    public getGuildProofBg(picId: number): string {\r\n        return this.setResURL(\"scene/guild/proof/\" + picId + \"/\" + 1 + \".png\");\r\n    }\r\n    public getGuildProofHots(picId: number): string {\r\n        return this.setResURL(\"scene/guild/proof/\" + picId + \"/\" + picId + \"/\" + picId + \".json\");\r\n    }\r\n    public getShareImgUrl(imgUrl: string, isInstantGame: boolean = false, isVideo: boolean = false): string {\r\n        let shareUrl: string;\r\n        if(isVideo ) {\r\n            return imgUrl\r\n        } else {\r\n            imgUrl = imgUrl + \".jpg\"\r\n        }\r\n        if(isInstantGame ) {\r\n            shareUrl = \"https://mutantbox.8686c.com/16/qa/common/share/\" + imgUrl\r\n        } else {\r\n            shareUrl = \"https://cdn.test.com/16/qa/common/share/\" + imgUrl\r\n        }\r\n        return shareUrl;\r\n    }\r\n    public getHeadUrl(_head: string): string {\r\n        return \"common/common_icon/\" + _head + \".png\";\r\n    }\r\n\r\n    public getMap(mapId: any): string {\r\n        return \"gameIcon/map/img_\" + mapId + \".jpg\";\r\n    }\r\n\r\n    public clearCache() :void{\r\n        \r\n    }\r\n\r\n    private baseUrl:string = \"https://cdn-5ejmbrg9nhxc.vultrcdn.com/hero/\";\r\n\r\n\r\n\r\n    public getHeroHeadRes(serialId:number, color:number): string {\r\n        return \"gameIcon/hero/heroHead/img_\" + serialId + \".png\";\r\n        // return this.baseUrl + `${serialId}/${color}.png`;\r\n    }\r\n\r\n\r\n    public getHeroSkRes(serialId:number, color:number): string {\r\n        \r\n        return `gameIcon/hero/heroSk/${serialId}/img_hero.skel`;\r\n        // return this.baseUrl + `${serialId}/${color}/img_hero.skel`; \r\n    }\r\n}", "export class BaseAlert extends Laya.Dialog {\r\n    protected _view: Laya.View;\r\n    public m_strName: string;\r\n    public canClickMask: boolean = true;\r\n    public constructor() {\r\n        super();\r\n        this.preinitialize();\r\n    }\r\n    protected _onClick(e: Laya.Event): void {\r\n        let btn: Laya.Button = e.target as Laya.Button;\r\n        if(btn ) {\r\n            switch(btn.name) {\r\n                case Laya.Dialog.CLOSE:\r\n                break;\r\n                case Laya.Dialog.CANCEL:\r\n                break;\r\n                case Laya.Dialog.SURE:\r\n                break;\r\n                case Laya.Dialog.NO:\r\n                break;\r\n                case Laya.Dialog.OK:\r\n                break;\r\n                case Laya.Dialog.YES:\r\n                {\r\n                    this.destroy()\r\n                }\r\n                break;\r\n            }\r\n        } \r\n    }\r\n    protected preinitialize(): void {\r\n        this.init();\r\n    }\r\n    public init(): void {\r\n        \r\n    }\r\n    protected createChildren(): void {\r\n        super.createChildren();\r\n        this.createUI();\r\n        this.initialize();\r\n    }\r\n    public createUI(): void {\r\n        \r\n    }\r\n    protected initialize(): void {\r\n        this.addEvent();\r\n        this.initData();\r\n    }\r\n    public addEvent(): void {\r\n        \r\n    }\r\n    public initData(): void {\r\n        \r\n    }\r\n    public removeEvent(): void {\r\n        \r\n    }\r\n    public disposeDialog(): void {\r\n        Laya.Dialog.manager.close(this);\r\n    }\r\n    public destroy(destroyChild: boolean = true): void {\r\n        this.removeEvent();\r\n        if(this._view ) {\r\n            this._view.destroy();\r\n            this._view = null;\r\n        } \r\n        super.destroy();\r\n    }\r\n    protected sendData(cmdId: number, data: any[] = null): void {\r\n        if(data == null ) {\r\n            data = []\r\n        } \r\n    }\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2023-12-17 15:42:23\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2023-12-29 18:24:11\r\n */\r\n\r\nimport {AlertType} from \"./AlertType\";\r\nimport {BaseAlert} from \"./base/BaseAlert\";\r\nexport class BaseAlertView extends BaseAlert {\r\n    public _alertView: Laya.View;\r\n    public okBtn: Laya.Button;\r\n    public cancleBtn: Laya.Button;\r\n    public alertTitle: Laya.Label;\r\n    public descTf: Laya.Label;\r\n    private _flag: number;\r\n    private _message: string;\r\n    protected _okHandler: Laya.Handler;\r\n    protected _cancelHandler: Laya.Handler;\r\n    public destroyDoCancel: boolean = false;\r\n    private sp_downLoad: Laya.Box;\r\n    public constructor() {\r\n        super();\r\n    }\r\n    public addEvent(): void {\r\n        this.okBtn = this._alertView.getChildByName(\"okBtn\") as Laya.Button;\r\n        this.cancleBtn = this._alertView.getChildByName(\"cancleBtn\") as Laya.Button;\r\n        this.alertTitle = this._alertView.getChildByName(\"alertTitle\") as Laya.Label;\r\n        this.descTf = this._alertView.getChildByName(\"alertDesc\") as Laya.Label;\r\n        this._alertView.on(Laya.Event.CLICK, this, this.onClickEvent);\r\n    }\r\n    public createUI(): void {\r\n        this.createAlert();\r\n    }\r\n    public createAlert(): void {\r\n        if(!this._alertView ) {\r\n            this._alertView = new Laya.View();\r\n        } \r\n        this.addChild(this._alertView);\r\n    }\r\n    public onClickEvent(e: Laya.Event): void {\r\n        let target: Laya.Sprite = e.target;\r\n        if(target.name == \"okBtn\" ) {\r\n            this._okHandler && this._okHandler.runWith(null);\r\n            this.close();\r\n        } else if(target.name == \"cancleBtn\" ) {\r\n            this.destroyDoCancel = false;\r\n            this._cancelHandler && this._cancelHandler.runWith(null);\r\n            this.close();\r\n        } \r\n    }\r\n    public alert(flag: number, okHandler: Laya.Handler, cancelHandler: Laya.Handler, data: any = null, destroyDoCancel: boolean = false, initHandler: Laya.Handler = null): void {\r\n        let offsetX: number = 66;\r\n        this._okHandler = okHandler;\r\n        this._cancelHandler = cancelHandler;\r\n        this.destroyDoCancel = destroyDoCancel;\r\n        if(flag & AlertType.YES && !(flag & AlertType.NO) ) {\r\n            this.okBtn.x = this._alertView.width - this.okBtn.width >> 1;\r\n            this.cancleBtn.visible = false;\r\n            this.okBtn.label = \"Sure\";\r\n        } else if(flag & AlertType.NO && !(flag & AlertType.YES) ) {\r\n            this.okBtn.visible = false;\r\n        } else if(flag & AlertType.YES && flag & AlertType.NO ) {\r\n            \r\n        } \r\n\r\n        if(data && this.descTf ) {\r\n            if(data instanceof Array ){\r\n                this.alertTitle.text = data[0] as string;\r\n                this.descTf.text = data[1] as string;\r\n                \r\n\r\n            }else{\r\n                this.descTf.text = data as string;\r\n            }\r\n            \r\n        } \r\n        if(initHandler ) {\r\n            initHandler.runWith(this);\r\n        } \r\n    }\r\n    public removeSelf(): Laya.Node {\r\n        if(this.destroyDoCancel && this._cancelHandler ) {\r\n            this._cancelHandler.run()\r\n        } \r\n        return super.removeSelf();\r\n    }\r\n    public removeEvent(): void {\r\n        super.removeEvent();\r\n        this._okHandler = null;\r\n        this._cancelHandler = null;\r\n    }\r\n}", "import {IBaseView} from \"./IBaseView\";\r\nimport {GameResourceManager} from \"../GameResourceManager\";\r\nimport {LayerManager} from \"../LayerManager\";\r\nimport {LoadingManager} from \"../LoadingManager\";\r\nimport {ModuleManager} from \"../ModuleManager\";\r\nimport {SceneManager} from \"../SceneManager\";\r\nimport {SceneType} from \"../baseScene/SceneType\";\r\nimport {GameSetting} from \"../../global/GameSetting\";\r\nimport {ModuleName} from \"../../global/ModuleName\";\r\nexport class BaseView extends Laya.Script implements IBaseView {\r\n    protected _view: Laya.Scene;\r\n    // protected newRoleSpr: Laya.Sprite;\r\n    public m_iLayerType: number;\r\n    public m_iPositionType: number;\r\n    public m_canTouch_all: boolean;\r\n    public m_ioffsetX: number;\r\n    public m_ioffsetY: number;\r\n    public m_strName: string;\r\n    public m_helpId: number;\r\n    private m_arrMapEvent: any[];\r\n    public m_iAdaptation_Top: number;\r\n    public m_iAdaptation_Buttom: number;\r\n    public m_bAutoResizeWidth: boolean;\r\n    public m_bAutoResizeHeith: boolean;\r\n    public m_bAutoResize: boolean;\r\n    public hideLoadingBySelf: boolean;\r\n    private _loadPaths: any[];\r\n    // public constructor() {\r\n    //     super();\r\n    // }\r\n\r\n    onAdded(): void {\r\n        \r\n        this.m_iLayerType = LayerManager.M_PANEL;\r\n        this.m_iPositionType = LayerManager.CENTER;\r\n        this.m_canTouch_all = false;\r\n        this.m_ioffsetX = 0;\r\n        this.m_ioffsetY = 0;\r\n        // this.m_strName;\r\n        // this.m_helpId;\r\n        this.m_arrMapEvent = [];\r\n        this.m_iAdaptation_Top = 0;\r\n        this.m_iAdaptation_Buttom = 0;\r\n        this.m_bAutoResizeWidth = false;\r\n        this.m_bAutoResizeHeith = false;\r\n        this.m_bAutoResize = false;\r\n        this.hideLoadingBySelf = false;\r\n    }\r\n    public get loadPaths(): any[] {\r\n        return this._loadPaths;\r\n    }\r\n    public onStageResize(): void {\r\n        // if((this.m_canTouch_all && this._view) && !GameSetting.usePcUI ) {\r\n        //     this._view.size(LayerManager.instence.stageWidth, LayerManager.instence.stageHeight);\r\n        // } \r\n        // if((this.m_bAutoResizeWidth || this.m_bAutoResize) && this._view ) {\r\n        //     this._view.width = Laya.stage.width;\r\n        // } \r\n        // if((this.m_bAutoResizeHeith || this.m_bAutoResize) && this._view ) {\r\n        //     this._view.height = Laya.stage.height;\r\n        // } \r\n        // LayerManager.instence.setPosition(this, this.m_iPositionType, this.m_ioffsetX, this.m_ioffsetY);\r\n    }\r\n    private setIphoneX(): void {\r\n        if(GameSetting.m_bIsIphoneX && this._view ) {\r\n            let len: number = this._view.numChildren;\r\n            let childs: any[] = [];\r\n            if(len ) {\r\n                for(let i: number = 0, n: number = len; i < n; i++) {\r\n                    let node: Laya.Box = this._view.getChildAt(i) as Laya.Box;\r\n                    if(node.name === \"ui_top\" ) {\r\n                        if(!isNaN(node.top) ) {\r\n                            node.top += this.m_iAdaptation_Top\r\n                        } else {\r\n                            node.y += this.m_iAdaptation_Top\r\n                        }\r\n                    } else if(node.name == \"ui_bottom\" ) {\r\n                        node.bottom += this.m_iAdaptation_Buttom;\r\n                    } \r\n                }\r\n            } \r\n        } \r\n    }\r\n\r\n\r\n    onAwake(): void {\r\n\r\n        if(GameSetting.m_bIsIphoneX ) {\r\n            this.m_iAdaptation_Top = GameSetting.IPHONEX_TOP;\r\n            this.m_iAdaptation_Buttom = GameSetting.IPHONEX_BUTTOM;\r\n        } \r\n        if(this.loadPaths && this.loadPaths.length ) {\r\n            this.hideLoadingBySelf = true;\r\n            Laya.loader.load(this.loadPaths, Laya.Handler.create(this, this.loadPathsComplete));\r\n        } else {\r\n            this.createUI();\r\n            this.createUILater();\r\n            // this.callLater(this.createUILater);\r\n        }\r\n    }\r\n\r\n    private createUILater():void{\r\n        \r\n        this.createUIEnd();\r\n    }\r\n    private loadPathsComplete(): void {\r\n        this.createUI();\r\n        this.loadPathsCompleteLater();\r\n        // this.callLater(this.loadPathsCompleteLater);\r\n    }\r\n\r\n    private loadPathsCompleteLater(): void {\r\n        \r\n        this.createUIEnd();\r\n        this.onStageResize();\r\n        LoadingManager.instance.hideLoading();\r\n    }\r\n    public createUI(): void {\r\n        \r\n    }\r\n    protected createUIEnd(): void {\r\n        this.setIphoneX();\r\n        this._addEvent();\r\n        this.initData();\r\n        this.onLoaded();\r\n    }\r\n    private _addEvent(): void {\r\n        if(this.btn_com_help ) {\r\n            this.btn_com_help.on(Laya.Event.CLICK, this, this.onHelp)\r\n        }\r\n        if(this.btn_back ) {\r\n            this.btn_back.on(Laya.Event.CLICK, this, this.setToMainScene)\r\n        }\r\n        this.addEvent();\r\n    }\r\n    public addEvent(): void {\r\n        \r\n    }\r\n    public initData(): void {\r\n        \r\n    }\r\n    protected onLoaded(): void {\r\n        \r\n    }\r\n    public removeEvent(): void {\r\n        \r\n    }\r\n    public backToPreScene(): void {\r\n        let preSceneData: any[] = SceneManager.intance.getPreSceneData();\r\n        SceneManager.intance.setCurrentScene(preSceneData[0], preSceneData[1], preSceneData[2], preSceneData[3], false);\r\n    }\r\n    public setToMainScene(): void {\r\n        SceneManager.intance.setCurrentScene(SceneType.M_SCENE_MAIN, true, true, 1);\r\n    }\r\n    public addMapEvent(target: Laya.Sprite, type: string, caller: any, listener: Function, args: any[] = null): void {\r\n        target.on(type, caller, listener, args);\r\n        this.m_arrMapEvent.push(target);\r\n    }\r\n    public removeAllMapEvent(): void {\r\n        if(!this.m_arrMapEvent ) {\r\n            return\r\n        } \r\n        for(let i: number = 0; i < this.m_arrMapEvent.length; i++) {\r\n            (this.m_arrMapEvent[i] as Laya.Sprite).offAll();\r\n        }\r\n        this.m_arrMapEvent.splice(0, this.m_arrMapEvent.length);\r\n        this.m_arrMapEvent = null;\r\n    }\r\n\r\n    public dispose(): void {\r\n        // if(this.newRoleSpr ) {\r\n        //     while(this.newRoleSpr.numChildren > 0) {\r\n        //         this.newRoleSpr.removeChildAt(0)\r\n        //     }\r\n        //     this.newRoleSpr = null;\r\n        // } \r\n        console.log(\"<<< BaseView.dispose() className: \" + this[\"constructor\"].name + \" ==== name: \" + this._view.name + \" ==== m_strName: \" + this.m_strName);\r\n        Laya.stage.off(Laya.Event.RESIZE, this, this.onStageResize);\r\n        if(this.btn_com_help ) {\r\n            this.btn_com_help.off(Laya.Event.CLICK, this, this.onHelp);\r\n        } \r\n        this.removeEvent();\r\n        this.removeAllMapEvent();\r\n        ModuleManager.intance.removeViewFromModuleManger(this);\r\n        this.m_arrMapEvent = null;\r\n        if(this.m_strName && this.m_strName != \"\" ) {\r\n            \r\n        } else {\r\n            this.m_strName = this[\"constructor\"].name;\r\n        }\r\n        GameResourceManager.instance.clearModuleUrl(this.m_strName);\r\n        this.m_strName = null;\r\n        if(this._view ) {\r\n            Laya.timer.clearAll(this._view);\r\n            Laya.Tween.clearAll(this._view);\r\n            this._view.offAll();\r\n            this._view.removeSelf();\r\n            this._view.destroy(true);\r\n            this._view = null;\r\n        } \r\n        Laya.timer.clearAll(this);\r\n        Laya.Tween.clearAll(this);\r\n        // this.offAll();\r\n        // this.graphics.destroy();\r\n        // this.removeSelf();\r\n        // this.destroy(true);\r\n    }\r\n    protected sendData(commandID: number, data: any[] = null, _callBackHandler: Laya.Handler = null, _isShowLoding: boolean = true): void {\r\n        if(data == null ) {\r\n            data = []\r\n        } \r\n    }\r\n    protected get btn_com_help(): Laya.Button {\r\n        if(this._view ) {\r\n            return this._view.getChildByName(\"btn_com_help\") as Laya.Button\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n    public get btn_back(): Laya.Button {\r\n        if(this._view ) {\r\n            return this._view.getChildByName(\"btn_back\") as Laya.Button;\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n    protected onHelp(): void {\r\n        if(this.m_helpId ) {\r\n            ModuleManager.intance.openModule(ModuleName.HelpDialog, this.m_helpId)\r\n        } \r\n    }\r\n    public resetView(): void {\r\n        // this._view.width = LayerManager.instence.m_iStageWidth;\r\n        // this._view.height = LayerManager.instence.m_iStageHeight;\r\n        this.onStageResize();\r\n    }\r\n\r\n\r\n}", "\r\nimport { GameLanguageMgr } from \"../../../common/GameLanguageMgr\";\r\nimport { LoadingManager } from \"../../../common/LoadingManager\";\r\nimport { Dictionary } from \"../../../util/Dictionary\";\r\nimport { GameEvent } from \"../../event/GameEvent\";\r\nimport { Signal } from \"../../event/Signal\";\r\nimport { EthereumConfig } from \"../EthereumConfig\";\r\nimport { EthereumManager } from \"../EthereumManager\";\r\nimport { ETHUtils } from \"../utils/ETHUtils\";\r\nimport { BlindBoxVo } from \"../vo/BlindBoxVo\";\r\n\r\nexport class ETHSeriesHeroMallProxy {\r\n    private mail_contract:any = null;\r\n    private isOpen:boolean;\r\n    //\r\n    public mailList:Dictionary;\r\n    \r\n\r\n    private static _instance: ETHSeriesHeroMallProxy;\r\n    public static get instance(): ETHSeriesHeroMallProxy {\r\n        if(!ETHSeriesHeroMallProxy._instance){\r\n            ETHSeriesHeroMallProxy._instance = new ETHSeriesHeroMallProxy();\r\n        }\r\n        return ETHSeriesHeroMallProxy._instance;\r\n    }\r\n    public init():void {\r\n        if (typeof (window as any)['ethereum'] === 'undefined') {\r\n            return;\r\n        }   \r\n        this.mail_contract = new (window as any)['web3'].eth.Contract(EthereumConfig.SERIESHEROMALL_ABI, EthereumConfig.SERIESHEROMALL_ADDRESS);\r\n    }\r\n\r\n    // \r\n    async initData(){\r\n        this.mailList = new Dictionary();\r\n        LoadingManager.instance.showLoading(true);\r\n        let len = await this.mail_contract.methods.getPricesLength().call();\r\n        for (let i:number = 0 ;i < len;i++) {\r\n\r\n            let iterator = await this.mail_contract.methods.getPriceByIndex(i).call();\r\n            let vo:BlindBoxVo = new BlindBoxVo();\r\n            vo.type = 2;\r\n            vo.idx = i;\r\n            Object.assign(vo,iterator);\r\n            this.mailList.set(vo.idx, vo);\r\n            vo.showPrice = (window as any)['web3'].utils.fromWei(vo.currentPrice + '');\r\n            if(vo.currentToken != EthereumConfig.ADDRESS0){\r\n                let tokenContract = new (window as any)['web3'].eth.Contract(EthereumConfig.TOKEN_ERC20ABI, vo.currentToken);\r\n                vo.tokenContract = tokenContract;\r\n                vo.currentTokenName = await tokenContract.methods.symbol().call();\r\n            }\r\n            else{\r\n                vo.currentTokenName = 'BNB';\r\n            }\r\n        }\r\n        LoadingManager.instance.hideLoading();\r\n    }\r\n\r\n\r\n    //  idx  return 1  2 3 4 5 6 999   0 \r\n    async recruit(idx: any){\r\n        LoadingManager.instance.showLoading(true);\r\n\r\n\r\n        //\r\n        let isInWhiteList = await this.mail_contract.methods.accountIsInWhiteList(idx,EthereumManager.instance.walletAddress).call();\r\n        if(!isInWhiteList){\r\n            LoadingManager.instance.hideLoading(); \r\n            Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(6055)]); \r\n            return;\r\n        }\r\n\r\n        //\r\n        this.isOpen = await this.mail_contract.methods.getIsOpen().call();\r\n        if(!this.isOpen){\r\n            LoadingManager.instance.hideLoading();\r\n            Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(12)]); \r\n            return ;\r\n        }\r\n\r\n        let vo:BlindBoxVo = this.mailList.get(idx);\r\n        //\r\n        if(vo.totalSupply === vo.sellAmount){\r\n            LoadingManager.instance.hideLoading();\r\n            Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(13)]);\r\n            return;\r\n        }\r\n\r\n        //\r\n        let price = vo.currentPrice;\r\n        let tokenAddress = vo.currentToken;\r\n        let have = '0';\r\n        let decimals = '18';\r\n        if(tokenAddress != EthereumConfig.ADDRESS0){\r\n            have = await vo.tokenContract.methods.balanceOf(EthereumManager.instance.walletAddress).call();\r\n            decimals = await vo.tokenContract.methods.decimals().call();\r\n        }\r\n        else{\r\n            have = (window as any)['web3'].eth.getBalance(EthereumManager.instance.walletAddress);\r\n        }\r\n        let need = ETHUtils.fromWei(price, decimals, 2);\r\n        if(parseFloat(have) < parseFloat(need)){\r\n            LoadingManager.instance.hideLoading();\r\n            \r\n            Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(14)]);\r\n            return;\r\n        }\r\n\r\n        //\r\n        if(tokenAddress != EthereumConfig.ADDRESS0){\r\n            let allow = await EthereumManager.instance.allowanceAddressByTokenAddress(EthereumConfig.SERIESHEROMALL_ADDRESS,tokenAddress);\r\n            if(!allow){\r\n                LoadingManager.instance.hideLoading();\r\n                Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(15)]);\r\n                return;\r\n            }\r\n            await this.mail_contract.methods.recruit(idx).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n                if (err) {\r\n                    LoadingManager.instance.hideLoading();\r\n                    Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(16)]);\r\n                    return;\r\n                }\r\n            });\r\n        }\r\n        else{\r\n\r\n            await this.mail_contract.methods.recruit(idx).send({ from: EthereumManager.instance.walletAddress,value:price}, (err: any, result: any) => {\r\n                if (err) {\r\n                    LoadingManager.instance.hideLoading();\r\n                    Signal.intance.event(GameEvent.EVENT_HERO_DRAW_BACK,[GameLanguageMgr.instance.getLanguage(16)]);\r\n                    return;\r\n                }\r\n            });\r\n        }\r\n        \r\n    }\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2023-12-18 01:30:25\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2023-12-14 11:19:58\r\n */\r\nexport class EnumFun {\r\n    public static FUN_MYHOME: number = 1;\r\n    public static FUN_STORE: number = 2;\r\n    public static FUN_TRAVEL: number = 3;\r\n    public static FUN_PVP: number = 1011;\r\n    public static FUN_PVPMULTI: number = 7001;\r\n    public static FUN_GUILDPHOTO: number = 1004;\r\n    public static FUN_PET: number = 1003;\r\n    public static FUN_1V1: number = 1014;\r\n    public static FUN_THUMB: number = 9005;\r\n    public static FUN_THUMB_RANKING_REWARD: number = 3008;\r\n    public static FUN_BOYFRIEND: number = 4005;\r\n    public static FUN_TIMESTAGE: number = 1006;\r\n    public static FUN_FARM_MODEL: number = 1008611;\r\n    public static FUN_GROUP_PHOTO: number = 1008612;\r\n\r\n    \r\n    public static FUN_TV: number = 1001;\r\n    public static FUN_PRAY: number = 1005;\r\n    public static FUN_WORKSHOP: number = 1006;\r\n    public static FUN_SHOP_CLOTH: number = 4001;\r\n    public static FUN_SHOP_PRAY: number = 2108;\r\n    public static FUN_SHOP_1V1: number = 2119;\r\n    public static FUN_SHOP_PVP: number = 2107;\r\n    public static FUN_SHOP_THUMB: number = 2113;\r\n    public static FUN_SHOP_GUILD: number = 2111;\r\n    public static FUN_FIRST_RECHARGE: number = 2201;\r\n    public static FUN_ACTIVITY_CENTER: number = 2002;\r\n\r\n    public static FUN_LIMITRECRUIT: number = 2003;\r\n\r\n\r\n}", "export default class luckdrawevevt extends Laya.Script {\r\n    public static INIT_LUCKDEAW_EVENT: string = \"DigEvent:INIT_DIG_EVENT\";\r\n    public constructor() {\r\n        super();\r\n    }\r\n}", "import { ErrorPopManager } from \"../../common/ErrorPopManager\";\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { BaseView } from \"../../common/base/BaseView\";\r\nimport { GameSetting } from \"../../global/GameSetting\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { ETHBlindBoxProxy } from \"../../global/contract/service/ETHBlindBoxProxy\";\r\nimport { ETHSeriesHeroMallProxy } from \"../../global/contract/service/ETHSeriesHeroMallProxy\";\r\nimport { BlindBoxVo } from \"../../global/contract/vo/BlindBoxVo\";\r\nimport { HeroVo } from \"../../global/contract/vo/HeroVo\";\r\nimport { EnumFun } from \"../../global/data/enumData/EnumFun\";\r\nimport { GameEvent } from \"../../global/event/GameEvent\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport luckdrawevevt from \"./event/luckdrawevevt\";\r\nimport RecruitItemBox from \"./item/RecruitItemBox\";\r\n\r\n\r\nexport class LuckdrawView extends BaseView {\r\n    private currTab:number = 0;\r\n    private type: number = 1;\r\n    private hasFree: boolean = false;\r\n    \r\n    public constructor(_type:number) {\r\n        super();\r\n        this.type = _type;\r\n    }\r\n    public get view(): any {\r\n        return this._view as any;\r\n    }\r\n    public createUI(): void {\r\n        this._view = new Laya.View();\r\n        this.m_iPositionType = LayerManager.UP;\r\n        // this.m_iPositionType = LayerManager.CENTER;\r\n        // this.addChild(this._view);\r\n        // SoundMgr.instance.playMusicByName(SoundMgr.soundName_bg, \".mp3\");\r\n        this.onStageResize();\r\n        Signal.intance.on(luckdrawevevt.INIT_LUCKDEAW_EVENT, this, this.luckdrawevevt);\r\n        Signal.intance.on(GameEvent.EVENT_HERO_DRAW_BACK, this, this.onDrawBack);\r\n\r\n        this.hideLoadingBySelf = true;\r\n\r\n        this.view.btn_myhero.clickHandler = new Laya.Handler(this, this.handleClickBtn, [this.view.btn_myhero]);\r\n        this.view.box_skill.on(Laya.Event.CLICK, this, this.onShowSkill);\r\n        this.view.btn_recruit1.clickHandler = new Laya.Handler(this, this.handleClickBtn, [this.view.btn_recruit1]);\r\n        this.view.btn_heroshop.clickHandler = new Laya.Handler(this, this.handleClickBtn, [this.view.btn_heroshop]);\r\n        \r\n        this.view.btn_1.on(Laya.Event.CLICK, this, this.onClickTab, [1]);\r\n        this.view.btn_2.on(Laya.Event.CLICK, this, this.onClickTab, [2]);\r\n\r\n        if(this.btn_back ) {\r\n            this.btn_back.on(Laya.Event.CLICK, this, this.setToMainScene)\r\n        }\r\n        this.view.listPanel1.vScrollBarSkin = \"\";\r\n        this.view.listPanel2.vScrollBarSkin = \"\";\r\n        this.view.animation_hreo.visible = true;\r\n        // this.view.animation_hreo.on(Laya.Event.COMPLETE, this, this.stopAni, [1]);\r\n        // this.view.animation_hreo.on(Laya.Event.COMPONENT_ADDED, this, this.stopAni, [2]);\r\n        // this.view.animation_hreo.on(Laya.Event.DISPLAY, this, this.stopAni, [3]);\r\n        // this.view.animation_hreo.on(Laya.Event.LOADED, this, this.stopAni, [4]);\r\n        // this.view.animation_hreo.on(Laya.Event.READY, this, this.stopAni, [5]);\r\n        this.view.box_1.visible = false;\r\n        this.view.box_2.visible = false;\r\n        this.view.animation_hreo[\"_complete\"] = Laya.Handler.create(this, this.stopAni, [6]);\r\n        this.view.tf_congratulation.text = GameLanguageMgr.instance.getLanguage(131);\r\n        this.view.tf_congratulation.visible = false;\r\n        this.view.img_bg.visible = false;\r\n        // this.view.box_draw_4.visible = false;\r\n        this.initLuckDrawView();\r\n        ETHBlindBoxProxy.instance.heroOutputRate();\r\n\r\n        let dHeight = (Laya.stage.height - GameSetting.DESIGN_HEIGHT)/2;\r\n        \r\n        // this.view.btn_back.y -= dHeight;\r\n\r\n    }\r\n\r\n    public setTab(value: number) {\r\n        for(let i = 1;i<3;i++){\r\n            if(value == i){\r\n                this.view[\"btn_\"+i].skin = \"common/common_btn/btn_tab1.png\";\r\n            }else{\r\n                this.view[\"btn_\"+i].skin = \"common/common_btn/btn_tab2.png\";                \r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n    private async initLuckDrawView():Promise<void>{\r\n        \r\n        await ETHBlindBoxProxy.instance.initData();//\r\n        await ETHSeriesHeroMallProxy.instance.initData();//\r\n        this.hasFree = await ETHBlindBoxProxy.instance.hasFree();\r\n        if(this.destroyed)\r\n            return;\r\n        if(this.type == EnumFun.FUN_LIMITRECRUIT){\r\n            this.onClickTab(2);//tab Index\r\n        }else{\r\n            this.onClickTab(1);//tab Index\r\n        }\r\n\r\n    }\r\n\r\n    onClickTab(_index:number) {\r\n        if(this.currTab == _index)\r\n            return;\r\n        this.setTab(_index);\r\n        if(_index == 1){\r\n            if(this.hasFree){\r\n                this.view.img_bg.visible = true;\r\n                this.view.box_1.visible = true;\r\n                this.view.box_2.visible = false;\r\n                this.view.label_cost.text = GameLanguageMgr.instance.getLanguage(30);// ETHBlindBoxProxy.instance.showPrice + ' TOX'\r\n                // this.view.label_cost.text = ETHBlindBoxProxy.instance.showPrice + ' TOX'\r\n    \r\n            }else{\r\n                \r\n                this.view.box_1.visible = false;\r\n                this.view.box_2.visible = true;\r\n                let mailList = ETHBlindBoxProxy.instance.mailList;\r\n                if(this.destroyed){\r\n                    return;\r\n                }\r\n                if(mailList && mailList.values.length>0){\r\n                    if(this.getItemByStarAndMintLevel(1,1)){\r\n                        (this.view.box1_draw_1 as RecruitItemBox).dataSource = this.getItemByStarAndMintLevel(1,1);\r\n                    }else{\r\n                        this.view.box1_draw_1.visible = false;\r\n                    }\r\n                    if(this.getItemByStarAndMintLevel(1,2)){\r\n                        (this.view.box1_draw_2 as RecruitItemBox).dataSource = this.getItemByStarAndMintLevel(1,2);\r\n                    }else{\r\n                        this.view.box1_draw_2.visible = false;\r\n                    }\r\n                    if(this.getItemByStarAndMintLevel(2,3)){\r\n                        (this.view.box1_draw_3 as RecruitItemBox).dataSource = this.getItemByStarAndMintLevel(2,3);\r\n                    }else{\r\n                        this.view.box1_draw_3.visible = false;\r\n                    }\r\n\r\n                    if(this.getItemByStarAndMintLevel(3,4)){\r\n                        (this.view.box1_draw_4 as RecruitItemBox).dataSource = this.getItemByStarAndMintLevel(3,4);\r\n                    }else{\r\n                        this.view.box1_draw_4.visible = false;\r\n                    }\r\n                    \r\n                    // (this.view.box1_draw_2 as RecruitItemBox).dataSource = mailList.get(1);\r\n                    // (this.view.box1_draw_3 as RecruitItemBox).dataSource = mailList.get(2);\r\n    \r\n                    // if(mailList.values.length >= 4){\r\n                    //     let blindBoxVo3:BlindBoxVo = mailList.get(3);\r\n                    //     (this.view.box_draw_4 as RecruitItemBox).dataSource = blindBoxVo3;\r\n                    //     this.view.box_draw_4.visible = parseFloat(blindBoxVo3.rarity) < 3;\r\n                    // }\r\n    \r\n    \r\n                    // this.view.listPanel.array = mailList;\r\n                    this.view.listPanel1.visible = true;\r\n                    this.view.listPanel2.visible = false;\r\n                    this.view.tf_noData.visible = false;\r\n                }else{\r\n                    this.view.tf_noData.visible = true;\r\n                    this.view.listPanel1.visible = false;\r\n                    this.view.listPanel2.visible = false;\r\n                }\r\n            }\r\n        }else{\r\n            this.view.box_1.visible = false;\r\n            this.view.box_2.visible = true;\r\n                let mailList = ETHSeriesHeroMallProxy.instance.mailList;\r\n                if(this.destroyed){\r\n                    return;\r\n                }\r\n                if(mailList && mailList.values.length>0){\r\n\r\n                    if(mailList.get(0)){\r\n                        (this.view.box2_draw_1 as RecruitItemBox).dataSource = mailList.get(0);\r\n                    }else{\r\n                        this.view.box2_draw_1.visible = false;\r\n                    }\r\n                    if(mailList.get(1)){\r\n                        (this.view.box2_draw_2 as RecruitItemBox).dataSource = mailList.get(1);\r\n                    }else{\r\n                        this.view.box2_draw_2.visible = false;\r\n                    }\r\n                    if(mailList.get(2)){\r\n                        (this.view.box2_draw_3 as RecruitItemBox).dataSource = mailList.get(2);\r\n                    }else{\r\n                        this.view.box2_draw_3.visible = false; \r\n                    }\r\n\r\n                    // if(mailList.get(3)){\r\n                    //     (this.view.box1_draw_4 as RecruitItemBox).dataSource = mailList.get(3);\r\n                    // }else{\r\n                    //     this.view.box1_draw_4.visible = false;\r\n                    // }\r\n\r\n\r\n                    // (this.view.box2_draw_1 as RecruitItemBox).dataSource = mailList.get(0);\r\n                    // (this.view.box2_draw_2 as RecruitItemBox).dataSource = mailList.get(1);\r\n                    // if(mailList.values.length >= 3){\r\n                    //     (this.view.box2_draw_3 as RecruitItemBox).dataSource = mailList.get(2);\r\n                    // }else{\r\n                    //     this.view.box2_draw_3.visible = false;\r\n                    // }\r\n                    \r\n    \r\n                    // if(mailList.values.length >= 4){\r\n                    //     let blindBoxVo3:BlindBoxVo = mailList.get(3);\r\n                    //     (this.view.box_draw_4 as RecruitItemBox).dataSource = blindBoxVo3;\r\n                    //     this.view.box_draw_4.visible = parseFloat(blindBoxVo3.rarity) < 3;\r\n                    // }\r\n    \r\n    \r\n                    // this.view.listPanel.array = mailList;\r\n                    this.view.listPanel1.visible = false;\r\n                    this.view.listPanel2.visible = true;\r\n                    this.view.tf_noData.visible = false;\r\n                }else{\r\n                    this.view.tf_noData.visible = true;\r\n                    this.view.listPanel1.visible = false;\r\n                    this.view.listPanel2.visible = false;\r\n                }\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    /** \r\n     * star    \r\n     * level  */\r\n    getItemByStarAndMintLevel(star: string | number,level: string | number){\r\n        // 1,1\r\n        // 1,2\r\n        // 2,3\r\n        // 3,4\r\n        let mailList = ETHBlindBoxProxy.instance.mailList;\r\n        for (const iterator of mailList.values) {\r\n            let vo:BlindBoxVo = iterator as BlindBoxVo;\r\n            if(vo.rarity === star+'' && vo.mineralLevel === level+''){\r\n                return vo;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public onStageResize():void{\r\n        super.onStageResize();\r\n        let dH = Laya.stage.height - GameSetting.DESIGN_HEIGHT;\r\n        this.view.la_img_bg.height  += dH;\r\n        // this.view.listPanel1.height  += dH;\r\n        this.view.listPanel2.height  += dH;\r\n    }\r\n\r\n    private onShowSkill():void{\r\n        ModuleManager.intance.openModule(ModuleName.SkillTipDialog);\r\n    }\r\n\r\n    public createUIEnd():void{\r\n        this.view.box_sucess2.visible = false;\r\n        // this.view.box_tip.visible = false;\r\n\r\n        this.view.btn_recruit1.visible = true;\r\n        \r\n        // this.view.animation_hreo.play(0, false);\r\n\r\n        // Laya.timer.once(2000, this, this.stopAni);\r\n    }\r\n\r\n    private stopAni(i: string):void{\r\n        console.log(\"stopAni: \" + i);\r\n        this.view.animation_hreo.paused();\r\n        this.view.animation_hreo.stop();\r\n        // this.view.animation_hreo.play(\"idle\", true);\r\n        // this.view.animation_hreo.play(\"att\", true);\r\n    }\r\n\r\n    private handleClickBtn(currentTarget: Laya.Button): void {\r\n        switch(currentTarget) {\r\n            case this.view.btn_myhero:\r\n            {\r\n                //this.view.btnLogin.visible = false\r\n                ModuleManager.intance.openModule(ModuleName.MyHeroView);\r\n                console.log('My hero')\r\n            }\r\n            break;\r\n            case this.view.btn_heroshop:\r\n            {\r\n                console.log('Hero shop')\r\n                //this.isLogout = true\r\n            }\r\n            break;\r\n            // case this.view.btn_return:\r\n            // {\r\n            //     //this.isLogout = true\r\n            // }\r\n            case this.view.btn_recruit1:\r\n            {\r\n                console.log(\"Hero Recruit\");\r\n                this.drawCard();\r\n                //this.isLogout = true\r\n                \r\n                // Laya.timer.once(2000, this, this.startAni);\r\n\r\n            }\r\n            break;\r\n\r\n        }\r\n    }\r\n\r\n\r\n    private async drawCard():Promise<void>{        \r\n        let data:any = await ETHBlindBoxProxy.instance.recruitFree(); \r\n        \r\n\r\n    }\r\n\r\n    private onDrawBack(data:any):void{\r\n        if(data instanceof Array){\r\n            for (const heroVo of data) {\r\n                // let heroInfo:HeroInfo = new HeroInfo();\r\n                // heroInfo.id = 1;\r\n                // heroInfo.tokenId = _tokenId;\r\n                // HeroModel.instance.heroList.concat(heroInfo);\r\n                let _heroVo:HeroVo = heroVo as HeroVo;\r\n                let drawHeroItem:DrawHeroItem = this.view.box_card as DrawHeroItem;\r\n                drawHeroItem.dataSource = _heroVo;\r\n                // selectHeroItem.img_hero.skin = _heroVo.simgurl;\r\n                // selectHeroItem.tf_name.text = _heroVo.stokenid;\r\n                this.startAni();\r\n            }          \r\n\r\n        }else{\r\n            ErrorPopManager.instance.showErrorWord(data);\r\n        }\r\n    }\r\n    \r\n\r\n\r\n\r\n    private startAni():void{\r\n        this.view.box_sucess2.visible = true;\r\n        this.view.animation_hreo.paused();\r\n        this.view.animation_hreo.play(0, false);\r\n        // this.view.tf_congratulation.text = GameLanguageMgr.instance.getLanguage(131);\r\n        this.view.tf_congratulation.visible = true;\r\n\r\n        Laya.timer.once(1500, this, this.showCard);\r\n    }\r\n\r\n    private showCard():void{\r\n        if(this.hasFree){\r\n            this.view.box_1.visible = false;\r\n        }else{\r\n            this.view.box_2.visible = false;\r\n        }\r\n        this.view.box_sucess2.visible = true;\r\n        this.view.box_skill.visible = false;\r\n        this.view.btn_recruit1.visible = false;\r\n        Laya.Tween.to(this.view.box_card, {scaleX:1.5, scaleY:1.5}, 100, null, Laya.Handler.create(this, this.onScaleEnd));\r\n\r\n    }\r\n\r\n    private onScaleEnd():void{\r\n        Laya.Tween.to(this.view.box_card, {scaleX:1.4, scaleY:1.4}, 100, null, Laya.Handler.create(this, this.onScaleEnd1));\r\n    }\r\n\r\n    private onScaleEnd1():void{\r\n        // this.view.box_skill.visible = true;\r\n    }\r\n\r\n    private luckdrawevevt():void{    \r\n\r\n      \r\n        \r\n    \r\n    }\r\n    public removeEvent():void{\r\n        Signal.intance.off(luckdrawevevt.INIT_LUCKDEAW_EVENT, this, this.luckdrawevevt);\r\n        Signal.intance.off(GameEvent.EVENT_HERO_DRAW_BACK, this, this.onDrawBack);\r\n\r\n    }\r\n}\r\n\r\n\r\n", "import BaseDialog from \"../../../common/base/BaseDialog\";\r\n\r\n\r\nexport class SkillTipDialog extends BaseDialog {\r\n    public constructor() {\r\n        super();\r\n    }\r\n    public get view(): any {\r\n        return this._view as any;\r\n    }\r\n    public dispose(): void {\r\n        super.dispose();\r\n    }\r\n    public createUI(): void {\r\n        this._view = new Laya.View();\r\n        this.addChild(this._view);\r\n        // this.view.label_app.text = \"app: \" + Luckdraw.App_Version;\r\n        // this.view.label_sdk.text = \" sdk: \" + Luckdraw.SDK_Version;\r\n        // this.view.label_game.text = \" game: \" + Luckdraw.Game_Version;\r\n        // this.view.label_app.filters = [Quick.GRAY1];\r\n        // this.view.label_sdk.filters = [Quick.GRAY1];\r\n        // this.view.label_game.filters = [Quick.GRAY1];\r\n    }\r\n}", "import { GameLanguageMgr } from \"../../../common/GameLanguageMgr\";\r\nimport BaseDialog from \"../../../common/base/BaseDialog\";\r\nimport { UnionAttrVo } from \"../vo/UnionAttrVo\";\r\n\r\n\r\nexport class UnionAttributeDetailsDialog extends BaseDialog {\r\n    private vo:UnionAttrVo;\r\n    public constructor(vo:UnionAttrVo) {\r\n        super();\r\n        this.vo = vo;\r\n    }\r\n\r\n    public get view(): any {\r\n        return this._view as any;\r\n    }\r\n    public dispose(): void {\r\n        super.dispose();\r\n    }\r\n    public createUI(): void {\r\n        this._view = new Laya.View();\r\n        this.addChild(this._view);\r\n\r\n    }\r\n\r\n    public initData(): void {\r\n        this.view.img_icon.skin = `gameIcon/attricon/img_daoju_${(this.vo.type - 1000)}.png`;\r\n        this.view.label_hp.text = `${GameLanguageMgr.instance.getLanguage(this.vo.name)} : ${this.getShowValue(this.vo.value)}`;\r\n        this.view.label_level.text  = GameLanguageMgr.instance.getLanguage('304')  + ` : ${this.vo.level}`;\r\n        this.view.lable_desc.text = `${GameLanguageMgr.instance.getLanguage(this.vo.desc)}`;\r\n    }\r\n\r\n    private getShowValue(value: any){\r\n        if(this.vo.type === 1003 || this.vo.type === 1005){\r\n            return (parseFloat(value + '')*100).toFixed(1) + '%'; \r\n        }\r\n        else{\r\n            return parseInt(value);\r\n        }\r\n    }\r\n\r\n\r\n\r\n}", "import {GameLanguageMgr} from \"../../common/GameLanguageMgr\";\r\nimport {GlobalDataManager} from \"../GlobalDataManager\";\r\nexport class NumberUtil {\r\n    public static toFixed(number: number, decimalPointCount: number): number {\r\n        if(number.toString().indexOf(\".\") == -1 ) {\r\n            return number;\r\n        } else {\r\n            let str: string = number.toFixed(decimalPointCount);\r\n            return parseFloat(str);\r\n        }\r\n    }\r\n    public static toFixedWithPercent(number: number, decimalPointCount: number, addStr: string = \"+\"): string {\r\n        let str: string;\r\n        if(number.toString().indexOf(\".\") == -1 ) {\r\n            str = addStr + number * 100 + \"%\";\r\n        } else {\r\n            decimalPointCount = decimalPointCount - 2;\r\n            if(decimalPointCount < 0 ) {\r\n                decimalPointCount = 0\r\n            } \r\n            str = addStr + (number * 100).toFixed(decimalPointCount) + \"%\";\r\n        }\r\n        return str;\r\n    }\r\n    public static getGoldStr(num: any): string {\r\n        let str: string;\r\n        if(num > 999999 ) {\r\n            str = parseInt(String(num / 100000)) + \"m\";\r\n        } else {\r\n            str = num;\r\n        }\r\n        return str;\r\n    }\r\n    public static numStringFormat(num: string): string {\r\n        let str: string = num;\r\n        if(GlobalDataManager.instance.m_strLanguage == 2 ) {\r\n            if(num.length > 4 ) {\r\n                str = String(num).replace(/(\\d)(?=(\\d{3})+$)/g, \"$1 \")\r\n            } \r\n        } else {\r\n            str = String(num).replace(/(\\d)(?=(\\d{3})+$)/g, \"$1,\");\r\n        }\r\n        return str;\r\n    }\r\n    public static numSimple(num: string): string {\r\n        let str: string = num;\r\n        let knum: number = parseInt(parseInt(str) / 1000 + \"\");\r\n        if(knum > 0 ) {\r\n            return knum + \"k\";\r\n        } \r\n        return NumberUtil.numStringFormat(str);\r\n    }\r\n    public static numStringFormat2(num: number): string {\r\n        let str: string;\r\n        if(num > 999999 ) {\r\n            str = NumberUtil.getNumStr(num, 1000000, \"M\");\r\n        } else if(num > 999 ) {\r\n            str = NumberUtil.getNumStr(num, 1000, \"K\");\r\n        } else {\r\n            return num + \"\";\r\n        }\r\n        return str;\r\n    }\r\n    public static getNumStr(numI: number, numM: number, lauguage: string): string {\r\n        let str: string = parseInt(Math.floor(numI / numM) + \"\") + lauguage;\r\n        return str;\r\n    }\r\n    public static getTimeStr(times: number): string {\r\n        let str: string;\r\n        if(times < 3600 ) {\r\n            str = GameLanguageMgr.instance.getLanguage(9024, Math.ceil(times / 60));\r\n        } else if(times < 3600 * 24 ) {\r\n            str = GameLanguageMgr.instance.getLanguage(9025, Math.ceil(times / 3600));\r\n        } else {\r\n            str = GameLanguageMgr.instance.getLanguage(9025, Math.ceil(times / (3600 * 24)));\r\n        }\r\n        return str;\r\n    }\r\n    public static BigInt(value: number): number {\r\n        return 0;\r\n    }\r\n    public static isInteger(obj: number): boolean {\r\n        return obj % 1 === 0;\r\n    }\r\n\r\n\r\n    static formatNumber(num: number, digits=2): number {\r\n        if (Number.isInteger(num)) {\r\n          // \r\n          return num;\r\n        } else {\r\n          // \r\n          return parseFloat( num.toFixed(2) );\r\n        }\r\n      }\r\n\r\n\r\n\r\n    public static filterNumFormat (num:any, digits=2):string {\r\n        if(!num){\r\n            return num;\r\n        }\r\n        if (num < 1E3 && num > 0)\r\n         return parseFloat(num).toFixed(digits);\r\n        if (num === '0.00') return num\r\n        var si = [\r\n          {value: 1, symbol: \"\"},\r\n        //   {value: 1E3, symbol: \"k\"},\r\n          {value: 1E6, symbol: \"M\"},\r\n          {value: 1E9, symbol: \"G\"},\r\n          {value: 1E12, symbol: \"T\"},\r\n          {value: 1E15, symbol: \"P\"},\r\n        ];\r\n        var rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\r\n        var i;\r\n        for (i = si.length - 1; i > 0; i--) {\r\n          if (num >= si[i].value) {\r\n            break;\r\n          }\r\n        }\r\n        let temp = (num / si[i].value).toString();\r\n        if(temp.indexOf('.') > -1){\r\n            if(digits>0)\r\n                temp = temp.substr(0,temp.indexOf('.')+ digits + 1);\r\n            else\r\n                temp = temp.substr(0,temp.indexOf('.')+ digits);\r\n        }\r\n        return temp.replace(rx, \"$1\") + si[i].symbol;\r\n        // if(!num || isNaN(num)){\r\n        //     return '0'\r\n        // }\r\n        // num = Number(num);\r\n        // if(num > 100000000){\r\n        //     return (num / 1000000000).toFixed(0) + '';\r\n        // }\r\n        // else if(num >= 10000){\r\n        //     return (num / 10000).toFixed(0) + '';\r\n        // }else{\r\n        //     return num;\r\n        // }\r\n      }\r\n\r\n      public static fromWei(value:any, decimals:number, point = 0) {\r\n        if (!value) {\r\n          return 0\r\n        }\r\n        let len = value.length - decimals + point\r\n        if (len <= 0) {\r\n          return 0\r\n        }\r\n        let temp = value.toString().slice(0, len)\r\n        if (point) {\r\n          let tt = temp.length - point\r\n          if (tt <= 0) {\r\n            let ttt = '0.'\r\n            for (let index = 0; index < Math.abs(tt); index++) {\r\n              ttt += '0'\r\n            }\r\n            temp = ttt + temp\r\n          } else {\r\n            temp = temp.slice(0, temp.length - point) + '.' + temp.slice(temp.length - point)\r\n          }\r\n        }\r\n        return temp\r\n      }\r\n}", "export class Cmd {\r\n    \r\n    /**\r\n     * @msg: websocket \r\n     */\r\n    public static MSG_CLOSE_SESSION_S2C = 99998;// ()\r\n    \r\n    /**\r\n     * @msg:   [myUnionVo, ]\r\n     */\r\n    public static MSG_UNION_GET_MY_UNION_C2S = 12001;// ()\r\n    public static MSG_UNION_GET_MY_UNION_S2C = 12002;// ()\r\n    /**\r\n     * @msg:  [\"\"]  UnionVo\r\n     */\r\n    public static MSG_UNION_GET_RECOMMEND_UNION_C2S = 12003;// ()\r\n    public static MSG_UNION_GET_RECOMMEND_UNION_S2C = 12004;// ()\r\n    /**\r\n     * @msg:  [ICON ID,\"\",\"\"]  1200612002 \r\n     */\r\n    public static MSG_UNION_CREATE_UNION_C2S = 12005;// ()\r\n    public static MSG_UNION_CREATE_UNION_S2C = 12006;// ()\r\n        /**\r\n     * @msg:  [ICON ID,\"\",\"\"]  \r\n     */\r\n    public static MSG_UNION_UPDATE_UNION_C2S = 12007;// ()\r\n    public static MSG_UNION_UPDATE_UNION_S2C = 12008;// ()\r\n     \r\n\r\n    /**\r\n     * @msg:  [ID]  1200812002 ()\r\n     */\r\n    public static MSG_UNION_JOIN_UNION_C2S = 12009;// ()\r\n    public static MSG_UNION_JOIN_UNION_S2C = 12010;\r\n\r\n    /**\r\n     * @msg:  []  12010[]\r\n     */\r\n    public static MSG_UNION_LEVEL_UNION_C2S = 12011;// ()\r\n    public static MSG_UNION_LEVEL_UNION_S2C = 12012;// ()\r\n\r\n\r\n    /**\r\n     * @msg:   []\r\n     */\r\n    public static MSG_UNION_GET_UNION_MEMBER_C2S = 12013;// ()\r\n    public static MSG_UNION_GET_UNION_MEMBER_S2C = 12014;// ()\r\n\r\n        /**\r\n     * @msg:   [myUnionVo]\r\n     */\r\n    public static MSG_UNION_GET_MY_UNION_VO_C2S = 12015;// ()\r\n    public static MSG_UNION_GET_MY_UNION_VO_S2C = 12016;// ()\r\n\r\n    /**\r\n     * @msg:   []\r\n     */\r\n    public static MSG_UNION_GET_UNION_MEMBER_APPLY_C2S = 12020;// ()\r\n    public static MSG_UNION_GET_UNION_MEMBER_APPLY_S2C = 12021;// ()\r\n\r\n\r\n\r\n    \r\n    /**\r\n     * @msg:  [accountId, unionId]  []\r\n     */\r\n     public static MSG_UNION_GET_UNION_MEMBER_APPLY_JOIN_C2S = 12022;// ()\r\n     public static MSG_UNION_GET_UNION_MEMBER_APPLY_JOIN_S2C = 12023;// () \r\n     \r\n    \r\n    /**\r\n     * @msg:  [accountId, unionId]  [accountId]\r\n     */\r\n     public static MSG_UNION_GET_UNION_MEMBER_APPLY_AGREE_C2S = 12024;// ()\r\n     public static MSG_UNION_GET_UNION_MEMBER_APPLY_AGREE_S2C = 12025;// () \r\n     \r\n    /**\r\n     * @msg:  [accountId, unionId]   [accountId]\r\n     */\r\n    public static MSG_UNION_GET_UNION_MEMBER_APPLY_REFUSE_C2S = 12026;// ()\r\n    public static MSG_UNION_GET_UNION_MEMBER_APPLY_REFUSE_S2C = 12027;// ()    \r\n    /**\r\n     * @msg:  [accountId, unionId]   []\r\n     */\r\n     public static MSG_UNION_GET_UNION_MEMBER_ADMIN_SET_C2S = 12028;// ()\r\n     public static MSG_UNION_GET_UNION_MEMBER_ADMIN_SET_S2C = 12029;// ()\r\n     /**\r\n     * @msg:  [accountId, unionId]   []\r\n     */\r\n     public static MSG_UNION_GET_UNION_MEMBER_ADMIN_UNSET_C2S = 12030;// ()\r\n     public static MSG_UNION_GET_UNION_MEMBER_ADMIN_UNSET_S2C = 12031;// ()\r\n    /**\r\n     * @msg:  [accountId, unionId]   [accountId]\r\n     */\r\n    public static MSG_UNION_GET_UNION_MEMBER_REMOVE_C2S = 12032;// ()\r\n    public static MSG_UNION_GET_UNION_MEMBER_REMOVE_S2C = 12032;// ()\r\n\r\n    /**\r\n     * @msg:  [accountId, unionId]   []\r\n     */\r\n    public static MSG_UNION_GET_UNION_MEMBER_LEADER_TRANSFER_C2S = 12033;// ()\r\n    public static MSG_UNION_GET_UNION_MEMBER_LEADER_TRANSFER_S2C = 12034;// ()\r\n             \r\n    /**\r\n     * @msg:    ()\r\n     */\r\n    public static MSG_UNION_GET_UNION_MEMBER_APPLY_HISTORY_C2S = 12040;// ()\r\n    public static MSG_UNION_GET_UNION_MEMBER_APPLY_HISTORY_S2C = 12041;// ()\r\n\r\n                 \r\n    /**\r\n     * @msg:    ()\r\n     */\r\n     public static MSG_UNION_GET_UNION_MANAGER_INVITATION_C2S = 12042;// ()\r\n     public static MSG_UNION_GET_UNION_MANAGER_INVITATION_S2C = 12043;// ()\r\n\r\n\r\n    /**\r\n     * @msg:    [[id,01][id,01][id,01]]\r\n     *  10011002\r\n     */\r\n     public static MSG_COMM_GET_RED_HOT_C2S = 14001;// ()\r\n     public static MSG_COMM_GET_RED_HOT_S2C = 14002;// ()\r\n\r\n     //===================================================\r\n         /** **/\r\n    public static MSG_FRIEND_GET_RECOMMEND_FRIEND_S2C = 18001;\r\n    /** **/\r\n    public static MSG_FRIEND_GET_FRIEND_MEMBER_APPLY_S2C = 18001;\r\n    /** **/\r\n    public static MSG_FRIEND_GET_FRIEND_MEMBER_APPLY_JOIN_S2C = 18001;\r\n    /** **/\r\n    public static MSG_FRIEND_GET_FRIEND_MEMBER_APPLY_AGREE_S2C = 18001;\r\n    /** **/\r\n    public static MSG_FRIEND_GET_FRIEND_MEMBER_APPLY_REFUSE_S2C = 18001;\r\n    /** **/\r\n    public static MSG_FRIEND_GET_FRIEND_MEMBER_REMOVE_S2C = 18001;\r\n    /** **/\r\n    public static MSG_FRIEND_GET_RECOMMEND_FRIEND_C2S = 18001;\r\n    /** **/\r\n    public static MSG_FRIEND_GET_FRIEND_MEMBER_C2S = 18001;\r\n\r\n\r\n\r\n     //===================================================\r\n         /** [WalletItemVo, WalletItemVo]  () **/\r\n    public static MSG_WALLET_UPDATE_WALLET_ITEM_S2C = 19001;\r\n\r\n    /** **/\r\n    public static MSG_WALLET_TRANSFER_WALLET_S2C = 19002;\r\n\r\n\r\n     //===================================================\r\n         /****/\r\n    public static MSG_UNION_PERSONAL_BOUNS_S2C = 15003;\r\n    /****/\r\n    public static MSG_UNION_SET_BOUNS_RATE_S2C = 15004;//TODO::\r\n\r\n    //===================================================\r\n    /**cd**/\r\n    public static MSG_UNION_BATTLE_CD_C2S=15000;\r\n    /**cd**/\r\n    public static MSG_UNION_BATTLE_CD_S2C=15001;\r\n    /****/\r\n    public static MSG_UNION_BATTLE_DIGGINGS_STATUS_S2C = 15002;\r\n\r\n    /****/\r\n    public static MSG_UNION_BATTLE_BOUNS_S2C = 15008;//\r\n\r\n        //===================================================\r\n\r\n    /****/\r\n    public static MSG_COMM_SCROLL_MSG_S2C=16001;\r\n\r\n\r\n//==============================================================================================\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public static MSG_ROLE_UPDATE_KNEAD_FACE_S2C: number = 2700;\r\n    public static MSG_BUY_SUIT_NPC_C2S: number = 87;\r\n    public static MSG_BUY_SUIT_NPC_S2C: number = 88;\r\n    public static MSG_INIT_WISHING_TREE_C2S: number = 112;\r\n    public static MSG_WISHING_TREE_C2S: number = 113;\r\n    public static MSG_WISHING_TREE_FREE_C2S: number = 114;\r\n    public static MSG_INIT_WISHING_TREE_EXCHANGE_C2S: number = 115;\r\n    public static MSG_WISHING_TREE_EXCHANGE_REWARD_C2S: number = 116;\r\n    public static MSG_WISHING_TREE_FREE_S2C: number = 117;\r\n    public static MSG_INIT_WISHING_TREE_S2C: number = 118;\r\n    public static MSG_WISHING_TREE_S2C: number = 119;\r\n    public static MSG_INIT_WISHING_TREE_EXCHANGE_S2C: number = 120;\r\n    public static MSG_INIT_SUIT_COLLECT_S2C: number = 130;\r\n    public static MSG_SUIT_COLLECT_REWARD_C2S: number = 131;\r\n    public static MSG_ACTIVE_CHECKIN_INIT_C2S: number = 2310;\r\n    public static MSG_ACTIVE_CHECKIN_INIT_S2C: number = 2311;\r\n    public static MSG_ACTIVE_CHECKIN_GET_REWARD_C2S: number = 2312;\r\n    public static MSG_ACTIVE_CHECKIN_GET_REWARD_S2C: number = 2313;\r\n    public static MSG_ACTIVE_DRAWING_SHOP_INIT_C2S: number = 2320;\r\n    public static MSG_ACTIVE_DRAWING_SHOP_INIT_S2C: number = 2321;\r\n    public static MSG_ACTIVE_DRAWING_SHOP_BUY_C2S: number = 2322;\r\n    public static MSG_ACTIVE_DRAWING_SHOP_BUY_S2C: number = 2323;\r\n    public static MSG_INIT_ACTIVE_TASK_C2S: number = 800;\r\n    public static MSG_INIT_ACTIVE_TASK_S2C: number = 801;\r\n    public static MSG_FINISH_ACTIVE_TASK_C2S: number = 802;\r\n    public static MSG_INIT_EVERYDAY_QUEST_C2S: number = 83;\r\n    public static MSG_INIT_EVERYDAY_QUEST_S2C: number = 84;\r\n    public static MSG_FINISH_EVERYDAY_QUEST_C2S: number = 85;\r\n    public static MSG_REWARD_ACTIVE_SCORE_GIFT_C2S: number = 176;\r\n    public static MSG_ACTIVE_SCORE_PRAY_C2S: number = 177;\r\n    public static MSG_UPDATE_VITALITY_REWARD_S2C: number = 2401;\r\n    public static MSG_GET_PVP_GRADE_S2C: number = 157;\r\n    public static MSG_SYS_BASE_INFO_S2C: number = 158;\r\n    public static MSG_GET_PVP_RANK_RESULT_S2C: number = 278;\r\n    // public static MSG_INIT_ROLE_GUIDE_S2C: number = 320;\r\n    // public static MSG_FINISH_GUIDE_C2S: number = 321;\r\n    public static MSG_INVITATIONCENTER_INIT_INVITATION_CODE_C2S: number = 2003;\r\n    public static MSG_INVITATIONCENTER_INIT_INVITATION_CODE_S2C: number = 2008;\r\n    public static MSG_INVITATIONCENTER_RECEIVE_MY_CODE_REWARD_C2S: number = 2006;\r\n    public static MSG_INVITATIONCENTER_RECEIVE_MY_RECOMMEND_REWARD_S2C: number = 2007;\r\n    public static MSG_INVITATIONCENTER_FILL_IN_THE_INVITATION_CODE_C2S: number = 2004;\r\n    public static MSG_INVITATIONCENTER_FILL_IN_THE_INVITATION_CODE_S2C: number = 2005;\r\n    public static MSG_SHARE_INIT_S2C: number = 3000;\r\n    public static MSG_SHARE_GET_C2S: number = 3001;\r\n    public static MSG_SHARE_GET_S2C: number = 3002;\r\n    public static MSG_UPDATE_SHARE_POPUP_DATA_S2C: number = 3003;\r\n    public static MSG_CLIENT_ORDER_UPDATE_C2S: number = 3004;\r\n    public static MSG_REC_SHARE_SHOP_ITEMS_C2S: number = 3005;\r\n    public static MSG_SHARE_SHOP_ITEMS_RETURN_S2C: number = 3006;\r\n\r\n\r\n    public static MSG_DIG_INIT_C2S: number = 4001;\r\n\r\n    public static MSG_LUCKDRAW_INIT_S2C: number = 5002;\r\n    static MSG_RESULT_REVIEW_RECORD_S2C: number;\r\n    static MSG_INIT_ACTIVITY_AG_S2C: number;\r\n\r\n\r\n    public static RECV_MSG(cmdId: number): string {\r\n        return \"msg_\" + cmdId;\r\n    }\r\n}", "export class MemberApplyVo {\r\n\r\n    public accountId:number;\r\n\r\n    public address:string;\r\n\r\n    public level:number;\r\n\r\n    public name:string;\r\n\r\n    public portrait:string;\r\n\r\n    public applyTime:number;\r\n\r\n    public approvalId:number;\r\n\r\n    public approvalName:string;\r\n\r\n    public approvalStatus:number;\r\n\r\n    public approvalTime:number;\r\n\r\n    public unionId:number;\r\n\r\n\r\n}", "export class MemberVo {\r\n    public address:string;\r\n    public approver:string;\r\n    public nowTime:number;\r\n    public contributeTime:number;\r\n    public contributeValue:number;\r\n    public accountId:number;\r\n    public joinTime:number;\r\n    public leaveState:number;\r\n    public level:number;\r\n    public name:string;\r\n    public portrait:string;\r\n    public position:number;\r\n    public unionId:number;\r\n    //  1  2-11\r\n    public sign:number;\r\n}", "\r\nimport { GameLanguageMgr } from \"../../../common/GameLanguageMgr\";\r\nimport { LoadingManager } from \"../../../common/LoadingManager\";\r\nimport { NoticeMgr } from \"../../../module/notice/NoticeMgr\";\r\nimport HttpCmd from \"../../../net/HttpCmd\";\r\nimport { HttpNetService } from \"../../../net/HttpNetService\";\r\nimport { Dictionary } from \"../../../util/Dictionary\";\r\nimport { Cmd } from \"../../Cmd\";\r\nimport { Signal } from \"../../event/Signal\";\r\nimport { Quick } from \"../../util/Quick\";\r\nimport { EthereumConfig } from \"../EthereumConfig\";\r\nimport { EthereumManager } from \"../EthereumManager\";\r\nimport { MemberApplyVo } from \"../vo/MemberApplyVo\";\r\nimport { MemberVo } from \"../vo/MemberVo\";\r\n\r\nexport class ETHUnionProxy {\r\n// @ts-ignore\r\n    private create_union_contract = null;\r\n    // @ts-ignore\r\n    private member_sys_contract = null;\r\n// @ts-ignore\r\n    private union_war_contract = null;\r\n    private price='';\r\n    public memberList:Dictionary;\r\n    private static _instance: ETHUnionProxy;\r\n    public static get instance(): ETHUnionProxy {\r\n        if(!ETHUnionProxy._instance){\r\n            ETHUnionProxy._instance = new ETHUnionProxy();\r\n        }\r\n        return ETHUnionProxy._instance;\r\n    }\r\n    async init() {\r\n        this.memberList = new Dictionary();\r\n        // @ts-ignore\r\n        if (typeof (window as any)['ethereum'] === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        this.create_union_contract = new (window as any)['web3'].eth.Contract(EthereumConfig.CREATE_UNION_ABI, EthereumConfig.CREATE_UNION_ADDRESS)\r\n        this.member_sys_contract = new (window as any)['web3'].eth.Contract(EthereumConfig.UNION_NUMBER_SYS_ABI, EthereumConfig.UNION_NUMBER_SYS_ADDRESS)\r\n        this.union_war_contract = new (window as any)['web3'].eth.Contract(EthereumConfig.UNION_WAR_ABI, EthereumConfig.UNION_WAR_ADDRESS)\r\n    }\r\n\r\n    /**  */ \r\n    async poolEarned(difficulty:number,mineId:number){\r\n        let temp = await this.union_war_contract.methods.earned(mineId).call();\r\n        return (window as any)['web3'].utils.fromWei(temp);\r\n    }\r\n\r\n    /**  */ \r\n    async claim_pool_reward(unionId:number,difficulty:number,mineId:number){\r\n        LoadingManager.instance.showLoading(true);\r\n        await this.union_war_contract.methods.claimReward(unionId,difficulty,mineId).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n            if (err) {\r\n                LoadingManager.instance.hideLoading();\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    /**  */ \r\n    async claim_member_reward(){\r\n        LoadingManager.instance.showLoading(true);\r\n        let {sendBeanDto} = await HttpCmd.requestPost('cybertron-sys-api/api/v1/alliance/bonus/receiveBonus',{});\r\n        let vo:WalletValidateItemVo = new WalletValidateItemVo();\r\n        Object.assign(vo,sendBeanDto);\r\n        await this.union_war_contract.methods.memberClaim(vo.tokenAddress,vo.to,vo.amount,vo.timestamp,vo.hash,vo.r,vo.s,vo.v).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n            if (err) {\r\n                LoadingManager.instance.hideLoading();\r\n                return false;\r\n            }\r\n        });\r\n        return true;\r\n\r\n    }\r\n\r\n    /**  */ \r\n    async quitOccupy(unionId:number,difficulty:number,mineId:number){\r\n        LoadingManager.instance.showLoading(true);\r\n        await this.union_war_contract.methods.quitOccupy(unionId,difficulty,mineId).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n            if (err) {\r\n                LoadingManager.instance.hideLoading();\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    /**  \r\n     * 3% = 0.03\r\n     * */ \r\n    async setManagerBonusPercent(unionId:number,accountIds:any,bonusPercents:any){\r\n        LoadingManager.instance.showLoading(true);\r\n        HttpNetService.instance.SendData(15901,{accountIds,bonusPercents})\r\n    }\r\n\r\n    /**  */ \r\n    async queryNextGetTime(unionId:number,accountId:number):Promise<string>{\r\n        return '';\r\n    }\r\n\r\n\r\n    //\r\n    async donate(itemId:string,amount:string){\r\n        LoadingManager.instance.showLoading(true);\r\n        HttpNetService.instance.SendData(13000,{itemId,amount})\r\n    }\r\n\r\n    //\r\n    async getCreateCost() {\r\n        let data = await this.create_union_contract.methods.getCreateUnionPrice().call();\r\n        this.price = (window as any)['web3'].utils.fromWei(data[1]);\r\n        return this.price;\r\n    }\r\n\r\n    //   fALSE\r\n    async createUnion(unionName:string,avator:string,declaration:string = ''){\r\n        LoadingManager.instance.showLoading(true);\r\n        if(!this.price){\r\n            await this.getCreateCost();\r\n        }\r\n        let have = await EthereumManager.instance.getBalance();\r\n        if(parseInt(have) < parseInt(this.price)){\r\n            LoadingManager.instance.hideLoading();\r\n            Quick.moneyNotEnought();\r\n            // NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(14));\r\n            return false;\r\n        }\r\n\r\n        let allow = await EthereumManager.instance.allowanceAddress(EthereumConfig.CREATE_UNION_ADDRESS);\r\n        if(!allow){\r\n            LoadingManager.instance.hideLoading();\r\n            NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(15));\r\n            return false;\r\n        }\r\n\r\n        await this.create_union_contract.methods.createUnion(unionName,avator,declaration).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n            if (err) {\r\n                LoadingManager.instance.hideLoading();\r\n                return false;\r\n            }\r\n        });\r\n        return true;\r\n    }\r\n\r\n    //\r\n    async getMemberList(unionId='1'){\r\n        let list = await HttpCmd.requestPost('cybertron-sys-api/api/v1/allianceMember/memberList',{unionId});\r\n        this.memberList = new Dictionary();\r\n        for (const iterator of list) {\r\n            let vo:MemberVo = new MemberVo();\r\n\r\n            \r\n            Object.assign(vo,iterator);\r\n            // if(vo.accountId == 46)\r\n            //     vo.contributeValue = 1000;\r\n            this.memberList.set(vo.accountId,vo);\r\n        }\r\n\r\n        // let vo:MemberVo = new MemberVo();\r\n        // vo.name = \"20\";\r\n        // vo.accountId = 20;\r\n        // vo.position = 2;\r\n        // vo.contributeValue = 900;\r\n        // this.memberList.set(vo.accountId,vo);\r\n\r\n        // let vo1:MemberVo = new MemberVo();\r\n        // vo1.name = \"21\";\r\n        // vo1.accountId = 21;\r\n        // vo1.position = 3;\r\n        // vo1.contributeValue = 1000;\r\n        // this.memberList.set(vo1.accountId,vo1);\r\n\r\n        // let vo2:MemberVo = new MemberVo();\r\n        // vo2.name = \"22\";\r\n        // vo2.accountId = 22;\r\n        // vo2.position = 2;\r\n        // vo2.contributeValue = 1000;\r\n        // this.memberList.set(vo2.accountId,vo2);\r\n\r\n        // let vo3:MemberVo = new MemberVo();\r\n        // vo3.name = \"23\";\r\n        // vo3.accountId = 23;\r\n        // vo3.position = 3;\r\n        // vo3.contributeValue = 2000;\r\n        // this.memberList.set(vo3.accountId,vo3);\r\n\r\n\r\n        return this.memberList;\r\n    }\r\n\r\n    //\r\n    async getMemberApplyList(unionId='1'){\r\n        // let _unionId:number = GuildModel.instance.myGuildVo.id;\r\n        let list = await HttpCmd.requestPost('cybertron-sys-api/api/v1/allianceApply/applyList');\r\n        // if(GuildModel.instance.applyMembers == null)\r\n        GuildModel.instance.applyMembers = new Dictionary();\r\n        for (const iterator of list) {\r\n            let vo:MemberApplyVo = new MemberApplyVo();\r\n            Object.assign(vo,iterator);\r\n            GuildModel.instance.applyMembers.set(vo.accountId,vo)\r\n        }\r\n        return GuildModel.instance.applyMembers;\r\n    }\r\n\r\n    //\r\n    async getMemberApplyHistoryList(unionId='1'){\r\n        // let _unionId:number = GuildModel.instance.myGuildVo.id;\r\n        let list = await HttpCmd.requestPost('cybertron-sys-api/api/v1/allianceApply/historyRecordList');\r\n        // if(GuildModel.instance.applyMembers == null)\r\n        let historyRecordList = new Dictionary();\r\n        for (const iterator of list) {\r\n            let vo:MemberApplyVo = new MemberApplyVo();\r\n            Object.assign(vo,iterator);\r\n            historyRecordList.set(vo.accountId,vo)\r\n        }\r\n        return historyRecordList;\r\n    }\r\n\r\n    //\r\n    async editUnion(unionId:number,unionName:string,avator:string,declaration:string = ''){\r\n        LoadingManager.instance.showLoading(true);\r\n        await this.create_union_contract.methods.updateUnionProfile(unionId,unionName,avator,declaration).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n            if (err) {\r\n                LoadingManager.instance.hideLoading();\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    //\r\n    async transferUnion(toAccountId:number,unionId:number){\r\n        LoadingManager.instance.showLoading(true);\r\n        await this.create_union_contract.methods.transferUnion(toAccountId,unionId).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n            if (err) {\r\n                LoadingManager.instance.hideLoading();\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    //  \r\n    async applyJoinUnion(accountId:number,unionId:number){\r\n        await HttpCmd.requestPost('cybertron-sys-api/api/v1/allianceMember/applyJoinUnion',{unionId})\r\n        NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(2005));//\"\");\r\n    }\r\n\r\n    //\r\n    async confirmApplyJoin(accountId:number,unionId:number){\r\n        LoadingManager.instance.showLoading(true);\r\n        await this.member_sys_contract.methods.confirmApplyJoin(accountId,unionId).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n            if (err) {\r\n                LoadingManager.instance.hideLoading();\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    //\r\n    async refuseApplyJoin(accountId:number,unionId:number){\r\n        let temp = await HttpCmd.requestPost('cybertron-sys-api/api/v1/allianceMember/refuseApplyJoin',{accountId,unionId})\r\n        Signal.intance.event(Cmd.RECV_MSG(Cmd.MSG_UNION_GET_UNION_MEMBER_APPLY_REFUSE_S2C),[[temp]]);\r\n    }\r\n\r\n    //\r\n    async kickOutUnion(accountId:number,unionId:number){\r\n        LoadingManager.instance.showLoading(true);\r\n        await this.member_sys_contract.methods.kickOutUnion(accountId,unionId).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n            if (err) {\r\n                LoadingManager.instance.hideLoading();\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    //\r\n    async quitUnion(accountId:number,unionId:number){\r\n        LoadingManager.instance.showLoading(true);\r\n        await this.member_sys_contract.methods.quitUnion(accountId,unionId).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n            if (err) {\r\n                LoadingManager.instance.hideLoading();\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    //\r\n    async addManager(accountId:number,unionId:number){\r\n        LoadingManager.instance.showLoading(true);\r\n\r\n        let maxStr = await this.member_sys_contract.methods.getMaxManagerCount().call();\r\n        let max = parseInt(maxStr);\r\n\r\n        let curStr = await this.member_sys_contract.methods.getUnionManagerCount(unionId).call();\r\n        let cur = parseInt(curStr);\r\n        if(cur >= max){\r\n            LoadingManager.instance.hideLoading();\r\n            NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage('3013'));\r\n            return false;\r\n        }\r\n        await this.member_sys_contract.methods.addManager(accountId,unionId).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n            if (err) {\r\n                LoadingManager.instance.hideLoading();\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    //\r\n    async removeManager(accountId:number,unionId:number){\r\n        LoadingManager.instance.showLoading(true);\r\n        await this.member_sys_contract.methods.removeManager(accountId,unionId).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n            if (err) {\r\n                LoadingManager.instance.hideLoading();\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n}", "export class UnionAttrDetailVo{\r\n    public id:number;\r\n    public level:number;\r\n    public name:number;\r\n    public num:string;\r\n    public resourcesType:number;\r\n    public toLevel:number;\r\n    public toValue:number;\r\n    public totalNum:string;\r\n    public type:number;\r\n    public unionId:number;\r\n    public value:number;\r\n    public tokenAddress:string;\r\n    public contributeValue:string;\r\n}", "import { GameLanguageMgr } from \"../../../common/GameLanguageMgr\";\r\nimport { LoadingManager } from \"../../../common/LoadingManager\";\r\nimport BaseDialog from \"../../../common/base/BaseDialog\";\r\nimport { NoticeMgr } from \"../../../module/notice/NoticeMgr\";\r\nimport HttpCmd from \"../../../net/HttpCmd\";\r\nimport { WebSocketService } from \"../../../net/WebSocketService\";\r\nimport { SheetDataManager } from \"../../SheetDataManager\";\r\nimport { Signal } from \"../../event/Signal\";\r\nimport { NumberUtil } from \"../../util/NumberUtil\";\r\nimport { ETHUnionProxy } from \"../service/ETHUnionProxy\";\r\nimport { UnionAttrDetailVo } from \"../vo/UnionAttrDetailVo\";\r\nimport { UnionAttrVo } from \"../vo/UnionAttrVo\";\r\n\r\n\r\nexport class UnionAttrLvUpDialog extends BaseDialog {\r\n    private donateValue:number = 1000;\r\n    private vo:UnionAttrVo;\r\n    private maxValue:number;\r\n    private detailVo:UnionAttrDetailVo;\r\n    public constructor(_data: any) {\r\n        super();\r\n        this.vo = _data;\r\n        this.detailVo = new UnionAttrDetailVo();\r\n        this.view.btn_reduce.on(Laya.Event.CLICK,this,this.clickHandler,[this.view.btn_reduce])\r\n        this.view.btn_plus.on(Laya.Event.CLICK,this,this.clickHandler,[this.view.btn_plus])\r\n        this.view.btn_donate.on(Laya.Event.CLICK,this,this.clickHandler,[this.view.btn_donate])\r\n        Signal.intance.on(WebSocketService.CMD_13001+'',this,this.onDonateSuccess)\r\n\r\n        for (let index = 0; index < 4; index++) {\r\n            const element:Laya.Button = this.view['p' + index];\r\n            let img:Laya.Image = element.getChildByName('img_select') as Laya.Image;\r\n            img.visible = false;\r\n            element.on(Laya.Event.CLICK,this,this.onClickP,[index])\r\n        }\r\n    }\r\n\r\n    public removeEvent(): void {\r\n        super.removeEvent();\r\n        Signal.intance.off(WebSocketService.CMD_13001+'',this,this.onDonateSuccess);\r\n    }\r\n\r\n    public get view(): any {\r\n        return this._view as any;\r\n    }\r\n    public dispose(): void {\r\n        super.dispose();\r\n    }\r\n    public createUI(): void {\r\n        this._view = new Laya.View();\r\n        this.addChild(this._view);\r\n    }\r\n\r\n    persentAry = [25,50,75,100]\r\n    onClickP(idx: number) {\r\n        console.log('selcet===' + idx);\r\n        if(!this.detailVo.resourcesType){\r\n            return;\r\n        }\r\n        let temp = this.maxValue/100* this.persentAry[idx];\r\n        if(temp < 1000){\r\n            return;\r\n        }\r\n        else{\r\n            this.donateValue = temp - temp%1000;\r\n            this.view.lable_num.text = this.donateValue.toString();\r\n            this.updateContribute();\r\n        }\r\n        \r\n        for (let index = 0; index < 4; index++) {\r\n            const element:Laya.Button = this.view['p' + index];\r\n            let img:Laya.Image = element.getChildByName('img_select') as Laya.Image;\r\n            img.visible = false;\r\n            if(index <= idx){\r\n                img.visible = true;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    async initData() {\r\n        this.view.img_icon.skin = `gameIcon/attricon/img_daoju_${(this.vo.type - 1000)}.png`;\r\n        this.updateView();\r\n    }\r\n\r\n    private updateContribute() {\r\n        this.view.label_cb_right.text = GameLanguageMgr.instance.getLanguage('306')  + ` : ${parseInt(this.detailVo.contributeValue) + this.donateValue/1000}`;\r\n    }\r\n\r\n    async onDonateSuccess(){\r\n        NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage('307'));\r\n        // await this.updateView();\r\n        LoadingManager.instance.hideLoading();\r\n    }\r\n\r\n    async updateView(){\r\n        if(!this.view)return;\r\n        let data = await HttpCmd.requestPost('cybertron-sys-api/api/v1/alliance/attribute/find',{attributeType:this.vo.type});\r\n        Object.assign(this.detailVo,data);\r\n\r\n        let itemItem = SheetDataManager.intance.m_dicItems.get(this.detailVo.resourcesType);\r\n        this.view.img_cost.skin = \"https://cdn.bunnyswap.cc/images/items/\"+itemItem.icon;\r\n        this.detailVo.tokenAddress = itemItem.tokenId;\r\n\r\n        // let max = await EthereumManager.instance.getERC20TokenBalance(this.detailVo.tokenAddress);\r\n        let max = WalletModel.instance.getValue(this.detailVo.resourcesType);\r\n        this.view.lable_title.text = `${GameLanguageMgr.instance.getLanguage(this.vo.name)} : ${this.getShowValue(this.detailVo.value)}`;\r\n        this.maxValue = parseFloat(max);\r\n        this.view.lable_progress.text = GameLanguageMgr.instance.getLanguage('305')  + ` \\n ${NumberUtil.filterNumFormat(this.detailVo.num)}/${NumberUtil.filterNumFormat(this.detailVo.totalNum)}`;\r\n        this.view.label_attr_left.text = `${GameLanguageMgr.instance.getLanguage(this.detailVo.name)} : ${this.getShowValue(this.detailVo.value)}`;\r\n        this.view.label_attr_right.text = `${GameLanguageMgr.instance.getLanguage(this.detailVo.name)} : ${this.getShowValue(this.detailVo.toValue)}`;\r\n        this.view.label_lv_left.text = GameLanguageMgr.instance.getLanguage('304')  + ` : ${this.detailVo.level}`;\r\n        this.view.label_lv_right.text = GameLanguageMgr.instance.getLanguage('304')  + ` : ${this.detailVo.toLevel}`;\r\n        this.view.label_cb_left.text = GameLanguageMgr.instance.getLanguage('306')  + ` : ${this.detailVo.contributeValue}`;\r\n        this.updateContribute();\r\n    }\r\n\r\n    private getShowValue(value:any){\r\n        if(this.detailVo.type === 1003 || this.detailVo.type === 1005){\r\n            return (parseFloat(value + '')*100).toFixed(1) + '%'; \r\n        }\r\n        else{\r\n            return parseInt(value);\r\n        }\r\n    }\r\n\r\n    async clickHandler(node:any) {\r\n        if(!this.detailVo.resourcesType){\r\n            return;\r\n        }\r\n        switch (node) {\r\n            case this.view.btn_reduce:\r\n                if(this.donateValue > 1000){\r\n                    this.donateValue -= 1000;\r\n                }\r\n                this.view.lable_num.text = this.donateValue.toString();\r\n                this.updateContribute();\r\n                break;\r\n            case this.view.btn_plus:\r\n                if(this.donateValue + 1000 <= this.maxValue){\r\n                    this.donateValue += 1000;\r\n                }\r\n                this.view.lable_num.text = this.donateValue.toString();\r\n                this.updateContribute();\r\n                break;\r\n            case this.view.btn_donate:\r\n                if(this.donateValue >this.maxValue){\r\n                    NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(14))\r\n                    return;\r\n                }\r\n\r\n                // let accountId = GlobalDataManager.instance.playerDto.id;\r\n                // let amount = (window as any)['web3'].utils.toWei(this.donateValue + '');\r\n                ETHUnionProxy.instance.donate(this.detailVo.resourcesType + '',this.donateValue + '');\r\n                break;\r\n        \r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}", "\r\nimport { LayerManager } from \"../../../common/LayerManager\";\r\nimport { BaseView } from \"../../../common/base/BaseView\";\r\nimport HttpCmd from \"../../../net/HttpCmd\";\r\nimport { WebSocketService } from \"../../../net/WebSocketService\";\r\nimport { Signal } from \"../../event/Signal\";\r\nimport { GameSetting } from \"../../GameSetting\";\r\n\r\n\r\nexport class UnionAttrView extends BaseView {\r\n    \r\n    public constructor() {\r\n        super();\r\n    }\r\n    public get view(): any {\r\n        return this._view as any;\r\n    }\r\n    public createUI(): void {\r\n        this._view = new Laya.View();\r\n        this.m_iPositionType = LayerManager.UP;\r\n        this.addChild(this._view);\r\n        this.onStageResize();\r\n        this.view.tab.dataSource = 3;//tab Index\r\n\r\n        this.view.attr_list.vScrollBarSkin = \"\";\r\n        this.view.attr_list.array=[];\r\n        Signal.intance.on(WebSocketService.CMD_13001+'',this,this.getAttrList);\r\n        this.getAttrList();\r\n    }\r\n\r\n    async getAttrList(){\r\n        let list = await HttpCmd.requestPost('cybertron-sys-api/api/v1/alliance/attribute/findAll',{});\r\n        if(this.destroyed)\r\n            return;\r\n        if(list.length){\r\n            this.view.attr_list.array = list.slice(0,5)\r\n        }\r\n    }\r\n\r\n    public removeEvent(): void {\r\n        super.removeEvent();\r\n        Signal.intance.off(WebSocketService.CMD_13001+'',this,this.getAttrList);\r\n    }\r\n    \r\n\r\n\r\n    public onStageResize():void{\r\n        super.onStageResize();\r\n        let dH = Laya.stage.height - GameSetting.DESIGN_HEIGHT;\r\n        this.view.la_img_bg.height  += dH;\r\n        this.view.attr_list.height  += dH;\r\n        this.view.height  += dH;\r\n    }\r\n\r\n}\r\n\r\n\r\n", "export class HeroPosVo {\r\n    /**id*/\r\n    heroId:string;\r\n    /***/\r\n    position:number;\r\n}", "import { LoadingManager } from \"../../common/LoadingManager\";\r\nimport { EthereumConfig } from \"../../global/contract/EthereumConfig\";\r\nimport { EthereumManager } from \"../../global/contract/EthereumManager\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport HttpCmd from \"../../net/HttpCmd\";\r\nimport { Dictionary } from \"../../util/Dictionary\";\r\nimport { HeroPosVo } from \"./HeroPosVo\";\r\n\r\n\r\nexport class HeroNetModel {\r\n    private static _instance: HeroNetModel;\r\n    public static get instance(): HeroNetModel {\r\n        if(!HeroNetModel._instance ) {\r\n            HeroNetModel._instance = new HeroNetModel()\r\n        } \r\n        return HeroNetModel._instance;\r\n    }\r\n    private _inited: boolean = false;\r\n\r\n    public itemIdForTips:number;\r\n\r\n    public posDic:Dictionary;\r\n\r\n    public copyPosDic:Dictionary;\r\n\r\n    public contract:any = null;\r\n\r\n    public constructor() {\r\n        this.init();\r\n    }\r\n\r\n    private init(): void {\r\n        if(!this._inited ) {\r\n            this._inited = true;\r\n            this.posDic = new Dictionary(); \r\n            this.contract = new (window as any)['web3'].eth.Contract(EthereumConfig.HEROFORMATION_ABI, EthereumConfig.HEROFORMATION_ADDRESS)\r\n        } \r\n    }\r\n\r\n    async getHeroPos(){\r\n        let ary = await HttpCmd.requestPost('cybertron-sys-api/api/v1/heroes/positionList',{})\r\n        ary.forEach((element: any) => {\r\n            let vo:HeroPosVo = new HeroPosVo();\r\n            Object.assign(vo,element);\r\n            this.posDic.set(vo.position,vo);\r\n        });\r\n        return this.posDic;\r\n    }\r\n\r\n    async setHeroPos(){\r\n        // let pass = false;\r\n        // for (const iterator of this.copyPosDic.values) {\r\n        //     if(parseInt(iterator.heroId))\r\n        //     {\r\n        //         pass = true;\r\n        //         break;\r\n        //     }        \r\n        // }\r\n        // if(!pass){\r\n        //     NoticeMgr.instance.notice('');\r\n        //     return false;\r\n        // }\r\n        LoadingManager.instance.showLoading(true);\r\n\r\n        let only = this.checkOnlyChangePos();\r\n        if(only){\r\n            await HttpCmd.requestPost('cybertron-sys-api/api/v1/heroes/setPosition',this.copyPosDic.values);\r\n            this.posDic = this.copyPosDic;\r\n            LoadingManager.instance.hideLoading();\r\n            Signal.intance.event('SET_HERO_POSTION_SUCCESS')\r\n            return this.posDic;\r\n        }\r\n        else{\r\n            let ary: number[][] = [];\r\n            this.copyPosDic.values.forEach(vo=>{\r\n                if(parseInt(vo.heroId)){\r\n                    ary.push([parseInt(vo.heroId),parseInt(vo.position)]);\r\n                }\r\n            })\r\n    \r\n            await this.contract.methods.formation(ary).send({ from: EthereumManager.instance.walletAddress}, (err: any, result: any) => {\r\n                if (err) {\r\n                    LoadingManager.instance.hideLoading();\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**    */\r\n    checkOnlyChangePos():boolean{\r\n\r\n        let oldA:Array<number> = [];\r\n        let newA:Array<number> = [];\r\n        for (const iterator of this.posDic.values) {\r\n            if(parseInt(iterator.heroId)){\r\n                oldA.push(parseInt(iterator.heroId));\r\n            }\r\n        }\r\n        for (const iterator of this.copyPosDic.values) {\r\n            if(parseInt(iterator.heroId)){\r\n                newA.push(parseInt(iterator.heroId));\r\n            }\r\n        }\r\n\r\n        oldA.sort();\r\n        newA.sort();\r\n\r\n        return oldA.toString() === newA.toString();\r\n    }\r\n}", "\r\nimport { ErrorPopManager } from \"../../common/ErrorPopManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport BaseDialog from \"../../common/base/BaseDialog\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { ETHUtils } from \"../../global/contract/utils/ETHUtils\";\r\nimport { HeroVo } from \"../../global/contract/vo/HeroVo\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { HeroNetModel } from \"./HeroNetModel\";\r\nimport { HeroPosVo } from \"./HeroPosVo\";\r\n\r\nexport class HeroFormationDialog extends BaseDialog {\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public get view(): any {\r\n        return this._view as any;\r\n    }\r\n    public dispose(): void {\r\n        super.dispose();\r\n    }\r\n    public createUI(): void {\r\n        // this._view = new any();\r\n        this.addChild(this._view);\r\n\r\n        Signal.intance.on('CANCEL_HERO_POS',this,this.cancelHero)\r\n        Signal.intance.on('SET_HERO_POSTION_SUCCESS',this,this.setHeroPosSuccess)\r\n\r\n        this.view.btn_set.clickHandler = new Laya.Handler(this,this.onSetHeroPos)\r\n\r\n    }\r\n\r\n    async onSetHeroPos(){\r\n        await HeroNetModel.instance.setHeroPos();\r\n    }\r\n\r\n    setHeroPosSuccess(){\r\n        ErrorPopManager.instance.showErrorWord(20000);\r\n        ModuleManager.intance.disposeView(ModuleName.HeroFormationDialog)\r\n    }\r\n\r\n\r\n    public removeEvent(): void {\r\n        Signal.intance.off('CANCEL_HERO_POS',this,this.cancelHero)\r\n        Signal.intance.off('SET_HERO_POSTION_SUCCESS',this,this.setHeroPosSuccess)\r\n    }\r\n    async createUIEnd(){\r\n        this.view.list.vScrollBarSkin = \"\";\r\n        this.view.list.dataSource = [];\r\n        this.view.list.mouseHandler = new Laya.Handler(this, this.onListEvent);\r\n        this.view.list.renderHandler = new Laya.Handler(this, this.onRenderList);\r\n\r\n        await HeroNetModel.instance.getHeroPos();\r\n        HeroNetModel.instance.copyPosDic = ETHUtils.deepClone(HeroNetModel.instance.posDic);\r\n\r\n        let heroVos:any[] = GlobalDataManager.instance.m_heroData.heroVoDic.values;\r\n        \r\n        if(heroVos && heroVos.length>0){\r\n            let temp = heroVos.filter(\r\n                item => item.status != 2\r\n            );\r\n            this.view.list.array = temp;\r\n            \r\n        }\r\n\r\n\r\n\r\n        \r\n        this.updateList();\r\n    }\r\n\r\n    cancelHero(pos: any){\r\n        let vo = HeroNetModel.instance.copyPosDic.get(pos);\r\n        vo.heroId = '0';\r\n        this.updateList();\r\n    }\r\n\r\n    updateList(){\r\n        for (const key of HeroNetModel.instance.copyPosDic.keys) {\r\n            let vo:HeroPosVo = HeroNetModel.instance.copyPosDic.get(key);\r\n            this.view['pos' + key].dataSource = vo;\r\n        }\r\n        this.view.list.refresh();\r\n    }\r\n\r\n\r\n\r\n    private onListEvent(e: Laya.Event, index: number): void {\r\n        switch(e.type) {\r\n            case Laya.Event.CLICK:\r\n            {\r\n                // this.view.list.selectedIndex = index;\r\n                this.handleSelectHero(index)\r\n            }\r\n            break;\r\n        }\r\n    }\r\n\r\n    private handleSelectHero(index: number): void {\r\n        let vo: HeroVo = this.view.list.array[index];\r\n        for (const iterator of HeroNetModel.instance.copyPosDic.values) {\r\n            if(iterator.heroId == vo.id){\r\n\r\n                this.cancelHero(iterator.position)\r\n                return;\r\n            }\r\n        }\r\n        for (const key of HeroNetModel.instance.copyPosDic.keys) {\r\n            let pvo:HeroPosVo = HeroNetModel.instance.copyPosDic.get(key);\r\n            if(!parseInt(pvo.heroId)){\r\n                pvo.heroId = vo.id + '';\r\n                this.view['pos' + key].dataSource = pvo;\r\n                break;\r\n            }\r\n        }\r\n        this.view.list.refresh();\r\n        \r\n    }\r\n\r\n    private onRenderList(cell: Laya.Box, index: number): void {\r\n        // let data = cell.dataSource as HeroVo;\r\n        // let selected = cell.getChildByName(\"selected\") as Laya.Image;\r\n        // selected.visible = this.view.list.selectedIndex == index;\r\n    }\r\n    onComplete(): any {\r\n    }\r\n\r\n    public initData(): void {\r\n      \r\n    }\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-06 16:29:41\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-01-19 18:12:05\r\n */\r\nimport {ModuleName} from \"./ModuleName\";\r\nimport {AlertType} from \"../common/AlertType\";\r\nimport {BaseAlertView} from \"../common/BaseAlertView\";\r\n\r\n// import {PreLoadingView} from \"../module/login/PreLoadingView\";\r\n\r\n\r\nimport { LuckdrawView } from \"../module/luckdraw/LuckdrawView\";\r\n\r\nimport { SkillTipDialog } from \"../module/luckdraw/view/SkillTipDialog\";\r\n// import { MyHeroView } from \"../module/luckdraw/view/MyHeroView\";\r\nimport { UnionAttributeDetailsDialog } from \"./contract/view/UnionAttributeDetailsDialog\";\r\nimport { UnionAttrLvUpDialog } from \"./contract/view/UnionAttrLvUpDialog\";\r\nimport { UnionAttrView } from \"./contract/view/UnionAttrView\";\r\n\r\n\r\n\r\nimport { HeroFormationDialog } from \"../module/hero/HeroFormationDialog\";\r\n\r\n\r\nexport class RegistClass {\r\n    private static _instance: RegistClass;\r\n    public constructor() {\r\n        if(RegistClass._instance ) {\r\n            throw new Error(\"LayerManager,new.\");\r\n        } \r\n        RegistClass._instance = this;\r\n    }\r\n    public static get intance(): RegistClass {\r\n        if(RegistClass._instance ) {\r\n            return RegistClass._instance\r\n        } \r\n        RegistClass._instance = new RegistClass();\r\n        return RegistClass._instance;\r\n    }\r\n    public init(): void {\r\n        Laya.ClassUtils.regClass(AlertType.BASEALERTVIEW, BaseAlertView);\r\n        // Laya.ClassUtils.regClass(ModuleName.GameSettingDialog, GameSettingDialog);\r\n\r\n        // Laya.ClassUtils.regClass(ModuleName.PreLoadingView, PreLoadingView);\r\n\r\n        Laya.ClassUtils.regClass(ModuleName.SkillTipDialog, SkillTipDialog);\r\n\r\n        Laya.ClassUtils.regClass(ModuleName.LuckdrawView, LuckdrawView);\r\n\r\n        //============================================================\r\n\r\n\r\n       \r\n        \r\n        // Laya.ClassUtils.regClass(ModuleName.MyHeroView, MyHeroView);\r\n\r\n\r\n\r\n        Laya.ClassUtils.regClass(ModuleName.UnionAttrView, UnionAttrView);\r\n        Laya.ClassUtils.regClass(ModuleName.UnionAttrLvUpDialog, UnionAttrLvUpDialog);\r\n        Laya.ClassUtils.regClass(ModuleName.UnionAttributeDetailsDialog, UnionAttributeDetailsDialog);\r\n\r\n        \r\n\r\n        Laya.ClassUtils.regClass(ModuleName.HeroFormationDialog, HeroFormationDialog);\r\n        \r\n    }\r\n}", "import {GameSetting} from \"./GameSetting\";\r\nimport {LayerManager} from \"../common/LayerManager\";\r\nimport {GameResourceManager} from \"../common/GameResourceManager\";\r\nexport class SceneLoadingManager {\r\n    public m_sprMap: Laya.Sprite = new Laya.Sprite();\r\n    public m_Image: Laya.Image = new Laya.Image();\r\n    private static _instance: SceneLoadingManager;\r\n    public static get instance(): SceneLoadingManager {\r\n        if(!SceneLoadingManager._instance ) {\r\n            SceneLoadingManager._instance = new SceneLoadingManager();\r\n        } \r\n        return SceneLoadingManager._instance;\r\n    }\r\n    public loadingMc: Laya.MovieClip;\r\n    public init(): void {\r\n        return;\r\n        if(!this.loadingMc ) {\r\n            let _mc: Laya.MovieClip = new Laya.MovieClip();\r\n            _mc.loop = true;\r\n            let mcUrl: string = GameResourceManager.instance.setResURL(\"swf/UILoading/UILoading.swf\");\r\n            let mcAtlasPath: string = GameResourceManager.instance.setResURL(\"swf/UILoading/UILoading.json\");\r\n            _mc.load(mcUrl, true, mcAtlasPath);\r\n            _mc.x = Laya.stage.width / 2;\r\n            _mc.y = Laya.stage.height / 2;\r\n            this.loadingMc = _mc;\r\n            _mc.visible = false;\r\n            _mc.stop();\r\n            this.m_sprMap.addChild(this.m_Image);\r\n            this.m_sprMap.mouseEnabled = (this.m_sprMap.mouseThrough = false);\r\n            this.loadingMc.mouseEnabled = (this.loadingMc.mouseThrough = false);\r\n            Laya.stage.addChild(this.m_sprMap);\r\n            this.m_sprMap.visible = false;\r\n            Laya.stage.addChild(this.loadingMc);\r\n        } \r\n    }\r\n    public showLoading(showImmediately: boolean = false): void {\r\n        if(!this.loadingMc ) {\r\n            return;\r\n        } else {\r\n            this.m_sprMap.size(Laya.stage.width, Laya.stage.height);\r\n            if(GameSetting.m_bIsIphoneX ) {\r\n                this.m_Image.scaleX = GameSetting.IPHONEX_SCARE;\r\n                this.m_Image.scaleY = GameSetting.IPHONEX_SCARE;\r\n            } \r\n            this.m_Image.x = (this.m_sprMap.width - this.m_Image.width * this.m_Image.scaleX) / 2;\r\n            this.m_Image.y = (this.m_sprMap.height - this.m_Image.height * this.m_Image.scaleY) / 2;\r\n            this.m_sprMap.x = (LayerManager.instence.m_iStageWidth - this.m_sprMap.width * this.m_sprMap.scaleX) / 2;\r\n            this.m_sprMap.y = (LayerManager.instence.m_iStageHeight - this.m_sprMap.height * this.m_sprMap.scaleY) / 2;\r\n            this.m_sprMap.visible = true;\r\n            Laya.timer.clear(this, this.showLazyBg);\r\n            if(showImmediately ) {\r\n                this.m_Image.alpha = 1;\r\n                this.showLazyBg();\r\n            } else {\r\n                this.m_Image.alpha = 0;\r\n                if(this.m_sprMap ) {\r\n                    this.m_sprMap.graphics.clear();\r\n                    this.m_sprMap.graphics.drawRect(0, 0, Laya.stage.width, Laya.stage.height, \"#000000\");\r\n                } \r\n                Laya.timer.once(300, this, this.showLazyBg);\r\n            }\r\n        }\r\n    }\r\n    private showLazyBg(): void {\r\n        if(this.m_sprMap ) {\r\n            this.m_sprMap.graphics.clear();\r\n            this.m_Image.alpha = 1;\r\n        } \r\n        if(this.loadingMc ) {\r\n            this.loadingMc.x = Laya.stage.width / 2;\r\n            this.loadingMc.y = Laya.stage.height / 2;\r\n            this.loadingMc.play();\r\n            this.loadingMc.visible = true;\r\n        } \r\n    }\r\n    public hideLoading(): void {\r\n        if(!this.loadingMc ) {\r\n            return;\r\n        } else {\r\n            this.hideLoadingSHow();\r\n        }\r\n    }\r\n    private hideLoadingSHow(): void {\r\n        Laya.timer.clear(this, this.showLazyBg);\r\n        this.loadingMc.stop();\r\n        this.loadingMc.visible = false;\r\n        this.m_sprMap.visible = false;\r\n    }\r\n    public get isShow(): boolean {\r\n        return this.loadingMc && this.loadingMc.visible;\r\n    }\r\n    public constructor() {\r\n        \r\n    }\r\n    public dispose(): void {\r\n        if(this.m_sprMap ) {\r\n            this.m_sprMap.graphics.clear()\r\n        } \r\n        Laya.timer.clear(this, this.showLazyBg);\r\n        if(this.loadingMc ) {\r\n            this.loadingMc.destroy();\r\n            this.loadingMc.removeSelf();\r\n            this.loadingMc = null;\r\n        } \r\n    }\r\n}", "import { GameUserInfo } from \"../../../GameUserInfo\";\r\nimport HttpCmd from \"../../net/HttpCmd\";\r\nimport { WebSocketService } from \"../../net/WebSocketService\";\r\nimport {GameSetting} from \"../GameSetting\";\r\nimport {GlobalDataManager} from \"../GlobalDataManager\";\r\nimport { EthereumManager } from \"../contract/EthereumManager\";\r\nexport class ComUtil {\r\n    private static _IsSetRelease: boolean = false;\r\n    public static get IsSetRelease(): boolean {\r\n        return ComUtil._IsSetRelease;\r\n    }\r\n    private static _IsSetGuid: boolean = false;\r\n    public static get IsSetGuid(): boolean {\r\n        return ComUtil._IsSetGuid;\r\n    }\r\n\r\n    private static m_obj: any;\r\n    private static langObj: any = {\"1\": [\"en\", 1], \"2\": [\"zh\", 2], \"6\": [\"pt\", 5], \"7\": [\"ar\", 12], \"8\": [\"el\", 16], \"9\": [\"tr\", 15], \"10\": [\"pl\", 10], \"11\": [\"cs\", 13], \"12\": [\"it\", 7], \"13\": [\"hu\", 11], \"14\": [\"ro\", 14]};\r\n    public static initParms(): void {\r\n        if(Laya.Browser.window['location'] ) {\r\n\r\n            // URL\r\n            const currentUrl: string = Laya.Browser.window.location.href;\r\n    \r\n            // URL\r\n            const params: Object = this.getURLParameters(currentUrl);\r\n\r\n\r\n            ComUtil.m_obj = params;\r\n\r\n            console.log(\"1initgame-->urldata:\", ComUtil.m_obj);\r\n\r\n            if(params ) {\r\n\r\n                // GameUserInfo.GAME_TOKEN = ComUtil.m_obj[\"tokens\"];\r\n                // GameSetting.Login_UDID = ComUtil.m_obj[\"uid\"];\r\n                // GameSetting.Server_id = ComUtil.m_obj[\"server_id\"];\r\n                // GameSetting.Server_URL = ComUtil.m_obj[\"web_server_url\"];\r\n                // GameSetting.Plantform_APPID = ComUtil.m_obj[\"game_id\"];\r\n                // GameSetting.PLATFORM = ComUtil.m_obj[\"platform\"];\r\n                // GameSetting.m_bIsMobWeb = parseInt(ComUtil.m_obj[\"is_mobile\"]) == 1;\r\n                let langID;\r\n                if(ComUtil.m_obj[\"language\"] ) {\r\n                    langID = ComUtil.m_obj[\"language\"] + \"\";\r\n                } else {\r\n                    langID = \"1\";\r\n                }\r\n                GameSetting.User_Lan = ComUtil.langObj[langID][0];\r\n                // GameSetting.IP_User = ComUtil.m_obj[\"userip\"];\r\n                // GameSetting.IsRelease = true;\r\n                // console.log(\"4initgame-->urldata:\", ComUtil.m_obj);\r\n                // return;\r\n            } \r\n            // let appData: any = ComUtil.m_obj[\"appdata\"];\r\n            // if(appData ) {\r\n            //     ComUtil.m_obj = {};\r\n            //     m_arr = strBase64.split(\"&\");\r\n            //     for(let i = 0; i < m_arr.length; i++) {\r\n            //         let strValue: string = m_arr[i];\r\n            //         let indexF: number = strValue.indexOf(\"=\");\r\n            //         let keys: string = strValue.substring(0, indexF);\r\n            //         let value: string = strValue.substring(indexF + 1, strValue.length);\r\n            //         ComUtil.m_obj[keys] = value;\r\n            //         console.log(\"2initgame-->keys:\" + keys + \" value:\" + value);\r\n            //     }\r\n            //     GameSetting.M_strCountry = ComUtil.m_obj[\"country\"];\r\n            //     GameSetting.M_strTarget = ComUtil.m_obj[\"target\"];\r\n            //     GameSetting.M_strTarget = GameSetting.M_strTarget.replace(/(^\\s*)|(\\s*$)/g, \"\");\r\n            //     console.log(\"initgame-->M_strTarget:\" + GameSetting.M_strTarget);\r\n            //     console.log(\"initgame-->M_strTarget:\" + \"local\");\r\n            //     console.log(\"initgame-->M_strTarget:\" + (GameSetting.M_strTarget == \"local\"));\r\n            //     GameSetting.M_bAppData = true;\r\n            // } \r\n            // if(ComUtil.m_obj[\"country\"] && ComUtil.m_obj[\"country\"] != \"\" ) {\r\n            //     GameSetting.M_strCountry = ComUtil.m_obj[\"country\"];\r\n            // } \r\n            // if(ComUtil.m_obj[\"tk\"] && ComUtil.m_obj[\"tk\"] != \"\" ) {\r\n            //     GameUserInfo.GAME_TOKEN = ComUtil.m_obj[\"tk\"];\r\n            // } \r\n            if(ComUtil.m_obj[\"server\"] && ComUtil.m_obj[\"server\"] != \"\" ) {\r\n                //  server=http://120.53.94.125:9091\r\n                HttpCmd.httpRoot = ComUtil.m_obj[\"server\"];\r\n            }\r\n            if(ComUtil.m_obj[\"socket\"] && ComUtil.m_obj[\"socket\"] != \"\" ) {\r\n                 //  socket=ws://120.53.94.125:10011\r\n                var ws = ComUtil.m_obj[\"socket\"];\r\n      \r\n                WebSocketService.m_strHttpHost =  ws + \"/websocket\";\r\n            } \r\n            if(ComUtil.m_obj[\"address\"] && ComUtil.m_obj[\"address\"] != \"\" ) {\r\n                EthereumManager.instance.walletAddress = ComUtil.m_obj[\"address\"];\r\n            } \r\n            if(ComUtil.m_obj[\"debug\"] && ComUtil.m_obj[\"debug\"] != \"0\" ) {//debug\r\n                GameSetting.Debug = parseInt(ComUtil.m_obj[\"debug\"]);\r\n            } \r\n            // if(ComUtil.m_obj[\"guid\"] && ComUtil.m_obj[\"guid\"] != \"\" ) {\r\n            //     if(ComUtil.m_obj[\"guid\"] == \"true\" || ComUtil.m_obj[\"guid\"] == \"1\" ) {\r\n            //         GameSetting.UseGuide = true;\r\n            //         if(ComUtil.m_obj[\"ignoreGuides\"] && ComUtil.m_obj[\"ignoreGuides\"] != \"\" ) {\r\n            //             let ignoreGuides: string = ComUtil.m_obj[\"ignoreGuides\"];\r\n            //             GameSetting.ignoreGuides = ignoreGuides.split(\",\");\r\n            //         } \r\n            //         if(ComUtil.m_obj[\"removeGuides\"] && ComUtil.m_obj[\"removeGuides\"] != \"\" ) {\r\n            //             let removeGuides: string = ComUtil.m_obj[\"removeGuides\"];\r\n            //             GameSetting.removeGuides = removeGuides.split(\",\");\r\n            //         } \r\n            //         if(ComUtil.m_obj[\"maxMapId\"] && ComUtil.m_obj[\"maxMapId\"] != \"\" ) {\r\n            //             let maxMapId: string = ComUtil.m_obj[\"maxMapId\"];\r\n            //         } \r\n            //     } else {\r\n            //         GameSetting.UseGuide = false;\r\n            //     }\r\n            //     ComUtil._IsSetGuid = true;\r\n            // } \r\n\r\n            // if(ComUtil.m_obj[\"release\"] && ComUtil.m_obj[\"release\"] != \"\" ) {\r\n            //     if(ComUtil.m_obj[\"release\"] == \"true\" || ComUtil.m_obj[\"release\"] + \"\" == \"1\" ) {\r\n            //         GameSetting.IsRelease = true;\r\n            //     } else {\r\n            //         GameSetting.IsRelease = false;\r\n            //     }\r\n            //     ComUtil._IsSetRelease = true;\r\n            // }\r\n\r\n            if(ComUtil.m_obj[\"lang\"] && ComUtil.m_obj[\"lang\"] != \"\" ) {\r\n                let langIndex: number = parseInt(ComUtil.m_obj[\"lang\"]);\r\n                if(langIndex < 1 ) {\r\n                    langIndex = 1\r\n                } \r\n                GameSetting.ignoreLang = true;\r\n                GlobalDataManager.instance.m_strLanguage = langIndex;\r\n            } \r\n\r\n\r\n        } \r\n    }\r\n\r\n\r\n\r\n\r\n        // URL\r\n        private static getURLParameters(url: string): any {\r\n            const params: any = {};\r\n            url.replace(/[?&]+([^=&]+)=([^&]*)/gi, (_match: string, key: any, value: any):string => params[key] = decodeURIComponent(value));\r\n            return params;\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public static cheakStr(nameStr: string): boolean {\r\n        let checkStr: RegExp = new RegExp(\"[A-Za-z0-9_-\\\\s]\", \"g\");\r\n        let ary: any[] = nameStr.match(checkStr);\r\n        if(ary && ary.length == nameStr.length ) {\r\n            return true;\r\n        } \r\n        return false;\r\n    }\r\n}", "import { GameUserInfo } from \"./GameUserInfo\";\r\nimport { LoadingRTBase } from \"./LoadingRT.generated\";\r\nimport { GameLanguageMgr } from \"./game/common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"./game/common/GameResourceManager\";\r\nimport { LayerManager } from \"./game/common/LayerManager\";\r\nimport { LoadingManager } from \"./game/common/LoadingManager\";\r\nimport { ModuleManager } from \"./game/common/ModuleManager\";\r\nimport { PlatFormManager } from \"./game/common/PlatFormManager\";\r\nimport { SceneManager } from \"./game/common/SceneManager\";\r\nimport { SoundMgr } from \"./game/common/SoundMgr\";\r\nimport { SceneType } from \"./game/common/baseScene/SceneType\";\r\nimport { GameSetting } from \"./game/global/GameSetting\";\r\nimport { GlobalDataManager } from \"./game/global/GlobalDataManager\";\r\nimport { ModuleName } from \"./game/global/ModuleName\";\r\nimport { RegistClass } from \"./game/global/RegistClass\";\r\nimport { SceneLoadingManager } from \"./game/global/SceneLoadingManager\";\r\nimport { SheetDataManager } from \"./game/global/SheetDataManager\";\r\nimport { EthereumManager } from \"./game/global/contract/EthereumManager\";\r\nimport { LoginDto } from \"./game/global/contract/vo/LoginDto\";\r\nimport { GameEvent } from \"./game/global/event/GameEvent\";\r\nimport { Signal } from \"./game/global/event/Signal\";\r\nimport { ComUtil } from \"./game/global/util/ComUtil\";\r\nimport { Quick } from \"./game/global/util/Quick\";\r\nimport { MatchModel } from \"./game/module/match/MatchModel\";\r\nimport { NoticeMgr } from \"./game/module/notice/NoticeMgr\";\r\nimport HttpCmd from \"./game/net/HttpCmd\";\r\nimport { HttpNetService } from \"./game/net/HttpNetService\";\r\nimport { WebSocketService } from \"./game/net/WebSocketService\";\r\nimport { Debug } from \"./game/util/Debug\";\r\n\r\nconst { regClass } = Laya;\r\n@regClass('xmaaYG8AQ1yC07pr_JvyPA')\r\nexport default class LoadingRT extends LoadingRTBase {\r\n    public static m_iState: number = 1;\r\n    private isLogout: boolean = false;\r\n    // public static loadOk: boolean = false;\r\n    private m_nSendTime: number;\r\n    private dotNum: number = 0;\r\n    onAwake(): void {\r\n        //    \r\n        Laya.loader.on(Laya.Event.ERROR, this, this.onError);\r\n        Laya.loader.load(\r\n            //\r\n            [\"res/common/comm_bg/img_loading_bg.jpg\", \"res/loading/progress_load1.png\", \"res/loading/progress_load1$bar.png\"]\r\n        ).then(() => {\r\n            this.createUI();\r\n            this.init();\r\n                     \r\n        });\r\n    }\r\n\r\n    /**\r\n   * \r\n   * @param err \r\n   */\r\n    onError(err: string): void {\r\n        console.log(\": \" + err);\r\n    }\r\n\r\n\r\n    public createUI(): void {\r\n        this.m_nSendTime = Laya.timer.currTimer;\r\n\r\n        \r\n        SoundMgr.instance.init();\r\n        SoundMgr.instance.playMusicByName(SoundMgr.soundName_bg, \".mp3\");\r\n\r\n        // this.btnAccept.selected = true;\r\n        // this.btnLogout.clickHandler = new Laya.Handler(this, this.handleClickBtn, [this.btnLogout]);\r\n        Signal.intance.on(GameEvent.EVENT_BACK_TO_LOGIN, this, this.backToLogin);\r\n        Signal.intance.on(GameEvent.EVENT_LOGIN_GAME_END, this, this.loginGameEnd);\r\n        Signal.intance.on(GameEvent.EVENT_ENTER_MAIN, this, this.loginCallBack);\r\n        this.btnSound.clickHandler = new Laya.Handler(this, this.handleClickBtn, [this.btnSound]);\r\n        this.btnSound.visible = false;\r\n        // let gameVersion: string = \"app_\" + GameSetting.App_Version + \" sdk_\" + GameSetting.SDK_Version + \" game_\" + GameSetting.Game_Version;\r\n        // PreLoadingView.loadOk = false;\r\n        this.initLoad();\r\n        // Laya.timer.loop(300, this, this.txtAnima);\r\n        // this.txtLoad.align = \"left\";\r\n        // this.txtLoad.color = \"#e566d1\";\r\n        // this.txtLoad.visible = false;\r\n        // this.ani1.play(0, true);\r\n        let langstr = GameSetting.User_Lan;\r\n        // if(langstr == 'zh'){\r\n        //     this.txtLoad.text = '...'\r\n        // }else{\r\n        //     this.txtLoad.text = 'loading...'\r\n            this.txtLoad.text = getGameVersion();\r\n\r\n        // }\r\n        Debug.Initialize(Laya.stage, true);\r\n        // let dHeight = (Laya.stage.height - GameSetting.DESIGN_HEIGHT)/2;\r\n        \r\n        // this.img_lodingtext.y -= dHeight;\r\n    }\r\n\r\n    private handleClickBtn(currentTarget: Laya.Button): void {\r\n        switch(currentTarget) {\r\n    \r\n            // case this.btnLogout:\r\n            // {\r\n            //     this.isLogout = true\r\n            // }\r\n            // break;\r\n            case this.btnSound:\r\n            {\r\n                SoundMgr.instance.m_bPlayMusic = !SoundMgr.instance.m_bPlayMusic\r\n            }\r\n            break;\r\n        }\r\n    }\r\n\r\n    private initLoad(): void {\r\n        this.onAssetLoaded();\r\n    }\r\n    private onAssetLoaded(): void {\r\n        this.loadingProcess = 0;\r\n        this.m_nProgress = 0;\r\n        Laya.timer.loop(1800, this, this.onLoading, [this.m_nProgress]);\r\n        // this.completeFun();\r\n    }\r\n    private set loadingProcess(_value: number) {\r\n        if(_value > 1 ) {\r\n            _value = 1\r\n        } \r\n        this.mcProcess.value = _value;\r\n        this.txtProcess.text = Math.floor(_value * 100) + \"%\";\r\n        // this.img_arrow.rotation = -132 + 132 * 2 * _value;\r\n    }\r\n\r\n    private init(): void {\r\n\t\t// new window[\"ClipboardJS\"](\".btn-copy\");\r\n\t\t\r\n\t\tGameLanguageMgr.instance.FGM_GetLanguage();\r\n        RegistClass.intance.init();\r\n        LayerManager.instence.init();\r\n        SceneManager.intance.init();\r\n        LoadingManager.instance.init();\r\n        SceneLoadingManager.instance.init();\r\n        ModuleManager.intance.init();\r\n        GlobalDataManager.instance.init();\r\n\t\t// //  TODO::3\r\n\t\t// let spotInfo: SpotInfo = new SpotInfo();\r\n        // spotInfo.ID = 3;\r\n        // spotInfo.Event = \"\";\r\n        // PlatFormManager.instance.sendCustumEvent(3, null, spotInfo);\r\n        GameResourceManager.instance.init();\r\n        ComUtil.initParms();\r\n\t\t\r\n\t\t\r\n    }\r\n\r\n\r\n\r\n\r\n    private backToLogin(): void {\r\n        Laya.timer.clear(this, this.onLoading);\r\n        this.m_nProgress = 0;\r\n        Laya.loader.load(GameResourceManager.instance.m_arrInitResource, Laya.Handler.create(this, this.getLoginData), Laya.Handler.create(this, this.onLoading2, null, false));\r\n        \r\n            this.btnSound.visible = true\r\n\r\n    }\r\n    private getLoginData(): void {\r\n        //  TODO::7\r\n        PlatFormManager.instance.sendCustumEvent(7);\r\n        // PlatFormManager.instance.sendCustumEvent(51);\r\n        // GlobalRoleDataManger.instance.initSkinData();\r\n        this.readyInitGame();\r\n    }\r\n    private readyInitGame(): void {\r\n        // PreLoadingView.loadOk = true;\r\n        if(this.isLogout ) {\r\n            Signal.intance.event(GameEvent.EVENT_LOADING_SUC);\r\n            return;\r\n        } \r\n        if(this.mcProcess ) {\r\n            this.loadingProcess = 0.8 + 0.2\r\n        } \r\n        // this.txtLoad.visible = false;\r\n        this.loginGame();\r\n    }\r\n\r\n\r\n    private async loginGame(): Promise<void> {\r\n        Signal.intance.event(GameEvent.EVENT_LOADED_COMPLETE);\r\n        await EthereumManager.instance.init();\r\n\r\n        await EthereumManager.instance.dappLogin();\r\n    }\r\n\r\n    private async loginGameEnd(loginDto:LoginDto): Promise<void> {\r\n        \r\n        // LoadingManager.instance.showLoadingByInfo(GameLanguageMgr.instance.getLanguage(5203));\r\n        \r\n\r\n\r\n        \r\n\r\n        // if(!GameSetting.isTest){\r\n            // let loginDto:LoginDto = await HttpCmd.requestPost('wxgame/player/login',{debug:GameSetting.Debug, token:walletAddress}, false, false).catch((err: any)=> {\r\n            //     ModuleManager.intance.openModule(ModuleName.NoServerView);\r\n            //     return;\r\n            // })\r\n\r\n        // }\r\n\r\n        \r\n\r\n\r\n        //  TODO::8\r\n        PlatFormManager.instance.sendCustumEvent(8);\r\n        SheetDataManager.intance.init();\r\n        // if(!GameSetting.isTest){\r\n            \r\n            \r\n\r\n            // //websocket\r\n            // WebSocketService.instance.initSocket();\r\n            \r\n        // }\r\n        \r\n        HttpNetService.instance.init();\r\n\r\n        console.log(\"PreLoadingView.joinGame()\");\r\n        let loginTime: number = Laya.timer.currTimer - this.m_nSendTime;\r\n        // if(loginTime < 2000 ){\r\n        //     Laya.timer.once(2000 - loginTime, this, this.loginCallBack);\r\n\r\n        // }else\r\n        //     this.loginCallBack();\r\n        //  TODO::22\r\n        PlatFormManager.instance.sendCustumEvent(22);\r\n        if(!loginDto){\r\n            ModuleManager.intance.openModule(ModuleName.NoServerView);\r\n            return;\r\n        }\r\n\r\n\r\n        // let playerDto = await ETHAccountProxy.instance.getAccountVoFromServer();\r\n        // let playerDto = new PlayerDto(); //await ETHAccountProxy.instance.getAccountVoFromServer();\r\n        // playerDto.id = 1;\r\n        // //\r\n\r\n        // playerDto.nickName = \"1\";\r\n        // playerDto.avatar = \"10001\";\r\n        // playerDto.level = 1;\r\n        // playerDto.birthHeight = 1;\r\n        // playerDto.birthPlace = 1;\r\n        // playerDto.gender = 1;\r\n        // playerDto.influence = 1;\r\n        // playerDto.exp = \"1\";\r\n        // playerDto.nextExp = \"1\";\r\n        // playerDto.power = \"1\";\r\n        // playerDto.nowExp = \"1\";\r\n\r\n        // let playerDto = false;// = await ETHAccountProxy.instance.getAccountVoFromServer();\r\n        if(loginDto.loginState == 1){\r\n            console.log(\"have no regist\");\r\n            //  TODO::23\r\n            PlatFormManager.instance.sendCustumEvent(23);\r\n            ModuleManager.intance.openModule(ModuleName.CreateLoginView);\r\n        }else{\r\n            //  TODO::30\r\n            PlatFormManager.instance.sendCustumEvent(30);\r\n            // let playerDto = await ETHAccountProxy.instance.getAccountInfo();\r\n            if(loginDto.playerDto){\r\n                //  TODO::31\r\n                PlatFormManager.instance.sendCustumEvent(31);\r\n                console.log(\"registed \"+loginDto.playerDto.name);\r\n                GlobalDataManager.instance.playerDto = loginDto.playerDto;\r\n                // localStorage.setItem('TOX-COOKIE' + EthereumManager.instance.walletAddress, loginDto.playerDto.loginToken);\r\n                this.loginCallBack();\r\n            }else{\r\n                //  TODO::32\r\n                PlatFormManager.instance.sendCustumEvent(32);\r\n                console.log(\"getRegisted error\");\r\n                NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(135));//error\r\n            }\r\n\r\n        }\r\n        // console.log(\"********************************************************initgame->serverURL:\");\r\n    }\r\n    // private onLanguageLoaded(): void {\r\n    //     GameResourceManager.instance.setGlobalLanguage();\r\n    //     this.loginCallBack();\r\n    // }\r\n    private async loginCallBack(): Promise<void> {\r\n        console.log(\"loginCallBack++++++++++++++++++++++++++++++++\");\r\n        // PlatFormManager.instance.sendCustumEvent(3);\r\n        LoadingManager.instance.hideLoading();\r\n        // PreLoadingView.m_iState = 2;\r\n\r\n        var playerDto = GlobalDataManager.instance.playerDto;\r\n        if(playerDto.roomId> 0){\r\n            let data:any = await HttpCmd.requestPost(\"wxgame/room/info\", {roomId: playerDto.roomId})\r\n    \r\n            MatchModel.instance.roomDto = data.roomDto;\r\n\r\n                if(data.roomDto){  \r\n                    if(playerDto.roomState == 0){\r\n                        ModuleManager.intance.openModule(ModuleName.EnterRoomView);            \r\n                    }else if(playerDto.roomState == 1){\r\n                        WebSocketService.instance.initSocket();\r\n                    }\r\n\r\n                }else{\r\n                    NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(135));//error\r\n                }\r\n\r\n\r\n        }else{\r\n            Quick.logs(\"\", 5);\r\n            //  TODO::33\r\n            PlatFormManager.instance.sendCustumEvent(33);\r\n            SceneManager.intance.setCurrentScene(SceneType.M_SCENE_MAIN);\r\n        }\r\n\r\n\r\n        \r\n        // let storyID: string = GameUserInfo.instance.playerName;\r\n        // console.log(\"storyID ==========\" + storyID);\r\n        \r\n        \r\n        HttpCmd.startHeart();\r\n    }\r\n    private m_nProgress: number = 0;\r\n    private onLoading(progress: number): void {\r\n        this.m_nProgress += 0.01;\r\n        if(this.mcProcess ) {\r\n            if(progress > this.mcProcess.value ) {\r\n                this.loadingProcess = progress * 0.4;\r\n            } \r\n        } \r\n    }\r\n    private onLoading2(progress: number): void {\r\n        if(this.mcProcess ) {\r\n            this.loadingProcess = 0 + progress * 1.1\r\n        } \r\n    }\r\n    public removeEvent(): void {\r\n        // this.ani1.stop();\r\n        // Laya.timer.clear(this, this.txtAnima);\r\n        Signal.intance.off(GameEvent.EVENT_BACK_TO_LOGIN, this, this.backToLogin);\r\n        Signal.intance.off(GameEvent.EVENT_LOGIN_GAME_END, this, this.loginGameEnd);\r\n        Signal.intance.off(GameEvent.EVENT_ENTER_MAIN, this, this.loginCallBack);\r\n        \r\n    }\r\n\r\n\r\n\r\n}", "export class BtnColorFilter extends Laya.ColorFilter {\r\n    private static clickFilter: BtnColorFilter = new BtnColorFilter([1, 0, 0, 0, -34, 0, 1, 0, 0, -34, 0, 0, 1, 0, -34, 0, 0, 0, 1, 0]);\r\n    public constructor(mat: any[] = null) {\r\n        super(mat);\r\n    }\r\n    public static addClickFilter(target: Laya.Sprite): void {\r\n        let filters: any[] = target.filters || [];\r\n        filters.push(BtnColorFilter.clickFilter);\r\n        target.filters = filters;\r\n    }\r\n    public static clearClickFilter(target: Laya.Sprite): void {\r\n        let filters: any[] = target.filters;\r\n        if(filters != null && filters.length > 0 ) {\r\n            for(let i: number = filters.length - 1; i > -1; i--) {\r\n                let filter: any = filters[i];\r\n                if(filter instanceof BtnColorFilter ) {\r\n                    filters.splice(i, 1)\r\n                } \r\n            }\r\n            target.filters = filters;\r\n        } \r\n    }\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-06 16:29:41\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-02-06 02:04:09\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { BtnColorFilter } from \"../filters/BtnColorFilter\";\r\nimport { SoundMgr } from \"../SoundMgr\";\r\n@regClass('cL1AmqOiTHmtQWKayPNcTA')\r\nexport default class Button extends Laya.Script {\r\n  owner: Laya.Box;\r\n  constructor() {\r\n    super();\r\n  }\r\n  onEnable() {\r\n    let oldScale = this.owner.scaleX;\r\n    this.owner.on(Laya.Event.MOUSE_DOWN, this, this.onDown);\r\n    Laya.stage.on(Laya.Event.MOUSE_UP, this, this.onUp);\r\n  }\r\n\r\n  onDown(){\r\n    SoundMgr.instance.playSoundByName(SoundMgr.soundName4);\r\n    BtnColorFilter.addClickFilter(this.owner);\r\n    // Utils.asyncTween(\r\n    //   this.owner,\r\n    //   { scaleX: oldScale * 0.9, scaleY: oldScale * 0.9 },\r\n    //   100\r\n    // );\r\n  }\r\n\r\n  onUp(){\r\n    // Utils.asyncTween(this.owner, { scaleX: oldScale, scaleY: oldScale }, 100);\r\n    BtnColorFilter.clearClickFilter(this.owner);\r\n  }\r\n\r\n  onDisable(): void {\r\n    BtnColorFilter.clearClickFilter(this.owner);\r\n    this.owner.off(Laya.Event.MOUSE_DOWN, this, this.onDown);\r\n    Laya.stage.off(Laya.Event.MOUSE_UP, this, this.onUp);\r\n  }\r\n}\r\n", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/baseAlert/BaseAlertDialog.lh\n */\nexport class BaseAlertDialogBase extends Laya.Dialog {\n    public alertTitle!: Laya.Label;\n    public alertDesc!: Laya.Label;\n    public okBtn!: Laya.Button;\n    public cancleBtn!: Laya.Button;\n}\n\n", "/*\r\n * @Description: \r\n * @Author: hjy\r\n * @Date: 2024-01-28 00:30:41\r\n * @LastEditTime: 2024-01-28 03:20:13\r\n * @LastEditors: hjy\r\n */\r\nconst { regClass } = Laya;\r\nimport { AlertType } from \"../../common/AlertType\";\r\nimport { BaseAlertDialogBase } from \"./BaseAlertDialog.generated\";\r\n\r\n@regClass('8G0DBvD7T_2CVupdfQXrBw')\r\nexport class BaseAlertDialog extends BaseAlertDialogBase {\r\n\r\n\r\n    protected _okHandler: Laya.Handler;\r\n    protected _cancelHandler: Laya.Handler;\r\n    public destroyDoCancel: boolean = false;\r\n    public constructor() {\r\n        super();\r\n        \r\n    }\r\n\r\n    onEnable(): void {\r\n        this.on(Laya.Event.CLICK, this, this.onClickEvent);\r\n    }\r\n\r\n\r\n    public onClickEvent(e: Laya.Event): void {\r\n        let target: Laya.Sprite = e.target;\r\n        if(target.name == \"okBtn\" ) {\r\n            this._okHandler && this._okHandler.runWith(null);\r\n            this.close();\r\n        } else if(target.name == \"cancleBtn\" ) {\r\n            this.destroyDoCancel = false;\r\n            this._cancelHandler && this._cancelHandler.runWith(null);\r\n            this.close();\r\n        } \r\n    }\r\n\r\n    public setOpenData(_data: any) {\r\n        \r\n        if(_data){\r\n            this._okHandler = _data.okHandler;\r\n            this._cancelHandler = _data.cancelHandler;\r\n            this.destroyDoCancel = _data.destroyDoCancel;\r\n            if(_data.flag & AlertType.YES && !(_data.flag & AlertType.NO) ) {\r\n                this.okBtn.x = this.width - this.okBtn.width >> 1;\r\n                this.cancleBtn.visible = false;\r\n                this.okBtn.label = \"Sure\";\r\n            } else if(_data.flag & AlertType.NO && !(_data.flag & AlertType.YES) ) {\r\n                this.okBtn.visible = false;\r\n            } else if(_data.flag & AlertType.YES && _data.flag & AlertType.NO ) {\r\n                \r\n            } \r\n\r\n            if(_data.data && this.alertDesc ) {\r\n                if(_data.data instanceof Array ){\r\n                    this.alertTitle.text = _data.data[0] as string;\r\n                    this.alertDesc.text = _data.data[1] as string;\r\n                    \r\n\r\n                }else{\r\n                    this.alertDesc.text = _data.data as string;\r\n                }\r\n                \r\n            } \r\n            if(_data.initHandler ) {\r\n                _data.initHandler.runWith(this);\r\n            } \r\n            \r\n        }\r\n    }\r\n\r\n    onDisable(): void {\r\n        if(this.destroyDoCancel && this._cancelHandler ) {\r\n            this._cancelHandler.run()\r\n        }\r\n        this._okHandler = null;\r\n        this._cancelHandler = null;\r\n    }\r\n\r\n\r\n    \r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { PlayerIcon } from \"../mainView/PlayerIcon\";\n\n/**\n * scenes/createRole/ChangeHeadDialog.lh\n */\nexport class ChangeHeadDialogBase extends Laya.Dialog {\n    public list_head!: Laya.List;\n    public playerIcon!: PlayerIcon;\n    public btn_confirm!: Laya.Button;\n    public btn_custom!: Laya.Button;\n}\n\n", "const { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { ETHAccountProxy } from \"../../global/contract/service/ETHAccountProxy\";\r\nimport { PlayerDto } from \"../../global/contract/vo/PlayerDto\";\r\nimport { SheetDictionary } from \"../../global/data/sheetItem/item/SheetDictionary\";\r\nimport { GameEvent } from \"../../global/event/GameEvent\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { HeadItem } from \"../../global/vo/HeadItem\";\r\nimport HttpCmd from \"../../net/HttpCmd\";\r\nimport { Dictionary } from \"../../util/Dictionary\";\r\nimport { NoticeMgr } from \"../notice/NoticeMgr\";\r\nimport { ChangeHeadDialogBase } from \"./ChangeHeadDialog.generated\";\r\n\r\n@regClass('BmtPy79ySCyg4IuEQC4zsQ')\r\nexport class ChangeHeadDialog extends ChangeHeadDialogBase {\r\n\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_POP;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n\r\n\r\n    // private isModify:boolean;\r\n    public constructor(_data: any) {\r\n        super();\r\n        // if(_data){\r\n        //     this.isModify = true;\r\n        // }else{\r\n        //     this.isModify = false;\r\n        // }\r\n    }\r\n\r\n\r\n    onEnable(): void {\r\n        \r\n        this.list_head.vScrollBarSkin = \"\";\r\n        \r\n        // this.btn_close.on(Laya.Event.CLICK, this, this.onClose);\r\n        this.btn_confirm.on(Laya.Event.CLICK, this, this.onRegister);\r\n        this.btn_custom.on(Laya.Event.CLICK, this, this.onBtnChangePic);\r\n    \r\n        this.initContainer();        \r\n    }\r\n\r\n\r\n\r\n    // private onRenderList(cell: Laya.Box, index: number): void {\r\n    //     let data = cell.dataSource as HeadItem;\r\n    //     let selected = cell.getChildByName(\"selected\") as Laya.Image;\r\n    //     selected.visible = this.list_head.selectedIndex == index;\r\n    //     let emojiImg:Laya.Button = cell.getChildByName(\"img_emoji\") as Laya.Button;\r\n    //     emojiImg.skin = GameResourceManager.instance.getPlayerIcon(data.id);\r\n    // }\r\n\r\n    private initContainer(): void {\r\n        this.list_head.vScrollBarSkin = \"\";\r\n        this.list_head.selectHandler = new Laya.Handler(this, this.handleSelectHead);\r\n        // this.list_head.renderHandler = new Laya.Handler(this, this.onRenderList);\r\n        // this.list_head.visible = true;\r\n        this.createHeadList();\r\n    }\r\n    private handleSelectHead(index: number): void {\r\n        if(index != -1){\r\n            let headItem: HeadItem = this.list_head.selectedItem;\r\n            GlobalDataManager.instance.headId = headItem.id;\r\n            this.playerIcon.headSkin = GlobalDataManager.instance.headId;\r\n        }\r\n    }\r\n    private createHeadList(): void {\r\n        // let arr: any[] = [];\r\n        let m_dicHead: Dictionary = SheetDataManager.intance.m_dicHead;\r\n\r\n        this.list_head.array = m_dicHead.values;\r\n        this.list_head.visible = true;\r\n        let selectIndex = -1;\r\n        let i = 0;\r\n        // GlobalDataManager.instance.headId = GlobalDataManager.instance.playerDto.icon;\r\n        this.playerIcon.headSkin = GlobalDataManager.instance.headId;//\r\n\r\n\r\n        for(let entry of m_dicHead.values){\r\n            if(entry.id == GlobalDataManager.instance.headId){\r\n                selectIndex = i;\r\n                break;\r\n            }\r\n            i++;\r\n        }\r\n        this.list_head.selectedIndex = selectIndex;\r\n    }\r\n\r\n\r\n/**    */\r\nonBtnChangePic():void {\r\n\r\n    // var _openUploadPicBack:Function = this.openUploadPicBack;\r\n    var zIndex = Laya.Render.canvas.style.zIndex;\r\n    var uploadP = GameLanguageMgr.instance.getUILang(\"Upload picture\");\r\n    var selectI = GameLanguageMgr.instance.getUILang(\"Select Image\");\r\n    var saveC = GameLanguageMgr.instance.getUILang(\"Save changes\");\r\n    openUploadPic(this, zIndex, uploadP, selectI, saveC);\r\n    \r\n}\r\n\r\n/**    */\r\nasync openPicEnd(openWin:ChangeHeadDialog, base64:string):Promise<void>{\r\n    if(base64.length>500){\r\n        // this.img_head.skin = base64;\r\n        let temp = await HttpCmd.requestPost('wxgame/player/uploadImg',{base64Str: base64}, false, false);\r\n        if(temp){\r\n            GlobalDataManager.instance.headId = temp.imgUrl;\r\n            openWin.playerIcon.headSkin = temp.imgUrl;\r\n            console.log(temp.imgUrl);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n    onRegister() {\r\n        // let createName:string = this.input_name.text;\r\n        let headId:number = GlobalDataManager.instance.headId;\r\n        Signal.intance.event(GameEvent.EVENT_MODIFY_HEAD, [headId]);\r\n                    // if(this.isModify){\r\n                    //     this.onModify(headId);\r\n\r\n                    // }else{\r\n                        \r\n                        this.close();\r\n                    // }\r\n    }\r\n    // async onModify(headId:number) {\r\n\r\n    //             let playerDto:PlayerDto = await ETHAccountProxy.instance.updateProfile('', headId.toString());\r\n\r\n    //             if(playerDto){\r\n    //                 GlobalDataManager.instance.playerDto = playerDto;\r\n    //                 this.close();\r\n    //                 Signal.intance.event(GameEvent.ROLE_INFO_CHANGE);\r\n\r\n    //             }else{\r\n    //                 NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(135));//error\r\n    //             }\r\n    // }\r\n\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { CoinComboList } from \"./CoinComboList\";\n\n/**\n * scenes/createRole/CoinCombo.lh\n */\nexport class CoinComboBase extends Laya.ComboBox {\n    public img_pad!: Laya.Image;\n    public comboList!: CoinComboList;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-03-12 17:54:03\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-12 19:40:19\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { CoinComboBase } from \"./CoinCombo.generated\";\r\n\r\n@regClass('AqEOSlrnRkmI9RUPCJUVqQ')\r\nexport class CoinCombo extends CoinComboBase {\r\n    set defaultLabel(value: string) {\r\n        this._defaultLabel = value;\r\n        this._selectedIndex < 0 && (this._button.label = value);\r\n        this._button.labelAlign = \"center\";\r\n    }\r\n\r\n    onEnable(): void {\r\n        this.list = this.comboList;\r\n\r\n\r\n            \r\n    }\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        var comboData:any[] = value;\r\n        if(!comboData ) {\r\n            return\r\n        }\r\n        // this.addEvent();\r\n\r\n        //list\r\n        \r\n        this.labels= comboData.join(\",\");\r\n            \r\n        //\r\n        // this.list.array = comboData;\r\n        //\r\n        console.log(\"comboData.length: \" + comboData.length);\r\n        this.list.repeatY = comboData.length;\r\n\r\n            //Listlist\r\n\r\n        this.list.width = this.width;\r\n        this.list.renderHandler = Laya.Handler.create(this, this.onCountryItemRender, null, false);\r\n        // this.list.hScrollBarSkin = \"\";\r\n        // this.selectHandler = new Laya.Handler(this, this.onSelected2);\r\n        \r\n        // this.selectedIndex = 0;\r\n\r\n    }\r\n\r\n    private onCountryItemRender(cell: any, index: number): void {\r\n        cell.onChange(this.list.selectedIndex == index);\r\n    }\r\n\r\n\r\n    \r\n    set isOpen(value: boolean) {\r\n        //var Laya = ILaya.Laya;\r\n        console.log(\"isOpen: \" + value);\r\n        if (this._isOpen != value) {\r\n            this._isOpen = value;\r\n            this._button.selected = this._isOpen;\r\n            if (this._isOpen) {\r\n                this._list || this._createList();\r\n                this._listChanged && !this._isCustomList && this.changeList();\r\n                this._itemChanged && this.changeItem();\r\n\r\n                var p: Laya.Point = this.localToGlobal(Laya.Point.TEMP.setTo(0, 0));\r\n                var py: number = p.y + this._button.height;\r\n                py = py + this._listHeight <= Laya.stage.height ? py : p.y - this._listHeight < 0 ? py : p.y - this._listHeight;\r\n                this.img_pad.addChild(this._list);\r\n                // this.img_pad.pos(0, 0);\r\n                this.img_pad.pos(p.x, py);\r\n                this.img_pad.visible = true;;\r\n                Laya.stage.addChild(this.img_pad);\r\n\r\n                // this._list.pos(p.x, py);\r\n                this.img_pad.zOrder = 1001;\r\n\r\n                \r\n                //Laya.stage.once(Event.MOUSE_DOWN, this, removeList);\r\n                //Laya.stage.on(Event.MOUSE_WHEEL, this, _onStageMouseWheel);\r\n                //parent.addChild(_list);\r\n                Laya.stage.once(Laya.Event.MOUSE_DOWN, this, this.removeList);\r\n                Laya.stage.on(Laya.Event.MOUSE_WHEEL, this, this._onStageMouseWheel);\r\n                this._list.selectedIndex = this._selectedIndex;\r\n            } else {\r\n                this._list && this._list.removeSelf();\r\n                this.img_pad && this.img_pad.removeSelf();\r\n            }\r\n        }\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/createRole/CoinComboList.lh\n */\nexport class CoinComboListBase extends Laya.List {\n}\n\n", "const { regClass } = Laya;\r\nimport { CoinComboListBase } from \"./CoinComboList.generated\";\r\n\r\n@regClass('7DDHp602Rs6dL3bjAu4ArA')\r\nexport class CoinComboList extends CoinComboListBase {\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/createRole/CoinComboListItem.lh\n */\nexport class CoinComboListItemBase extends Laya.Box {\n    public selectImg!: Laya.Image;\n    public tf_name!: Laya.Label;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-03-12 14:27:32\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-12 15:32:07\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { CoinComboListItemBase } from \"./CoinComboListItem.generated\";\r\n\r\n@regClass('nREGzTKFSX6LuiRnM5nPXA')\r\nexport class CoinComboListItem extends CoinComboListItemBase {\r\n\r\n    isAddEvent: boolean;\r\n\r\n    private addEvent(){\r\n        // if(!this.isAddEvent){\r\n            \r\n        //     // this.img_chanchu.on(Laya.Event.CLICK, this, this.onDigGet);\r\n        //     this.selectBox.on(Laya.Event.CHANGE,this, this.onChange);\r\n        //     this.isAddEvent = true;\r\n        // }\r\n\r\n    }\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        var coinName:any = value;\r\n        if(!coinName ) {\r\n            return\r\n        }\r\n        if(!coinName.label ) {\r\n            return\r\n        }\r\n        this.addEvent();\r\n        this.tf_name.text = coinName.label;\r\n\r\n\r\n    }\r\n\r\n    onChange(isSelect:boolean){\r\n        if(isSelect){\r\n            this.selectImg.visible = true;\r\n            this.tf_name.color = \"#ffffff\";\r\n        }else{\r\n            this.tf_name.color = \"#357cc0\";\r\n            this.selectImg.visible = false;\r\n        }\r\n    }\r\n\r\n    onDisable(): void {\r\n        // this.selectBox.off(Laya.Event.CHANGE,this, this.onChange);\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/createRole/CountryListItem.lh\n */\nexport class CountryListItemBase extends Laya.Box {\n    public selectImg!: Laya.Image;\n    public img_icon!: Laya.Image;\n    public tf_name!: Laya.Label;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-03-11 20:29:06\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-12 03:18:36\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { CountryItem } from \"../../global/vo/CountryItem\";\r\nimport { CountryListItemBase } from \"./CountryListItem.generated\";\r\n\r\n@regClass('LJ8PUf7kRCGUr4eT8Mhy3g')\r\nexport class CountryListItem extends CountryListItemBase {\r\n    isAddEvent: boolean;\r\n\r\n    private addEvent(){\r\n        // if(!this.isAddEvent){\r\n            \r\n        //     // this.img_chanchu.on(Laya.Event.CLICK, this, this.onDigGet);\r\n        //     this.selectBox.on(Laya.Event.CHANGE,this, this.onChange);\r\n        //     this.isAddEvent = true;\r\n        // }\r\n\r\n    }\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        console.log(\"value: \" + value);\r\n        var countryItem:CountryItem = value as CountryItem;\r\n        if(!countryItem ) {\r\n            return\r\n        }\r\n        this.addEvent();\r\n\r\n\r\n        this.img_icon.skin = GameResourceManager.instance.getCountryIcon(countryItem.id);\r\n        this.tf_name.text = GameLanguageMgr.instance.getLanguage(countryItem.name);\r\n\r\n\r\n    }\r\n\r\n    onChange(isSelect:boolean){\r\n        if(isSelect){\r\n            this.selectImg.visible = true;\r\n            this.tf_name.color = \"#ffffff\";\r\n        }else{\r\n            this.tf_name.color = \"#357cc0\";\r\n            this.selectImg.visible = false;\r\n        }\r\n    }\r\n\r\n    onDisable(): void {\r\n        // this.selectBox.off(Laya.Event.CHANGE,this, this.onChange);\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { PlayerIcon } from \"../mainView/PlayerIcon\";\n\n/**\n * scenes/createRole/CreateLoginView.lh\n */\nexport class CreateLoginViewBase extends Laya.Dialog {\n    public btn_radio1!: Laya.Radio;\n    public btn_radio2!: Laya.Radio;\n    public btn_register!: Laya.Button;\n    public box_change!: Laya.Box;\n    public playerIcon!: PlayerIcon;\n    public box_country!: Laya.Box;\n    public img_flag!: Laya.Image;\n    public img_arrow!: Laya.Image;\n    public tf_country!: Laya.Label;\n    public input_name!: Laya.TextInput;\n    public tf_roomName!: Laya.Label;\n    public img_country_pad!: Laya.Image;\n    public list_country!: Laya.List;\n}\n\n", "export class CreateLoginEvent extends Laya.Event {\r\n    public static INIT_CREATELOGIN_EVENT: string = \"CreateLoginEvent:INIT_CREATELOGIN_EVENT\";\r\n    public constructor() {\r\n        super();\r\n    }\r\n}", "const { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { PlatFormManager } from \"../../common/PlatFormManager\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { EthereumManager } from \"../../global/contract/EthereumManager\";\r\nimport { ETHAccountProxy } from \"../../global/contract/service/ETHAccountProxy\";\r\nimport { PlayerDto } from \"../../global/contract/vo/PlayerDto\";\r\nimport { GameEvent } from \"../../global/event/GameEvent\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { CountryItem } from \"../../global/vo/CountryItem\";\r\nimport HttpCmd from \"../../net/HttpCmd\";\r\nimport { Dictionary } from \"../../util/Dictionary\";\r\nimport { NoticeMgr } from \"../notice/NoticeMgr\";\r\nimport { CreateLoginViewBase } from \"./CreateLoginView.generated\";\r\nimport { CreateLoginEvent } from \"./event/CreateLoginEvent\";\r\n\r\n@regClass('1K2SyFxcQY-12SasSSRXyQ')\r\nexport class CreateLoginView extends CreateLoginViewBase {\r\n\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_PANEL;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n    onEnable(): void {\r\n\r\n        // SoundMgr.instance.playMusicByName(SoundMgr.soundName_bg, \".mp3\");\r\n\r\n        Signal.intance.on(CreateLoginEvent.INIT_CREATELOGIN_EVENT, this, this.initCreateLoginView);\r\n        // Signal.intance.on(GameEvent.EVENT_CHANGES_HEAD, this, this.onChangeHeadBack);\r\n        Signal.intance.on(GameEvent.EVENT_MODIFY_HEAD, this, this.onChangeModifyHead);\r\n        // Signal.intance.on(GameEvent.EVENT_CHANGES_HEAD, this, this.onChangeHeadBack);\r\n\r\n\r\n        this.btn_radio1.clickHandler = new Laya.Handler(this, this.handleClickBtn, [this.btn_radio1]);\r\n        this.btn_radio2.clickHandler = new Laya.Handler(this, this.handleClickBtn, [this.btn_radio2]);\r\n        this.btn_register.clickHandler = new Laya.Handler(this, this.handleClickBtn, [this.btn_register]);\r\n        // this.btn_change.clickHandler = new Laya.Handler(this, this.handleClickBtn, [this.btn_change]);\r\n        this.box_change.on(Laya.Event.CLICK, this, this.onChangeHead);\r\n        this.input_name.prompt =  GameLanguageMgr.instance.getLanguage('31')\r\n\r\n        this.selectRadio(1);\r\n        this.initCountry();\r\n        // CreateLoginView.loadOk = false;\r\n        this.initCreateLoginView();\r\n\r\n        //  TODO::23\r\n        PlatFormManager.instance.sendCustumEvent(23);\r\n\r\n        // this.sendData(Cmd.MSG_CREATELOGIN_INIT_C2S);\r\n\r\n    }\r\n\r\n//=======================    ====================\r\n\r\ninitCountry(){\r\n    this.list_country.selectHandler = new Laya.Handler(this, this.handleSelectCountry);\r\n        this.createCountryList();\r\n        this.box_country.on(Laya.Event.CLICK, this, this.onOpenCountry);\r\n        this.list_country.on(Laya.Event.MOUSE_DOWN, this, this.onListDown);\r\n        this.list_country.mouseHandler = Laya.Handler.create(this, this.onCountryItemMouse, null, false);\r\n        this.list_country.renderHandler = Laya.Handler.create(this, this.onCountryItemRender, null, false);\r\n        if (this.list_country.scrollBar) this.list_country.scrollBar.on(Laya.Event.MOUSE_DOWN, this, this.onScrollBarDown);\r\n}\r\n    /**\r\n     * @private\r\n     * \r\n     */\r\n    protected onCountryItemMouse(e: Event, index: number): void {\r\n        let type: string = e.type;\r\n        if (type === Laya.Event.CLICK) {\r\n            this.list_country.selectedIndex = index;\r\n            this.onHideCountry();\r\n            // this.isOpen = false;\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * @private\r\n     */\r\n    private onListDown(e: Event): void {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    private onScrollBarDown(e: Event): void {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    private onCountryItemRender(cell: any, index: number): void {\r\n        cell.onChange(this.list_country.selectedIndex == index);\r\n    }\r\n    \r\nonOpenCountry(){\r\n    if(this.img_country_pad.visible == false){\r\n        this.img_country_pad.visible = true;\r\n        Laya.stage.once(Laya.Event.MOUSE_DOWN, this, this.onHideCountry);\r\n    }\r\n}\r\n\r\nonHideCountry(){\r\n    this.img_country_pad.visible = false;\r\n    Laya.stage.off(Laya.Event.MOUSE_DOWN, this, this.onHideCountry);\r\n}\r\n\r\n\r\n    private handleSelectCountry(index: number): void {\r\n        console.log(\"handleSelectCountry: \" + index);\r\n        if(index != -1){\r\n            let countryItem: CountryItem = this.list_country.selectedItem;\r\n            GlobalDataManager.instance.countryId = countryItem.id;\r\n            this.img_flag.skin = GameResourceManager.instance.getCountryIcon(countryItem.id);\r\n            this.tf_country.text = GameLanguageMgr.instance.getLanguage(countryItem.name);\r\n        }\r\n    }\r\n    private createCountryList(): void {\r\n        // let arr: any[] = [];\r\n        let m_dicCountry: Dictionary = SheetDataManager.intance.m_dicCountry;\r\n\r\n        this.list_country.array = m_dicCountry.values;\r\n        this.list_country.visible = true;\r\n        let selectIndex = -1;\r\n        let i = 0;\r\n        // GlobalDataManager.instance.countryId = GlobalDataManager.instance.playerDto.country;\r\n\r\n\r\n        for(let entry of m_dicCountry.values){\r\n            if(entry.id == GlobalDataManager.instance.countryId){\r\n                selectIndex = i;\r\n                break;\r\n            }\r\n            i++;\r\n        }\r\n        this.list_country.selectedIndex = selectIndex;\r\n    }\r\n\r\n//=======================    =======================\r\n\r\n\r\n    \r\n    onChangeHeadBack(_nickName: string, _headId: number) {\r\n        this.input_name.text = _nickName;\r\n        GlobalDataManager.instance.headId = _headId;\r\n        \r\n        this.playerIcon.headSkin = _headId;\r\n    }\r\n    onChangeModifyHead(_headId: number){\r\n        GlobalDataManager.instance.headId = _headId;\r\n        this.playerIcon.headSkin = _headId;;\r\n    }\r\n\r\n    onChangeHead() {\r\n        // this.onBtnChangePic();\r\n        // return;\r\n        // ModuleManager.intance.openModule(ModuleName.CreateNameDialog);\r\n        // Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, ModuleName.SelectHeadDialog)\r\n        ModuleManager.intance.openModule(ModuleName.ChangeHeadDialog);\r\n    }\r\n\r\n\r\n/**    */\r\nonBtnChangePic():void {\r\n\r\n    // var _openUploadPicBack:Function = this.openUploadPicBack;\r\n    var zIndex = Laya.Render.canvas.style.zIndex;\r\n    var uploadP = GameLanguageMgr.instance.getUILang(\"Upload picture\");\r\n    var selectI = GameLanguageMgr.instance.getUILang(\"Select Image\");\r\n    var saveC = GameLanguageMgr.instance.getUILang(\"Save changes\");\r\n    openUploadPic(this, zIndex, uploadP, selectI, saveC);\r\n    \r\n}\r\n\r\n/**    */\r\nasync openPicEnd(openWin:CreateLoginView, base64:string):Promise<void>{\r\n    if(base64.length>500){\r\n        // this.img_head.skin = base64;\r\n        let temp = await HttpCmd.requestPost('wxgame/player/uploadImg',{base64Str: base64}, false, false);\r\n        if(temp){\r\n            GlobalDataManager.instance.headId = temp.imgUrl;\r\n            openWin.playerIcon.headSkin = temp.imgUrl;\r\n            console.log(temp.imgUrl);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n    private selectRadio(index:number):void{\r\n        let isBoy:boolean = index == 1;      \r\n        this.btn_radio1.selected = isBoy;\r\n        this.btn_radio2.selected = !isBoy;\r\n    }\r\n\r\n    private handleClickBtn(currentTarget: Laya.Button): void {\r\n        switch(currentTarget) {\r\n            case this.btn_radio1:\r\n            {\r\n                this.selectRadio(1);\r\n                // this.lable_text1.color = \"#ffffff\"\r\n                // this.lable_text2.color = \"#939393\"\r\n                \r\n            }\r\n            break;\r\n            case this.btn_radio2:\r\n            {\r\n                this.selectRadio(2);\r\n                // this.lable_text1.color = \"#939393\"\r\n\r\n                // this.lable_text2.color = \"#ffffff\"\r\n            }\r\n            break;\r\n            case this.btn_register:\r\n            {\r\n                this.onRegister();\r\n            }\r\n            break;\r\n            // case this.btn_change:\r\n            // {\r\n            //     this.onChangeHead();\r\n            // }\r\n            // break;\r\n        }\r\n    }\r\n    async onRegister() {\r\n        // E 12 z 6\r\n        let createName:string = this.input_name.text;\r\n        let sex:number = (this.btn_radio1.selected?1:2);\r\n        createName = createName.trim();\r\n        // let bytesCount:number = 0;\r\n        //     for (var i = 0; i < createName.length; i++)\r\n        //     {\r\n        //         var c = createName.charAt(i);\r\n        //         if (/^[\\u0000-\\u00ff]$/.test(c)) //\r\n        //             {\r\n        //                 bytesCount += 1;\r\n        //             }\r\n        //         else\r\n        //             {\r\n        //                 bytesCount += 2;\r\n        //             }\r\n        //     }   \r\n\r\n        //         if(bytesCount >12){\r\n        //             NoticeMgr.instance.notice(\"The length entered exceeds the limit\");\r\n        //             return;\r\n        //         }\r\n                if(createName == \"\"){\r\n                    \r\n                    NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(31));\r\n                    return;\r\n                }\r\n                if(GlobalDataManager.instance.countryId == -1){\r\n                    \r\n                    NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(1048));//\"\"\r\n                    return;\r\n                }\r\n\r\n                let playerDto:PlayerDto = await EthereumManager.instance.createAcccount(createName, sex, GlobalDataManager.instance.headId.toString(), GlobalDataManager.instance.countryId);\r\n\r\n                if(playerDto){\r\n                    GlobalDataManager.instance.playerDto = playerDto;\r\n                    this.close();\r\n                    Signal.intance.event(GameEvent.EVENT_ENTER_MAIN);\r\n\r\n                }else{\r\n                    // NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(135));//error\r\n                }\r\n\r\n    }\r\n\r\n    private initCreateLoginView():void{    \r\n\r\n        // var createLoginList:Array<any> = GlobalDataManager.instance.createLoginList;\r\n        // for(let i = 0;i<createLoginList.length;i++){\r\n        //     let createLoginDetail = createLoginList[i];\r\n        //     let _id = createLoginDetail[0];\r\n        //     let _speed:string = createLoginDetail[1];\r\n        //     // this.view[\"tf_speed\"+_id].text= _speed+\"/hour\";\r\n        //     // this.view[\"tf_speed\"+_id].text= _speed+ GameLanguageMgr.instance.getUILang(\"/hour\");\r\n        //     this.view[\"tf_speed\"+_id].text= GameLanguageMgr.instance.getLanguage (81002503, _speed);\r\n\r\n        // }\r\n        \r\n    \r\n    }\r\n    onDisable(): void {\r\n        this.removeEvent();\r\n    }\r\n\r\n    public removeEvent():void{\r\n        Signal.intance.off(CreateLoginEvent.INIT_CREATELOGIN_EVENT, this, this.initCreateLoginView);\r\n        Signal.intance.off(GameEvent.EVENT_CHANGE_HEAD, this, this.onChangeHeadBack);\r\n\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/createRole/RoleAttrListItem.lh\n */\nexport class RoleAttrListItemBase extends Laya.Box {\n    public img_icon!: Laya.Image;\n    public tf_name!: Laya.Label;\n    public tf_num!: Laya.Label;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-03-11 15:08:59\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-13 14:52:57\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { RoleAttrListItemBase } from \"./RoleAttrListItem.generated\";\r\n\r\n@regClass('WJ5TDeRBSkC9yMqJ72B0Ow')\r\nexport class RoleAttrListItem extends RoleAttrListItemBase {\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        var attrData = value as any[];\r\n        if(!attrData ) {\r\n            return\r\n        }\r\n\r\n\r\n        this.img_icon.skin = \"res/role/img_icon_\"+(attrData[0])+\".png\";\r\n        this.tf_name.text = GameLanguageMgr.instance.getUILang(attrData[1]);\r\n        this.tf_num.text = attrData[2];\r\n\r\n    }\r\n    \r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { PlayerIcon } from \"../mainView/PlayerIcon\";\n\n/**\n * scenes/createRole/RoleHeadListItem.lh\n */\nexport class RoleHeadListItemBase extends Laya.Box {\n    public playerIcon!: PlayerIcon;\n    public selectBox!: Laya.Image;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-03-11 17:45:03\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-11 23:47:48\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { HeadItem } from \"../../global/vo/HeadItem\";\r\nimport { RoleHeadListItemBase } from \"./RoleHeadListItem.generated\";\r\n\r\n@regClass('AwN_JFPwQsKswm1N53Bmkg')\r\nexport class RoleHeadListItem extends RoleHeadListItemBase {\r\n\r\n    private headItem:HeadItem;\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.headItem = value as HeadItem;\r\n        if(!this.headItem ) {\r\n            return\r\n        }\r\n        // this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n    async setCurrentOutPut() {\r\n        let headId = this.headItem.id;\r\n        this.playerIcon.headSkin = headId;   \r\n\r\n    }\r\n    onChange(isSelect:boolean){\r\n        // if(isSelect){\r\n        //     this.selectImg.visible = true;\r\n        //     this.tf_name.color = \"#ffffff\";\r\n        // }else{\r\n        //     this.tf_name.color = \"#357cc0\";\r\n        //     this.selectImg.visible = false;\r\n        // }\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { PlayerIcon } from \"../mainView/PlayerIcon\";\n\n/**\n * scenes/createRole/RoleInfoDialog.lh\n */\nexport class RoleInfoDialogBase extends Laya.Dialog {\n    public btn_changeHead!: Laya.Button;\n    public playerIcon!: PlayerIcon;\n    public tf_uid!: Laya.Label;\n    public img_sex!: Laya.Image;\n    public tf_name!: Laya.Label;\n    public img_country!: Laya.Image;\n    public btn_copy!: Laya.Button;\n    public tf_address!: Laya.Label;\n    public list_attrs!: Laya.List;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-11 16:11:19\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-16 14:10:34\r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { EthereumManager } from \"../../global/contract/EthereumManager\";\r\nimport { PlayerDto } from \"../../global/contract/vo/PlayerDto\";\r\nimport { GameEvent } from \"../../global/event/GameEvent\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { Quick } from \"../../global/util/Quick\";\r\nimport { CountryItem } from \"../../global/vo/CountryItem\";\r\nimport HttpCmd from \"../../net/HttpCmd\";\r\nimport { Hero1Event } from \"../hero/event/Hero1Event\";\r\nimport { NoticeMgr } from \"../notice/NoticeMgr\";\r\nimport { RoleInfoDialogBase } from \"./RoleInfoDialog.generated\";\r\n\r\n@regClass('T7g565QQR7-fZgZNjVg92A')\r\nexport class RoleInfoDialog extends RoleInfoDialogBase {\r\n\r\n\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_POP;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n\r\n\r\n    public constructor(_data: any) {\r\n        super();\r\n\r\n    }\r\n\r\n\r\n    onEnable(): void {\r\n        \r\n        this.btn_copy.on(Laya.Event.CLICK, this, this.onCopy);\r\n        this.btn_changeHead.on(Laya.Event.CLICK, this, this.onChangeHead);\r\n\r\n        // this.sendData(Cmd.MSG_CREATELOGIN_INIT_C2S);\r\n        \r\n        Signal.intance.on(GameEvent.ROLE_INFO_CHANGE, this, this.updateRoleInfo);\r\n\r\n    \r\n        this.updateRoleInfo();        \r\n    }\r\n\r\n\r\n\r\n\r\n    private updateRoleInfo():void{    \r\n\r\n        let playerDto:PlayerDto = GlobalDataManager.instance.playerDto;\r\n        \r\n        this.tf_name.text = playerDto.name;\r\n        this.img_sex.skin = playerDto.sex==1?\"res/role/img_icon_xb_1.png\":\"res/role/img_icon_xb_2.png\";\r\n        this.tf_uid.text = playerDto.pid.toString();\r\n\r\n        // if(playerDto.birthPlace){\r\n        //     let mapsheetItem:MapSheetItem = SheetDataManager.intance.m_dicMaps.get(playerDto.birthPlace);\r\n\r\n        //     this.tf_city.text = GameLanguageMgr.instance.getLanguage(mapsheetItem.name);\r\n\r\n        // }else{\r\n        //     this.tf_city.text = \"Null\";\r\n        // }\r\n        var countryItem:CountryItem = SheetDataManager.intance.m_dicCountry.get(playerDto.country);\r\n\r\n        // this.tf_country.text = GameLanguageMgr.instance.getLanguage(countryItem.name);\r\n        this.img_country.skin = GameResourceManager.instance.getCountryIcon(playerDto.country+\"\");\r\n        this.tf_address.text = this.formatWalletAddress(EthereumManager.instance.walletAddress);\r\n\r\n        // this.tf_lv.text = playerDto.lv.toString();\r\n        // let myGuildVo:GuildVO =  GuildModel.instance.myGuildVo;\r\n        // this.tf_labor.text = myGuildVo != null&&myGuildVo.id>0 ?myGuildVo.name:\"Null\";//playerDto.laborUnion;\r\n        // this.tf_influence.text = playerDto.influence.toString();\r\n        // this.topView.levelTF.text = GameLanguageMgr.instance.getLanguage(\"9038\", roleInfo.level);\r\n        // this.topView.vipTF.text = GameLanguageMgr.instance.getLanguage(\"9041\", GlobalDataManager.instance.vipInfo.vipLv);\r\n\r\n        let headId = playerDto.icon;\r\n\r\n\r\n        this.playerIcon.headSkin = headId;\r\n        this.onGetAttr(playerDto.pid);        \r\n    \r\n    }\r\n\r\n\r\n    formatWalletAddress(walletAddress: string): string {\r\n        // \r\n        const startLength = 12;\r\n        const endLength = 10;\r\n        const ellipsis = \"...\"; // \r\n      \r\n        // \r\n        if (walletAddress.length <= startLength + endLength) {\r\n          // 14\r\n          return walletAddress;\r\n        }\r\n      \r\n        // \r\n        return `${walletAddress.substring(0, startLength)}${ellipsis}${walletAddress.substring(walletAddress.length - endLength)}`;\r\n      }\r\n\r\n    async onGetAttr(pid:number) {\r\n        let that = this;\r\n        let data:any = await HttpCmd.requestPost(\"wxgame/player/getPlayerInfo\", {pid: pid});\r\n\r\n\r\n        if(data){ \r\n                            \r\n            var attrs:any[] = [[\"1\", \"Fighting\", data.fightTimes], [\"2\", \"Victory\", data.winTimes], [\"3\", \"Fail\", (data.fightTimes - data.winTimes)], \r\n            [\"4\", \"Run away\", data.taopao],\r\n            [\"5\", \"Winning rate\", Math.floor( data.fightTimes == 0? 0 : ( data.winTimes/data.fightTimes*100 ) ) ]];\r\n\r\n            that.list_attrs.array = attrs;\r\n\r\n\r\n        }else{\r\n            NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(135));//error\r\n        }\r\n    }\r\n\r\n    onChangeHead() {        \r\n        ModuleManager.intance.openModule(ModuleName.SelectHeadDialog, true);\r\n    }\r\n\r\n    onCopy() {        \r\n            \r\n                let shareUrl = EthereumManager.instance.walletAddress;\r\n                doCopy(shareUrl);\r\n                // let isSuccess:boolean = this.webCopyString(shareUrl);\r\n                // if(isSuccess){\r\n                NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(132));//\r\n\r\n    }\r\n\r\n    \r\n    onDisable(): void {\r\n\r\n\r\n        Signal.intance.off(GameEvent.ROLE_INFO_CHANGE, this, this.updateRoleInfo);\r\n\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { PlayerIcon } from \"../mainView/PlayerIcon\";\n\n/**\n * scenes/createRole/SelectHeadDialog.lh\n */\nexport class SelectHeadDialogBase extends Laya.Dialog {\n    public list_head!: Laya.List;\n    public playerIcon!: PlayerIcon;\n    public btn_confirm!: Laya.Button;\n    public btn_custom!: Laya.Button;\n    public input_name!: Laya.TextInput;\n    public box_country!: Laya.Box;\n    public img_flag!: Laya.Image;\n    public img_arrow!: Laya.Image;\n    public tf_country!: Laya.Label;\n    public img_country_pad!: Laya.Image;\n    public list_country!: Laya.List;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-11 16:29:48\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-12 13:25:08\r\n * @Description: \r\n */\r\n/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-11 16:29:48\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-01-11 16:34:48\r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { ETHAccountProxy } from \"../../global/contract/service/ETHAccountProxy\";\r\nimport { PlayerDto } from \"../../global/contract/vo/PlayerDto\";\r\nimport { SheetDictionary } from \"../../global/data/sheetItem/item/SheetDictionary\";\r\nimport { GameEvent } from \"../../global/event/GameEvent\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { CountryItem } from \"../../global/vo/CountryItem\";\r\nimport { HeadItem } from \"../../global/vo/HeadItem\";\r\nimport HttpCmd from \"../../net/HttpCmd\";\r\nimport { Dictionary } from \"../../util/Dictionary\";\r\nimport { NoticeMgr } from \"../notice/NoticeMgr\";\r\nimport { SelectHeadDialogBase } from \"./SelectHeadDialog.generated\";\r\n\r\n@regClass('3CibwwHGSPG2Qkeq4rbMag')\r\nexport class SelectHeadDialog extends SelectHeadDialogBase {\r\n\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_POP;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n\r\n\r\n\r\n    public setOpenData(_data: any) {\r\n\r\n\r\n    }\r\n\r\n\r\n    onEnable(): void {\r\n        \r\n        this.list_head.vScrollBarSkin = \"\";\r\n        \r\n        // this.btn_close.on(Laya.Event.CLICK, this, this.onClose);\r\n        this.btn_confirm.on(Laya.Event.CLICK, this, this.onRegister);\r\n        \r\n        this.btn_custom.on(Laya.Event.CLICK, this, this.onBtnChangePic);\r\n        \r\n\r\n\r\n\r\n        this.input_name.prompt =  GameLanguageMgr.instance.getLanguage('31');\r\n\r\n    \r\n        this.initContainer();        \r\n    }\r\n\r\n\r\n    // private onRenderList(cell: Laya.Box, index: number): void {\r\n    //     let data = cell.dataSource as HeadItem;\r\n    //     let selected = cell.getChildByName(\"selected\") as Laya.Image;\r\n    //     selected.visible = this.list_head.selectedIndex == index;\r\n    //     let emojiImg:Laya.Button = cell.getChildByName(\"img_emoji\") as Laya.Button;\r\n    //     emojiImg.skin = GameResourceManager.instance.getPlayerIcon(data.id);\r\n    // }\r\n\r\n    private initContainer(): void {\r\n        this.list_head.vScrollBarSkin = \"\";\r\n        this.list_head.selectHandler = new Laya.Handler(this, this.handleSelectHead);\r\n        this.createHeadList();\r\n\r\n        \r\n        this.initCountry();\r\n\r\n    }\r\n    private handleSelectHead(index: number): void {\r\n        if(index != -1){\r\n            let headItem: HeadItem = this.list_head.selectedItem;\r\n            GlobalDataManager.instance.headId = headItem.id;\r\n            this.playerIcon.headSkin = GlobalDataManager.instance.headId;\r\n        }\r\n    }\r\n    private createHeadList(): void {\r\n        // let arr: any[] = [];\r\n        let m_dicHead: Dictionary = SheetDataManager.intance.m_dicHead;\r\n\r\n        this.list_head.array = m_dicHead.values;\r\n        this.list_head.visible = true;\r\n        let selectIndex = -1;\r\n        let i = 0;\r\n        GlobalDataManager.instance.headId = GlobalDataManager.instance.playerDto.icon;\r\n        this.playerIcon.headSkin = GlobalDataManager.instance.headId;//\r\n\r\n        this.input_name.text = GlobalDataManager.instance.playerDto.name;\r\n\r\n        for(let entry of m_dicHead.values){\r\n            if(entry.id == GlobalDataManager.instance.headId){\r\n                selectIndex = i;\r\n                break;\r\n            }\r\n            i++;\r\n        }\r\n        this.list_head.selectedIndex = selectIndex;\r\n    }\r\n\r\n//=======================    ====================\r\n\r\ninitCountry(){\r\n    this.list_country.selectHandler = new Laya.Handler(this, this.handleSelectCountry);\r\n        this.createCountryList();\r\n        this.box_country.on(Laya.Event.CLICK, this, this.onOpenCountry);\r\n        this.list_country.on(Laya.Event.MOUSE_DOWN, this, this.onListDown);\r\n        this.list_country.mouseHandler = Laya.Handler.create(this, this.onCountryItemMouse, null, false);\r\n        this.list_country.renderHandler = Laya.Handler.create(this, this.onCountryItemRender, null, false);\r\n        if (this.list_country.scrollBar) this.list_country.scrollBar.on(Laya.Event.MOUSE_DOWN, this, this.onScrollBarDown);\r\n}\r\n    /**\r\n     * @private\r\n     * \r\n     */\r\n    protected onCountryItemMouse(e: Event, index: number): void {\r\n        let type: string = e.type;\r\n        if (type === Laya.Event.CLICK) {\r\n            this.list_country.selectedIndex = index;\r\n            this.onHideCountry();\r\n            // this.isOpen = false;\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * @private\r\n     */\r\n    private onListDown(e: Event): void {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    private onScrollBarDown(e: Event): void {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    private onCountryItemRender(cell: any, index: number): void {\r\n        cell.onChange(this.list_country.selectedIndex == index);\r\n    }\r\n    \r\nonOpenCountry(){\r\n    if(this.img_country_pad.visible == false){\r\n        this.img_country_pad.visible = true;\r\n        Laya.stage.once(Laya.Event.MOUSE_DOWN, this, this.onHideCountry);\r\n    }\r\n}\r\n\r\nonHideCountry(){\r\n    this.img_country_pad.visible = false;\r\n    Laya.stage.off(Laya.Event.MOUSE_DOWN, this, this.onHideCountry);\r\n}\r\n\r\n\r\n    private handleSelectCountry(index: number): void {\r\n        console.log(\"handleSelectCountry: \" + index);\r\n        if(index != -1){\r\n            let countryItem: CountryItem = this.list_country.selectedItem;\r\n            GlobalDataManager.instance.countryId = countryItem.id;\r\n            this.img_flag.skin = GameResourceManager.instance.getCountryIcon(countryItem.id);\r\n            this.tf_country.text = GameLanguageMgr.instance.getLanguage(countryItem.name);\r\n        }\r\n    }\r\n    private createCountryList(): void {\r\n        // let arr: any[] = [];\r\n        let m_dicCountry: Dictionary = SheetDataManager.intance.m_dicCountry;\r\n\r\n        this.list_country.array = m_dicCountry.values;\r\n        this.list_country.visible = true;\r\n        let selectIndex = -1;\r\n        let i = 0;\r\n        GlobalDataManager.instance.countryId = GlobalDataManager.instance.playerDto.country;\r\n\r\n\r\n        for(let entry of m_dicCountry.values){\r\n            if(entry.id == GlobalDataManager.instance.countryId){\r\n                selectIndex = i;\r\n                break;\r\n            }\r\n            i++;\r\n        }\r\n        this.list_country.selectedIndex = selectIndex;\r\n    }\r\n\r\n//=======================    =======================\r\n\r\n/**    */\r\nonBtnChangePic():void {\r\n\r\n    // var _openUploadPicBack:Function = this.openUploadPicBack;\r\n    var zIndex = Laya.Render.canvas.style.zIndex;\r\n    var uploadP = GameLanguageMgr.instance.getUILang(\"Upload picture\");\r\n    var selectI = GameLanguageMgr.instance.getUILang(\"Select Image\");\r\n    var saveC = GameLanguageMgr.instance.getUILang(\"Save changes\");\r\n    openUploadPic(this, zIndex, uploadP, selectI, saveC);\r\n    \r\n}\r\n\r\n/**    */\r\nasync openPicEnd(openWin:SelectHeadDialog, base64:string):Promise<void>{\r\n    if(base64.length>500){\r\n        // this.img_head.skin = base64;\r\n        let temp = await HttpCmd.requestPost('wxgame/player/uploadImg',{base64Str: base64}, false, false);\r\n        if(temp){\r\n            GlobalDataManager.instance.headId = temp.imgUrl;\r\n            openWin.playerIcon.headSkin = temp.imgUrl;\r\n            openWin.list_head.selectedIndex = -1;\r\n            console.log(temp.imgUrl);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n    onRegister() {\r\n        let createName:string = this.input_name.text;\r\n        // let headId:number = this.headIcon;\r\n        createName = createName.trim();\r\n        // let bytesCount:number = 0;\r\n        //     for (var i = 0; i < createName.length; i++)\r\n        //     {\r\n        //         var c = createName.charAt(i);\r\n        //         if (/^[\\u0000-\\u00ff]$/.test(c)) //\r\n        //             {\r\n        //                 bytesCount += 1;\r\n        //             }\r\n        //         else\r\n        //             {\r\n        //                 bytesCount += 2;\r\n        //             }\r\n        //     }   \r\n\r\n        //         if(bytesCount >12){\r\n        //             NoticeMgr.instance.notice(\"The length entered exceeds the limit\");\r\n        //             return;\r\n        //         }\r\n                // if(temp == \"\"){\r\n                //     NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(31));\r\n                //     return;\r\n                // }\r\n                \r\n                if(createName == \"\"){\r\n                    NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(31));//Please enter you name\r\n                    return;\r\n                }\r\n                if( GlobalDataManager.instance.headId != -1){\r\n                    \r\n                    this.onModify(createName, GlobalDataManager.instance.headId, GlobalDataManager.instance.countryId);               \r\n\r\n                }else{\r\n                    NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(134));//Please select a portrait\r\n                }\r\n\r\n    }\r\n    async onModify(createName:string, headId:number, countryId:number) {\r\n\r\n                if(createName == \"\"){\r\n                    NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(31));//Please enter you name\r\n                    return;\r\n                }\r\n\r\n                // this.close();\r\n                // return;\r\n\r\n                let playerDto:PlayerDto = await ETHAccountProxy.instance.updateProfile(createName, headId.toString(), countryId);\r\n                if(this.destroyed){\r\n                    return;\r\n                }\r\n\r\n                if(playerDto){\r\n                    GlobalDataManager.instance.playerDto = playerDto;\r\n                    this.close();\r\n                    Signal.intance.event(GameEvent.ROLE_INFO_CHANGE);\r\n\r\n                }else{\r\n                    NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(135));//error\r\n                }\r\n    }\r\n\r\n    \r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2023-12-10 19:54:15\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2023-12-29 22:47:17\r\n */\r\nexport class StringTool {\r\n    public constructor() {\r\n        \r\n    }\r\n    \t\t/**\r\n\t\t * \r\n\t\t * @param str\r\n\t\t * @return \r\n\t\t */\r\n\t\tpublic static trim(str:string,vList:any=null):string\r\n\t\t{\r\n\t\t\tif(!vList)\r\n\t\t\t{\r\n\t\t\t\tvList=[\" \",\"\\r\",\"\\n\",\"\\t\",String.fromCharCode(65279)];\r\n\t\t\t}\r\n\t\t\tvar rst:string;\r\n\t\t\tvar i:number;\r\n\t\t\tvar len:number;\r\n\t\t\trst=str;\r\n\t\t\tlen=vList.length;\r\n\t\t\tfor(i=0;i<len;i++)\r\n\t\t\t{\r\n\t\t\t\trst=StringTool.getReplace(rst,vList[i],\"\");\r\n\t\t\t}\r\n\t\t\treturn rst;\r\n\t\t}\r\n        \t\t/**\r\n\t\t *  \r\n\t\t * @param str\r\n\t\t * @param oStr\r\n\t\t * @param nStr\r\n\t\t * @return \r\n\t\t */\r\n\t\tpublic static getReplace(str:string,oStr:string,nStr:string):string\r\n\t\t{\r\n\t\t\tif(!str) return \"\";\r\n//\t\t\tif(!oStr) return str;\r\n//\t\t\tif(!nStr) return str;\r\n\t\t\tvar rst:string;\r\n\t\t\trst=str.replace(new RegExp(oStr, \"g\"),nStr);\r\n\t\t\treturn rst;\r\n\t\t}\r\n\t\tpublic static emptyStrDic:any=\r\n\t\t\t{\r\n\t\t\t\t\" \":true,\r\n\t\t\t\t\"\\r\":true,\r\n\t\t\t\t\"\\n\":true,\r\n\t\t\t\t\"\\t\":true\r\n\t\t\t};\r\n\t\tpublic static isEmpty(str:string):Boolean\r\n\t\t{\r\n\t\t\tif(str.length<1) return true;\r\n\t\t\treturn StringTool.emptyStrDic.hasOwnProperty(str);\r\n\t\t}\r\n\t\tpublic static trimLeft(str:string):string\r\n\t\t{\r\n\t\t\tvar i:number;\r\n\t\t\ti=0;\r\n\t\t    var len:number;\r\n\t\t\tlen=str.length;\r\n\t\t\twhile(StringTool.isEmpty(str.charAt(i))&&i<len)\r\n\t\t\t{\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\tif(i<len)\r\n\t\t\t{\r\n\t\t\t\treturn str.substr(i);\r\n\t\t\t}\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t\tpublic static trimRight(str:string):string\r\n\t\t{\r\n\t\t\tvar i:number;\r\n\t\t\ti=str.length-1;\r\n//\t\t\ttrace(str+\" \"+str.length);\r\n\t\t\twhile(StringTool.isEmpty(str.charAt(i))&&i>=0)\r\n\t\t\t{\r\n//\t\t\t\ti=str.length-1;\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n//\t\t\ttrace(str.charAt(i));\r\n\t\t\tvar rst:string;\r\n\t\t\trst=str.substring(0,i)\r\n//\t\t\ttrace(rst+\" \"+rst.length);\r\n\t\t\tif(i>=0)\r\n\t\t\t{\r\n\t\t\t\treturn str.substring(0,i+1);\r\n\t\t\t}\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t\tpublic static trimSide(str:string):string\r\n\t\t{\r\n\t\t\tvar rst:string;\r\n\t\t\trst=StringTool.trimLeft(str);\r\n\t\t\trst=StringTool.trimRight(rst);\r\n\t\t\treturn rst;\r\n\t\t}\r\n\r\n\t\tpublic static shortStr(str:string, maxLen:number):string{\r\n\t\t\tif(str.length > maxLen){\r\n\t\t\t\treturn str.substr(0, maxLen) + '...';\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic static shortHeroStr(str:string, maxLen:number = 10):string{\r\n\t\t\tif(str.length > maxLen){\r\n\t\t\t\tlet strs:string[] = str.split(\"#\");\r\n\t\t\t\tlet str1:string = strs[0];\r\n\t\t\t\tlet str2:string = strs[1];\r\n\t\t\t\treturn str1.substr(0, 3) + '...#'+str2;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tstatic caseInsensitiveSearchWithRegex(source: string, searchTerm: string): boolean {\r\n\t\t\treturn new RegExp(searchTerm, 'i').test(source);\r\n\t\t  }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/gameSetting/GameSettingLanguageDialog.lh\n */\nexport class GameSettingLanguageDialogBase extends Laya.Dialog {\n    public box_music!: Laya.Box;\n    public box_sound!: Laya.Box;\n    public box_language!: Laya.Box;\n    public btn_copy!: Laya.Button;\n    public label_url!: Laya.Label;\n    public btn_referral!: Laya.Image;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-19 16:13:32\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-07 17:25:01\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\n\r\n@regClass('-1MGS4JRSMOn_RKPUuuV9Q')\r\nexport default class SwitchButton extends Laya.Script {\r\n\r\n    owner: Laya.Box;\r\n  constructor() {\r\n    super();\r\n  }\r\n  \r\n    \r\n    private btn_bg:Laya.Button;\r\n    private label_left:Laya.Label;\r\n    private label_right:Laya.Label;\r\n    onAwake() {\r\n        \r\n\r\n\r\n    }\r\n    private _isLeft: boolean = false;\r\n    public get isLeft(): boolean {\r\n        return this._isLeft;\r\n    }\r\n    public set isLeft(value: boolean) {\r\n        this._isLeft = value;\r\n        this.btn_bg = this.owner.getChildByName(\"btn_bg\") as Laya.Button;\r\n        this.label_left = this.owner.getChildByName(\"label_left\") as Laya.Label;\r\n        this.label_right = this.owner.getChildByName(\"label_right\") as Laya.Label;\r\n        if(this.isLeft){\r\n            this.btn_bg.x = 4;\r\n            this.label_left.color = \"#213343\";\r\n            this.label_right.color = \"#52a5e0\";\r\n\r\n        }else{\r\n            this.btn_bg.x = this.owner.width - this.btn_bg.width - 4;\r\n            this.label_left.color = \"#52a5e0\";\r\n            this.label_right.color = \"#213343\";\r\n        }      \r\n    }\r\n\r\n\r\n}", "const { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { PlatFormManager } from \"../../common/PlatFormManager\";\r\nimport { SoundMgr } from \"../../common/SoundMgr\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { ETHUtils } from \"../../global/contract/utils/ETHUtils\";\r\nimport { Quick } from \"../../global/util/Quick\";\r\nimport { StringTool } from \"../../util/StringTool\";\r\nimport { NoticeMgr } from \"../notice/NoticeMgr\";\r\nimport { GameSettingLanguageDialogBase } from \"./GameSettingLanguageDialog.generated\";\r\nimport SwitchButton from \"./item/SwitchButton\";\r\n\r\n@regClass('yJfJZzgZRluE_rgB44yTvg')\r\nexport class GameSettingLanguageDialog extends GameSettingLanguageDialogBase {\r\n\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_POP;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n\r\n\r\n    private musicSwitchButton:SwitchButton;\r\n    private soundSwitchButton:SwitchButton;\r\n    private languageSwitchButton:SwitchButton;\r\n    private inviteUrl:string;\r\n    public constructor(_data: any) {\r\n        super();\r\n    }\r\n\r\n    onEnable(): void {        \r\n\r\n        this.musicSwitchButton = this.box_music.getComponent(SwitchButton);\r\n        this.soundSwitchButton = this.box_sound.getComponent(SwitchButton);\r\n        this.languageSwitchButton = this.box_language.getComponent(SwitchButton);\r\n        this.initContainer();\r\n        // this.img_open1 = new Laya.Handler(this, this.onClickHandler, [this.img_open1]);\r\n        this.box_music.on(Laya.Event.CLICK, this, this.onClickHandler, [this.box_music]);\r\n        this.box_sound.on(Laya.Event.CLICK, this, this.onClickHandler, [this.box_sound]);\r\n        this.box_language.on(Laya.Event.CLICK, this, this.onClickHandler, [this.box_language]);\r\n        this.btn_copy.clickHandler = new Laya.Handler(this, this.onClickHandler, [this.btn_copy]);\r\n        this.btn_referral.on(Laya.Event.CLICK, this, this.onClickHandler, [this.btn_referral]);\r\n        \r\n    }\r\n    private onClickHandler(btn: any): void {\r\n        switch(btn) {\r\n            case this.box_music:\r\n            {             \r\n                  \r\n                this.musicSwitchButton.isLeft = !this.musicSwitchButton.isLeft;\r\n                SoundMgr.instance.switchMusic(this.musicSwitchButton.isLeft);//\r\n                // localStorage.setItem(\"\");\r\n\r\n\r\n            }\r\n            break;\r\n            case this.box_sound:\r\n            {\r\n                this.soundSwitchButton.isLeft = !this.soundSwitchButton.isLeft;\r\n                SoundMgr.instance.switchSound(this.soundSwitchButton.isLeft);//\r\n            }\r\n            break;\r\n            case this.btn_referral:\r\n            {\r\n                ModuleManager.intance.openModule(ModuleName.InviteRewardDialog)\r\n            }\r\n            break;\r\n            case this.box_language:\r\n            {\r\n                this.languageSwitchButton.isLeft = !this.languageSwitchButton.isLeft;\r\n                let lanType = this.languageSwitchButton.isLeft?\"zh\":\"en\";\r\n                \r\n                GameLanguageMgr.instance.FGM_SetLanguage(lanType);\r\n                PlatFormManager.instance.reload();\r\n            }\r\n            break;\r\n            case this.btn_copy:\r\n            {                \r\n                let shareUrl = this.inviteUrl;\r\n                Quick.doCopy(shareUrl);\r\n                // let isSuccess:boolean = this.webCopyString(shareUrl);\r\n                // if(isSuccess){\r\n                NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(132));//\r\n            }\r\n            break;\r\n        }\r\n    }\r\n\r\n    private initContainer(): void {\r\n        this.musicSwitchButton.isLeft = SoundMgr.instance.m_bPlayMusic;//\r\n        this.soundSwitchButton.isLeft = SoundMgr.instance.m_bPlayeSound;//\r\n\r\n        this.languageSwitchButton.isLeft = GlobalDataManager.instance.m_strLanguage == 6;\r\n        this.inviteUrl = ETHUtils.getInviteUrl();\r\n        // inviteUrl.substr\r\n\r\n        this.label_url.text = StringTool.shortStr(this.inviteUrl, 50) ;\r\n\r\n\r\n    }\r\n\r\n\r\n    public addEvent(): void {\r\n        \r\n    }\r\n    public removeEvent(): void {\r\n        \r\n    }\r\n\r\n    //@param str \r\n    //@return \r\n    public webCopyString(str:string):boolean {\r\n        let input:string = str;\r\n        const el:any = window.document.createElement('textarea');\r\n        el.value = input;\r\n        el.setAttribute('readonly', '');\r\n        el.style.contain = 'strict';\r\n        el.style.position = 'absolute';\r\n        el.style.left = '-9999px';\r\n        el.style.fontSize = '12pt'; // Prevent zooming on iOS\r\n        const selection:any = window.getSelection();\r\n        let originalRange:any = false;\r\n        if (selection.rangeCount > 0) {\r\n            originalRange = selection.getRangeAt(0);\r\n        }\r\n        window.document.body.appendChild(el);\r\n        el.select();\r\n        el.selectionStart = 0;\r\n        el.selectionEnd = input.length;\r\n        let success:boolean = false;\r\n        try {\r\n            success = window.document.execCommand('copy');\r\n        }catch(err) {\r\n            console.error(err);\r\n            \r\n        }\r\n        window.document.body.removeChild(el);\r\n        if (originalRange) {\r\n            selection.removeAllRanges();\r\n            selection.addRange(originalRange);\r\n        }\r\n        return success;\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/hero/AttrListItem.lh\n */\nexport class AttrListItemBase extends Laya.Box {\n    public img_icon!: Laya.Image;\n    public tf_name!: Laya.Label;\n    public tf_num!: Laya.Label;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-03-10 16:23:58\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-10 17:20:48\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { AttrListItemBase } from \"./AttrListItem.generated\";\r\n\r\n@regClass('lWiDi5bCR-CNy4v3ZMd42w')\r\nexport class AttrListItem extends AttrListItemBase {\r\n    \r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        var attrData = value as any[];\r\n        if(!attrData ) {\r\n            return\r\n        }\r\n\r\n\r\n        this.img_icon.skin = GameResourceManager.instance.getAttrIcon(attrData[0]);\r\n        this.tf_name.text = GameLanguageMgr.instance.getUILang(attrData[1]);\r\n        this.tf_num.text = attrData[2];\r\n\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { HeroSk } from \"./HeroSk\";\n\n/**\n * scenes/hero/HeroDetailDialog.lh\n */\nexport class HeroDetailDialogBase extends Laya.Dialog {\n    public btn_out!: Laya.Button;\n    public txt_name!: Laya.Label;\n    public btn_last!: Laya.Sprite;\n    public btn_next!: Laya.Sprite;\n    public btn_attribute!: Laya.Button;\n    public box_star!: Laya.Box;\n    public img_star1!: Laya.Image;\n    public img_star2!: Laya.Image;\n    public img_star3!: Laya.Image;\n    public img_star4!: Laya.Image;\n    public img_star5!: Laya.Image;\n    public btn_upgrade!: Laya.Button;\n    public box_sign!: Laya.Box;\n    public img_sign_0!: Laya.Image;\n    public img_sign_2!: Laya.Image;\n    public heroSk!: HeroSk;\n    public equip3!: Laya.Box;\n    public equip1!: Laya.Box;\n    public equip4!: Laya.Box;\n    public equip2!: Laya.Box;\n    public txt_name_1!: Laya.Label;\n    public list_attrs!: Laya.List;\n    public txt_name_2!: Laya.Label;\n    public list_skills!: Laya.List;\n    public img_upgrad_bg!: Laya.Image;\n    public img_const!: Laya.Image;\n    public tf_const!: Laya.Label;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2023-12-11 14:35:21\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-01-13 17:39:06\r\n */\r\nexport class Hero1Event {\r\n\r\n\r\n    public static UPDATE_HERO_EVENT: string = \"HeroEvent:UPDATE_HERO_EVENT\";\r\n    public static UPDATE_HERO_UPGRADE_EVENT: string = \"HeroEvent:UPDATE_HERO_UPGRADE_EVENT\";\r\n\r\n    \r\n    public constructor() {\r\n        \r\n    }\r\n}", "const { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { HeroVo } from \"../../global/contract/vo/HeroVo\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport HttpCmd from \"../../net/HttpCmd\";\r\nimport { HeroModel } from \"../luckdraw/model/HeroModel\";\r\nimport { NoticeMgr } from \"../notice/NoticeMgr\";\r\nimport { HeroDetailDialogBase } from \"./HeroDetailDialog.generated\";\r\nimport { Hero1Event } from \"./event/Hero1Event\";\r\n\r\n@regClass('Qri7gUY9SiWsYhtvNCEOQQ')\r\nexport class HeroDetailDialog extends HeroDetailDialogBase {\r\n\r\n    private _vo:HeroVo;\r\n    // private equipMenu:EquipMenuView;\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_POP;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n\r\n\r\n    public setOpenData(_data: any) {\r\n        \r\n        if(_data){\r\n            this._vo = _data;\r\n            \r\n        }else{\r\n            \r\n        }\r\n    }\r\n\r\n    onComplete(): any {\r\n        // this.eff.play(\"idle\", true);\r\n    }\r\n\r\n    onEnable(): void {\r\n        \r\n        this.showViewByVo(this._vo);\r\n        // this.sk.url = this._vo.skSkin;\r\n        // this.sk[\"_complete\"] = new Laya.Handler(this,this.stopAni)\r\n        this.btn_last.on(Laya.Event.CLICK,this,this.onClickLast);\r\n        this.btn_next.on(Laya.Event.CLICK,this,this.onClickNext);\r\n        this.btn_upgrade.on(Laya.Event.CLICK,this,this.onClickUpgrade);\r\n        this.btn_out.on(Laya.Event.CLICK,this,this.onClickOut);\r\n      \r\n\r\n    }\r\n\r\n    // private stopAni():void{\r\n    //     this.sk && this.sk.paused();\r\n    //     this.sk && this.sk.play(\"idle\", true);\r\n    // }\r\n\r\n    onClickUpgrade() {\r\n        ModuleManager.intance.openModule(ModuleName.HeroUpgradeDialog, this._vo);\r\n        \r\n    }\r\n    onClickNext() {\r\n        let vo = HeroModel.instance.getNextHero(this._vo);\r\n        if(vo){\r\n            this._vo = vo;\r\n            this.showViewByVo(vo);\r\n        }\r\n    }\r\n    onClickLast() {\r\n        let vo = HeroModel.instance.getLastHero(this._vo);\r\n        if(vo){\r\n            this._vo = vo;\r\n            this.showViewByVo(vo);\r\n        }\r\n    }\r\n\r\n\r\n    public addEvent(): void {\r\n        Signal.intance.on(Hero1Event.UPDATE_HERO_UPGRADE_EVENT, this, this.onHeroUpgrade);\r\n        this.stage.on(Laya.Event.CLICK,this,this.hideTips)\r\n        for (let index = 1; index < 7; index++) {\r\n            let btn:Laya.Box = (this as any)['equip' + index] as Laya.Box\r\n            btn.on(Laya.Event.CLICK,this,this.onClickEquip)\r\n        }\r\n    }\r\n\r\n    private hideTips(){\r\n        // this.equipMenu.visible = false;\r\n    }\r\n\r\n    public onClickEquip(evt:Laya.Event){\r\n        // evt.stopPropagation();\r\n        // let node:EquipItem = evt.currentTarget as EquipItem;\r\n        // EquipNetModel.instance.selectPos = node.dataSource.position;\r\n        // KnapsackNetModel.instance.itemIdForTips = node.dataSource.itemId;\r\n        // EquipNetModel.instance.equipPosVo = node.dataSource;\r\n        // if(!node.dataSource.itemId){\r\n        //     ModuleManager.intance.openModule(ModuleName.EquipSelectDialog)\r\n        //     return;\r\n        // }\r\n        // this.equipMenu.info = node.dataSource;\r\n        // this.equipMenu.visible = true;\r\n        // this.equipMenu.x = node.x + 50;\r\n        // this.equipMenu.y = node.y + 100;\r\n        // if(this.equipMenu.x + 191 > 640){\r\n        //     this.equipMenu.x = 640 - 200;\r\n        // }\r\n    }\r\n\r\n    public removeEvent(): void {\r\n        Signal.intance.off(Hero1Event.UPDATE_HERO_UPGRADE_EVENT, this, this.onHeroUpgrade);\r\n    }\r\n\r\n    private onHeroUpgrade(){\r\n        this._vo = GlobalDataManager.instance.m_heroData.heroVoDic.get(this._vo.pk);\r\n        if(this._vo){\r\n            this.showViewByVo(this._vo);\r\n        }\r\n        \r\n    }\r\n\r\n    public updateEquip(){\r\n        let ary = this._vo.equipDtoList;\r\n\r\n        for (let idx = 0; idx < ary.length; idx++) {\r\n            const element = ary[idx];\r\n            (this as any)['equip' + (idx + 1)].dataSource = element;\r\n        }\r\n    }\r\n\r\n    async showViewByVo(vo:HeroVo){\r\n        // this.img_head.skin = vo.simgurl;\r\n\r\n        this.txt_name.text = vo.name;\r\n        // this.label_lv.text = GameLanguageMgr.instance.getLanguage(304) + '' + vo.lv;\r\n\r\n\r\n        // this.img_role.skin = vo.simgurl;\r\n\r\n\r\n        let star = vo.heroItem.level + '';\r\n        HeroModel.instance.setStar(this, star);\r\n        this.box_star.visible = true;\r\n\r\n        this.heroSk.dataSource = vo;\r\n\r\n\r\n        // public maxHp: number; //maxHp|\t\r\n        // public atk: number; //atk|\t\r\n        // public def: number; //def|\t\r\n        // public mov: number; //mov|\t\r\n        // public crt: number; //crt|\t\r\n        // public crtRate: number; //crtRate|\t\r\n        // public immunity: number; //immunity|\t\r\n        // public dex: number; //dex|\t\r\n        // public miss: number; //miss|\r\n\r\n\r\n        var attrs:any[] = [[\"maxHp\", \"MaxHP\", vo.heroItem.maxHp], [\"atk\", \"ATK\", vo.heroItem.atk], [\"def\", \"DEF\", vo.heroItem.def], [\"mov\", \"MOV\", vo.heroItem.mov],\r\n        [\"crt\", \"CRT\", vo.heroItem.crt], [\"crtRate\", \"CrtRate\", (vo.heroItem.crtRate/10000) + \"%\" ], [\"immunity\", \"Immunity\", vo.heroItem.immunity], [\"dex\", \"Dex\", vo.heroItem.dex], [\"miss\", \"MISS\", vo.heroItem.miss]];\r\n\r\n        this.list_attrs.array = attrs;\r\n\r\n        \r\n\r\n        // this.lb_attr1.text = GameLanguageMgr.instance.getLanguage(32) + '' + vo.heroItem.maxHp + ''; //\r\n        // this.lb_attr2.text = GameLanguageMgr.instance.getLanguage(33) + '' + vo.heroItem.atk + '';//\r\n        // this.lb_attr3.text = GameLanguageMgr.instance.getLanguage(34) + '' + vo.heroItem.def + '';//\r\n        // this.lb_attr4.text = GameLanguageMgr.instance.getLanguage(35) + '' +vo.heroItem.mov + '';//\r\n\r\n        var skills:any[] = [];\r\n        vo.heroItem.skillIds.forEach((skillId) => {\r\n            var skill = SheetDataManager.intance.m_dicSkills.get(skillId);\r\n            skills.push(skill);\r\n\r\n        });\r\n\r\n        this.list_skills.array = skills;\r\n        // this.lb_attr5.text = GameLanguageMgr.instance.getLanguage(36) + '' +(vo.initialCrit*100).toFixed(2) + '%';\r\n        // await ETHBlindBoxProxy.instance.heroOutputRate();\r\n        // let heroOutputRate:HeroOutputRate = HeroModel.instance.heroOutputRateDic.get(parseInt(vo.mineralLevel + ''));\r\n        // if(heroOutputRate){\r\n        //     this.lb_attr6.text = GameLanguageMgr.instance.getLanguage(6049, heroOutputRate.capacity );\r\n        // }   \r\n        \r\n\r\n  \r\n        // this.img_sign_0.visible = false;\r\n        // this.img_sign_2.visible = false;\r\n\r\n        // switch (vo.status) {\r\n        //     case 0:\r\n        //         this.img_sign_0.visible = true;\r\n        //         break;\r\n        //     case 2:\r\n        //         this.img_sign_2.visible = true;\r\n        //         break;\r\n        // }\r\n\r\n        // this.updateEquip();\r\n        this.updatePk();\r\n    }\r\n\r\n    updatePk(){\r\n        if(GlobalDataManager.instance.playerDto.fightHeroPk == this._vo.pk){\r\n            this.box_sign.visible = true;\r\n            this.btn_out.disabled = true;\r\n            this.btn_out.label = GameLanguageMgr.instance.getLanguage(1038);\r\n        }else{\r\n            this.box_sign.visible = false;\r\n            this.btn_out.disabled = false;\r\n            this.btn_out.label = GameLanguageMgr.instance.getLanguage(1037);\r\n        }\r\n    }\r\n\r\n\r\n    async onClickOut() {\r\n        let that = this;\r\n        let data:any = await HttpCmd.requestPost(\"wxgame/hero/heroFight\", {pk:this._vo.pk})\r\n\r\n\r\n                if(data){ \r\n                    GlobalDataManager.instance.playerDto.fightHeroPk = data.pk;\r\n                    that.updatePk();\r\n                    Signal.intance.event(Hero1Event.UPDATE_HERO_EVENT);\r\n\r\n\r\n                }else{\r\n                    NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(135));//error\r\n                }\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/hero/HeroListItem.lh\n */\nexport class HeroListItemBase extends Laya.Box {\n    public img_back!: Laya.Image;\n    public box_show!: Laya.Box;\n    public img_hero!: Laya.Image;\n    public img_front!: Laya.Image;\n    public tf_name!: Laya.Label;\n    public list_state!: Laya.List;\n    public img_state!: Laya.Image;\n    public box_star!: Laya.Box;\n    public img_star1!: Laya.Image;\n    public img_star2!: Laya.Image;\n    public img_star3!: Laya.Image;\n    public img_star4!: Laya.Image;\n    public img_star5!: Laya.Image;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-07 19:43:48\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-14 22:14:29\r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { HeroVo } from \"../../global/contract/vo/HeroVo\";\r\nimport { StringTool } from \"../../util/StringTool\";\r\nimport { HeroModel } from \"../luckdraw/model/HeroModel\";\r\nimport { HeroListItemBase } from \"./HeroListItem.generated\";\r\n\r\n@regClass('PfeS1F4rQCqM4vXJpBZVWQ')\r\nexport class HeroListItem extends HeroListItemBase {\r\n\r\n\r\n\r\n    public heroVo: HeroVo;\r\n    private isAddEvent:boolean = false;\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public createChildren():void{\r\n        super.createChildren();\r\n        // this.visible = false;\r\n    }\r\n\r\n    private addEvent(){\r\n        if(!this.isAddEvent){\r\n            // this.img_chanchu.on(Laya.Event.CLICK, this, this.onDigGet);\r\n            this.on(Laya.Event.CLICK,this, this.toDetail)\r\n            this.isAddEvent = true;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.heroVo = value as HeroVo;\r\n        if(!this.heroVo ) {\r\n            this.img_back.skin = GameResourceManager.instance.getHeroBackIcon(0);\r\n            this.box_show.visible = false;\r\n            return\r\n        }\r\n        this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n    async setCurrentOutPut() {\r\n        //============    =============\r\n        var stateData = [];\r\n        if(GlobalDataManager.instance.playerDto.fightHeroPk == this.heroVo.pk){\r\n            stateData.push({\"img_state\":{\"skin\":\"gameIcon/hero/heroDetail/img_hero_state_1.png\"}});\r\n        }\r\n        this.list_state.dataSource = stateData;\r\n\r\n        this.img_back.skin = GameResourceManager.instance.getHeroBackIcon(this.heroVo.heroItem.quality);\r\n        this.img_front.skin = GameResourceManager.instance.getHeroFrontIcon(this.heroVo.heroItem.quality);\r\n\r\n\r\n        this.img_hero.skin = this.heroVo.simgurl;\r\n\r\n        this.tf_name.text = StringTool.shortHeroStr(this.heroVo.name);\r\n        let star = this.heroVo.heroItem.level + '';\r\n        HeroModel.instance.setStar(this, star);\r\n        // let status:any = this.heroVo.status;\r\n        this.box_show.visible = true;\r\n        if(this.destroyed){\r\n            return;\r\n        }\r\n\r\n        // let lanId:number = 100+ parseInt(status);\r\n\r\n        // this.tf_status.text = GameLanguageMgr.instance.getLanguage(lanId);\r\n\r\n    }\r\n\r\n    \r\n    toDetail() {\r\n        if(this.heroVo.id){\r\n            ModuleManager.intance.openModule(ModuleName.HeroDetailDialog,this.heroVo) \r\n        }\r\n    }\r\n\r\n\r\n    \r\n}\r\n", "/*\r\n * @Description: \r\n * @Author: hjy\r\n * @Date: 2023-01-19 00:38:26\r\n * @LastEditTime: 2024-02-18 17:17:44\r\n * @LastEditors: hjy\r\n */\r\nexport class EnumHero {\r\n    /**\r\n     * \r\n     */\r\n    public static ANI_beiji: string = \"beiji\";\r\n    /**\r\n     * \r\n     */\r\n    public static ANI_daiji: string = \"daiji\";\r\n\r\n    \r\n    /**\r\n     * \r\n     */\r\n    public static ANI_gongji: string = \"gongji\";  \r\n    \r\n\r\n    /**\r\n     * \r\n     */\r\n    public static ANI_ti: string = \"ti\";    \r\n    /**\r\n     * \r\n     */\r\n    public static ANI_hua: string = \"hua\";   \r\n    /**\r\n     * \r\n     */\r\n    public static ANI_dang: string = \"gedang\";    \r\n    \r\n    /**\r\n     *  \r\n     */\r\n    public static ANI_ruchang: string = \"ruchang\";\r\n\r\n    /**\r\n     * \r\n     */\r\n    public static ANI_siwang: string = \"siwang\";\r\n\r\n    /**\r\n     * \r\n     */    \r\n    public static ANI_xingzou: string = \"xingzou\";\r\n\r\n\r\n\r\n    /**\r\n     * \r\n     */\r\n    public static ANI_chongzhuang: string = \"z_chongzhuang\";\r\n    /**\r\n     * 2\r\n     */\r\n    public static ANI_chongzhuang2: string = \"z_chongzhuang2\";\r\n\r\n\r\n    /**\r\n     * \r\n     */\r\n    public static ANI_daodi: string = \"z_daodi\";    \r\n\r\n\r\n    /**\r\n     * \r\n     */\r\n    public static ANI_shanbi: string = \"z_shanbi\";\r\n\r\n    /**\r\n     * \r\n     */    \r\n    public static ANIS: any[] = [\r\n        EnumHero.ANI_daiji, \r\n        EnumHero.ANI_xingzou,\r\n\r\n        EnumHero.ANI_gongji,\r\n        EnumHero.ANI_ti, \r\n        EnumHero.ANI_hua, \r\n        EnumHero.ANI_dang, \r\n\r\n        EnumHero.ANI_beiji, \r\n\r\n        EnumHero.ANI_siwang\r\n    ];\r\n\r\n    /**\r\n     * \r\n     */\r\n    public static TYPE_GONGJI: number = 1;\r\n    /**\r\n     * \r\n     */\r\n    public static TYPE_TI: number = 2;\r\n    \r\n    /**\r\n     * \r\n     */\r\n    public static TYPE_HUA: number = 3;\r\n    /**\r\n     * \r\n     */\r\n    public static TYPE_DANG: number = 4;\r\n\r\n\r\n    /**\r\n     * \r\n     */\r\n    public static TYPE_FEI: number = 5;\r\n\r\n\r\n    public constructor() {\r\n        \r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/hero/HeroSk.lh\n */\nexport class HeroSkBase extends Laya.Box {\n    public sk!: Laya.SpineSkeleton;\n}\n\n", "const { regClass } = Laya;\r\nimport { HeroVo } from \"../../global/contract/vo/HeroVo\";\r\nimport { EnumHero } from \"../../global/data/enumData/EnumHero\";\r\nimport { HeroSkBase } from \"./HeroSk.generated\";\r\n\r\n@regClass('kS5K53GHRWOdgfXoo6VH1A')\r\nexport class HeroSk extends HeroSkBase {\r\n\r\n    public heroVo: HeroVo;\r\n    \r\n    private isAddEvent:boolean = false;\r\n    public isReady:boolean = false;\r\n    /**  */\r\n    private skinIndex: number = 0;\r\n    /** spine  */\r\n    private spineAniIndex: number = 0;\r\n    /** spine */\r\n    private skeletonNode: Laya.Sprite;\r\n    // /**spine */\r\n    // private spineNode: Laya.Sprite;\r\n    /** spine */\r\n    private spineAniNum: number;\r\n        /**  */\r\n        private skinArray: Array<string> = [\"goblin\", \"goblingirl\"];\r\n\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    private addEvent(){\r\n        if(!this.isAddEvent){\r\n            // this.img_chanchu.on(Laya.Event.CLICK, this, this.onDigGet);\r\n            // this.on(Laya.Event.CLICK,this, this.toDetail)\r\n            this.isAddEvent = true;\r\n            this.on(Laya.Event.CLICK, this, this.changeAni);\r\n            this.sk.on(Laya.Event.READY, this, this.onSkReady);\r\n            // (this.sk as any)[\"_complete\"] = new Laya.Handler(this,this.spineParseComplete)\r\n        }\r\n\r\n    }\r\n    private onSkReady(){\r\n        this.isReady = true;\r\n\r\n    }\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.heroVo = value as HeroVo;\r\n        // if(!this.heroVo ) {\r\n        //     return\r\n        // }\r\n        this.addEvent();\r\n        this.createSpine();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n        /**spine */\r\n        createSpine(): void {\r\n            \r\n            //spinespineIDEspine\r\n            // this.spineTemplet = new SpineTemplet();//Laya.SpineVersion.v3_8);\r\n            // this.spineTemplet.on(Event.COMPLETE, this, this.spineParseComplete)\r\n            // this.spineTemplet.loadAni(\"role/sk/spineboy-pma.skel\");\r\n            Laya.loader.load(this.heroVo.sk,Laya.Loader.SPINE).then((templet: Laya.SpineTemplet) => {\r\n                if(this.destroyed){\r\n                    return;\r\n                }\r\n                //spine\r\n                // this.sk = new SpineSkeleton();\r\n                this.sk.templet = templet;\r\n                // this.sk.templet.on(Laya.Event.COMPLETE, this, this.spineParseComplete);\r\n                this.sk.animationName = EnumHero.ANI_daiji;\r\n                // this.spineNode.addChild(this.sk);\r\n                // this.sk.scale(0.3, 0.3);\r\n                // this.sk.pos(220, 390);\r\n    \r\n                //spine\r\n                // this.spineAniNum = this.sk.getAnimNum();\r\n                this.spineAniNum = EnumHero.ANIS.length;\r\n                //\r\n                \r\n                //\r\n                \r\n                // this.on(Laya.Event.CLICK, this, this.changeSkin);\r\n            });        \r\n            \r\n        }\r\n    \r\n        // /** spine */\r\n        // spineParseComplete(): void {\r\n        //     this.sk.play(EnumHero.ANI_daiji, true);\r\n        // }\r\n    \r\n        /**  */\r\n        changeAni(): void {\r\n            if(!this.isReady)\r\n                return;\r\n            //spine\r\n            // ++this.spineAniIndex >= this.spineAniNum && (this.spineAniIndex = 5);\r\n            \r\n            this.spineAniIndex++;\r\n            if(this.spineAniIndex >= this.spineAniNum)\r\n            this.spineAniIndex = 0;\r\n            var aniName:string = EnumHero.ANIS[this.spineAniIndex];\r\n            //\r\n            this.sk.play(aniName, true, true);\r\n            \r\n        }\r\n    \r\n    \r\n    \r\n        /**  */\r\n        changeSkin(): void {\r\n            //spine,showSkinByIndex(index)\r\n            this.sk.showSkinByName(this.skinArray[this.skinIndex]);\r\n            //indexskinIndex\r\n            // this.skeletonAni.showSkinByIndex(index);\r\n    \r\n            //\r\n            ++this.skinIndex >= this.skinArray.length && (this.skinIndex = 0);\r\n        }\r\n\r\n        onDisable(): void {\r\n            this.sk.off(Laya.Event.READY, this, this.onSkReady);\r\n        }\r\n\r\n\r\n\r\n\r\n    \r\n    // toDetail() {\r\n    //     if(this.heroVo.id){\r\n    //         ModuleManager.intance.openModule(ModuleName.HeroDetailDialog,this.heroVo) \r\n    //     }\r\n    // }\r\n\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { CoinsBox } from \"../shop/CoinsBox\";\n\n/**\n * scenes/hero/MyHeroScene.ls\n */\nexport class MyHeroSceneBase extends Laya.Scene {\n    public box_2!: Laya.Box;\n    public box_left!: Laya.Box;\n    public btn_back!: Laya.Button;\n    public CoinsBox!: CoinsBox;\n    public list_hero!: Laya.List;\n    public tf_noData!: Laya.Label;\n}\n\n", "const { regClass } = Laya;\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { SceneManager } from \"../../common/SceneManager\";\r\nimport { SceneType } from \"../../common/baseScene/SceneType\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { ETHBlindBoxProxy } from \"../../global/contract/service/ETHBlindBoxProxy\";\r\nimport { HeroVo } from \"../../global/contract/vo/HeroVo\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { HeroEvent } from \"../luckdraw/event/HeroEvent\";\r\nimport { MyHeroSceneBase } from \"./MyHeroScene.generated\";\r\nimport { Hero1Event } from \"./event/Hero1Event\";\r\n\r\n@regClass('eEFn-xcRTXagUEZFDdSujw')\r\nexport class MyHeroScene extends MyHeroSceneBase {\r\n\r\n    public m_iLayerType: number;\r\n    public m_iPositionType: number;\r\n    onAwake(): void {\r\n        this.m_iLayerType = LayerManager.M_POP;\r\n        this.m_iPositionType = LayerManager.UP;\r\n        // this.m_ioffsetX = 20;\r\n        // if(GameSetting.m_bIsIphoneX ) {\r\n        //     this.m_ioffsetY = GameSetting.IPHONEX_TOP;\r\n        // } \r\n    }\r\n    \r\n    onEnable(): void {\r\n        \r\n\r\n\r\n        this.list_hero.vScrollBarSkin = \"\";\r\n        // SoundMgr.instance.playMusicByName(SoundMgr.soundName_bg, \".mp3\");\r\n\r\n        if(this.btn_back ) {\r\n            this.btn_back.on(Laya.Event.CLICK, this, this.setToMainScene)\r\n        }\r\n        Signal.intance.on(Hero1Event.UPDATE_HERO_EVENT, this, this.createHeadList);\r\n\r\n        this.initMyHeroView();\r\n\r\n        // this.btn_formation.clickHandler = new Laya.Handler(this,this.handleClickBtn,[this.btn_formation])\r\n\r\n        // this.dHeight = (Laya.stage.height - GameSetting.DESIGN_HEIGHT)/2;\r\n        \r\n        // this.btn_back.y -= this.dHeight;\r\n\r\n        this.initContainer();\r\n    }\r\n\r\n    private setToMainScene():void{\r\n        SceneManager.intance.setCurrentScene(SceneType.M_SCENE_MAIN);\r\n    }\r\n    \r\n    private async initMyHeroView():Promise<void>{\r\n        // await ETHBlindBoxProxy.instance.initData();\r\n\r\n    }\r\n\r\n    private onListEvent(e: Laya.Event, index: number): void {\r\n        switch(e.type) {\r\n            case Laya.Event.CLICK:\r\n            {\r\n                this.list_hero.selectedIndex = index;\r\n                this.handleSelectHero(index)\r\n            }\r\n            break;\r\n        }\r\n    }\r\n\r\n    private onRenderList(cell: Laya.Box, index: number): void {\r\n        let data = cell.dataSource as HeroVo;\r\n        // let selected = cell.getChildByName(\"selected\") as Laya.Image;\r\n        // selected.visible = this.list_hero.selectedIndex == index;\r\n        // let emojiImg = cell.getChildByName(\"img_emoji\") as Laya.Image;\r\n        // emojiImg.skin = GameResourceManager.instance.setResURL (\"gameIcon/head/headRect/\"+data.head+\".png\");\r\n    }\r\n\r\n    private initContainer(): void {\r\n        this.list_hero.visible = false;\r\n        this.list_hero.vScrollBarSkin = \"\";\r\n        this.list_hero.mouseHandler = new Laya.Handler(this, this.onListEvent);\r\n        this.list_hero.renderHandler = new Laya.Handler(this, this.onRenderList);\r\n        \r\n        this.createHeadList();\r\n    }\r\n    private handleSelectHero(index: number): void {\r\n        let vo: HeroVo = this.list_hero.selectedItem;\r\n        \r\n    }\r\n    private async createHeadList(): Promise<void> {\r\n\r\n        await ETHBlindBoxProxy.instance.ownerHero();\r\n        if(!this){\r\n            return;\r\n        }\r\n        let heroVos:any[] = GlobalDataManager.instance.m_heroData.heroVoDic.values;\r\n        if(heroVos && heroVos.length>9){\r\n            this.list_hero.array = heroVos;\r\n            this.list_hero.visible = true;\r\n            this.tf_noData.visible = false;\r\n            let selectIndex = -1;\r\n\r\n            this.list_hero.selectedIndex = selectIndex;\r\n\r\n        }else{\r\n            let heroVos1:any[] = [];\r\n            for(var i = 0;i<10;i++){\r\n                var heroVo:HeroVo = heroVos[i];\r\n                if(heroVo){\r\n                    heroVos1.push(heroVo);\r\n                }else{\r\n                    heroVos1.push(null);\r\n                }\r\n\r\n            }\r\n\r\n            this.list_hero.array = heroVos1;\r\n            this.list_hero.visible = true;\r\n\r\n\r\n            this.tf_noData.visible = false;\r\n        }\r\n\r\n    }\r\n\r\n    private handleClickBtn(currentTarget: Laya.Button): void {\r\n        switch(currentTarget) {\r\n\r\n            // case this.btn_formation:\r\n            // {\r\n            //     console.log('HeroFormationDialog');\r\n            //     ModuleManager.intance.openModule(ModuleName.HeroFormationDialog);\r\n            // }\r\n            // break;\r\n\r\n        }\r\n    }\r\n\r\n    onDisable(): void {\r\n        Signal.intance.off(Hero1Event.UPDATE_HERO_EVENT, this, this.createHeadList);\r\n    }\r\n\r\n\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/hero/SkillAttrListItem.lh\n */\nexport class SkillAttrListItemBase extends Laya.Box {\n    public tf_name!: Laya.Label;\n    public tf_num!: Laya.Label;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-03-13 14:56:38\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-13 15:04:14\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { SkillAttrListItemBase } from \"./SkillAttrListItem.generated\";\r\n\r\n@regClass('BFrnzfZDRh2v3vDKqrNVwA')\r\nexport class SkillAttrListItem extends SkillAttrListItemBase {\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        var attrData = value as any[];\r\n        if(!attrData ) {\r\n            return\r\n        }\r\n\r\n\r\n        // this.img_icon.skin = GameResourceManager.instance.getAttrIcon(attrData[0]);\r\n        this.tf_name.text = GameLanguageMgr.instance.getUILang(attrData[1]);\r\n        this.tf_num.text = attrData[2];\r\n\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/hero/SkillIconItem.lh\n */\nexport class SkillIconItemBase extends Laya.Box {\n    public img_box!: Laya.Image;\n    public img_icon!: Laya.Image;\n    public txt_num!: Laya.Label;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-22 19:53:32\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-15 16:47:42\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { SkillItem } from \"../../global/data/sheetItem/hero/Skilltem\";\r\nimport { SkillIconItemBase } from \"./SkillIconItem.generated\";\r\n\r\n@regClass('qJVd2M3_Td-5eIx8PsQpAw')\r\nexport class SkillIconItem extends SkillIconItemBase {\r\n\r\n    public skillItem: SkillItem;\r\n    public isBig:boolean = false;\r\n    private isAddEvent:boolean = false;\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.skillItem = value as SkillItem;\r\n        if(!this.skillItem ) {\r\n            return\r\n        }\r\n\r\n        \r\n        this.txt_num.text = '';\r\n\r\n\r\n        this.img_icon.skin = GameResourceManager.instance.getSkillIcon(this.skillItem.icon, this.isBig);//\"https://cdn.bunnyswap.cc/images/items/\"+itemsStItem.icon;\r\n        // this.img_box.skin = 'res/common/common_icon/img_' + itemItem.quality + '.png'\r\n        \r\n\r\n\r\n        \r\n        // this.tf_get.text = GameLanguageMgr.instance.getLanguage(\"111\", this.skillItem.mineralLevel);\r\n\r\n\r\n\r\n    }\r\n\r\n    \r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { SkillIconItem } from \"./SkillIconItem\";\n\n/**\n * scenes/hero/SkillListItem.lh\n */\nexport class SkillListItemBase extends Laya.Box {\n    public skillIconItem!: SkillIconItem;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-22 17:13:36\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-01-22 20:45:34\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { SkillItem } from \"../../global/data/sheetItem/hero/Skilltem\";\r\nimport { SkillListItemBase } from \"./SkillListItem.generated\";\r\n\r\n@regClass('VRh1GpjHSyqm75euC37ZKw')\r\nexport class SkillListItem extends SkillListItemBase {\r\n\r\n    public skillItem: SkillItem;\r\n    private isAddEvent:boolean = false;\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public createChildren():void{\r\n        super.createChildren();\r\n        // this.visible = false;\r\n    }\r\n\r\n    private addEvent(){\r\n        if(!this.isAddEvent){\r\n            this.on(Laya.Event.CLICK, this, this.toDetail);\r\n            this.isAddEvent = true;\r\n            // Signal.intance.on(HeroEvent.EVENT_HERO_DRAW_UPDATE_PRODUCTION, this, this.updateProduction);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.skillItem = value as SkillItem;\r\n        if(!this.skillItem ) {\r\n            return\r\n        }\r\n        this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n    async setCurrentOutPut() {\r\n\r\n        if(!this.skillItem)return;\r\n        this.skillIconItem.dataSource = this.skillItem;\r\n\r\n    }\r\n\r\n    \r\n    private toDetail(){\r\n        if(!this.skillItem){\r\n            return;\r\n        }\r\n\r\n        ModuleManager.intance.openModule(ModuleName.SkillTipDialog, this.skillItem);\r\n\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { SkillIconItem } from \"./SkillIconItem\";\n\n/**\n * scenes/hero/SkillTipDialog.lh\n */\nexport class SkillTipDialogBase extends Laya.Dialog {\n    public item!: SkillIconItem;\n    public tf_name!: Laya.Label;\n    public list_skillAttrs!: Laya.List;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-22 17:24:13\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-13 15:40:53\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { SkillItem } from \"../../global/data/sheetItem/hero/Skilltem\";\r\nimport { SkillTipDialogBase } from \"./SkillTipDialog.generated\";\r\n\r\n@regClass('PiBuXnP8ToeveVbB_bfhUQ')\r\nexport class SkillTipDialog extends SkillTipDialogBase {\r\n\r\n    private skillItem:SkillItem;\r\n    // private equipMenu:EquipMenuView;\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_POP;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n\r\n\r\n    public setOpenData(_data: any) {\r\n        \r\n        if(_data){\r\n            this.skillItem = _data;\r\n            \r\n        }else{\r\n            \r\n        }\r\n    }\r\n    onEnable(): void {\r\n\r\n\r\n        this.item.dataSource = this.skillItem;\r\n\r\n\r\n        this.tf_name.text = GameLanguageMgr.instance.getLanguage(this.skillItem.name);\r\n\r\n        // this.txt_type.text = GameLanguageMgr.instance.getLanguage('6060') + GameLanguageMgr.instance.getLanguage(this.skillItem.type);\r\n\r\n        // this.txt_desc.text = GameLanguageMgr.instance.getLanguage(this.skillItem.des);\r\n\r\n\r\n\r\n        // type|\r\n        // distance|\r\n        // hurt|\r\n        // cd|cd\r\n        // displacement|\r\n        // targetsType|\r\n\r\n        var attrs:any[] = [\r\n            [\"type\", \"S_type\", GameLanguageMgr.instance.getUILang(\"S_type_\" + this.skillItem.type) ], \r\n            [\"distance\", \"S_distance\", this.skillItem.distance ], \r\n            [\"hurt\", \"S_hurt\", (this.skillItem.hurt/10000) + \"%\" ], \r\n            [\"cd\", \"S_cd\", this.skillItem.cd + GameLanguageMgr.instance.getUILang(\"S_S\") ], \r\n            [\"displacement\", \"S_displacement\", this.skillItem.displacement ], \r\n            [\"targetsType\", \"S_targetsType\", GameLanguageMgr.instance.getUILang(\"S_targetsType\" + this.skillItem.targetsType) ]\r\n        ];\r\n\r\n        this.list_skillAttrs.array = attrs;\r\n\r\n        \r\n        \r\n\r\n\r\n        // Signal.intance.on(GameEvent.EVENT_HERO_CARD_BACK,this,this.onBack);\r\n    }\r\n\r\n\r\n    // public onStageResize():void{\r\n    //     super.onStageResize();\r\n    // }\r\n    \r\n    public removeEvent():void{\r\n        // Signal.intance.off(GameEvent.EVENT_HERO_CARD_BACK,this,this.onBack);\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { KnapsackItem } from \"./KnapsackItem\";\n\n/**\n * scenes/item/BagItem.lh\n */\nexport class BagItemBase extends Laya.Box {\n    public knapsackItem!: KnapsackItem;\n    public selectBox!: Laya.Image;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-03-07 22:08:01\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-08 16:40:10\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { ItemVo } from \"../../global/vo/pack/ItemVo\";\r\nimport { PackageData } from \"../../global/vo/pack/PackageData\";\r\nimport { BagItemBase } from \"./BagItem.generated\";\r\n\r\n@regClass('HYoZb6e-RFKj8fjDKbl-7Q')\r\nexport class BagItem extends BagItemBase {\r\n        \r\n    public itemVo: ItemVo;\r\n    public showAdd:boolean = false;\r\n    private isAddEvent:boolean = false;\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public createChildren():void{\r\n        super.createChildren();\r\n        // this.visible = false;\r\n    }\r\n\r\n    // private addEvent(){\r\n    //     if(!this.isAddEvent){\r\n    //         this.on(Laya.Event.CLICK, this, this.toDetail);\r\n    //         this.isAddEvent = true;\r\n    //         // Signal.intance.on(HeroEvent.EVENT_HERO_DRAW_UPDATE_PRODUCTION, this, this.updateProduction);\r\n    //     }\r\n\r\n    // }\r\n\r\n\r\n    // private async onRecruit():Promise<void>{\r\n    //     if(this.itemVo.type == 1){\r\n    //         await ETHBlindBoxProxy.instance.recruit(this.itemVo.id); \r\n    //     }else{\r\n    //         await ETHBlindBoxProxy.instance.recruitItem(this.itemVo.id); \r\n    //         // await ETHSeriesHeroMallProxy.instance.recruit(this.itemVo.id);\r\n\r\n    //     }\r\n               \r\n    // }\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.itemVo = value as ItemVo;\r\n        if(!this.itemVo ) {\r\n            return\r\n        }\r\n        // this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n    async setCurrentOutPut() {\r\n\r\n        if(!this.itemVo)return;\r\n        let itemItem = this.itemVo.itemItem;\r\n        this.knapsackItem.dataSource = this.itemVo;\r\n        if(itemItem){\r\n            this.disabled = false;\r\n        }else{\r\n            this.disabled = true;\r\n        }\r\n\r\n\r\n    }\r\n    // public set selected(value: boolean) {\r\n    //     super.selected = value;\r\n    //     if(value ) {\r\n            \r\n    //     } \r\n    // }\r\n\r\n    \r\n    private toDetail(){\r\n        if(!this.itemVo || !this.itemVo.needTip){\r\n            return;\r\n        }\r\n        \r\n        if(this.itemVo.type === PackageData.TYPE_Equipment){\r\n            ModuleManager.intance.openModule(ModuleName.EquipDetailDialog, this.itemVo);\r\n        }\r\n        else{\r\n            ModuleManager.intance.openModule(ModuleName.KnapsackTipDialog, this.itemVo);\r\n        }\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { KnapsackItem } from \"./KnapsackItem\";\n\n/**\n * scenes/item/ItemGetDialog.lh\n */\nexport class ItemGetDialogBase extends Laya.Dialog {\n    public knapsackItem!: KnapsackItem;\n    public tf_name!: Laya.Label;\n}\n\n", "const { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { SoundMgr } from \"../../common/SoundMgr\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { GameEvent } from \"../../global/event/GameEvent\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { ItemVo } from \"../../global/vo/pack/ItemVo\";\r\nimport { ItemGetDialogBase } from \"./ItemGetDialog.generated\";\r\nimport { KnapsackItem } from \"./KnapsackItem\";\r\nimport { GetItemDataModel } from \"./model/GetItemDataModel\";\r\n\r\n@regClass('tC2uDJDVQMaI41Lys60O5Q')\r\nexport class ItemGetDialog extends ItemGetDialogBase {\r\n\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_POP;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n\r\n\r\n    public constructor(_data: any) {\r\n        super();\r\n\r\n    }\r\n\r\n\r\n\r\n    onEnable(): void {\r\n        \r\n        this.initContainer();\r\n\t\t\tSoundMgr.instance.playSoundByName(SoundMgr.soundName32);\r\n    }\r\n    \r\n    private initContainer():void\r\n    {\r\n        \r\n        var data:ItemVo = GetItemDataModel.instance.getOneItem();\r\n        if(data)\r\n        {\r\n\r\n            this.showItem(data);\r\n\r\n        }\r\n\r\n    }\r\n    \r\n    /**\r\n     *  \r\n     * @param itemVO\r\n     */\t\t\r\n    private showItem(data:ItemVo):void\r\n    {\r\n        (this.knapsackItem as KnapsackItem).showAdd = true;\r\n        (this.knapsackItem as KnapsackItem).dataSource = data;\r\n        this.tf_name.text = GameLanguageMgr.instance.getLanguage(data.itemItem.name);\r\n        // (this.knapsackItem.getChildByName(\"img_icon\") as Laya.Image).skin = GameResourceManager.instance.getItemIcon(data.itemItem.icon);\r\n        // (this.knapsackItem.getChildByName(\"txt_num\") as Laya.Label).text = \"x\" + data.newAddCnt;\r\n        \r\n\r\n    }\r\n\r\n    onDisable(): void {\r\n\r\n        Signal.intance.event(GameEvent.EVENT_CHECK_REMAIN,ModuleName.ItemGetDialog);\r\n    }\r\n\r\n\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/item/KnapsackItem.lh\n */\nexport class KnapsackItemBase extends Laya.Box {\n    public img_box!: Laya.Image;\n    public img_icon!: Laya.Image;\n    public txt_num!: Laya.Label;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-19 16:13:32\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-13 21:29:02\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { ItemVo } from \"../../global/vo/pack/ItemVo\";\r\nimport { PackageData } from \"../../global/vo/pack/PackageData\";\r\nimport { KnapsackItemBase } from \"./KnapsackItem.generated\";\r\n\r\n@regClass('LzxJYKybT_m3CJav3RyDmg')\r\nexport class KnapsackItem extends KnapsackItemBase {\r\n\r\n\r\n    \r\n    public itemVo: ItemVo;\r\n    public showAdd:boolean = false;\r\n    private isAddEvent:boolean = false;\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public createChildren():void{\r\n        super.createChildren();\r\n        // this.visible = false;\r\n    }\r\n\r\n    private addEvent(){\r\n        if(!this.isAddEvent){\r\n            // this.on(Laya.Event.CLICK, this, this.toDetail);\r\n            this.isAddEvent = true;\r\n            // Signal.intance.on(HeroEvent.EVENT_HERO_DRAW_UPDATE_PRODUCTION, this, this.updateProduction);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    // private async onRecruit():Promise<void>{\r\n    //     if(this.itemVo.type == 1){\r\n    //         await ETHBlindBoxProxy.instance.recruit(this.itemVo.id); \r\n    //     }else{\r\n    //         await ETHBlindBoxProxy.instance.recruitItem(this.itemVo.id); \r\n    //         // await ETHSeriesHeroMallProxy.instance.recruit(this.itemVo.id);\r\n\r\n    //     }\r\n               \r\n    // }\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.itemVo = value as ItemVo;\r\n        if(!this.itemVo ) {\r\n            return\r\n        }\r\n        this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n    async setCurrentOutPut() {\r\n\r\n        if(!this.itemVo)return;\r\n        let itemItem = this.itemVo.itemItem;\r\n        if(itemItem){\r\n            if(this.showAdd){\r\n                this.txt_num.text = this.itemVo.newAddCnt+\"\";\r\n            }else{\r\n                this.txt_num.text = this.itemVo.m_iNum+\"\";\r\n            }\r\n    \r\n            this.img_icon.skin = GameResourceManager.instance.getItemIcon(itemItem.icon);//\"https://cdn.bunnyswap.cc/images/items/\"+itemsStItem.icon;\r\n            this.img_box.skin = 'gameIcon/items/itemBg/img_' + itemItem.quality + '.png'\r\n        }else{\r\n            this.txt_num.text = '';\r\n\r\n    \r\n            this.img_icon.skin = null;//\"https://cdn.bunnyswap.cc/images/items/\"+itemsStItem.icon;\r\n            this.img_box.skin = 'gameIcon/items/itemBg/img_0.png'\r\n        }\r\n        \r\n        \r\n\r\n\r\n        \r\n        // this.tf_get.text = GameLanguageMgr.instance.getLanguage(\"111\", this.itemVo.mineralLevel);\r\n\r\n\r\n\r\n    }\r\n\r\n    \r\n    private toDetail(){\r\n        if(!this.itemVo || !this.itemVo.needTip){\r\n            return;\r\n        }\r\n        \r\n        if(this.itemVo.type === PackageData.TYPE_Equipment){\r\n            ModuleManager.intance.openModule(ModuleName.EquipDetailDialog, this.itemVo);\r\n        }\r\n        else{\r\n            ModuleManager.intance.openModule(ModuleName.KnapsackTipDialog, this.itemVo);\r\n        }\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { CoinsBox } from \"../shop/CoinsBox\";\n\n/**\n * scenes/item/KnapsackScene.ls\n */\nexport class KnapsackSceneBase extends Laya.Scene {\n    public box_2!: Laya.Box;\n    public box_left!: Laya.Box;\n    public btn_1!: Laya.Button;\n    public btn_2!: Laya.Button;\n    public btn_back!: Laya.Button;\n    public tf_coin!: Laya.Label;\n    public CoinsBox!: CoinsBox;\n    public box_show!: Laya.Box;\n    public img_icon!: Laya.Image;\n    public tf_name!: Laya.Label;\n    public tf_des!: Laya.Label;\n    public listPanel1!: Laya.List;\n    public btn_left!: Laya.Image;\n    public btn_right!: Laya.Image;\n    public txt_page!: Laya.Label;\n}\n\n", "const { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { SceneManager } from \"../../common/SceneManager\";\r\nimport { SceneType } from \"../../common/baseScene/SceneType\";\r\nimport { GameSetting } from \"../../global/GameSetting\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { ETHBlindBoxProxy } from \"../../global/contract/service/ETHBlindBoxProxy\";\r\nimport { EnumFun } from \"../../global/data/enumData/EnumFun\";\r\nimport { ItemItem } from \"../../global/data/sheetItem/item/ItemItem\";\r\nimport { ItemVo } from \"../../global/vo/pack/ItemVo\";\r\nimport { PackageData } from \"../../global/vo/pack/PackageData\";\r\nimport { KnapsackSceneBase } from \"./KnapsackScene.generated\";\r\n\r\n@regClass('6IPqO9JvTmygjIZQXMwq2A')\r\nexport class KnapsackScene extends KnapsackSceneBase {\r\n\r\n    public m_iLayerType: number;\r\n    public m_iPositionType: number;\r\n    onAwake(): void {\r\n        this.m_iLayerType = LayerManager.M_POP;\r\n        this.m_iPositionType = LayerManager.UP;\r\n        // this.m_ioffsetX = 20;\r\n        // if(GameSetting.m_bIsIphoneX ) {\r\n        //     this.m_ioffsetY = GameSetting.IPHONEX_TOP;\r\n        // } \r\n    }\r\n    private currTab:number = 0;\r\n    private type: number = 1;\r\n    // private hasFree: boolean = false;\r\n\r\n    onOpened(_type: any): void {\r\n\r\n        this.type = _type;\r\n    }\r\n\r\n    onEnable(): void {\r\n  \r\n        // Signal.intance.on(GameEvent.EVENT_HERO_DRAW_BACK, this, this.onDrawBack);\r\n\r\n        // this.hideLoadingBySelf = true;\r\n\r\n        // this.box_skill.on(Laya.Event.CLICK, this, this.onShowSkill);\r\n        \r\n        this.btn_1.on(Laya.Event.CLICK, this, this.onClickTab, [1]);\r\n        this.btn_2.on(Laya.Event.CLICK, this, this.onClickTab, [2]);\r\n\r\n        if(this.btn_back ) {\r\n            this.btn_back.on(Laya.Event.CLICK, this, this.setToMainScene)\r\n        }\r\n        this.listPanel1.vScrollBarSkin = \"\";\r\n        this.listPanel1.selectHandler = Laya.Handler.create(this, this.onSelectItem, null, false);\r\n\r\n        // this.listPanel2.vScrollBarSkin = \"\";\r\n\r\n\r\n\r\n        this.box_show.visible = false;\r\n        this.box_2.visible = false;\r\n\r\n        this.initLuckDrawView();\r\n        // ETHBlindBoxProxy.instance.heroOutputRate();\r\n\r\n        let dHeight = (Laya.stage.height - GameSetting.DESIGN_HEIGHT)/2;\r\n        \r\n        // this.btn_back.y -= dHeight;\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public setTab(value: number) {\r\n        for(let i = 1;i<3;i++){\r\n            if(value == i){\r\n                (this as any)[\"btn_\"+i].getChildByName(\"selectBox\").visible = true;\r\n                (this as any)[\"btn_\"+i].getChildByName(\"tf_txt\").color = \"#143f6b\";\r\n            }else{\r\n                (this as any)[\"btn_\"+i].getChildByName(\"selectBox\").visible = false;            \r\n                (this as any)[\"btn_\"+i].getChildByName(\"tf_txt\").color = \"#7ff1fe\";   \r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n    private async initLuckDrawView():Promise<void>{\r\n        await ETHBlindBoxProxy.instance.ownerBag();\r\n        \r\n        if(this.destroyed)\r\n            return;\r\n        if(this.type){\r\n            this.onClickTab(this.type);//tab Index\r\n        }else{\r\n            this.onClickTab(1);//tab Index\r\n        }\r\n\r\n    }\r\n\r\n    onClickTab(_index:number) {\r\n        if(this.currTab == _index)\r\n            return;\r\n        this.setTab(_index);\r\n        if(_index == 1){\r\n\r\n                \r\n                this.box_2.visible = true;\r\n                \r\n                if(this.destroyed){\r\n                    return;\r\n                }\r\n                var shopItems = this.getItemByType(1);\r\n\r\n                this.listPanel1.array = shopItems;\r\n                \r\n\r\n\r\n                // this.listPanel1.visible = true;\r\n                // this.listPanel2.visible = false;\r\n\r\n            \r\n        }else{\r\n            this.box_2.visible = true;\r\n                \r\n                if(this.destroyed){\r\n                    return;\r\n                }\r\n                var shopItems = this.getItemByType(2);\r\n\r\n                this.listPanel1.dataSource = shopItems;\r\n                // this.listPanel1.visible = false;\r\n                // this.listPanel2.visible = true;\r\n\r\n        }\r\n        if(this.hasItem){\r\n            this.listPanel1.selectedIndex = 0;\r\n        }else{\r\n            this.listPanel1.selectedIndex = -1;\r\n        }\r\n        \r\n    }\r\n    private items:any[] = [];\r\n    private hasItem:boolean = false;\r\n    getItemByType(shopType: number) {\r\n        var type = shopType == 1?PackageData.TYPE_Consumption : PackageData.TYPE_Equipment;\r\n        this.items = [];\r\n        this.hasItem = false;\r\n\r\n        \r\n        \r\n        var m_dicShopItems = GlobalDataManager.instance.m_packageData.getListByType(type);\r\n        \r\n        for (var i=0;i<30;i++) {\r\n            var _item = m_dicShopItems[i]\r\n            if (_item) {\r\n                if(i == 0){\r\n                    this.hasItem = true;\r\n                }\r\n                this.items.push(_item);                \r\n            }else{\r\n                this.items.push(new ItemVo(0));   \r\n            }\r\n        }\r\n\r\n        return this.items;\r\n    }\r\n\r\n\r\n\r\n\r\n            // \r\n\r\n        public onSelectItem(selectIndex:number, x:any): void {\r\n            var itemVo = this.items[selectIndex];\r\n            console.log(itemVo);\r\n            if(itemVo){\r\n                let itemItem:ItemItem = itemVo.itemItem;\r\n                this.img_icon.skin = GameResourceManager.instance.getItemIcon(itemItem.icon);\r\n    \r\n                this.tf_name.text = GameLanguageMgr.instance.getLanguage(itemItem.name);\r\n                \r\n        \r\n                // this.txt_type.text = GameLanguageMgr.instance.getLanguage('6060') + GameLanguageMgr.instance.getLanguage(itemItem.type);\r\n        \r\n                this.tf_des.text = GameLanguageMgr.instance.getLanguage(itemItem.des);\r\n                this.box_show.visible = true;\r\n            }else{\r\n                \r\n                this.img_icon.skin = null;    \r\n                this.tf_name.text = \"\";\r\n                this.tf_des.text = \"\";\r\n                this.box_show.visible = false;\r\n            }\r\n            \r\n        }\r\n\r\n\r\n\r\n    private setToMainScene():void{\r\n        SceneManager.intance.setCurrentScene(SceneType.M_SCENE_MAIN);\r\n    }\r\n\r\n    private onShowSkill():void{\r\n        ModuleManager.intance.openModule(ModuleName.SkillTipDialog);\r\n    }\r\n\r\n\r\n\r\n    private stopAni(i: string):void{\r\n        console.log(\"stopAni: \" + i);\r\n        // this.animation_hreo.paused();\r\n        // this.animation_hreo.stop();\r\n        // this.animation_hreo.play(\"idle\", true);\r\n        // this.animation_hreo.play(\"att\", true);\r\n    }\r\n\r\n\r\n    private onDrawBack(data:any):void{\r\n        // if(data instanceof Array){\r\n        //     for (const heroVo of data) {\r\n        //         // let heroInfo:HeroInfo = new HeroInfo();\r\n        //         // heroInfo.id = 1;\r\n        //         // heroInfo.tokenId = _tokenId;\r\n        //         // HeroModel.instance.heroList.concat(heroInfo);\r\n        //         let _heroVo:HeroVo = heroVo as HeroVo;\r\n        //         // let drawHeroItem:DrawHeroItem = this.box_card as DrawHeroItem;\r\n        //         // drawHeroItem.dataSource = _heroVo;\r\n        //         // selectHeroItem.img_hero.skin = _heroVo.simgurl;\r\n        //         // selectHeroItem.tf_name.text = _heroVo.stokenid;\r\n        //         // this.startAni();\r\n        //         ModuleManager.intance.openModule(ModuleName.HeroGetDialog, _heroVo);\r\n        //     }          \r\n\r\n        // }else{\r\n        //     ErrorPopManager.instance.showErrorWord(data);\r\n        // }\r\n    }\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n    public removeEvent():void{\r\n        // Signal.intance.off(GameEvent.EVENT_HERO_DRAW_BACK, this, this.onDrawBack);\r\n\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { KnapsackItem } from \"./KnapsackItem\";\n\n/**\n * scenes/item/KnapsackTipDialog.lh\n */\nexport class KnapsackTipDialogBase extends Laya.Dialog {\n    public btn_use!: Laya.Button;\n    public item!: KnapsackItem;\n    public tf_name!: Laya.Label;\n    public txt_desc!: Laya.Label;\n    public txt_type!: Laya.Label;\n}\n\n", "const { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { ItemItem } from \"../../global/data/sheetItem/item/ItemItem\";\r\nimport { ItemVo } from \"../../global/vo/pack/ItemVo\";\r\nimport { KnapsackTipDialogBase } from \"./KnapsackTipDialog.generated\";\r\n\r\n@regClass('or8jNdIhRpSbAG2JBhH-wA')\r\nexport class KnapsackTipDialog extends KnapsackTipDialogBase {\r\n\r\n    private itemVo:ItemVo;\r\n    // private equipMenu:EquipMenuView;\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_POP;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n\r\n\r\n    public setOpenData(_data: any) {\r\n        \r\n        if(_data){\r\n            this.itemVo = _data;\r\n            \r\n        }else{\r\n            \r\n        }\r\n    }\r\n    onEnable(): void {\r\n\r\n\r\n        this.item.dataSource = this.itemVo;\r\n\r\n        let itemsStItem:ItemItem = this.itemVo.itemItem;\r\n\r\n        this.tf_name.text = GameLanguageMgr.instance.getLanguage(itemsStItem.name);\r\n\r\n        this.txt_type.text = GameLanguageMgr.instance.getLanguage('6060') + GameLanguageMgr.instance.getLanguage(itemsStItem.type);\r\n\r\n        this.txt_desc.text = GameLanguageMgr.instance.getLanguage(itemsStItem.des);\r\n        this.btn_use.visible = itemsStItem.use!=\"0\";\r\n\r\n        this.btn_use.clickHandler = new Laya.Handler(this,this.useItem);\r\n\r\n        // Signal.intance.on(GameEvent.EVENT_HERO_CARD_BACK,this,this.onBack);\r\n    }\r\n\r\n    async useItem(){\r\n        // await KnapsackNetModel.instance.useItem();\r\n        this.close();\r\n    }\r\n\r\n\r\n    // public onStageResize():void{\r\n    //     super.onStageResize();\r\n    // }\r\n    \r\n    public removeEvent():void{\r\n        // Signal.intance.off(GameEvent.EVENT_HERO_CARD_BACK,this,this.onBack);\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/createRole/NoServer.lh\n */\nexport class NoServerViewBase extends Laya.Box {\n    public alertTitle!: Laya.Label;\n    public alertDesc!: Laya.Label;\n}\n\n", "const { regClass } = Laya;\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { NoServerViewBase } from \"./NoServerView.generated\";\r\n\r\n@regClass('sQS5mrqRQLWcBk-SgfBGJw')\r\nexport class NoServerView extends NoServerViewBase {\r\n\r\n\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_POP;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n    constructor() { super(); }\r\n\r\n    onEnable(): void {\r\n        \r\n        console.log(\"OpenScene onEnable\" + this.m_strName);\r\n\r\n        //windowwindow\r\n        // this.window.on(Laya.Event.MOUSE_DOWN, this, () => { this.window.startDrag(); });    \r\n\r\n        // //\r\n        // this.closeBtn.on(Laya.Event.MOUSE_DOWN, this, () => { \r\n        //     console.log(\"close\");\r\n        //     this.removeSelf() });\r\n    }\r\n\r\n    getName(): void\r\n    {\r\n        console.log(this.m_strName);\r\n    }\r\n\r\n    onDisable(): void {\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/mainView/CheckCoinItem.lh\n */\nexport class CheckCoinItemBase extends Laya.Box {\n    public tf_coin!: Laya.Label;\n    public check_coin!: Laya.CheckBox;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-02-29 00:57:17\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-02-29 02:14:17\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameEvent } from \"../../global/event/GameEvent\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { CheckCoinItemBase } from \"./CheckCoinItem.generated\";\r\n\r\n@regClass('UTGHsPbQS6C5FohXv8T25Q')\r\nexport class CheckCoinItem extends CheckCoinItemBase {\r\n    \r\n    \r\n    private isAddEvent:boolean = false;\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public createChildren():void{\r\n        super.createChildren();\r\n        // this.visible = false;\r\n    }\r\n\r\n    private addEvent(){\r\n        if(!this.isAddEvent){\r\n            this.check_coin.on(Laya.Event.CLICK, this, this.onCheck);\r\n            this.isAddEvent = true;\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n\r\n        this.addEvent();\r\n        let data = value;\r\n        this.check_coin.selected = data[1];\r\n        this.tf_coin.text = data[2];\r\n    }\r\n\r\n    \r\n    private onCheck(){\r\n        // this.check_coin.selected = !this.check_coin.selected;\r\n        this._dataSource[1] = this.check_coin.selected;\r\n        Signal.intance.event(GameEvent.EVENT_CHECK_ICON_SELECT);\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { CoinCombo } from \"../createRole/CoinCombo\";\nimport { PlayerIcon } from \"./PlayerIcon\";\n\n/**\n * scenes/mainView/CreateRoomDialog.lh\n */\nexport class CreateRoomDialogBase extends Laya.Dialog {\n    public tf_roleName!: Laya.Label;\n    public tf_min!: Laya.Label;\n    public _1!: Laya.Label;\n    public tf_max!: Laya.Label;\n    public input_pwd!: Laya.TextInput;\n    public btn_create!: Laya.Button;\n    public coinCombo!: CoinCombo;\n    public playerIcon!: PlayerIcon;\n    public tf_roomName!: Laya.Label;\n    public img_country!: Laya.Image;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-11 01:05:14\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-12 20:36:16\r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { PlayerDto } from \"../../global/contract/vo/PlayerDto\";\r\nimport { ItemItem } from \"../../global/data/sheetItem/item/ItemItem\";\r\nimport { ArenaItem } from \"../../global/data/sheetItem/match/ArenaItem\";\r\nimport HttpCmd from \"../../net/HttpCmd\";\r\nimport { MatchModel } from \"../match/MatchModel\";\r\nimport { NoticeMgr } from \"../notice/NoticeMgr\";\r\nimport { CreateRoomDialogBase } from \"./CreateRoomDialog.generated\";\r\n\r\n@regClass('_y9qJpZZRk2p26xdgYPRyA')\r\nexport class CreateRoomDialog extends CreateRoomDialogBase {\r\n\r\n\r\n\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_POP;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n\r\n\r\n    private arenaLv:number;\r\n    private coinType = 3001;\r\n    private arenaItem:ArenaItem;\r\n    public setOpenData(_data: any) {\r\n        \r\n        if(_data){\r\n            this.arenaLv = _data[0];\r\n            // this.coinType = _data[1];\r\n            \r\n            \r\n        }\r\n    }\r\n\r\n\r\n    onEnable(): void {\r\n        \r\n        // this.btn_close.on(Laya.Event.CLICK, this, this.onClose);\r\n        this.btn_create.on(Laya.Event.CLICK, this, this.onCreate);\r\n    \r\n        this.initContainer();        \r\n    }\r\n    initContainer() {\r\n        let playerDto:PlayerDto = GlobalDataManager.instance.playerDto;\r\n        if(!playerDto)\r\n            return;\r\n        this.tf_roleName.text = playerDto.name;\r\n      \r\n        // this.levelTF.text = playerDto.lv.toString();\r\n\r\n        let headId = playerDto.icon;\r\n        this.playerIcon.headSkin = headId;\r\n        this.img_country.skin = GameResourceManager.instance.getCountryIcon(playerDto.country+\"\");\r\n        // this.img_head.skin = GameResourceManager.instance.getPlayerIcon(headId);\r\n\r\n\r\n\r\n        this.initCombo();\r\n    }\r\n\r\n\r\n    private coinIds:any[] = [];\r\n    private comboList: Laya.List;\r\n\r\n\r\n    initCombo(): void {\r\n\r\n        \r\n        this.coinIds = SheetDataManager.intance.getGeneralValueById(5);\r\n        var comboData:string[] = [];\r\n        this.coinIds.forEach((coinId: any) => {\r\n            var itemItem:ItemItem = SheetDataManager.intance.m_dicItems.get(coinId);\r\n            comboData.push(GameLanguageMgr.instance.getLanguage(itemItem.name));\r\n        });\r\n\r\n\r\n        // //\r\n        // Laya.loader.load(\"scenes/createRole/CoinComboList.lh\").then(res => {\r\n\r\n        //     let node = res.create();\r\n        //     this.comboList = node;\r\n\r\n        //     //\r\n        //     // this.comboList.array = comboData;\r\n\r\n\r\n        //     //Listlist\r\n        //     this.coinCombo.list = this.comboList;\r\n\r\n\r\n        //             //list\r\n        \r\n        //     this.coinCombo.labels= comboData.join(\",\");\r\n            \r\n        //     //\r\n        //     // this.coinCombo.list.array = comboData;\r\n        //     //\r\n        //     console.log(\"comboData.length: \" + comboData.length);\r\n        //     this.coinCombo.list.repeatY = comboData.length;\r\n\r\n        //         //Listlist\r\n\r\n        //     this.coinCombo.list.width = this.coinCombo.width;\r\n        //     this.coinCombo.list.renderHandler = Laya.Handler.create(this, this.onCountryItemRender, null, false);\r\n        //     // this.coinCombo.list.hScrollBarSkin = \"\";\r\n            this.coinCombo.selectHandler = new Laya.Handler(this, this.onSelected2);\r\n            \r\n        //     this.coinCombo.selectedIndex = 0;\r\n\r\n\r\n\r\n        // });\r\n\r\n\r\n        this.coinCombo.dataSource = comboData;\r\n        this.coinCombo.selectedIndex = 0;\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    onSelected2(index: number): void {\r\n\r\n        if(index != -1){\r\n            this.coinType = this.coinIds[index];\r\n            console.log(\" coinType\" + this.coinType );\r\n            this.setRoomInfo();\r\n        }\r\n        \r\n    }\r\n    setRoomInfo() {\r\n        this.arenaItem = SheetDataManager.intance.getSheetDataByMultiKey(SheetDataManager.intance.m_dicArenaMulDic,[this.arenaLv,this.coinType]);\r\n            \r\n        // var arenaStr:string = this.arenaLv == 1001 ? \"Novice Arena\" : \"General Arena\";\r\n\r\n        this.tf_roomName.text = GameLanguageMgr.instance.getLanguage(this.arenaItem.name);\r\n\r\n        this.tf_min.text = this.arenaItem.numberMin+\"\";\r\n        this.tf_max.text = this.arenaItem.numberMax+\"\";\r\n    }\r\n\r\n\r\n\r\n    async onCreate() {\r\n        let pwd:string = this.input_pwd.text;\r\n        var arenaId = this.arenaItem.id;\r\n        if(arenaId){\r\n            // arenaLv = 1: 2: 3\r\n            let data:any = await HttpCmd.requestPost(\"wxgame/room/create\", {password:pwd, arenaId: arenaId})\r\n\r\n            MatchModel.instance.roomDto = data.roomDto;\r\n            if(data.roomDto){\r\n                        \r\n                this.close();\r\n                ModuleManager.intance.openModule(ModuleName.EnterRoomView);\r\n\r\n            }else{\r\n                NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(135));//error\r\n            }\r\n        }\r\n        \r\n                \r\n    }\r\n    \r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/mainView/EnterRoomView.lh\n */\nexport class EnterRoomViewBase extends Laya.Dialog {\n    public arenaNo!: Laya.Label;\n    public tf_people!: Laya.Label;\n    public tf_coolTime!: Laya.Label;\n    public list_wait_hero!: Laya.List;\n    public tf_roomName!: Laya.Label;\n}\n\n", "const { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { RoomDto } from \"../../global/contract/vo/RoomDto\";\r\nimport { ItemItem } from \"../../global/data/sheetItem/item/ItemItem\";\r\nimport { ArenaItem } from \"../../global/data/sheetItem/match/ArenaItem\";\r\nimport { GameEvent } from \"../../global/event/GameEvent\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { TimeUtil } from \"../../global/util/TimeUtil\";\r\nimport HttpCmd from \"../../net/HttpCmd\";\r\nimport { WebSocketService } from \"../../net/WebSocketService\";\r\nimport { MatchModel } from \"../match/MatchModel\";\r\nimport { EnterRoomViewBase } from \"./EnterRoomView.generated\";\r\n\r\n@regClass('IwpLh2K2T5Gh7QXYnJakAw')\r\nexport class EnterRoomView extends EnterRoomViewBase {\r\n\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_PANEL;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n\r\n    private reduceTime:number;\r\n\r\n    onEnable(): void {\r\n\r\n        // SoundMgr.instance.playMusicByName(SoundMgr.soundName_bg, \".mp3\");\r\n        // this.on(Laya.Event.CLICK, this, this.onTestClick);\r\n\r\n        // Signal.intance.on(CreateLoginEvent.INIT_CREATELOGIN_EVENT, this, this.initCreateLoginView);\r\n        // Signal.intance.on(GameEvent.EVENT_CHANGES_HEAD, this, this.onChangeHeadBack);\r\n        // Signal.intance.on(GameEvent.EVENT_CHANGES_HEAD, this, this.onChangeModifyHead);\r\n        // Signal.intance.on(GameEvent.EVENT_CHANGES_HEAD, this, this.onChangeHeadBack);\r\n\r\n        Signal.intance.event(GameEvent.EVENT_ENTER_MATCH_ROOM);\r\n\r\n        this.initContainer();\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    private initContainer(): void {\r\n        // this.list_wait_hero.vScrollBarSkin = \"\";\r\n        // this.list_wait_hero.mouseHandler = new Laya.Handler(this, this.onListEvent);\r\n        // this.list_wait_hero.renderHandler = new Laya.Handler(this, this.onRenderList);\r\n        this.list_wait_hero.visible = true;\r\n        var roomDto:RoomDto = MatchModel.instance.roomDto;\r\n\r\n        var roomId = roomDto.roomId;\r\n        var arenaId = roomDto.arenaId;\r\n        var coinType = roomDto.coinType;\r\n\r\n\r\n        // var itemItem:ItemItem = SheetDataManager.intance.m_dicItems.get(coinType);\r\n        // var coinStr:string =  GameLanguageMgr.instance.getLanguage(itemItem.name);\r\n        var arenaItem:ArenaItem = SheetDataManager.intance.m_dicArenaDic.get(arenaId);\r\n        MatchModel.instance.currArenaItem = arenaItem;\r\n\r\n        // var coinStr:string = coinType == 3001 ? \"TOX\" : \"DTS\";\r\n        // var arenaStr:string = arenaId == 1001 ? \"Novice Arena\" : \"General Arena\";\r\n\r\n        this.tf_roomName.text = GameLanguageMgr.instance.getLanguage(arenaItem.name);//coinStr + \" \" + arenaStr;\r\n\r\n        this.arenaNo.text = roomId+\"\";\r\n        \r\n\r\n\r\n        this.initRoomData();\r\n        \r\n        Laya.timer.loop(1000, this, this.onRefreshRoom);\r\n    }\r\n\r\n\r\n    public updateBattleCD(): void {\r\n        MatchModel.instance.coolDownTime = Math.round(MatchModel.instance.roomDto.joinCd/1000);\r\n        if(MatchModel.instance.coolDownTime>0){\r\n            // this.tf_coolTime.visible = true;\r\n            this.onSetCoolTime();\r\n            Laya.timer.loop(1000, this, this.onSetCoolTime);\r\n        }else{\r\n            Laya.timer.clear(this, this.onSetCoolTime);\r\n            this.onGoMatch();\r\n            // this.tf_coolTime.visible = false;\r\n        }\r\n\r\n    }\r\n\r\n    private onSetCoolTime():void{\r\n        if(MatchModel.instance.coolDownTime>=0){\r\n            this.tf_coolTime.text = GameLanguageMgr.instance.getLanguage(\"The battle is to begin: \") + \"<font color='#ff5388'>\" +TimeUtil.format(MatchModel.instance.coolDownTime) + \"</font>\";\r\n            MatchModel.instance.coolDownTime--;\r\n        }else{\r\n            Laya.timer.clear(this, this.onSetCoolTime);\r\n            Laya.timer.clear(this, this.onRefreshRoom);// \r\n            // this.tf_coolTime.visible = false;\r\n\r\n            this.onGoMatch();\r\n\r\n            //socket;\r\n        }\r\n\r\n    }\r\n\r\n    onGoMatch():void{\r\n        Laya.timer.clearAll(this);\r\n        // MatchModel.instance.roomDto.socketIp\r\n\r\n        WebSocketService.instance.initSocket();\r\n\r\n        \r\n    }\r\n\r\n\r\n    private handleSelectHead(index: number): void {\r\n        // let vo: HeadItem = this.list_wait_hero.selectedItem;\r\n        \r\n    }\r\n    private heros: any[];\r\n    private initRoomData(): void {\r\n        var currNum =  MatchModel.instance.roomDto.members.length;\r\n        this.tf_people.text = currNum + \"\";\r\n        if(currNum >= 30){ //303\r\n            this.onGoMatch();\r\n            return;\r\n        }\r\n        \r\n        // if(!this.heros)\r\n        this.heros = [];\r\n        for(var i=0;i<30;i++){\r\n            var hero = MatchModel.instance.roomDto.members[i];\r\n            if(hero){\r\n                this.heros.push(hero);\r\n            }else{\r\n                this.heros.push(null);\r\n            }\r\n\r\n        }\r\n            // this.heros = MatchModel.instance.roomDto.members;\r\n            // this.heros = this.heros.concat( this.heros.slice(0, 1));\r\n\r\n\r\n        this.list_wait_hero.array = this.heros;\r\n        this.list_wait_hero.visible = true;\r\n        // let selectIndex = -1;\r\n\r\n        // this.list_wait_hero.selectedIndex = selectIndex;\r\n        // this.list_wait_hero.refresh();\r\n\r\n        this.updateBattleCD();\r\n    }\r\n\r\n    async onRefreshRoom(){\r\n        let data:any = await HttpCmd.requestPost(\"wxgame/room/info\", {roomId: MatchModel.instance.roomDto.roomId})\r\n\r\n        MatchModel.instance.roomDto = data.roomDto;\r\n\r\n        this.initRoomData();\r\n\r\n        MatchModel.instance.setMatchRes();\r\n    }\r\n\r\n\r\n\r\n    \r\n\r\n\r\n    private handleClickBtn(currentTarget: Laya.Button): void {\r\n        switch(currentTarget) {\r\n\r\n            // case this.btn_change:\r\n            // {\r\n            //     this.onChangeHead();\r\n            // }\r\n            // break;\r\n        }\r\n    }\r\n\r\n\r\n    onDisable(): void {\r\n        this.removeEvent();\r\n        console.log(\"EnterRoomView onDisable\");\r\n    }\r\n\r\n    public removeEvent():void{\r\n        Laya.timer.clearAll(this);\r\n        // Signal.intance.off(CreateLoginEvent.INIT_CREATELOGIN_EVENT, this, this.initCreateLoginView);\r\n        // Signal.intance.off(GameEvent.EVENT_CHANGE_HEAD, this, this.onChangeHeadBack);\r\n\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/mainView/InputPwdDialog.lh\n */\nexport class InputPwdDialogBase extends Laya.Dialog {\n    public tf_roomName!: Laya.Label;\n    public input_pwd!: Laya.TextInput;\n    public btn_join!: Laya.Button;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-13 15:49:49\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-02-29 20:29:06\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { RoomDto } from \"../../global/contract/vo/RoomDto\";\r\nimport { ItemItem } from \"../../global/data/sheetItem/item/ItemItem\";\r\nimport { ArenaItem } from \"../../global/data/sheetItem/match/ArenaItem\";\r\nimport HttpCmd from \"../../net/HttpCmd\";\r\nimport { MatchModel } from \"../match/MatchModel\";\r\nimport { NoticeMgr } from \"../notice/NoticeMgr\";\r\nimport { InputPwdDialogBase } from \"./InputPwdDialog.generated\";\r\n\r\n@regClass('bn6StZy0ROGBH9GCTateCA')\r\nexport class InputPwdDialog extends InputPwdDialogBase {\r\n\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_POP;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n\r\n\r\n    private roomDto:RoomDto;\r\n    public setOpenData(_data: any) {\r\n        \r\n        if(_data){\r\n            this.roomDto = _data[0];\r\n         \r\n            \r\n        }else{\r\n            \r\n        }\r\n    }\r\n\r\n    onEnable(): void {\r\n        \r\n        // this.btn_close.on(Laya.Event.CLICK, this, this.onClose);\r\n        this.btn_join.on(Laya.Event.CLICK, this, this.onJoin);\r\n    \r\n        this.initContainer();        \r\n    }\r\n    initContainer() {\r\n        var itemItem:ItemItem = SheetDataManager.intance.m_dicItems.get(this.roomDto.coinType);\r\n        var coinStr:string =  GameLanguageMgr.instance.getLanguage(itemItem.name);\r\n\r\n\r\n\r\n        var arenaItem:ArenaItem = SheetDataManager.intance.m_dicArenaDic.get(this.roomDto.arenaId);\r\n\r\n        // var coinStr:string = coinType == 3001 ? \"TOX\" : \"DTS\";\r\n        // var arenaStr:string = arenaId == 1001 ? \"Novice Arena\" : \"General Arena\";\r\n\r\n        this.tf_roomName.text = GameLanguageMgr.instance.getLanguage(arenaItem.name);\r\n\r\n        this.input_pwd.text = \"\";\r\n    }\r\n    // onClose() {\r\n    //     this.dispose();\r\n    // }\r\n\r\n\r\n\r\n    async onJoin() {\r\n        let pwd:string = this.input_pwd.text;\r\n        // if(pwd != \"\" && this.roomDto.requirePass){\r\n        //     NoticeMgr.instance.notice(\"\");\r\n        //     return;\r\n        // }\r\n        let data:any = await HttpCmd.requestPost(\"wxgame/room/join\", {roomId:this.roomDto.roomId, pass:pwd})\r\n    \r\n        MatchModel.instance.roomDto = data.roomDto;\r\n\r\n                if(data.roomDto){                      \r\n                    \r\n                    ModuleManager.intance.openModule(ModuleName.EnterRoomView);\r\n\r\n                }else{\r\n                    NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(135));//error\r\n                }\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { PlayerIcon } from \"./PlayerIcon\";\n\n/**\n * scenes/mainView/MainScene.ls\n */\nexport class MainSceneBase extends Laya.Scene {\n    public la_img_bg!: Laya.Image;\n    public btn_1!: Laya.Button;\n    public btn_yellowBg!: Laya.Image;\n    public btn_2!: Laya.Button;\n    //public btn_yellowBg!: Laya.Image;\n    public btn_3!: Laya.Button;\n    //public btn_yellowBg!: Laya.Image;\n    public list_coin!: Laya.List;\n    public list_room!: Laya.List;\n    public leftMenu!: Laya.Box;\n    public btn_shop!: Laya.Button;\n    public spine_1!: Laya.SpineSkeleton;\n    public btn_guild!: Laya.Button;\n    public spine_2!: Laya.SpineSkeleton;\n    public btn_heroes!: Laya.Button;\n    public spine_3!: Laya.SpineSkeleton;\n    public btn_backpack!: Laya.Button;\n    public spine_4!: Laya.SpineSkeleton;\n    public btn_achv!: Laya.Button;\n    public spine_5!: Laya.SpineSkeleton;\n    public rightMenu!: Laya.Box;\n    public btn_scholarshop!: Laya.Button;\n    public btn_leaderboard!: Laya.Button;\n    public btn_social!: Laya.Button;\n    public btn_activities!: Laya.Button;\n    public btn_collection!: Laya.Button;\n    public btn_create!: Laya.Button;\n    public box_3005!: Laya.Box;\n    public tf_3005!: Laya.Label;\n    public btn_setting!: Laya.Button;\n    public headBox!: Laya.Box;\n    public img_exp!: Laya.Image;\n    public txt_exp!: Laya.Label;\n    public playerIcon!: PlayerIcon;\n    public levelTF!: Laya.Label;\n    public img_birth!: Laya.Button;\n    public tf_roleName!: Laya.Label;\n}\n\n", "\r\nimport {GlobalDataManager} from \"../global/GlobalDataManager\";\r\n// import { GuildNet } from \"../module/guild/net/GuildNet\";\r\nexport class MainSceneNet {\r\n    private _inited: boolean = false;\r\n    private static _instance: MainSceneNet;\r\n    public constructor() {\r\n        \r\n    }\r\n    public static getInstance(): MainSceneNet {\r\n        if(!MainSceneNet._instance ) {\r\n            MainSceneNet._instance = new MainSceneNet()\r\n        } \r\n        return MainSceneNet._instance;\r\n    }\r\n    public init(): void {\r\n        if(!this._inited ) {\r\n            this._inited = true;\r\n            // Signal.intance.on(Cmd.RECV_MSG(Cmd.MSG_COMM_GET_RED_HOT_S2C), this, this.onReceiveRedHot);\r\n            \r\n            GlobalDataManager.instance.initData();\r\n            // GuildNet.instance.getMyUnionInfo();\r\n            \r\n            // await GlobalDataManager.instance.initData();\r\n            \r\n        } \r\n    }\r\n    // public requestRedHot(): void {\r\n    //     HttpNetService.instance.SendData(Cmd.MSG_COMM_GET_RED_HOT_C2S, [], null, false);\r\n    // }\r\n    // private onReceiveRedHot(value: any[]): void {\r\n    //     let map: Dictionary = GlobalDataManager.instance.systemOpenModel.redHotStateMap;\r\n    //     for(let info of value) {\r\n    //         let vo: FunctionRedStateVo = map.get(info[0]);\r\n    //         if(!vo ) {\r\n    //             vo = new FunctionRedStateVo();\r\n    //             vo.funId = info[0];\r\n    //             map.set(info[0] + \"\", vo);\r\n    //         } \r\n    //         vo.redState = info[1];\r\n    //     }\r\n    //     Signal.intance.event(GameEvent.UPDATE_RED_STATE_EVENT);\r\n    // }\r\n}", "const { regClass } = Laya;\r\nimport { AlertManager } from \"../../common/AlertManager\";\r\nimport { AlertType } from \"../../common/AlertType\";\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { LoadingManager } from \"../../common/LoadingManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { SceneManager } from \"../../common/SceneManager\";\r\nimport { SceneType } from \"../../common/baseScene/SceneType\";\r\nimport { GameSetting } from \"../../global/GameSetting\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { EthereumManager } from \"../../global/contract/EthereumManager\";\r\nimport { ETHAssetsProxy } from \"../../global/contract/service/ETHAssetsProxy\";\r\nimport { PlayerDto } from \"../../global/contract/vo/PlayerDto\";\r\nimport { EnumFun } from \"../../global/data/enumData/EnumFun\";\r\nimport { GameEvent } from \"../../global/event/GameEvent\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { NumberUtil } from \"../../global/util/NumberUtil\";\r\nimport { NoticeMgr } from \"../notice/NoticeMgr\";\r\nimport { WalletEvent } from \"../wallet/event/WalletEvent\";\r\nimport { MainSceneBase } from \"./MainScene.generated\";\r\nimport HttpCmd from \"../../net/HttpCmd\";\r\nimport { MainSceneNet } from \"../../global/MainSceneNet\";\r\nimport { EnumConsumeType } from \"../../global/data/enumData/EnumConsumeType\";\r\nimport { ItemItem } from \"../../global/data/sheetItem/item/ItemItem\";\r\n\r\n@regClass('pxhiJrX5SkKKvyFr8uIlNA')\r\nexport class MainScene extends MainSceneBase {\r\n\r\n    public m_iLayerType: number;\r\n    public m_iPositionType: number;\r\n\r\n    private currTab:number = 0;\r\n    private arenaLv = 1001;\r\n    private coinTypes:number[] = [];\r\n\r\n    private leftX:number;\r\n    private rightX:number;\r\n    onAwake(): void {\r\n        this.m_iLayerType = LayerManager.M_POP;\r\n        this.m_iPositionType = LayerManager.UP;\r\n        // this.m_ioffsetX = 20;\r\n        // if(GameSetting.m_bIsIphoneX ) {\r\n        //     this.m_ioffsetY = GameSetting.IPHONEX_TOP;\r\n        // } \r\n        MainSceneNet.getInstance().init();\r\n    }\r\n\r\n    onOpened(param: any): void {\r\n\r\n\r\n        // if(GameSetting.isPC ) {\r\n        //     LayerManager.instence.setPosition(this.mcBtnBox, LayerManager.RIGHTUP);\r\n        // } \r\n        // BuyMoneyModel.instance.initJson();\r\n        this.mouseThrough = (this.mouseThrough = true);\r\n        this.headBox.mouseThrough = true;\r\n        // this.m_roleHead = new RoleHeadImage();\r\n        // this.m_roleHead.scaleX = (this.m_roleHead.scaleY = 0.8);\r\n        // this.mcBg.addChild(this.m_roleHead);\r\n        let mcMain: Laya.Box = this.getChildByName(\"mcMain\") as Laya.Box;\r\n        if(mcMain ) {\r\n            mcMain.mouseThrough = true\r\n        } \r\n        // this.m_roleHead.x = 57;\r\n        // this.m_roleHead.y = 110;\r\n        // if(window[\"PlatformClass\"] ) {\r\n        //     this.mcHeadImg.visible = false;\r\n        //     this.mcMask.visible = false;\r\n        // } else {\r\n        //     this.mcMask.visible = false;\r\n        //     this.mcBg.mask = this.mcMask;\r\n        // }\r\n        // Laya.timer.loop(1000, this, this.loopTime);\r\n\r\n        // this.img_head.on(Laya.Event.CLICK, this, this.onClickHead);\r\n        // ScrollMsgMgr.instance.getScrollMsg();\r\n\r\n        this.updateTopInfo();\r\n        this.initCombo();\r\n        this.onClickTab(1);//tab Index\r\n\r\n        var offsetL = (Laya.stage.width - GameSetting.DESIGN_WIDTH)>>1; \r\n\r\n        this.leftX = this.leftMenu.x;\r\n        this.rightX = this.rightMenu.x;\r\n\r\n        this.leftMenu.x = this.leftX - offsetL - this.leftMenu.width;\r\n        this.rightMenu.x = this.rightX + offsetL + this.rightMenu.width;\r\n        Laya.Tween.to(this.leftMenu, {x: this.leftX - offsetL}, 500);\r\n        Laya.Tween.to(this.rightMenu, {x: this.rightX + offsetL}, 500);\r\n\r\n\r\n        this.initBtnAni();\r\n        \r\n\r\n    }\r\n\r\n    initBtnAni(){\r\n        for(var i=1;i<6;i++){\r\n            (this as any)[\"spine_\"+i].on(Laya.Event.READY, this, this.onSkReady, [(this as any)[\"spine_\"+i]]);\r\n        }\r\n    }\r\n\r\n    onSkReady(spineSkeleton:Laya.SpineSkeleton){\r\n        spineSkeleton.stop();\r\n        spineSkeleton.visible = false;\r\n        if(spineSkeleton == this.spine_5){\r\n            this.startBtnAni();\r\n        }\r\n    }\r\n\r\n    private currIconAni:number = 1;\r\n    startBtnAni(){\r\n        \r\n        if(this.currIconAni > 5){\r\n            this.currIconAni = 1;\r\n        }\r\n        (this as any)[\"spine_\" + this.currIconAni].play(0, false);\r\n        (this as any)[\"spine_\" + this.currIconAni].visible = true;\r\n\r\n        this.currIconAni++;\r\n\r\n        Laya.timer.once(2000, this, this.startBtnAni);\r\n\r\n    }\r\n    // onClickHead() {\r\n    //     ModuleManager.intance.openModule(ModuleName.RoleInfoDialog);\r\n    //     // throw new Error(\"Method not implemented.\");\r\n    // }\r\n    // private onClickMonthCard(): void {\r\n    //     if(GameSetting.m_bInstantGame == true || GameSetting.isPC ) {\r\n    //         let str: string = GameLanguageMgr.instance.getLanguage(500005);\r\n    //         AlertManager.instance().AlertByType(AlertType.DOWNLOADALERT, str, AlertType.YES);\r\n    //         return;\r\n    //     } \r\n    //     Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, [ModuleName.RechargeDialog, \"monthCard\"]);\r\n    // }\r\n\r\n    public vipWith: number;\r\n    public changeMailFlag(): void {\r\n        // this.btnMail.visible = GlobalDataManager.instance.systemOpenModel.hasRedState(1);\r\n    }\r\n    public updateTopInfo(): void {\r\n        let playerDto:PlayerDto = GlobalDataManager.instance.playerDto;\r\n        if(!playerDto)\r\n            return;\r\n        this.tf_roleName.text = playerDto.name;\r\n      \r\n        this.levelTF.text = playerDto.lv.toString();\r\n        playerDto.needTip = true;\r\n\r\n        \r\n        this.playerIcon.dataSource = playerDto;\r\n\r\n        this.updateExp();\r\n\r\n\r\n\r\n        // if(playerDto.birthPlace){\r\n        //     let mapSheetItem:MapSheetItem = SheetDataManager.intance.m_dicMaps.get(playerDto.birthPlace);\r\n\r\n        //     this.img_birth.skin = GameResourceManager.instance.setResURL(\"gameIcon/items/birth/img_birth_\" + mapSheetItem.id + \".png\");\r\n\r\n        // }else{\r\n            \r\n        // }\r\n\r\n        \r\n        this.changeMailFlag();\r\n        // this.label_chaopiaoTotal.text = GlobalDataManager.instance.roleInfo.guildVouchers.toString();\r\n        // this.label_exchangeCnt.text = ShopExchangeModel.instance.hasOwnCrtPrice() + \"\";\r\n        // this.txtServerTime.text = TimeUtil.formatTimeStamp(GlobalDataManager.instance.m_serverTime, \"HH-MM-SS\", \":\") + \"  \" + GlobalDataManager.instance.m_strShiqu;\r\n        let date: Date = new Date(GlobalDataManager.instance.m_serverTime);\r\n        console.log(\"server time toLocaleString\" + date.toLocaleString());\r\n        console.log(\"server time offset date\" + GlobalDataManager.instance.timeZoneOff / 60 / 60);\r\n        // this.updateTile();\r\n        // this.updataBalence();\r\n        this.updateLocalAssets();\r\n\r\n        // if(!GameSetting.isTest){\r\n        //     this.updateAssets();\r\n        //     WalletNet.instance.getWalletList();//\r\n        //     setInterval(this.requestAssets,10*1000);\r\n        // }\r\n        \r\n    }\r\n\r\n    updateExp(){\r\n\r\n        let playerDto:PlayerDto = GlobalDataManager.instance.playerDto;\r\n        let rate = GlobalDataManager.instance.getRealExp(playerDto)/GlobalDataManager.instance.getRealNextExp(playerDto);\r\n        if(rate){\r\n            this.txt_exp.text = (rate*100).toFixed(0) + '%'\r\n        }\r\n        else{\r\n            this.txt_exp.text = '0%'\r\n        }\r\n        if(rate > 1){\r\n            rate = 1;\r\n        }\r\n        this.levelTF.text = playerDto.lv.toString();\r\n        this.img_exp.width = 118 * rate;\r\n\r\n        // this.tf_force.text = playerDto.power;\r\n    }\r\n\r\n    requestAssets() {\r\n        Signal.intance.event(GameEvent.UPDATE_ASSETS);\r\n    }\r\n    // private setTimeStr(): void {\r\n    //     let date: Date = new Date(GlobalDataManager.instance.m_serverTime + GlobalDataManager.instance.timeZoneOff);\r\n    //     let timeStr: string = date.toUTCString();\r\n    //     this.txtServerTime.text = timeStr + \"  \" + GlobalDataManager.instance.m_strShiqu;\r\n    // }\r\n    async updataBalence(){\r\n        await EthereumManager.instance.getBalance();\r\n        \r\n    }\r\n    private async updateAssets():Promise<void>{\r\n        await ETHAssetsProxy.instance.updateAssetsBalance();//  \r\n    }\r\n\r\n    private updateLocalAssets(): void {\r\n        // this.tf_1001.text = NumberUtil.filterNumFormat(GlobalDataManager.instance.playerDto.baseTicket,0);\r\n        // this.tf_1002.text = NumberUtil.filterNumFormat(GlobalDataManager.instance.playerDto.advTicket,0);\r\n        this.tf_3005.text = NumberUtil.filterNumFormat(GlobalDataManager.instance.getConsumeValue(EnumConsumeType.TYPE_GOLD),0);\r\n        // this.tf_3002.text = NumberUtil.filterNumFormat(GlobalDataManager.instance.playerDto.gold,0);\r\n\r\n\r\n        // this.tf_10000.text = NumberUtil.filterNumFormat(WalletModel.instance.getValue(EnumWallet.ASSETS_TOX),0);\r\n        // this.tf_10001.text = NumberUtil.filterNumFormat(WalletModel.instance.getValue(EnumWallet.ASSETS_ARCANITE), 0);\r\n        // this.tf_10002.text = NumberUtil.filterNumFormat(WalletModel.instance.getValue(EnumWallet.ASSETS_CRYSTAL), 0);\r\n        // this.tf_10003.text = NumberUtil.filterNumFormat(WalletModel.instance.getValue(EnumWallet.ASSETS_MITHRIL), 0);\r\n        // this.tf_10004.text = NumberUtil.filterNumFormat(WalletModel.instance.getValue(EnumWallet.ASSETS_REDSTONE), 0);\r\n        // this.tf_10005.text = NumberUtil.filterNumFormat(WalletModel.instance.getValue(EnumWallet.ASSETS_TRUEIRON), 0);\r\n    \r\n    }\r\n\r\n    public loopTime(): void {\r\n        // GlobalDataManager.instance.m_serverTime += 1000;\r\n        // GlobalDataManager.instance.m_serverTime += GameSetting.m_iTimeFrame;\r\n        // this.txtServerTime.text = TimeUtil.formatTimeStamp(GlobalDataManager.instance.m_serverTime, \"HH-MM-SS\", \":\") + \"  \" + GlobalDataManager.instance.m_strShiqu;\r\n        // if(GlobalDataManager.instance.roleInfo.pleftsec > 0 ) {\r\n        //     if(GlobalDataManager.instance.roleInfo.money3 >= GlobalDataManager.instance.roleInfo.maxps ) {\r\n        //         GlobalDataManager.instance.roleInfo.pleftsec = 0;\r\n        //     } \r\n        //     GlobalDataManager.instance.roleInfo.pleftsec--;\r\n        //     GlobalDataManager.instance.roleInfo.pleftsec -= GameSetting.m_iTimeFrame;\r\n        //     this.tliTime.text = TimeUtil.format(GlobalDataManager.instance.roleInfo.pleftsec, \":\", true);\r\n        // } else {\r\n        //     if(GlobalDataManager.instance.roleInfo.money3 < GlobalDataManager.instance.roleInfo.maxps && GlobalDataManager.instance.roleInfo.pleftsec <= 0 ) {\r\n        //         HttpNetService.instance.SendData(22, [], null, false);\r\n        //     } \r\n        // }\r\n        // if(GlobalDataManager.instance.roleInfo.eleftsec > 0 ) {\r\n        //     if(GlobalDataManager.instance.roleInfo.money4 >= GlobalDataManager.instance.roleInfo.maxendurance ) {\r\n        //         GlobalDataManager.instance.roleInfo.pleftsec = 0;\r\n        //     } \r\n        //     GlobalDataManager.instance.roleInfo.eleftsec--;\r\n        //     GlobalDataManager.instance.roleInfo.eleftsec -= GameSetting.m_iTimeFrame;\r\n        //     this.lailitime.text = TimeUtil.format(GlobalDataManager.instance.roleInfo.eleftsec, \":\", true);\r\n        // } else {\r\n        //     if(GlobalDataManager.instance.roleInfo.money4 < GlobalDataManager.instance.roleInfo.maxendurance && GlobalDataManager.instance.roleInfo.pleftsec <= 0 ) {\r\n        //         HttpNetService.instance.SendData(22, [], null, false);\r\n        //     } \r\n        // }\r\n    }\r\n\r\n    onEnable(): void {\r\n\r\n        this.btn_1.on(Laya.Event.CLICK, this, this.onClickTab, [1]);\r\n        this.btn_2.on(Laya.Event.CLICK, this, this.onClickTab, [2]);\r\n        this.btn_3.on(Laya.Event.CLICK, this, this.onClickTab, [3]);\r\n        // this.btn_4.on(Laya.Event.CLICK, this, this.onClickTab, [4]);\r\n\r\n        this.list_room.vScrollBarSkin = \"\";\r\n        this.list_room.array = [];\r\n        // this.list_coin.mouseHandler = new Laya.Handler(this, this.onListEvent);\r\n        // this.list_coin.renderHandler = new Laya.Handler(this, this.onRenderList);\r\n\r\n\r\n\r\n        this.btn_create.clickHandler = new Laya.Handler(this, this.onclickBtnHandler, [this.btn_create]);\r\n        \r\n        this.btn_shop.clickHandler = new Laya.Handler(this, this.onclickBtnHandler, [this.btn_shop]);\r\n        this.btn_guild.clickHandler = new Laya.Handler(this, this.onclickBtnHandler, [this.btn_guild]);\r\n        this.btn_heroes.clickHandler = new Laya.Handler(this, this.onclickBtnHandler, [this.btn_heroes]);\r\n        this.btn_backpack.clickHandler = new Laya.Handler(this, this.onclickBtnHandler, [this.btn_backpack]);\r\n        this.btn_achv.clickHandler = new Laya.Handler(this, this.onclickBtnHandler, [this.btn_achv]);\r\n\r\n\r\n        this.btn_scholarshop.clickHandler = new Laya.Handler(this, this.onclickBtnHandler, [this.btn_scholarshop]);\r\n        this.btn_leaderboard.clickHandler = new Laya.Handler(this, this.onclickBtnHandler, [this.btn_leaderboard]);\r\n        this.btn_social.clickHandler = new Laya.Handler(this, this.onclickBtnHandler, [this.btn_social]);\r\n        this.btn_activities.clickHandler = new Laya.Handler(this, this.onclickBtnHandler, [this.btn_activities]);\r\n        this.btn_collection.clickHandler = new Laya.Handler(this, this.onclickBtnHandler, [this.btn_collection]);\r\n\r\n\r\n        this.btn_setting.clickHandler = new Laya.Handler(this, this.onclickBtnHandler, [this.btn_setting]);\r\n        Signal.intance.on(GameEvent.UPDATE_RED_STATE_EVENT, this, this.changeMailFlag);\r\n\r\n        Signal.intance.on(GameEvent.ROLE_INFO_CHANGE, this, this.updateTopInfo);\r\n        Signal.intance.on(GameEvent.UPDATE_ASSETS, this, this.updateAssets);\r\n        Signal.intance.on(WalletEvent.UPDATE_LOCAL_WALLET_LIST_EVENT, this, this.updateLocalAssets);\r\n        Signal.intance.on(\"CHANG_NAME\", this, this.changeName);\r\n        // Signal.intance.on(TitleEvent.INIT_TITLE_EVENT, this, this.updateTile);\r\n        // Signal.intance.on(TitleEvent.EVENT_CLEAR_TITLE_REDPOINT, this, this.clearTitleRedPoint);\r\n        Signal.intance.on(\"open_buy\", this, this.openBuyDialog);\r\n        Signal.intance.on(\"msg_173\", this, this.onFirstRecharge);\r\n        Signal.intance.on(\"ACCOUNTVO_UPDATE\", this, this.updateExp);\r\n        Signal.intance.on(GameEvent.EVENT_REMOVE_ACTIVITY, this, this.onBindStateChange);\r\n        Signal.intance.on(GameEvent.EVENT_CHECK_ICON_SELECT, this, this.onCoinSelected);\r\n        Signal.intance.on(GameEvent.EVENT_ENTER_MATCH_ROOM, this, this.onEnterMatchRoom);\r\n        this.initBtnBox();\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n    public setTab(value: number) {\r\n        for(let i = 1;i<4;i++){\r\n            if(value == i){\r\n                (this as any)[\"btn_\"+i].getChildByName(\"btn_yellowBg\").visible = true; \r\n                ((this as any)[\"btn_\"+i].getChildByName(\"Label\") as Laya.Label).color = \"#143268\"; \r\n                // ((this as any)[\"btn_\"+i].getChildByName(\"Label\") as Laya.Label).stroke = 0; \r\n            }else{\r\n                (this as any)[\"btn_\"+i].getChildByName(\"btn_yellowBg\").visible = false; \r\n                ((this as any)[\"btn_\"+i].getChildByName(\"Label\") as Laya.Label).color = \"#ffffff\"; \r\n                // ((this as any)[\"btn_\"+i].getChildByName(\"Label\") as Laya.Label).stroke = 4;              \r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n\r\n    onClickTab(_index:number) {\r\n        if(this.currTab == _index)\r\n            return;\r\n        this.setTab(_index);\r\n        if(_index == 1){\r\n                this.arenaLv = 1;\r\n                var shopItems = this.getRoomByType();            \r\n            }else if(_index == 2){\r\n                    this.arenaLv = 2;\r\n                    var shopItems = this.getRoomByType();            \r\n            }else if(_index == 3){\r\n                this.arenaLv = 3;\r\n                    var shopItems = this.getRoomByType(); \r\n            \r\n            }\r\n        \r\n    }\r\n    async getRoomByType() {\r\n\r\n        this.arenaLv;//1 2 3\r\n        this.coinTypes;//  [3001,3006,3007] ; 3001cox 3006   3007\r\n\r\n        let data = await HttpCmd.requestPost(\"wxgame/room/list\", {lv: this.arenaLv, coinTypeList: this.coinTypes})\r\n\r\n\r\n\r\n        this.list_room.array = data.roomList;\r\n\r\n\r\n        Laya.timer.once(3000, this, this.getRoomByType);\r\n\r\n\r\n    }\r\n\r\n\r\n    \r\n\r\n    // comboData = \"TOX Arena, DTS Arena\";\r\n    private coinDatas:any[] = [];\r\n\r\n\r\n    initCombo(): void {\r\n        this.coinTypes = [];\r\n\r\n        var coinIds:any[] = SheetDataManager.intance.getGeneralValueById(5);\r\n        this.coinDatas = [];\r\n        coinIds.forEach((coinId: any) => {\r\n            this.coinTypes.push(coinId);\r\n            var itemItem:ItemItem = SheetDataManager.intance.m_dicItems.get(coinId);\r\n            this.coinDatas.push([coinId, true, GameLanguageMgr.instance.getLanguage(itemItem.name)]);\r\n        });\r\n\r\n        this.list_coin.array = this.coinDatas;\r\n\r\n\r\n        // //list\r\n        \r\n        // this.combo2.labels= comboData.join(\",\");\r\n        // this.combo2.selectedIndex = 0;\r\n        //     //\r\n        //     // this.combo2.list.array = this.comboData;\r\n        //     //\r\n        // this.combo2.list.repeatY = comboData.length;\r\n\r\n        //     //Listlist\r\n\r\n        // this.combo2.list.width = this.combo2.width;\r\n        // this.combo2.list.hScrollBarSkin = \"\";\r\n        // this.combo2.selectHandler = new Laya.Handler(this, this.onSelected2);\r\n    }\r\n    onCoinSelected(): void {\r\n\r\n            this.coinTypes = [];\r\n            this.coinDatas.forEach((coinData: any) => {\r\n                if(coinData[1])\r\n                    this.coinTypes.push(coinData[0]);\r\n            });\r\n\r\n\r\n            console.log(\" coinType\" + this.coinTypes );\r\n            this.getRoomByType();\r\n\r\n        \r\n    }\r\n\r\n    //     private onListEvent(e: Laya.Event, index: number): void {\r\n    //     switch(e.type) {\r\n    //         case Laya.Event.CLICK:\r\n    //         {\r\n    //             // this.coinTypes = this.coinIds[index];\r\n    //             // console.log(\" coinType\" + this.coinTypes );\r\n    //             // this.getRoomByType();\r\n\r\n            \r\n    //         }\r\n    //         break;\r\n    //     }\r\n    // }\r\n\r\n    // private onRenderList(cell: Laya.Box, index: number): void {\r\n    //     let data = cell.dataSource;\r\n    //     let check_coin = cell.getChildByName(\"check_coin\") as Laya.CheckBox;\r\n    //     check_coin.selected = data[2];\r\n    //     let tf_coin = cell.getChildByName(\"tf_coin\") as Laya.Label;\r\n    //     tf_coin.text = data[3];\r\n    // }\r\n\r\n\r\n\r\n\r\n    private onBindStateChange(): void {\r\n        // if(FBLikeNet.instance.rewardState.toString() == \"1\" || GameSetting.m_bInstantGame ) {\r\n        //     this.btnBindFB.visible = false;\r\n        // } \r\n        // this.btnOnlineReward.visible = ActivityTimeModel.instance.checkCanShow(2003);\r\n        // if(RechargeModel.instance.weekState == 3 || !RechargeModel.instance.weekState ) {\r\n        //     this.btnFirstWeekRecharge.visible = false;\r\n        // } \r\n        // this.sortIconView();\r\n    }\r\n    private onFirstRecharge(data: any): void {\r\n        // GlobalDataManager.instance.firstRechargeState = data[0];\r\n        // if(GlobalDataManager.instance.firstRechargeState == 3 ) {\r\n        //     this.btnFirstRecharge.visible = false;\r\n        // } else {\r\n        //     (this.btnFirstRecharge as MainIconView).systemInfo = GlobalDataManager.instance.systemOpenModel.m_dicSystemInfoCfg.get(2201);\r\n        // }\r\n    }\r\n    private initBtnBox(): void {\r\n        // (this.btnCheckin as MainIconView).systemInfo = GlobalDataManager.instance.systemOpenModel.m_dicSystemInfoCfg.get(5008);\r\n        // (this.btnOnlineReward as MainIconView).systemInfo = GlobalDataManager.instance.systemOpenModel.m_dicSystemInfoCfg.get(2003);\r\n        // (this.btnActivity as MainIconView).systemInfo = GlobalDataManager.instance.systemOpenModel.m_dicSystemInfoCfg.get(2002);\r\n        // if(GlobalDataManager.instance.firstRechargeState == 3 ) {\r\n        //     this.btnFirstRecharge.visible = false;\r\n        // } else {\r\n        //     (this.btnFirstRecharge as MainIconView).systemInfo = GlobalDataManager.instance.systemOpenModel.m_dicSystemInfoCfg.get(2201);\r\n        // }\r\n        // if(RechargeModel.instance.weekState == 3 || !RechargeModel.instance.weekState ) {\r\n        //     this.btnFirstWeekRecharge.visible = false;\r\n        // } else {\r\n        //     (this.btnFirstWeekRecharge as MainIconView).systemInfo = GlobalDataManager.instance.systemOpenModel.m_dicSystemInfoCfg.get(2205);\r\n        // }\r\n        // if(FBLikeNet.instance.rewardState.toString() == \"1\" || GameSetting.m_bInstantGame ) {\r\n        //     this.btnBindFB.visible = false;\r\n        // } else {\r\n        //     (this.btnBindFB as MainIconView).systemInfo = GlobalDataManager.instance.systemOpenModel.m_dicSystemInfoCfg.get(9010);\r\n        // }\r\n        this.sortIconView();\r\n    }\r\n    private sortIconView(): void {\r\n        // if(GameSetting.isPC ) {\r\n        //     return\r\n        // } \r\n        // let showViews: any[] = [this.btnCheckin, null, this.btnActivity, null];\r\n        // if(this.btnOnlineReward.visible ) {\r\n        //     showViews[1] = this.btnOnlineReward\r\n        // } \r\n        // if(this.btnFirstRecharge.visible ) {\r\n        //     showViews[3] = this.btnFirstRecharge\r\n        // } \r\n        // if(this.btnFirstWeekRecharge.visible ) {\r\n        //     showViews[3] = this.btnFirstWeekRecharge\r\n        // } \r\n        // let posIdx: number = 0;\r\n        // for(let i: number = 0; i < showViews.length; i++) {\r\n        //     let iconView: MainIconView = showViews[i];\r\n        //     if(iconView ) {\r\n        //         iconView.x = 122 * posIdx;\r\n        //         posIdx++;\r\n        //     } \r\n        // }\r\n    }\r\n    private async onclickBtnHandler(btn: Laya.Button): Promise<void> {\r\n        switch(btn) {\r\n\r\n\r\n\r\n            case this.btn_shop:\r\n            {\r\n                SceneManager.intance.setCurrentScene(SceneType.M_SCENE_SHOP);\r\n            }\r\n            break;\r\n            case this.btn_heroes:\r\n            {\r\n                SceneManager.intance.setCurrentScene(SceneType.M_SCENE_HERO);\r\n            }\r\n            break;\r\n            case this.btn_backpack:\r\n            {\r\n                SceneManager.intance.setCurrentScene(SceneType.M_SCENE_KNAPSACK);\r\n            }\r\n            break;\r\n            case this.btn_guild:\r\n            {\r\n                SceneManager.intance.setCurrentScene(SceneType.M_SCENE_UNION);\r\n            }\r\n            break;\r\n            case this.btn_setting:\r\n            {\r\n                ModuleManager.intance.openModule(ModuleName.GameSettingLanguageDialog);\r\n            }\r\n            break;\r\n\r\n\r\n            \r\n            case this.btn_create:\r\n            {\r\n\r\n                // ModuleManager.intance.openModule(ModuleName.MatchReadyView);\r\n\r\n                // Laya.timer.once(5000, this, ()=>{\r\n                //     ModuleManager.intance.disposeView(ModuleName.MatchReadyView);\r\n                //     console.log(\"TEST  CLOSE\");\r\n\r\n                // })\r\n                \r\n\r\n                \r\n                ModuleManager.intance.openModule(ModuleName.CreateRoomDialog, [this.arenaLv]);\r\n            }\r\n            break;\r\n            // case this.btn2:\r\n            // {\r\n            //     SceneManager.intance.setCurrentScene(SceneType.M_SCENE_ARENA);\r\n            // }\r\n            // break;\r\n            // case this.btn3:\r\n            // {\r\n\t\t\t//     GuildNet.instance.initGuild();\r\n            // }\r\n            // break;\r\n            // case this.btn4:\r\n            // {\r\n            //     let ary = [];\r\n            //     let dic:Dictionary = await HeroNetModel.instance.getHeroPos(); \r\n            //     for (const iterator of dic.values) {\r\n            //         if(parseInt(iterator.heroId)){\r\n            //             let heroVo:HeroVo = GlobalDataManager.instance.m_heroData.heroVoDic.get(iterator.heroId);\r\n            //             ary.push(heroVo.skSkin)\r\n            //         }\r\n            //     }\r\n        \r\n            //     if(!ary.length){\r\n            //         NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage('314'));\r\n            //         return;\r\n            //     }\r\n\t\t\t//     SceneManager.intance.setCurrentScene(SceneType.M_SCENE_AFKBATTLE);\r\n            // }\r\n            // break;\r\n            case this.btn5:\r\n            {\r\n                ModuleManager.intance.openModule(ModuleName.MailDialog);\r\n            }\r\n            break;\r\n            \r\n\r\n\r\n            case this.btn_friend:\r\n            {\r\n                ModuleManager.intance.openModule(ModuleName.FriendMemberDialog);                \r\n            }\r\n            break;\r\n            case this.btn_rank:\r\n            {\r\n                SceneManager.intance.setCurrentScene(SceneType.M_SCENE_RANK);            \r\n            }\r\n            break;\r\n            case this.btn_wallet:\r\n            {\r\n                // NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(12));//\r\n                ModuleManager.intance.openModule(ModuleName.WalletDialog);\r\n            }\r\n            break;\r\n            case this.btn_limitRecruit:\r\n            {\r\n                SceneManager.intance.setCurrentScene(SceneType.M_SCENE_HERO, true, true, EnumFun.FUN_LIMITRECRUIT);\r\n\r\n            }\r\n            break;\r\n            default:\r\n            {\r\n                NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(12));//\r\n                // Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, [ModuleName.RechargeDialog, true])\r\n            }\r\n            break;\r\n            // case this.btn_exchange:\r\n            // {\r\n            //     let vo: ItemVo = ShopExchangeModel.instance.getWantBuyPriceVO()\r\n            //     Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, [ModuleName.ItemGetDialog, vo])\r\n            // }\r\n            // break;\r\n            // case this.btnGuildProof:\r\n            // {\r\n            //     ModuleManager.intance.openModule(ModuleName.GuildProofPrepareView)\r\n            // }\r\n            // break;\r\n        }\r\n    }\r\n    private openBuyDialog(type: string): void {\r\n        switch(parseInt(type)) {\r\n            case 1:\r\n            {\r\n                this.clickPlutPower()\r\n            }\r\n            break;\r\n            case 2:\r\n            {\r\n                this.clickFlyBtn()\r\n            }\r\n            break;\r\n            case 3:\r\n            {\r\n                this.buyGoldBtn()\r\n            }\r\n            break;\r\n            case 4:\r\n            {\r\n                this.clickRecharge()\r\n            }\r\n            break;\r\n            // case 5:\r\n            // {\r\n            //     ModuleManager.intance.openModule(ModuleName.GuildProofPrepareView)\r\n            // }\r\n            // break;\r\n        }\r\n    }\r\n    public clickPlutPower(): void {\r\n       \r\n    }\r\n    public buyTiCallBack(callBack: any): void {\r\n        LoadingManager.instance.showLoading();\r\n        this.sendData(89, [7]);\r\n    }\r\n    private clickRecharge(): void {\r\n        if(GameSetting.m_bInstantGame == true ) {\r\n            let str: string = GameLanguageMgr.instance.getLanguage(500004);\r\n            AlertManager.instance().AlertByType(AlertType.BASEALERTVIEW, str, AlertType.YES);\r\n            return;\r\n        } \r\n        Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, [ModuleName.RechargeDialog]);\r\n    }\r\n    public changeName(data: any): void {\r\n        // this.tf_name.text = data;\r\n    }\r\n    public buyGoldBtn(): void {\r\n        Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, [ModuleName.GetMoreDialog]);\r\n    }\r\n    public clickFlyBtn(): void {\r\n      \r\n    }\r\n    // public buyFlycallBack(callBack: any): void {\r\n    //     LoadingManager.instance.showLoading();\r\n    //     this.sendData(89, [8]);\r\n    // }\r\n\r\n\r\n\r\n    // private openRoleView(): void {\r\n    //     Signal.intance.event(GameEvent.EVENT_OPEN_MODULE, [ModuleName.RoleDialog]);\r\n    // }\r\n\r\n    onDisable(): void {\r\n\r\n        // let box: Laya.Box = this.getChildByName(\"sp_monthCard\") as Laya.Box;\r\n        // if(box ) {\r\n        //     box.off(Laya.Event.CLICK, this, this.onClickMonthCard);\r\n        // } \r\n        // this.mcBg.off(Laya.Event.CLICK, this, this.openRoleView);\r\n        // this.titleBg.off(Laya.Event.CLICK, this, this.openTitleView);\r\n        for(var i=1;i<6;i++){\r\n            (this as any)[\"spine_\"+i].off(Laya.Event.READY, this, this.onSkReady);\r\n        }\r\n        Signal.intance.off(GameEvent.UPDATE_RED_STATE_EVENT, this, this.changeMailFlag);\r\n        Signal.intance.off(GameEvent.ACCOUNTVO_UPDATE, this, this.updateExp);\r\n\r\n        Signal.intance.off(GameEvent.ROLE_INFO_CHANGE, this, this.updateTopInfo);\r\n        Signal.intance.off(GameEvent.UPDATE_ASSETS, this, this.updateAssets);\r\n        Signal.intance.off(WalletEvent.UPDATE_LOCAL_WALLET_LIST_EVENT, this, this.updateLocalAssets);\r\n        Signal.intance.off(\"CHANG_NAME\", this, this.changeName);\r\n        // Signal.intance.off(TitleEvent.INIT_TITLE_EVENT, this, this.updateTile);\r\n        // Signal.intance.off(TitleEvent.EVENT_CLEAR_TITLE_REDPOINT, this, this.clearTitleRedPoint);\r\n        Signal.intance.off(\"open_buy\", this, this.openBuyDialog);\r\n        Signal.intance.off(\"msg_173\", this, this.onFirstRecharge);\r\n        Signal.intance.off(GameEvent.EVENT_REMOVE_ACTIVITY, this, this.onBindStateChange);\r\n        Signal.intance.off(GameEvent.EVENT_CHECK_ICON_SELECT, this, this.onCoinSelected);\r\n        Signal.intance.off(GameEvent.EVENT_ENTER_MATCH_ROOM, this, this.onEnterMatchRoom);\r\n        Laya.Tween.clearAll(this);\r\n        Laya.timer.clearAll(this);\r\n        // if(this.m_roleHead ) {\r\n        //     this.m_roleHead.removeSelf();\r\n        //     this.m_roleHead.destroy(true);\r\n        // } \r\n        // super.removeEvent();\r\n    }\r\n\r\n    onEnterMatchRoom(){\r\n        this.onDisable();\r\n\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/mainView/PlayerIcon.lh\n */\nexport class PlayerIconBase extends Laya.Box {\n    public img_head!: Laya.Image;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-02-28 16:21:21\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-06 21:20:17\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { PlayerDto } from \"../../global/contract/vo/PlayerDto\";\r\nimport { PackageData } from \"../../global/vo/pack/PackageData\";\r\nimport { PlayerIconBase } from \"./PlayerIcon.generated\";\r\n\r\n@regClass('OPT5t2CoSmuYp2zUJWwUWA')\r\nexport class PlayerIcon extends PlayerIconBase {\r\n    public playerDto: PlayerDto;\r\n    public showAdd:boolean = false;\r\n    private isAddEvent:boolean = false;\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public createChildren():void{\r\n        super.createChildren();\r\n        // this.visible = false;\r\n    }\r\n\r\n    private addEvent(){\r\n        if(!this.isAddEvent){\r\n            this.on(Laya.Event.CLICK, this, this.toDetail);\r\n            this.isAddEvent = true;\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.playerDto = value as PlayerDto;\r\n        if(!this.playerDto ) {\r\n            return\r\n        }\r\n        this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n\r\n    public set headSkin(headId: any) {\r\n        this.img_head.skin = GameResourceManager.instance.getPlayerIcon(headId);\r\n    }\r\n\r\n    async setCurrentOutPut() {\r\n\r\n        if(!this.playerDto)return;\r\n        let headId = this.playerDto.icon;\r\n        \r\n\r\n        this.img_head.skin = GameResourceManager.instance.getPlayerIcon(headId);//\"https://cdn.bunnyswap.cc/images/items/\"+itemsStItem.icon;\r\n\r\n    }\r\n\r\n    \r\n    private toDetail(){\r\n        if(!this.playerDto || !this.playerDto.needTip){\r\n            return;\r\n        }\r\n        \r\n        ModuleManager.intance.openModule(ModuleName.RoleInfoDialog);\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { PlayerIcon } from \"./PlayerIcon\";\n\n/**\n * scenes/mainView/RoomListItem.lh\n */\nexport class RoomListItemBase extends Laya.Box {\n    public bg!: Laya.Image;\n    public playerIcon!: PlayerIcon;\n    public tf_name!: Laya.Label;\n    public tf_people!: Laya.Label;\n    public tf_seconds!: Laya.Label;\n    public btn_join!: Laya.Button;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-10 11:40:29\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-06 21:23:52\r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { RoomDto } from \"../../global/contract/vo/RoomDto\";\r\nimport { TimeUtil } from \"../../global/util/TimeUtil\";\r\n\r\nimport HttpCmd from \"../../net/HttpCmd\";\r\nimport { MatchModel } from \"../match/MatchModel\";\r\nimport { NoticeMgr } from \"../notice/NoticeMgr\";\r\nimport { RoomListItemBase } from \"./RoomListItem.generated\";\r\n\r\n@regClass('YoCqj_dyTb2ZIAnhkSds6Q')\r\nexport class RoomListItem extends RoomListItemBase {\r\n\r\n\r\n    \r\n    public roomDto: RoomDto;\r\n    private isAddEvent:boolean = false;\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public createChildren():void{\r\n        super.createChildren();\r\n        // this.visible = false;\r\n    }\r\n\r\n    private addEvent(){\r\n        if(!this.isAddEvent){\r\n            this.btn_join.on(Laya.Event.CLICK, this, this.onJoin);\r\n            this.isAddEvent = true;\r\n            // Signal.intance.on(HeroEvent.EVENT_HERO_DRAW_UPDATE_PRODUCTION, this, this.updateProduction);\r\n        }\r\n\r\n    }\r\n    // updateProduction() {\r\n    //     if(this.roomDto && HeroModel.instance.heroOutputRateDic){\r\n    //         let heroOutputRate:HeroOutputRate = HeroModel.instance.heroOutputRateDic.get(parseInt(this.roomDto.mineralLevel));\r\n    //         if(heroOutputRate){\r\n\r\n    //             (this.getChildByName(\"tf_output\") as Laya.Label).text = GameLanguageMgr.instance.getLanguage(6049, heroOutputRate.capacity );\r\n\r\n    \r\n    //         }            \r\n    //     }     \r\n       \r\n    // }\r\n\r\n    private async onJoin():Promise<void>{\r\n        if(this.roomDto.requirePass){\r\n            ModuleManager.intance.openModule(ModuleName.InputPwdDialog, [this.roomDto]);\r\n        }else{\r\n            \r\n            let data:any = await HttpCmd.requestPost(\"wxgame/room/join\", {roomId:this.roomDto.roomId})\r\n    \r\n            MatchModel.instance.roomDto = data.roomDto;\r\n    \r\n                    if(data.roomDto){                      \r\n                        \r\n                        ModuleManager.intance.openModule(ModuleName.EnterRoomView);\r\n    \r\n                    }else{\r\n                        NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(135));//error\r\n                    }\r\n\r\n        }\r\n               \r\n    }\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.roomDto = value as RoomDto;\r\n        if(!this.roomDto ) {\r\n            return\r\n        }\r\n        this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n    async setCurrentOutPut() {\r\n        let headId = this.roomDto.leader.icon;\r\n        this.playerIcon.headSkin = headId;\r\n        \r\n\r\n        this.tf_name.text = this.roomDto.leader.name;\r\n        this.tf_people.text = `<font color=\"#25ff63\">`+this.roomDto.memberCount+`</font>/`+this.roomDto.maxCount;\r\n\r\n        this.tf_seconds.text = TimeUtil.format(Math.round(this.roomDto.joinCd/1000), \":\", false);\r\n        // this.tf_seconds.text = GameLanguageMgr.instance.getLanguage(3016) +\" \"+ Math.round(this.roomDto.joinCd/1000);\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    \r\n}", "/*\r\n* name;\r\n*/\r\nexport default class Tool{\r\n    constructor(){\r\n\r\n    }\r\n    \t/**\r\n         * \r\n         */\r\n\t\tpublic static judgePosition(dx:number,dy:number):number{\r\n\t\t\t\r\n\t\t\tvar L = Math.atan2(dx, -dy) * 180 / 3.141593E+000;\r\n\t\t\tif (L < -22)\r\n\t\t\t{\r\n\t\t\t\tL = L + 360;\r\n\t\t\t} // end if\r\n\t\t\tL = Math.ceil((L + 22) / 45);\r\n\t\t\treturn L;\r\n\t\t}\t\r\n    public static distancePoint(x1:number,y1:number,x2:number,y2:number):number\r\n    {\r\n        return Math.sqrt((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2));\r\n    }\r\n\r\n\r\n\tprivate get2D_Distance(dx:number,dy:number):number{\r\n\t\treturn Math.sqrt(Math.pow(Math.abs(dx),2)+(Math.pow(Math.abs(dy),2)));\r\n\t}\r\n\r\n\r\n\r\n\t// \r\n\tpublic static rollCharacterByDir(startX:number, startY:number, direction: number, distance: number):any[] {\r\n        let angle: number;\r\n\r\n        // \r\n        switch (direction) {\r\n            case 3: // \r\n                angle = 0;\r\n                break;\r\n            case 4: // \r\n                angle = 45;\r\n                break;\r\n            case 5: // \r\n                angle = 90;\r\n                break;\r\n            case 6: // \r\n                angle = 135;\r\n                break;\r\n            case 7: // \r\n                angle = 180;\r\n                break;\r\n            case 8: // \r\n                angle = 225;\r\n                break;\r\n            case 1: // \r\n                angle = 270;\r\n                break;\r\n            case 2: // \r\n                angle = 315;\r\n                break;\r\n            default:\r\n                angle = 0;\r\n                break;\r\n        }\r\n\t\treturn Tool.rollCharacter(startX, startY, angle, distance);\r\n    }\r\n\t// \r\n\tpublic static rollCharacter(startX:number, startY:number, angle: number, distance: number):any[] {\r\n        // \r\n        const radian = angle * (Math.PI / 180);\r\n\r\n        // XY\r\n        var newX = startX + distance * Math.cos(radian);\r\n        var newY = startY + distance * Math.sin(radian);\r\n\r\n\t\t//\r\n\t\tvar offset = 320;\r\n\t\tif(newX<offset){\r\n\t\t\tnewX = offset;\r\n\t\t}else if(newX > (3040 - offset)){\r\n\t\t\tnewX = (3040 - offset);\r\n\t\t}\r\n\r\n\t\tif(newY<offset){\r\n\t\t\tnewY = offset;\r\n\t\t}else if(newY > (2640 - offset)){\r\n\t\t\tnewY = (2640 - offset);\r\n\t\t}\r\n\r\n\r\n        console.log(`X=${newX}, Y=${newY}`);\r\n\t\treturn [newX, newY];\r\n    }\r\n\r\n\r\n\t/**\r\n\t* 25\r\n\t*sx:x\r\n\t*sx:y\r\n\t*angle:\r\n\t*segment:\r\n\t*leng\r\n\t*/\t\r\n\tpublic static createDirectPath(sx:number,sy:number,angle:number,segment:number=40,leng:number=25):Array<number>\r\n\t{\r\n\t\tvar path:Array<number>=[];\r\n\t\tvar radian=angle*Math.PI/180;\r\n\t\tfor(var i=1;i<segment;++i)\r\n\t\t{\t\r\n\t\t\tvar directX:number = sx;\r\n        \tvar directY:number = sy+leng*i;\r\n       \t\tvar targetX:number = -(directY-sy)*Math.sin(radian)+sx;\r\n        \tvar targetY:number = (directY-sy)*Math.cos(radian)+sy;\r\n\t\t\tpath.push(targetX,targetY);\r\n\t\t}\r\n        return path;\r\n\t}\r\n\t/**\r\n\t* \r\n\t*list:24\r\n\t*/\r\n\tpublic static pointsBack(list:Array<number>,backlength:number):Array<number>\r\n\t{\r\n\t\t\tif(backlength<=0)return list;//\r\n\t\t\tif(!list)return list;\r\n\t\t\tif(list.length<4)return list;\r\n\t\t\tvar totalLen:number=0;\r\n\t\t\tvar cx:number=-1;\r\n\t\t\tvar cy:number=-1;\r\n\t\t\tfor(var i=0;i<list.length;i+=2)\r\n\t\t\t{\r\n\t\t\t\t//\r\n\t\t\t\tvar dx:number=list[i];\r\n\t\t\t\tvar dy:number=list[i+1];\r\n\t\t\t\tif(cx>0&&cy>0)\r\n\t\t\t\t{\r\n\t\t\t\t\ttotalLen+=this.distancePoint(cx,cy,dx,dy);\r\n\t\t\t\t}\r\n\t\t\t\tcx = dx;cy=dy;\r\n\t\t\t}\r\n\t\t\tif(totalLen<backlength)return null;\r\n\t\t\t//=========================================================================\r\n\t\t\tvar points:Array<number> = list.concat();\r\n\t\t\tvar distance:number=0;\r\n\t\t\tvar delta:number=0;\r\n\t\t\twhile(points&&points.length>=4&&distance<backlength)\r\n\t\t\t{\r\n\t\t\t\tvar lasty:number = points.pop();\r\n\t\t\t\tvar lastx:number = points.pop();\r\n\t\t\t\tvar y:number = points[points.length-1];\r\n\t\t\t\tvar x:number = points[points.length-2];\r\n\r\n\t\t\t\tdistance+= this.distancePoint(x,y,lastx,lasty);\r\n\t\t\t\tdelta = distance-backlength;\r\n\t\t\t\tif(delta>0)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar radian:number=Math.atan2(y-lasty,x-lastx);\r\n\t\t\t\t\tvar angle:number = radian*180/Math.PI+90;\r\n\t\t\t\t\tradian = angle*Math.PI/180;\r\n\r\n\t\t\t\t\tvar directY:number = y+delta;\r\n\t\t\t\t\tvar targetX:number = -(directY-y)*Math.sin(radian)+x;\r\n        \t\t\tvar targetY:number = (directY-y)*Math.cos(radian)+y;\r\n\t\t\t\t\tpoints.push(targetX,targetY);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\treturn points;\r\n\t}\r\n\t/**\r\n\t* \r\n\t*sx:x\r\n\t*sx:y\r\n\t*ex:x\r\n\t*ey:y\r\n\t*leng:\r\n\t*distance:\r\n\t*/\r\n\tpublic static createLinePath(sx:number,sy:number,ex:number,ey:number,leng:number=25,distance:number=0):Array<number>\r\n\t{\r\n\t\tvar path:Array<number>=[];\r\n\t\tvar radian:number = Math.atan2(ey-sy,ex-sx);\r\n\t\tradian=(radian*180/Math.PI-90)*Math.PI/180;\r\n\t\tvar totalLen:number = this.distancePoint(sx,sy,ex,ey)-distance;\r\n\t\tvar currentLen:number=0;\r\n\t\tvar i:number=0;\r\n\t\twhile(totalLen>currentLen)\r\n\t\t{\r\n\t\t\tvar directX:number = sx;\r\n        \tvar directY:number = sy+leng*i;\r\n\t\t\tvar targetX:number = -(directY-sy)*Math.sin(radian)+sx;\r\n        \tvar targetY:number = (directY-sy)*Math.cos(radian)+sy;\r\n\t\t\tcurrentLen = this.distancePoint(sx,sy,targetX,targetY);\r\n\t\t\tif(totalLen>currentLen)\r\n\t\t\t{\r\n\t\t\t\tpath.push(targetX,targetY);\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\tif(distance==0)\r\n\t\t{\r\n\t\t\tpath.push(ex,ey);\r\n\t\t}\r\n\t\t\r\n\t\treturn path;\r\n\t}\r\n    /**\r\n\t* , point \r\n\t*/\t\t\r\n\tpublic static rolePosTransform(mainrole:any, role:any, point:Laya.Point):Laya.Point\r\n\t{\r\n\t\t\tvar matrix:Laya.Matrix = new Laya.Matrix();\r\n\t\t\tmatrix.rotate(Math.PI/180 * (mainrole.modelAngle-90));//\r\n\t\t\tmatrix.translate(role.x, role.y);//\r\n\t\t\treturn matrix.transformPoint(point);\r\n\t}\r\n    /**\r\n\t* \r\n\t*/\r\n    public static  pointtInPolygon(p:Laya.Point, areaPoints:Array<Laya.Point>):boolean\r\n\t{\r\n        //\r\n\t\t\t// \r\n\t\t\tvar nCross:number = 0;\r\n\t\t\tfor (var i:number = 0; i < areaPoints.length; i++)\r\n\t\t\t{\r\n\t\t\t\tvar p1:Laya.Point = areaPoints[i];\r\n\t\t\t\tvar p2:Laya.Point = areaPoints[(i + 1) % areaPoints.length];// \r\n\t\t\t\tif ( p1.y == p2.y )\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tif ( p.y < Math.min(p1.y, p2.y) )\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tif ( p.y >=Math.max(p1.y, p2.y) )\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t// x\r\n\t\t\t\tvar x:number = (p.y - p1.y) * (p2.x - p1.x) / (p2.y - p1.y) + p1.x;\r\n\t\t\t\t// p1p2p\r\n\t\t\t\tif ( x > p.x )\r\n\t\t\t\t{\r\n\t\t\t\t\tnCross++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// \r\n\t\t\treturn (nCross % 2 == 1);\r\n    }\r\n\t/**\r\n\t* \r\n\t*/\r\n\tpublic static pointInPie(piex:number,piey:number,startangle:number,endangle:number,radius:number,targetPoint:Laya.Point):boolean\r\n\t{\r\n\t\tvar angle:number=Math.atan2(targetPoint.y-piey,targetPoint.x-piex)*180/Math.PI;\r\n\t\tvar distance:number = this.distancePoint(piex,piey,targetPoint.x,targetPoint.y);\r\n\t\tif(angle>=startangle&&angle<=endangle&&distance<=radius)return true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic static getRandInRound(min:number, max:number)\r\n\t{\r\n\t\treturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n\t}\r\n\t// /**\r\n\t// * 2D3D\r\n\t// */\r\n\t// public static angel2dTo3d(x0:number,y0:number,x:number,y:number):number\r\n\t// {\r\n\t// \tvar dy:number = (y0-y)/GameWorld.camerSinAngle;\r\n\t// \treturn Math.atan2(dy,x0-x)*180/Math.PI-90;\r\n\t// }\r\n\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/match/DamageNumber.lh\n */\nexport class DamageNumberBase extends Laya.Box {\n    public tf_damage!: Laya.Label;\n    public box_crit!: Laya.Box;\n    public fontClip_damage!: Laya.FontClip;\n    public img_miss!: Laya.Image;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-30 20:04:21\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-02-06 23:41:08\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport Tool from \"../../../script/util/Tool\";\r\nimport AttackPush from \"../../net/protocol/login/AttackPush\";\r\nimport { DamageNumberBase } from \"./DamageNumber.generated\";\r\n\r\n@regClass('nHp6WKzZRIWvyhguidEfqg')\r\nexport class DamageNumber extends DamageNumberBase {\r\n\r\n    static WHITE:string = \"#FFFFFF\";\r\n    static ORANGE:string = \"#FFA500\";// \r\n    static RED:string = \"#FF0000\";// \r\n    static GREEN:string = \"#119c09\";\r\n\r\n\r\n    static TYPE_Normal:string = \"Normal\";\r\n    static TYPE_Miss:string = \"Miss\";\r\n    static TYPE_Critical:string = \"Critical\";\r\n\r\n\r\n    // \r\n\r\n\r\n    init(damage: number, attackPush:AttackPush, fontSize: number = 28) {\r\n\r\n        var damageType;\r\n        // \r\n        var randomX;\r\n        if(damage!=0){\r\n            randomX = Tool.getRandInRound(-30, 30);\r\n            if(attackPush.bj){\r\n                damageType = DamageNumber.TYPE_Critical;\r\n            }else{\r\n                damageType = DamageNumber.TYPE_Normal;\r\n            }\r\n\r\n        }else{\r\n            randomX = Tool.getRandInRound(-30, 30);\r\n            damageType = DamageNumber.TYPE_Miss;\r\n        }\r\n\r\n        // this.text = text;\r\n        // this.fontSize = fontSize;\r\n        this.pos(randomX, -180);\r\n        this.alpha = 1;\r\n        this.scale(1, 1);\r\n\r\n        this.tf_damage.visible = false;\r\n        this.box_crit.visible = false;\r\n        this.img_miss.visible = false;\r\n\r\n        // \r\n        switch (damageType) {\r\n            case DamageNumber.TYPE_Normal:\r\n                this.tf_damage.text = damage+\"\";\r\n                // \r\n                this.showNormalDamageEffect();\r\n                break;\r\n            case DamageNumber.TYPE_Critical:\r\n                this.fontClip_damage.value = damage+\"\";\r\n                // \r\n                this.showCriticalDamageEffect();\r\n                break;\r\n            case DamageNumber.TYPE_Miss:\r\n                // Miss\r\n                this.showMissEffect();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        // \r\n        // this.adjustPosition();\r\n    }\r\n\r\n    private showNormalDamageEffect() {\r\n        this.tf_damage.visible = true;\r\n        // \r\n        // this.color = DamageNumber.WHITE; // \r\n        Laya.Tween.to(this, { y: this.y - 50, alpha: 0 }, 1000, Laya.Ease.linearNone, Laya.Handler.create(this, this.onComplete));\r\n    }\r\n\r\n    private showCriticalDamageEffect() {\r\n        // \r\n        // this.color = DamageNumber.RED; // \r\n        this.box_crit.visible = true;\r\n        this.scale(0.2, 0.2); // \r\n        Laya.Tween.to(this, { scaleX: 1.3, scaleY: 1.3, alpha: 1, y: this.y - 70 }, 500, Laya.Ease.linearNone, Laya.Handler.create(this, () => {\r\n            Laya.Tween.to(this, { scaleX: 1, scaleY: 1, alpha: 0 }, 500, Laya.Ease.linearNone, Laya.Handler.create(this, () => {\r\n                this.onComplete();\r\n            }));\r\n        }));\r\n    }\r\n\r\n    private showMissEffect() {\r\n        // Miss\r\n        this.img_miss.visible = true;\r\n        // this.color = DamageNumber.ORANGE; // \r\n        Laya.Tween.to(this, { y: this.y - 50, alpha: 0 }, 1000, Laya.Ease.linearNone, Laya.Handler.create(this, () => {\r\n            this.onComplete();\r\n        }));\r\n    }\r\n\r\n    // private adjustPosition() {\r\n    //     // \r\n    //     const spacingX = 20; // X\r\n    //     const offsetX = this.width / 2; // X\r\n    //     const parent = this.parent as Laya.Sprite;\r\n\r\n    //     let xPos = 0; //  X \r\n\r\n    //     for (let i = 0; i < parent.numChildren; i++) {\r\n    //         const child = parent.getChildAt(i) as DamageText;\r\n            \r\n    //         //  X \r\n    //         if (child !== this && Math.abs(child.x - xPos) < offsetX) {\r\n    //             xPos = child.x + child.width + spacingX; //  X \r\n    //         }\r\n    //     }\r\n\r\n    //     this.x = xPos;\r\n    // }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // \r\n    onComplete() {\r\n        // \r\n        this.removeSelf();\r\n        Laya.Pool.recover(\"damageNumber\", this);\r\n    }\r\n}\r\n\r\n\r\n", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { PlayerIcon } from \"../mainView/PlayerIcon\";\n\n/**\n * scenes/match/MatchEndRankListItem.lh\n */\nexport class MatchEndRankListItemBase extends Laya.Box {\n    public bg!: Laya.Image;\n    public img_rankIcon1!: Laya.Image;\n    public img_rankIcon2!: Laya.Image;\n    public tf_rank!: Laya.Label;\n    public tf_name!: Laya.Label;\n    public tf_kill!: Laya.Label;\n    public tf_score!: Laya.Label;\n    public playerIcon!: PlayerIcon;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-20 20:13:11\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-11 22:59:06\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport RoomRankPlayerDto from \"../../net/protocol/dto/RoomRankPlayerDto\";\r\nimport { MatchEndRankListItemBase } from \"./MatchEndRankListItem.generated\";\r\n\r\n@regClass('vpTYNMB4TfGFK2gaXiPAeg')\r\nexport class MatchEndRankListItem extends MatchEndRankListItemBase {\r\n\r\n    public roomRankPlayerDto: RoomRankPlayerDto;\r\n    private isAddEvent:boolean = false;\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    private addEvent(){\r\n        if(!this.isAddEvent){\r\n            // this.btn_join.on(Laya.Event.CLICK, this, this.onJoin);\r\n            this.isAddEvent = true;\r\n            // Signal.intance.on(HeroEvent.EVENT_HERO_DRAW_UPDATE_PRODUCTION, this, this.updateProduction);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.roomRankPlayerDto = value as RoomRankPlayerDto;\r\n        if(!this.roomRankPlayerDto ) {\r\n            return\r\n        }\r\n        this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n    async setCurrentOutPut() {\r\n        if(this.roomRankPlayerDto.id == GlobalDataManager.instance.playerDto.pid){\r\n            this.bg.skin = \"res/matchRank1/img_ranking_bg_me.png\";\r\n        }else{\r\n            if(this.roomRankPlayerDto.rankNum < 4){\r\n                this.bg.skin = \"res/matchRank1/img_ranking_bg_\"+this.roomRankPlayerDto.rankNum+\".png\";\r\n            }                \r\n            else\r\n                this.bg.skin = \"res/matchRank1/img_ranking_bg_4.png\";\r\n        }\r\n\r\n        if(this.roomRankPlayerDto.rankNum < 4){\r\n            this.img_rankIcon1.skin = \"res/matchRank1/img_ranking_\"+this.roomRankPlayerDto.rankNum+\".png\";\r\n            this.img_rankIcon1.visible = true;\r\n            this.img_rankIcon2.visible = false;\r\n        }else{\r\n            if(this.roomRankPlayerDto.id == GlobalDataManager.instance.playerDto.pid){\r\n                this.img_rankIcon2.skin = \"res/matchRank1/img_ranking_ranking_me.png\";\r\n            }else{\r\n                this.img_rankIcon2.skin = \"res/matchRank1/img_ranking_ranking_4.png\";\r\n            }\r\n            \r\n            this.img_rankIcon2.visible = true;\r\n            this.img_rankIcon1.visible = false;\r\n        }\r\n        let headId = this.roomRankPlayerDto.icon;\r\n\r\n\r\n        this.playerIcon.headSkin = headId;\r\n        \r\n        this.playerIcon.gray = this.roomRankPlayerDto.die;\r\n        \r\n\r\n        this.tf_name.text = GameLanguageMgr.instance.getLanguage(this.roomRankPlayerDto.name);\r\n        this.tf_rank.text = this.roomRankPlayerDto.rankNum + \"\";\r\n        this.tf_kill.text = this.roomRankPlayerDto.kill + \"\";\r\n        this.tf_score.text = this.roomRankPlayerDto.score + \"\";\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/match/MatchEndRankView.lh\n */\nexport class MatchEndRankViewBase extends Laya.Dialog {\n    public mcLanList!: Laya.List;\n    public btn_back!: Laya.Button;\n    public successAni!: Laya.SpineSkeleton;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-20 20:36:12\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-02-20 02:40:04\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport GameManager from \"../../../script/logic/GameManager\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport RoomRankPlayerDto from \"../../net/protocol/dto/RoomRankPlayerDto\";\r\nimport { MatchEndRankViewBase } from \"./MatchEndRankView.generated\";\r\n\r\n@regClass('NlnToPI4TTuxIDhRKLPChg')\r\nexport class MatchEndRankView extends MatchEndRankViewBase {\r\n\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_PANEL;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n\r\n    private myRank:RoomRankPlayerDto;\r\n\r\n    onEnable(): void {\r\n\r\n        // SoundMgr.instance.playMusicByName(SoundMgr.soundName_bg, \".mp3\");\r\n        this.btn_back.on(Laya.Event.CLICK, this, this.goMatchEnd)\r\n\r\n    }\r\n    \r\n\r\n    public setOpenData(rankList: any[]) {\r\n\r\n        this.mcLanList.vScrollBarSkin = \"\";\r\n\r\n        rankList.forEach((rank: RoomRankPlayerDto) => {\r\n            if(rank.id == GlobalDataManager.instance.playerDto.pid){\r\n                // this.myMatchEndRankListItem.dataSource = rank;\r\n                this.myRank = rank;\r\n                return;\r\n            }\r\n            \r\n        });\r\n        // rankList = rankList.concat( rankList.slice());rankList = rankList.concat( rankList.slice());rankList = rankList.concat( rankList.slice());rankList = rankList.concat( rankList.slice());rankList = rankList.concat( rankList.slice());rankList = rankList.concat( rankList.slice());rankList = rankList.concat( rankList.slice());rankList = rankList.concat( rankList.slice());\r\n\r\n        this.mcLanList.array = rankList;\r\n\r\n        let selectIndex = -1;\r\n\r\n        this.mcLanList.selectedIndex = selectIndex;\r\n        \r\n        this.showListEffect();\r\n        if(GameManager.instance.myPlayer.hp>0){\r\n            this.successAni.visible = true;\r\n        }else{\r\n            this.successAni.visible = false;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    private  allItems: any[] = [];\r\n\r\n    showListEffect(){\r\n        this.allItems = [];\r\n        \r\n        var len = this.mcLanList.array.length;\r\n        for(var i:number = 0; i<len; i++){\r\n            var _item = this.mcLanList.getCell(i);\r\n            if(_item){\r\n                _item.skewX = .5;\r\n                _item.alpha = 0;\r\n                this.allItems.push(_item);\r\n                Laya.timer.once(100 + i * 500, this, this.startShowItem, [i], false);\r\n            }else{\r\n                console.log(\"showListEffect _item is null\");\r\n            }\r\n        }\r\n\r\n\r\n\r\n        // this.startShowItem();\r\n        \r\n    }\r\n\r\n    startShowItem(i:number){\r\n        var item:Laya.Sprite = this.allItems[i];\r\n        if(item == null){\r\n            console.log(\"no list item now\");\r\n            return;\r\n        }\r\n        // item.visible = true;\r\n        item.scaleX = 0;\r\n        item.alpha = 0;\r\n        this.mcLanList.tweenTo(i, 500);\r\n        Laya.Tween.to(item, { scaleX: 1, alpha: 1 }, 100, Laya.Ease.circOut, null, 0, false);\r\n\r\n    }\r\n\r\n    goMatchEnd(){\r\n        ModuleManager.intance.openModule(ModuleName.MatchEndView, this.myRank);\r\n        this.close();\r\n    }\r\n\r\n\r\n\r\n    onDisable(): void {\r\n        this.removeEvent();\r\n    }\r\n\r\n    public removeEvent():void{\r\n        Laya.Tween.clearAll(this);\r\n        Laya.timer.clearAll(this);\r\n        // Signal.intance.off(CreateLoginEvent.INIT_CREATELOGIN_EVENT, this, this.initCreateLoginView);\r\n        // Signal.intance.off(GameEvent.EVENT_CHANGE_HEAD, this, this.onChangeHeadBack);\r\n\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/match/MatchEndView.lh\n */\nexport class MatchEndViewBase extends Laya.Dialog {\n    public img_rankIcon!: Laya.Image;\n    public tf_rank!: Laya.Label;\n    public btn_next!: Laya.Button;\n    public mcLanList!: Laya.List;\n    public btn_receive!: Laya.Button;\n}\n\n", "/*\r\n * @Description: \r\n * @Author: hjy\r\n * @Date: 2024-01-21 22:34:55\r\n * @LastEditTime: 2024-03-17 03:00:42\r\n * @LastEditors: hjy\r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { SceneManager } from \"../../common/SceneManager\";\r\nimport { SceneType } from \"../../common/baseScene/SceneType\";\r\nimport { NumberUtil } from \"../../global/util/NumberUtil\";\r\nimport { ItemVo } from \"../../global/vo/pack/ItemVo\";\r\nimport ItemDto from \"../../net/protocol/dto/ItemDto\";\r\nimport RoomRankPlayerDto from \"../../net/protocol/dto/RoomRankPlayerDto\";\r\nimport { MatchEndViewBase } from \"./MatchEndView.generated\";\r\nimport { MatchModel } from \"./MatchModel\";\r\n\r\n@regClass('y-nP_lRrQVef9uttVJ0rDw')\r\nexport class MatchEndView extends MatchEndViewBase {\r\n\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_PANEL;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n\r\n    private reduceTime:number;\r\n\r\n    onEnable(): void {\r\n\r\n        // SoundMgr.instance.playMusicByName(SoundMgr.soundName_bg, \".mp3\");\r\n\r\n        // Signal.intance.on(CreateLoginEvent.INIT_CREATELOGIN_EVENT, this, this.initCreateLoginView);\r\n        // Signal.intance.on(GameEvent.EVENT_CHANGES_HEAD, this, this.onChangeHeadBack);\r\n        // Signal.intance.on(GameEvent.EVENT_CHANGES_HEAD, this, this.onChangeModifyHead);\r\n        // Signal.intance.on(GameEvent.EVENT_CHANGES_HEAD, this, this.onChangeHeadBack);\r\n\r\n        this.btn_next.on(Laya.Event.CLICK, this, this.setToMainScene);\r\n\r\n    }\r\n\r\n    private setToMainScene():void{\r\n        SceneManager.intance.setCurrentScene(SceneType.M_SCENE_MAIN);\r\n    }\r\n\r\n\r\n    public setOpenData(roomRankPlayerDto: RoomRankPlayerDto) {\r\n\r\n        \r\n        if(roomRankPlayerDto.rankNum < 4){\r\n            this.img_rankIcon.skin = \"res/matchRank1/img_battleend_ranking_\"+roomRankPlayerDto.rankNum+\".png\";\r\n\r\n        }else{\r\n            this.img_rankIcon.skin = \"res/matchRank1/img_battleend_ranking_4.png\";\r\n        }\r\n\r\n\r\n\r\n        this.mcLanList.vScrollBarSkin = \"\";\r\n\r\n\r\n        this.tf_rank.text = roomRankPlayerDto.rankNum + \"\";\r\n        if(roomRankPlayerDto.rankNum < 16){\r\n            this.btn_receive.label = GameLanguageMgr.instance.getUILang(\"Redeem CP\");\r\n        }else{\r\n            this.btn_receive.label = GameLanguageMgr.instance.getUILang(\"Buy Asset\");\r\n        }\r\n        \r\n\r\n        // this.tf_myPoints.text = roomRankPlayerDto.score + \"\";\r\n\r\n        var items:ItemVo[] = [];\r\n\r\n        var itemDtos:ItemDto[] = MatchModel.instance.reward;\r\n        itemDtos.forEach(itemDto => {\r\n            var itemVo = new ItemVo(itemDto.id);\r\n            itemVo.newAddCnt = NumberUtil.formatNumber(itemDto.count,2);//2\r\n            items.push(itemVo);\r\n        });\r\n\r\n        \r\n        // var i1 = new ItemVo(3001); i1.m_iNum = 100;\r\n        // var i2 = new ItemVo(3002); i2.m_iNum = 1000;\r\n        // var i3 = new ItemVo(3003); i3.m_iNum = 200;\r\n        // let heros: any[] = [i1, i2, i3];\r\n\r\n        this.mcLanList.array = items;\r\n        this.mcLanList.visible = true;\r\n        let selectIndex = -1;\r\n\r\n        this.mcLanList.selectedIndex = selectIndex;\r\n\r\n    }\r\n\r\n    onDisable(): void {\r\n        this.removeEvent();\r\n        MatchModel.instance.clearData();\r\n    }\r\n\r\n    public removeEvent():void{\r\n        // Signal.intance.off(CreateLoginEvent.INIT_CREATELOGIN_EVENT, this, this.initCreateLoginView);\r\n        // Signal.intance.off(GameEvent.EVENT_CHANGE_HEAD, this, this.onChangeHeadBack);\r\n\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { PlayerIcon } from \"../mainView/PlayerIcon\";\n\n/**\n * scenes/match/MatchHeroListItem.lh\n */\nexport class MatchHeroListItemBase extends Laya.Box {\n    public img_back!: Laya.Image;\n    public box_show!: Laya.Box;\n    public tf_name!: Laya.Label;\n    public img_sign!: Laya.Box;\n    public playerIcon!: PlayerIcon;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-13 15:49:49\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-13 02:46:38\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { HeroVo } from \"../../global/contract/vo/HeroVo\";\r\nimport { RoomPlayer } from \"../../global/contract/vo/RoomPlayer\";\r\nimport { StringTool } from \"../../util/StringTool\";\r\nimport { HeroModel } from \"../luckdraw/model/HeroModel\";\r\nimport { MatchHeroListItemBase } from \"./MatchHeroListItem.generated\";\r\n\r\n@regClass('PiGdVEY9T-K8CCfWLChS0w')\r\nexport class MatchHeroListItem extends MatchHeroListItemBase {\r\n\r\n    \r\n    public roomPlayer: RoomPlayer;\r\n    public heroVo: HeroVo;\r\n    private isAddEvent:boolean = false;\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public createChildren():void{\r\n        super.createChildren();\r\n        // this.visible = false;\r\n    }\r\n\r\n    private addEvent(){\r\n        if(!this.isAddEvent){\r\n            // this.img_chanchu.on(Laya.Event.CLICK, this, this.onDigGet);\r\n            // this.on(Laya.Event.CLICK,this, this.toDetail)\r\n            this.isAddEvent = true;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.roomPlayer = value as RoomPlayer;\r\n\r\n        if(!this.roomPlayer ) {\r\n            this.img_back.skin = \"res/matchReady/img_jjc_0.png\";\r\n            this.box_show.visible = false;\r\n            return\r\n        }\r\n\r\n        this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n    async setCurrentOutPut() {\r\n        this.img_back.skin = \"res/matchReady/img_jjc_1.png\";\r\n        // this.heroVo = new HeroVo();\r\n        // this.heroVo.id = this.roomPlayer.heroId;\r\n        // this.img_hero.skin = this.heroVo.simgurl;\r\n        // this.tf_heroName.text = GameLanguageMgr.instance.getLanguage(this.heroVo.name);\r\n\r\n        // this.tf_name.text = StringTool.shortHeroStr(this.heroVo.heroItem.name);\r\n        this.tf_name.text = StringTool.shortHeroStr(this.roomPlayer.name);\r\n        // let star = this.heroVo.heroItem.quality + '';\r\n        // HeroModel.instance.setStar(this, star);\r\n        // let status:any = this.heroVo.status;;\r\n        this.box_show.visible = true;\r\n        if(this.destroyed){\r\n            return;\r\n        }\r\n\r\n        let headId = this.roomPlayer.icon;\r\n        this.playerIcon.headSkin = headId;\r\n        // this.img_head.skin = GameResourceManager.instance.getPlayerIcon(headId);\r\n\r\n        \r\n        this.img_sign.visible = this.roomPlayer.leader > 0;\r\n\r\n    }\r\n\r\n    \r\n    toDetail() {\r\n        if(this.heroVo.id){\r\n            // ModuleManager.intance.openModule(ModuleName.HeroDetailDialog,this.heroVo) \r\n    }\r\n}\r\n\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { HeroSk } from \"../hero/HeroSk\";\n\n/**\n * scenes/match/MatchHeroSpr.lh\n */\nexport class MatchHeroSprBase extends Laya.Sprite {\n    public shadow!: Laya.Sprite;\n    public img_d!: Laya.Image;\n    public img_d_1!: Laya.Image;\n    public img_d_5!: Laya.Image;\n    public img_d_7!: Laya.Image;\n    public img_d_3!: Laya.Image;\n    public img_d_8!: Laya.Image;\n    public img_d_6!: Laya.Image;\n    public img_d_2!: Laya.Image;\n    public img_d_4!: Laya.Image;\n    public spineNodeBack!: Laya.Box;\n    public heroBox!: Laya.Box;\n    public heroSk!: HeroSk;\n    public skNode!: Laya.Box;\n    public spineNodeFront!: Laya.Box;\n    public tf_name!: Laya.Label;\n    public box_blood!: Laya.Box;\n    public _healthBar!: Laya.ProgressBar;\n    public img_hp_bg!: Laya.Image;\n    public img_deadImg!: Laya.Image;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-22 01:29:35\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-14 18:40:53\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport GameManager, { MusicType } from \"../../../script/logic/GameManager\";\r\nimport Tool from \"../../../script/util/Tool\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { HeroVo } from \"../../global/contract/vo/HeroVo\";\r\nimport { EnumHero } from \"../../global/data/enumData/EnumHero\";\r\nimport { BuffItem } from \"../../global/data/sheetItem/hero/BuffItem\";\r\nimport { SkillItem } from \"../../global/data/sheetItem/hero/Skilltem\";\r\nimport { GameEvent } from \"../../global/event/GameEvent\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport RoomPlayerDto from \"../../net/protocol/dto/RoomPlayerDto\";\r\nimport AttackPush from \"../../net/protocol/login/AttackPush\";\r\nimport { StringTool } from \"../../util/StringTool\";\r\nimport { DamageNumber } from \"./DamageNumber\";\r\nimport { MatchHeroSprBase } from \"./MatchHeroSpr.generated\";\r\n\r\n@regClass('JIaWsVNzTK2dJIUcev60tQ')\r\nexport class MatchHeroSpr extends MatchHeroSprBase {\r\n\r\n\r\n    public roomPlayerDto:RoomPlayerDto;\r\n    public heroVo:HeroVo;\r\n    private isAddEvent:boolean = false;\r\n\r\n    public isMe:boolean = false;\r\n    /** */\r\n    public inGround:boolean = false;\r\n    // public isRuning:boolean = false;\r\n\r\n    // public enterRoleId:number;\r\n    public enterItemId:number;\r\n    // _cooldownTimer: number;\r\n    _isDead: boolean;\r\n    _isRealDead: boolean;\r\n    public _isAttacking: boolean;\r\n\r\n    _isTakingDamage: boolean;\r\n\r\n    \r\n    \r\n    public moveSpeed: number = 6;//\r\n    private _speed: number = 6;\r\n    public get speed(): number {\r\n        return this._speed;\r\n    }\r\n    public set speed(value: number) {\r\n        this._speed = value;\r\n        this.biasSpeed = Math.round(this.speed * Math.sin(45*Math.PI/180));\r\n        console.log(\"Role speed2: \", this.speed, this.biasSpeed, this.roomPlayerDto.id);\r\n    }\r\n\r\n\r\n    \r\n\r\n    \r\n    /**  */\r\n    biasSpeed: number = 0;\r\n\r\n\r\n    private lastDirectStr:string = \"left\";\r\n    public directStr:string = \"left\";\r\n\r\n\r\n    private _roleDirection: number = 7;\r\n    public get roleDirection(): number {\r\n        return this._roleDirection;\r\n    }\r\n    /** \r\n     * @param direct \r\n     */\r\n    public set roleDirection(direct: number) {\r\n        this._roleDirection = direct;\r\n        if(direct == -4){\r\n            return;\r\n        }\r\n        if(direct>=2 && direct <= 4){\r\n            this.directStr = \"right\";\r\n        }else if(direct>=6 && direct <= 8){\r\n            this.directStr = \"left\";\r\n        }\r\n        if(this.lastDirectStr != this.directStr){\r\n            this.heroBox.scaleX = this.directStr == \"left\"? 1 : -1;\r\n            this.lastDirectStr = this.directStr;\r\n        }\r\n\r\n    }\r\n    /** \r\n     * @param direct \r\n     */\r\n    public set myRoleDirection(direct: number) {\r\n       \r\n        if(this.roleDirection != direct){\r\n            this.roleDirection = direct;\r\n            for(var i=1;i<9;i++){\r\n            \r\n                (this as any)[\"img_d_\"+i].visible = i==direct;\r\n    \r\n            }\r\n        }\r\n        \r\n        \r\n\r\n    }\r\n\r\n\r\n    /**  */\r\n    public inControl: boolean = false;\r\n\r\n\r\n\r\n    /**\r\n        \r\n     */\r\n    public isStop:boolean = false;\r\n    /**\r\n        \r\n     */\r\n    public isLockAni:boolean = false;\r\n    /**\r\n        \r\n     */\r\n    public aniChange:boolean = false;\r\n    /**\r\n        1=\r\n        2=\r\n     */\r\n    public displacementType:number = 0;\r\n    \r\n    \r\n    /**  */\r\n    timeStamp: number = 0;\r\n\r\n\r\n    dunpaiSk:Laya.Skeleton;\r\n    beijiSk:Laya.Skeleton;\r\n    huaSpineSk:Laya.SpineSkeleton;\r\n\r\n\r\n    chushengBackSpineSk:Laya.SpineSkeleton;\r\n    chushengFrontSpineSk:Laya.SpineSkeleton;\r\n    // dunpaiSk:Laya.Skeleton;\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n\r\n    private addEvent(){\r\n        if(!this.isAddEvent){\r\n            // this.img_chanchu.on(Laya.Event.CLICK, this, this.onDigGet);\r\n            Laya.timer.frameLoop(1, this, this.onFrameUpdate);\r\n            this.isAddEvent = true;\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    onFrameUpdate(){\r\n        //\r\n        if(this._isRealDead && !GameManager.instance.myHeroSpr._isDead){\r\n            this.visible = false;\r\n        }\r\n    }\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        // super.dataSource = value;\r\n        this.roomPlayerDto = value as RoomPlayerDto;\r\n        if(!this.roomPlayerDto ) {\r\n            return\r\n        }\r\n        \r\n        this.pos(this.roomPlayerDto.x, this.roomPlayerDto.y);\r\n        // var role:Role = this.getComponent(Role);\r\n        // role.roleId = this.roomPlayerDto.id;\r\n        // role.roleName = \"P\" + roomPlayerDto.pid;\r\n        // role.itemId = 10;\r\n        this.addEvent();\r\n        this.speed = this.roomPlayerDto.speed;\r\n        console.log(\"MatchHeroSpr speed: \" + this.speed);\r\n        if(this.roomPlayerDto.hp <= 0){\r\n            this._isDead = true;\r\n            this.setDead();\r\n            return;\r\n\r\n        }\r\n        this.heroVo = new HeroVo();\r\n        this.heroVo.id = this.roomPlayerDto.heroId;\r\n        this.heroVo.color = this.roomPlayerDto.heroColor;\r\n        // this.heroVo.lv = this.roomPlayerDto.lv;\r\n        this.moveSpeed = this.heroVo.heroItem.mov/30;// 6;\r\n\r\n        \r\n        this.setCurrentOutPut();\r\n        this.updataBlood();\r\n    }\r\n\r\n    private setDead(){\r\n        console.log(\"MatchHeroSpr setDead: \" + this.isMe);\r\n        this._isRealDead = true;\r\n        this.alpha = 0.5;\r\n        this.img_deadImg.visible = true;\r\n        var oriY = this.img_deadImg.y;\r\n        this.tf_name.visible = false;\r\n        this.box_blood.visible = false;\r\n        this.heroSk.visible = false;\r\n        this.img_deadImg.y = 0;        \r\n        this.img_deadImg.scale(0, 0);\r\n\r\n        this.getComponent(Laya.RigidBody).mask = 1;\r\n        var that = this;\r\n\r\n        Laya.Tween.to(this.img_deadImg, {y: oriY, scaleX: 1, scaleY: 1 }, 400, Laya.Ease.linearInOut, Laya.Handler.create(this, function(){\r\n            if(that.isMe)\r\n            Signal.intance.event(GameEvent.EVENT_GameScene_Gray);\r\n        }));\r\n        // GameManager.instance.\r\n            // this.getComponent(Laya.RigidBody).type = \"kinematic\";\r\n    }\r\n\r\n    updataBlood(){\r\n        this._healthBar.value = this.roomPlayerDto.hp/this.roomPlayerDto.maxHp;\r\n    }\r\n\r\n    \r\n\r\n    setCurrentOutPut() {\r\n        // this.roomPlayerDto.speed;// playerVo.speed as number;\r\n        \r\n        this.heroSk.dataSource = this.heroVo;\r\n        this.tf_name.text = StringTool.shortHeroStr(this.roomPlayerDto.name);\r\n        // let star = this.heroVo.heroItem.quality + '';\r\n        // HeroModel.instance.setStar(this, star);\r\n        // this.pos(this.roomPlayerDto.x, this.roomPlayerDto.y);\r\n\r\n        \r\n\r\n    }\r\n\r\n    \r\n    onAwake(): void {\r\n\r\n\r\n\r\n        // // \r\n        // Laya.timer.loop(1000, this, this.updateCooldown);\r\n\r\n        // \r\n        // \r\n        //  Laya.Input \r\n        //  this._isMoving  true\r\n    }\r\n\r\n    // // \r\n    // private updateCooldown(): void {\r\n    //     if (this._cooldownTimer > 0) {\r\n    //         this._cooldownTimer -= 1000;\r\n    //     }\r\n    // }\r\n\r\n    backAni():void{\r\n        // this.isStop = false;\r\n        // console.log(`backAni this.isRuning ${this.isRuning}  ${this.roomPlayerDto.id}   `);\r\n        // this.isRuning ? this.walk() : this.idle();\r\n    }\r\n\r\n\r\n    // \r\n    idle(): void {\r\n        console.log(`${this.roomPlayerDto.id}   `);\r\n        if (this._isDead) {\r\n            return;\r\n        }\r\n        if(this.heroSk.isReady)\r\n            this.heroSk.sk.play(EnumHero.ANI_daiji, true, false);\r\n    }\r\n\r\n    // \r\n    walk(): void {\r\n        console.log(`${this.roomPlayerDto.id}   `);\r\n        if (this._isDead) {\r\n            return;\r\n        }\r\n\r\n        // if (this._isMoving) {\r\n        if(this.heroSk.isReady)\r\n            this.heroSk.sk.play(EnumHero.ANI_xingzou, true, false);\r\n        // } else {\r\n        //     this.heroSk.sk.play(EnumHero.ANI_daiji, true);\r\n        // }\r\n    }\r\n\r\n    // \r\n    run(): void {\r\n        console.log(`${this.roomPlayerDto.id}   `);\r\n        if (this._isDead) {\r\n            return;\r\n        }\r\n\r\n        // if (this._isMoving) {\r\n        if(this.heroSk.isReady)\r\n            this.heroSk.sk.play(EnumHero.ANI_shanbi, true, false);\r\n        // } else {\r\n        //     this.heroSk.sk.play(EnumHero.ANI_daiji, true);\r\n        // }\r\n    }\r\n\r\n    // \r\n    private playAttackAnimation(skillId:number, _isMe:boolean, param:Map<string, string>, callback: Function): void {\r\n        if (this._isDead) {\r\n            return;\r\n        }\r\n        var skillItem:SkillItem = SheetDataManager.intance.m_dicSkills.get(skillId);\r\n        console.log(`${this.roomPlayerDto.id}  ,  ${skillId} `);\r\n\r\n        if(skillItem.type == 1){//\r\n            if (_isMe) {//\r\n                // var defPlayerDto:RoomPlayerDto =  GameManager.instance.matchHeroDic.get(this.enterRoleId);\r\n                // if(defPlayerDto.hp>0){\r\n                    // \r\n                    GameManager.instance.onSendAnimation(skillId, EnumHero.TYPE_GONGJI);\r\n                // }\r\n                \r\n            }\r\n            this.isStop = true;//\r\n            if(this.heroSk.isReady)\r\n                this.heroSk.sk.play(EnumHero.ANI_gongji, false);\r\n            \r\n                if (_isMe) {//\r\n                    var defHero = GameManager.instance.getAttackTarget(skillItem);\r\n                    if(defHero && defHero.roomPlayerDto.hp>0){\r\n\r\n                    // var defPlayerDto:RoomPlayerDto =  GameManager.instance.matchHeroDic.get(this.enterRoleId);\r\n                    // if(defPlayerDto.hp>0){                    \r\n                        // \r\n                        //1 \r\n                        Laya.timer.frameOnce(1, this, this.onRealAttack, [skillItem, defHero.roomPlayerDto.id]);\r\n                        \r\n                    }\r\n                }\r\n            \r\n            Laya.timer.frameOnce(20, this, () => { //20 \r\n                this.isStop = false;//\r\n                callback();\r\n                this.aniChange = true;\r\n            });\r\n            \r\n            GameManager.instance.playSound(MusicType.ePuGong);\r\n\r\n\r\n\r\n        // }else if(skillItem.type == 2){//\r\n        //     var newP:any[] = [];\r\n        //     this.displacementType = skillItem.displacementType;\r\n        //     if (_isMe) {//\r\n        //         // var defPlayerDto:RoomPlayerDto =  GameManager.instance.matchHeroDic.get(this.enterRoleId);\r\n        //         // if(defPlayerDto.hp>0){\r\n        //             // \r\n        //             if(skillItem.displacementType == 2){\r\n        //                 // \r\n                \r\n        //                 var displacement =  skillItem.displacement > 0 ? skillItem.displacement : 10 ;//\r\n        //                 newP = Tool.rollCharacterByDir(this.x, this.y, this.roleDirection, displacement);\r\n        //                 // \r\n        //                 GameManager.instance.onSendAnimation(skillId, EnumHero.TYPE_FEI, -1, newP[0], newP[1]);//\r\n        //             }else{\r\n        //                 GameManager.instance.onSendAnimation(skillId, EnumHero.TYPE_TI);\r\n        //             }\r\n                    \r\n        //         // }\r\n                \r\n        //     }\r\n        //     this.isStop = true;//\r\n        //     this.heroSk.sk.play(EnumHero.ANI_ti, false);\r\n            \r\n        //         if (_isMe) {//\r\n        //             // var defPlayerDto:RoomPlayerDto =  GameManager.instance.matchHeroDic.get(this.enterRoleId);\r\n        //             // if(defPlayerDto.hp>0){                    \r\n        //                 // \r\n        //                 //17 \r\n        //                 Laya.timer.frameOnce(17, this, this.onRealAttack, [skillId]);\r\n                        \r\n        //             // }\r\n        //         }\r\n            \r\n        //     Laya.timer.frameOnce(30, this, () => { //30 \r\n        //         this.isStop = false;//\r\n        //         callback();\r\n        //         this.aniChange = true;\r\n        //     });\r\n            \r\n        //     GameManager.instance.playSound(MusicType.eEnemyAttack);\r\n\r\n\r\n        }else if(skillItem.type == 2){//\r\n            // var newP:any[] = [];\r\n            if (_isMe) {//\r\n                // var defPlayerDto:RoomPlayerDto =  GameManager.instance.matchHeroDic.get(this.enterRoleId);\r\n                // if(defPlayerDto.hp>0){\r\n                    // \r\n                    // if(skillItem.displacementType == 2)\r\n                    GameManager.instance.onSendAnimation(skillId, EnumHero.TYPE_TI);\r\n                // }\r\n                \r\n            }\r\n            this.isStop = true;//\r\n            if(this.heroSk.isReady)\r\n                this.heroSk.sk.play(EnumHero.ANI_ti, false);\r\n            \r\n                if (_isMe) {//\r\n                    // var defPlayerDto:RoomPlayerDto =  GameManager.instance.matchHeroDic.get(this.enterRoleId);\r\n                    // if(defPlayerDto.hp>0){                    \r\n                        // \r\n                        //17 \r\n                        Laya.timer.frameOnce(17, this, this.onRealAttack, [skillItem]);\r\n                        \r\n                    // }\r\n                }\r\n            \r\n            Laya.timer.frameOnce(30, this, () => { //30 \r\n                this.isStop = false;//\r\n                callback();\r\n                this.aniChange = true;\r\n            });\r\n            \r\n            GameManager.instance.playSound(MusicType.eEnemyAttack);\r\n        }else if(skillItem.type == 5){//\r\n            var newP:any[] = [];\r\n            this.displacementType = skillItem.displacementType;\r\n            if (_isMe){\r\n                // \r\n                \r\n                var displacement =  skillItem.displacement > 0 ? skillItem.displacement : 50 ;//\r\n                newP = Tool.rollCharacterByDir(this.x, this.y, this.roleDirection, displacement);\r\n                // \r\n                GameManager.instance.onSendAnimation(skillId, EnumHero.TYPE_FEI, -1, newP[0], newP[1]);//\r\n                \r\n            }else{\r\n                newP[0] = param.get(\"newX\");\r\n                newP[1] = param.get(\"newY\");\r\n            }\r\n            this.isStop = true;//\r\n            if(this.heroSk.isReady)\r\n                this.heroSk.sk.play(EnumHero.ANI_ti, false);\r\n            if(this.heroVo.heroItem.race != 4){\r\n                var templet: Laya.SpineTemplet = GameManager.instance.huaEffect;\r\n                // Laya.loader.load(birthSk,Laya.Loader.SPINE).then((templet: Laya.SpineTemplet) => {\r\n\r\n                    //spine\r\n                    if(!this.huaSpineSk){\r\n                        this.huaSpineSk = new Laya.SpineSkeleton();\r\n                        this.spineNodeFront.addChild(this.huaSpineSk);\r\n                    }\r\n                    // this.sk = new SpineSkeleton();\r\n                    this.huaSpineSk.templet = null;\r\n                    this.huaSpineSk.animationName = \"animation\";\r\n                    this.huaSpineSk.templet = templet;\r\n                    // this.sk.templet.on(Laya.Event.COMPLETE, this, this.spineParseComplete);\r\n                    \r\n\r\n                // this.sk_hua.play(0, false);\r\n                this.huaSpineSk.visible = true;\r\n                this.huaSpineSk.scaleX = this.directStr == \"left\"? 1 : -1;\r\n                Laya.timer.frameOnce(15, this, () => {// 15\r\n                    this.onHuaComplate();\r\n                });\r\n            }\r\n\r\n            if (_isMe) {//\r\n                // var defPlayerDto:RoomPlayerDto =  GameManager.instance.matchHeroDic.get(this.enterRoleId);\r\n                // if(defPlayerDto.hp>0){                    \r\n                    // \r\n                    //17 \r\n                    Laya.timer.frameOnce(17, this, this.onRealAttack, [skillItem]);\r\n                    \r\n                // }\r\n            }\r\n            \r\n            // 5\r\n            Laya.timer.frameOnce(5, this, this.onRoll, [newP] );\r\n            \r\n            Laya.timer.frameOnce(20, this, () => {\r\n                this.isStop = false;//\r\n                this.displacementType = 0;\r\n                callback();\r\n                this.aniChange = true;\r\n            });\r\n            \r\n            GameManager.instance.playSound(MusicType.eDaZhao);\r\n        }else if(skillItem.type == 3){//\r\n            var newP:any[] = [];\r\n            if (_isMe){\r\n                // \r\n                \r\n                var displacement =  skillItem.displacement > 0 ? skillItem.displacement : 350 ;//\r\n                newP = Tool.rollCharacterByDir(this.x, this.y, this.roleDirection, displacement);\r\n                // \r\n                GameManager.instance.onSendAnimation(skillId, EnumHero.TYPE_HUA, -1, newP[0], newP[1]);//\r\n                \r\n            }else{\r\n                newP[0] = param.get(\"newX\");\r\n                newP[1] = param.get(\"newY\");\r\n            }\r\n            this.getComponent(Laya.BoxCollider).isSensor = true;\r\n            this.isStop = true;//\r\n            if(this.heroSk.isReady)\r\n                this.heroSk.sk.play(EnumHero.ANI_hua, false);\r\n            if(this.heroVo.heroItem.race != 4){\r\n                var templet: Laya.SpineTemplet = GameManager.instance.huaEffect;\r\n                // Laya.loader.load(birthSk,Laya.Loader.SPINE).then((templet: Laya.SpineTemplet) => {\r\n\r\n                    //spine\r\n                    if(!this.huaSpineSk){\r\n                        this.huaSpineSk = new Laya.SpineSkeleton();\r\n                        this.spineNodeFront.addChild(this.huaSpineSk);\r\n                    }\r\n                    // this.sk = new SpineSkeleton();\r\n                    this.huaSpineSk.templet = null;\r\n                    this.huaSpineSk.animationName = \"animation\";\r\n                    this.huaSpineSk.templet = templet;\r\n                    // this.sk.templet.on(Laya.Event.COMPLETE, this, this.spineParseComplete);\r\n                    \r\n\r\n                // this.sk_hua.play(0, false);\r\n                this.huaSpineSk.visible = true;\r\n                this.huaSpineSk.scaleX = this.directStr == \"left\"? 1 : -1;\r\n                Laya.timer.frameOnce(15, this, () => {// 15\r\n                    this.onHuaComplate();\r\n                });\r\n            }\r\n            \r\n            // 5\r\n            Laya.timer.frameOnce(5, this, this.onRoll, [newP] );\r\n            \r\n            Laya.timer.frameOnce(20, this, () => {\r\n                this.getComponent(Laya.BoxCollider).isSensor = false;\r\n                this.isStop = false;//\r\n                callback();\r\n                this.aniChange = true;\r\n            });\r\n            \r\n            GameManager.instance.playSound(MusicType.eDaZhao);\r\n        }else if(skillItem.type == 4){//\r\n            if (_isMe){\r\n                this.isLockAni = true;//\r\n                // \r\n                GameManager.instance.onSendAnimation(skillId, EnumHero.TYPE_DANG);//\r\n            \r\n            }\r\n            if(this.heroSk.isReady)\r\n                this.heroSk.sk.play(EnumHero.ANI_dang, false);\r\n\r\n\r\n                // Laya.loader.load(\"resources/UI/role/spineAni/goblins.sk\").then((templet: Laya.Templet) => {\r\n                    //1\r\n                    if(!this.dunpaiSk){\r\n                        this.dunpaiSk = GameManager.instance.dunpaiTemplet.buildArmature(0);\r\n                        this.dunpaiSk.x = -45;\r\n                        this.skNode.addChild(this.dunpaiSk);\r\n                    }\r\n\r\n                    this.dunpaiSk.play(0, true);\r\n                // });\r\n\r\n\r\n\r\n            var dangTime = 2000;\r\n            var buff = skillItem.buff;//buff \r\n            \r\n            if(buff.length>2){\r\n                var buffId:number = buff[2];\r\n                var buffItem:BuffItem = SheetDataManager.intance.m_dicBuffs.get(buffId);\r\n                dangTime = parseInt(buffItem.time+\"\");\r\n\r\n            }\r\n            Laya.timer.once(dangTime, this, () => {\r\n                this.isLockAni = false;\r\n\r\n                if(this.dunpaiSk){ //\r\n                    this.dunpaiSk.stop();\r\n                    this.dunpaiSk.visible = false;\r\n                }                \r\n                callback();\r\n                this.aniChange = true;\r\n            });\r\n            \r\n            GameManager.instance.playSound(MusicType.eEnemyAttack);\r\n        }\r\n        \r\n    }\r\n\r\n    private onRoll(newP:any[]){\r\n        if(!this.inGround)\r\n            Laya.Tween.to(this, { x:newP[0], y: newP[1] }, 330);\r\n    }\r\n    private onHuaComplate(){\r\n        this.huaSpineSk.stop();\r\n        this.huaSpineSk.visible = false;\r\n    }\r\n\r\n\r\n    private onRealAttack(skillItem:SkillItem, targetId:number = -1){\r\n        console.log(\"onRealAttack\", targetId);\r\n        if(targetId > 0){\r\n            GameManager.instance.onSendAttack(targetId, 1, skillItem.id);//,1=2=\r\n        }else{\r\n            var defHero = GameManager.instance.getAttackTarget(skillItem);\r\n            if(defHero && defHero.roomPlayerDto.hp>0){\r\n                GameManager.instance.onSendAttack(defHero.roomPlayerDto.id, 1, skillItem.id);//,1=2=\r\n            }\r\n        }\r\n            \r\n    }\r\n\r\n    // \r\n    private playBeijiAnimation(callback: Function): void {\r\n        if (this._isDead) {\r\n            return;\r\n        }\r\n        console.log(`${this.roomPlayerDto.id}   `);\r\n        if(this.heroSk.isReady)\r\n            this.heroSk.sk.play(EnumHero.ANI_beiji, false);\r\n        Laya.timer.once(1000, this, () => {\r\n            callback();\r\n        });\r\n    }\r\n\r\n    // \r\n    private playChuShengAnimation(callback: Function): void {\r\n        if (this._isDead) {\r\n            return;\r\n        }\r\n        console.log(`${this.roomPlayerDto.id}   `);\r\n        if(this.heroSk.isReady)\r\n            this.heroSk.sk.play(EnumHero.ANI_ruchang, false);\r\n        Laya.timer.once(1000, this, () => {\r\n            callback();\r\n        });\r\n    }\r\n\r\n\r\n\r\n    //     // \r\n    // beiji(): void {\r\n    //         if (this._isDead) {\r\n    //             return;\r\n    //         }\r\n    //         if(this.heroSk.isReady)\r\n    //         this.heroSk.sk.play(EnumHero.ANI_beiji, false);\r\n    // }\r\n\r\n    // \r\n    attack(skillId:number = 0, _isMe:boolean = true, param:Map<string, string> = null): void {\r\n        console.log(`${this.roomPlayerDto.id}  s`);\r\n        if (this._isAttacking || this._isDead) {\r\n            console.log(`${this.roomPlayerDto.id} `);\r\n            return;\r\n        }\r\n        \r\n        // const message = { action: 'attack', source: this.roomPlayerDto.id, target: target._playerId, damage };\r\n        // this.sendToServer(message);\r\n\r\n        // \r\n        this._isAttacking = true;\r\n        \r\n        this.playAttackAnimation(skillId, _isMe, param, () => {\r\n            // \r\n            // target.takeDamage(damage);\r\n            // \r\n            this._isAttacking = false;\r\n            // this.backAni();\r\n        });\r\n    }\r\n    // /** */\r\n    // attactBj(attackValue:number): void {\r\n    //     // \r\n    //     this.showLabel(\"\", DamageNumber.TYPE_Critical, attackValue);\r\n    // }\r\n    // /** */\r\n    // takeSb(): void {\r\n    //     // \r\n    //     this.showLabel(\"MISS\", DamageNumber.TYPE_Miss);\r\n    // }\r\n\r\n\r\n\r\n    // \r\n    takeDamage(attackPush:AttackPush, attHeroSpr:MatchHeroSpr): void {\r\n        var skillId:number = attackPush.skill, damage: number[] = attackPush.attackValue, defHp:number = attackPush.defHp;\r\n        console.log(`${this.roomPlayerDto.id}  ${damage} s`);\r\n        if (this._isDead) {\r\n            return;\r\n        }\r\n\r\n        this.roomPlayerDto.hp = defHp;\r\n\r\n        console.log(`${this.roomPlayerDto.id}  ${damage} `);\r\n\r\n        // \r\n        this.updateHealthBar(attHeroSpr);\r\n\r\n        // \r\n        this.showDamageLabel(skillId, damage, attackPush);\r\n\r\n        // \r\n        if (this._isAttacking) {\r\n            console.log(`${this.roomPlayerDto.id}  `);\r\n            Laya.timer.clear(this, this.onRealAttack);//\r\n            // this.backAni();\r\n            this._isAttacking = false;\r\n        }\r\n\r\n        // \r\n        this._isTakingDamage = true;\r\n        this.isLockAni = true;\r\n\r\n        \r\n                // Laya.loader.load(\"resources/UI/role/spineAni/goblins.sk\").then((templet: Laya.Templet) => {\r\n                    //1\r\n                    if(!this.beijiSk){\r\n                        this.beijiSk = GameManager.instance.beijiTemplet.buildArmature(0);\r\n                        // this.dunpaiSk.x = -45;\r\n                        this.skNode.addChild(this.beijiSk);\r\n                    }\r\n\r\n                    this.beijiSk.play(0, false);\r\n                // });\r\n\r\n        this.playBeijiAnimation(() => {\r\n            if(this.beijiSk){ //\r\n                this.beijiSk.stop();\r\n                this.beijiSk.visible = false;\r\n            }       \r\n            // \r\n            // target.takeDamage(damage);\r\n            // \r\n            this._isTakingDamage = false;\r\n            this.isLockAni = false;\r\n            this.backAni();\r\n        });\r\n\r\n    }\r\n\r\n    // \r\n    die(attHeroSpr:MatchHeroSpr): void {\r\n        console.log(`${this.roomPlayerDto.id} s`);\r\n        \r\n        if (this._isDead) {\r\n            return;\r\n        }\r\n\r\n        console.log(`${this.roomPlayerDto.id} `);\r\n        \r\n        var L = Tool.judgePosition(attHeroSpr.x - this.x, attHeroSpr.y - this.y);\r\n        this.roleDirection = L; //\r\n\r\n        // \r\n        this._isDead = true;\r\n        if(this.heroSk.isReady)\r\n            this.heroSk.sk.play(EnumHero.ANI_siwang, false);\r\n\r\n        // \r\n        // this.visible = false;\r\n        // this.alpha = .5;\r\n\r\n        // \r\n        // this.updateHealthBar();\r\n\r\n        // // \r\n        // Laya.timer.clear(this, this.updateCooldown);\r\n\r\n        Laya.timer.once(2000, this, this.setDead);\r\n    }\r\n\r\n    // // \r\n    // useSkill(target: Character, skillEffect: number): void {\r\n    //     if (this._cooldownTimer > 0 || this._isDead) {\r\n    //         console.log(`${this.roomPlayerDto.id} `);\r\n    //         return;\r\n    //     }\r\n\r\n    //     console.log(`${this.roomPlayerDto.id} : ${skillEffect}`);\r\n\r\n    //     // \r\n    //     const message = { action: 'useSkill', source: this.roomPlayerDto.id, target: target._playerId, skillEffect };\r\n    //     this.sendToServer(message);\r\n\r\n    //     // \r\n    //     target.applySkillEffect(skillEffect);\r\n\r\n    //     // \r\n    //     this._cooldownTimer = this._skillCooldown;\r\n    // }\r\n\r\n    // \r\n    private applySkillEffect(skillEffect: number): void {\r\n        // \r\n        console.log(`${this.roomPlayerDto.id} : ${skillEffect}`);\r\n    }\r\n\r\n\r\n\r\n    // \r\n    private updateHealthBar(attHeroSpr:MatchHeroSpr): void {\r\n        if (this.roomPlayerDto.hp <= 0) {\r\n            this.roomPlayerDto.hp = 0;\r\n            this.die(attHeroSpr);\r\n        }\r\n\r\n        this._healthBar.value = (this.roomPlayerDto.hp / this.roomPlayerDto.maxHp);\r\n    }\r\n\r\n    // // \r\n    // private showLabel(zi:string, type:string): void {\r\n    //     var _damageLabel:DamageNumber = Laya.Pool.getItemByCreateFun(\"damageNumber\", GameManager.instance.damageNumPrefab.create, GameManager.instance.damageNumPrefab);\r\n\r\n    //     // \r\n    //     _damageLabel.init(zi, type, 30, -180);// \r\n\r\n    //     this.addChild(_damageLabel);\r\n\r\n    // }\r\n    // \r\n    private showDamageLabel(skillId:number, damages: number[], attackPush:AttackPush): void {\r\n        if(damages.length > 1){\r\n            var skillItem:SkillItem = SheetDataManager.intance.m_dicSkills.get(skillId);\r\n            var section =  skillItem.section;\r\n            var resultArray = section;//JSON.parse(section as any);\r\n\r\n            for(var i = 0; i< damages.length; i++){\r\n                var damage = damages[i];                \r\n                this.showDamageLabelDetailDelay(damage, resultArray[i][1], attackPush);\r\n            }\r\n        }else if(damages.length == 1){\r\n            this.showDamageLabelDetailDelay(damages[0], 100, attackPush);\r\n        }else{\r\n            this.showDamageLabelDetailDelay(0, 100, attackPush);\r\n        }\r\n        // this.img_hp_bg.blendMode = \"lighter\";\r\n        var that = this;\r\n        if(attackPush.allAtkValue != 0){\r\n            // laya.timer\r\n\r\n            var duration = 100 * 2; // \r\n            this.originalBlendMode = this.img_hp_bg.blendMode; // blendMode\r\n            this.flashCount = 0; // \r\n            Laya.timer.loop(duration, this, this.flashBlood);\r\n        }\r\n\r\n    }\r\n\r\n    private originalBlendMode:string; // blendMode\r\n    private flashCount:number = 0; // \r\n\r\n    private flashBlood(){\r\n        var numFlashes = 2; // \r\n        if (this.flashCount < numFlashes) {\r\n            if (this.img_hp_bg.blendMode === this.originalBlendMode) {\r\n                this.img_hp_bg.blendMode = \"lighter\";\r\n            } else {\r\n                this.img_hp_bg.blendMode = this.originalBlendMode;\r\n                this.flashCount++;\r\n            }\r\n        } else {\r\n            this.img_hp_bg.blendMode = this.originalBlendMode;\r\n            // \r\n            Laya.timer.clear(this, this.flashBlood);\r\n        }\r\n\r\n    }\r\n    // \r\n    private showDamageLabelDetailDelay(damage: number, delay:number, attackPush:AttackPush): void {\r\n        Laya.timer.once(delay, this, this.showDamageLabelDetail, [damage, attackPush], false);\r\n\r\n    }\r\n    // \r\n    private showDamageLabelDetail(damage: number, attackPush:AttackPush): void {\r\n        var _damageLabel:DamageNumber = Laya.Pool.getItemByCreateFun(\"damageNumber\", GameManager.instance.damageNumPrefab.create, GameManager.instance.damageNumPrefab);\r\n\r\n        // // \r\n        // if(damage!=0){\r\n        //     var randomX = Tool.getRandInRound(-30, 30);\r\n            _damageLabel.init(damage, attackPush);// \r\n        // }else{\r\n        //     _damageLabel.init(`${damage}`, attackPush, -30, -180);// \r\n        // }\r\n        \r\n\r\n        this.addChild(_damageLabel);\r\n\r\n        \r\n\r\n        \r\n    }\r\n\r\n    lastX:number = -1;\r\n    lastY:number = -1;\r\n    lastRoleDirection1: number = -1;\r\n    lastSpeed1: number = -1;\r\n\r\n    onSendMoveData():void{\r\n        if (this._isDead) {//\r\n            return;\r\n        }\r\n        var speed:number = this.speed;\r\n        var dire:number = this.roleDirection;\r\n        var pX:number = this.x;\r\n        var pY:number = this.y;\r\n        ////console.log(\"RoleId: \" + this.owner.roomPlayerDto.id + \", Role onSetMoveData: speed:\" + speed + \", dire: \" + dire);\r\n        // this.roleDirection = dire;\r\n        if( Math.abs(pX - this.lastX) > 2 || Math.abs(pY - this.lastY) > 2 || this.lastRoleDirection1 != dire || this.lastSpeed1 != speed){\r\n            this.pos(pX, pY);\r\n            this.lastX = pX;\r\n            this.lastY = pY;\r\n            this.lastRoleDirection1 = dire;\r\n            this.lastSpeed1 = speed;\r\n            var timeStamp = GlobalDataManager.instance.m_serverTime;\r\n            this.timeStamp = timeStamp;\r\n            GameManager.instance.onSendMove(timeStamp, this.roomPlayerDto.id, speed, dire, pX, pY);\r\n            \r\n        }\r\n        // this.owner.pos(x, y);\r\n    }\r\n\r\n\r\n    beiTui(sourceId:number) {\r\n        // return;\r\n        // var sourceId:number = this.owner.roomPlayerDto.id;\r\n        var targetId:number = this.roomPlayerDto.id;\r\n        var targetX:number = this.x;\r\n        var targetY:number = this.y;\r\n\r\n        if( Math.abs(targetX - this.lastX) > 2 || Math.abs(targetY - this.lastY) > 2){\r\n            // this.pos(pX, pY);\r\n            this.lastX = targetX;\r\n            this.lastY = targetY;\r\n\r\n            var timeStamp = GlobalDataManager.instance.m_serverTime;\r\n            this.timeStamp = timeStamp;\r\n            GameManager.instance.onSendTargetMove(timeStamp, sourceId, targetId, targetX, targetY);\r\n            \r\n        }\r\n    }\r\n\r\n\r\n\r\n    \r\n\r\n    // lastX:number;\r\n    // lastY:number;\r\n    /** */\r\n    onPushMoveData(time:number, speed:number, dire:number, x:number, y:number):void{\r\n        ////console.log(\"RoleId: \" + this.owner.roomPlayerDto.id + \", Role onSetMoveData: speed:\" + speed + \", dire: \" + dire);\r\n        this.roleDirection = dire;\r\n        if(this.speed != speed){\r\n            this.speed = speed;\r\n            if(speed == 0){\r\n                this.idle();\r\n            }else{\r\n                this.walk();\r\n            }\r\n        }\r\n\r\n        //   \r\n\r\n        if(time<=this.timeStamp){\r\n            console.log(\"\" + time + \" < \" + this.timeStamp );\r\n            return;\r\n        }\r\n            \r\n        if( Math.abs(x - this.lastX) > 1 || Math.abs(y - this.lastY) > 1){\r\n            this.pos(x, y);\r\n            this.lastX = x;\r\n            this.lastY = y;\r\n        }\r\n        // this.owner.pos(x, y);\r\n    }\r\n    /** */\r\n    onPushTargetMoveData(time:number, x:number, y:number):void{\r\n        ////console.log(\"RoleId: \" + this.owner.roomPlayerDto.id + \", Role onSetMoveData: speed:\" + speed + \", dire: \" + dire);\r\n        //   \r\n\r\n        if(time<=this.timeStamp){\r\n            console.log(\"\" + time + \" < \" + this.timeStamp );\r\n            return;\r\n        }\r\n            \r\n        if( Math.abs(x - this.lastX) > 2 || Math.abs(y - this.lastY) > 2){\r\n            this.pos(x, y);\r\n            this.lastX = x;\r\n            this.lastY = y;\r\n        }\r\n        // this.owner.pos(x, y);\r\n    }\r\n\r\n    // \r\n    private sendToServer(data: any): void {\r\n        // \r\n    }\r\n\r\n    initBirth(isFirst: boolean) {\r\n        if(isFirst){\r\n            this.createBirthSpine();\r\n        }else{\r\n            this.onPlayBirthEnd();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    \r\n    \r\n\r\n    /**spine */\r\n    createBirthSpine(): void {\r\n        this.heroSk.visible = false;\r\n        this.tf_name.visible = false;\r\n        this.box_blood.visible = false;\r\n        //spine\r\n        if(!this.chushengBackSpineSk){\r\n            this.chushengBackSpineSk = new Laya.SpineSkeleton();\r\n            this.spineNodeBack.addChild(this.chushengBackSpineSk);\r\n        }\r\n\r\n        //spine\r\n        if(!this.chushengFrontSpineSk){\r\n            this.chushengFrontSpineSk = new Laya.SpineSkeleton();\r\n            this.spineNodeFront.addChild(this.chushengFrontSpineSk);\r\n        }\r\n        \r\n        this.chushengBackSpineSk.on(Laya.Event.READY, this, this.onBirthReady);\r\n        //spinespineIDEspine\r\n        // this.spineTemplet = new SpineTemplet();//Laya.SpineVersion.v3_8);\r\n        // this.spineTemplet.on(Event.STOPPED, this, this.spineParseComplete)\r\n        // this.spineTemplet.loadAni(\"role/sk/spineboy-pma.skel\");\r\n        // var birthSk = \"gameIcon/effect/ruchang/effect\" + this.getRandomAnimationType() + \".skel\";\r\n        var templet: Laya.SpineTemplet = GameManager.instance.ruchangEffects[this.getRandomAnimationType()];\r\n        // Laya.loader.load(birthSk,Laya.Loader.SPINE).then((templet: Laya.SpineTemplet) => {\r\n            if(this.destroyed){\r\n                return;\r\n            }\r\n            //spine\r\n            // this.sk = new SpineSkeleton();\r\n            this.chushengBackSpineSk.animationName = \"animation2\";\r\n            this.chushengBackSpineSk.templet = templet;\r\n            // this.sk.templet.on(Laya.Event.COMPLETE, this, this.spineParseComplete);\r\n            \r\n            this.chushengFrontSpineSk.animationName = \"animation1\";\r\n            this.chushengFrontSpineSk.templet = templet;\r\n            // this.sk.templet.on(Laya.Event.COMPLETE, this, this.spineParseComplete);\r\n            \r\n\r\n        // });        \r\n        \r\n    }\r\n    //  0  2 \r\n    private getRandomAnimationType(): number {\r\n        return Math.floor(Math.random() * 3);\r\n    }\r\n\r\n    onBirthReady(){\r\n        Laya.timer.once(500, this, this.onPlayBirth1);\r\n    }\r\n    \r\n\r\n    onPlayBirth1(){\r\n        this.isLockAni = true;\r\n        this.heroSk.visible = true;\r\n\r\n        this.playChuShengAnimation(() => {\r\n            // \r\n            this.isLockAni = false;\r\n            this.aniChange = true;\r\n            // this.onPlayBirth2();\r\n        });\r\n\r\n        // this.adjustLayers(this.sk_chusheng, 1);\r\n        this.chushengBackSpineSk.visible = true;\r\n        this.chushengBackSpineSk.play(\"animation2\", false);\r\n        this.chushengFrontSpineSk.visible = true;\r\n        this.chushengFrontSpineSk.play(\"animation1\", false);\r\n\r\n        Laya.timer.once(1300, this, this.onPlayBirthEnd);\r\n    }\r\n\r\n    // onPlayBirth2(){\r\n    //     this.adjustLayers(this.sk_chusheng, 2);\r\n    //     this.sk_chusheng.play(\"animation2\", false);\r\n    //     Laya.timer.once(1000, this, this.onPlayBirthEnd);\r\n    // }\r\n\r\n    \r\n    onPlayBirthEnd(){\r\n        // this.chushengBackSpineSk.visible = false;\r\n        // this.chushengFrontSpineSk.visible = false;\r\n        if(this.chushengBackSpineSk){\r\n            this.chushengBackSpineSk.off(Laya.Event.READY, this, this.onPlayBirth1);\r\n            this.chushengBackSpineSk.destroy();\r\n            this.chushengBackSpineSk.removeSelf();\r\n\r\n        }\r\n        if(this.chushengFrontSpineSk){\r\n            this.chushengFrontSpineSk.destroy();\r\n            this.chushengFrontSpineSk.removeSelf();\r\n        }\r\n        \r\n\r\n        this.img_d.visible = true;\r\n        // this.heroSk.visible = false;\r\n        this.tf_name.visible = true;\r\n        this.box_blood.visible = true;\r\n    }\r\n\r\n\r\n    // // \r\n    // adjustLayers(animationComponent:Laya.SpineSkeleton, animationType: number) {\r\n    //     let characterIndex = this.getChildIndex(this.heroSk);\r\n\r\n    //     if (animationType === 1) {\r\n    //         // \r\n    //         if (characterIndex > 0) {\r\n    //             this.addChildAt(animationComponent, characterIndex - 1);\r\n    //         }\r\n    //     } else if (animationType === 2) {\r\n    //         // \r\n    //         this.addChildAt(animationComponent, characterIndex + 1);\r\n    //     }\r\n    // }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    onDisable(): void {\r\n        if(this.chushengBackSpineSk){\r\n            this.chushengBackSpineSk.off(Laya.Event.READY, this, this.onPlayBirth1);\r\n        }\r\n        \r\n        Laya.timer.clearAll(this);\r\n        Laya.Tween.clearAll(this);\r\n    }\r\n\r\n\r\n\r\n\r\n    \r\n}\r\n\r\n", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { PlayerIcon } from \"../mainView/PlayerIcon\";\n\n/**\n * scenes/match/MatchRankListItem.lh\n */\nexport class MatchRankListItemBase extends Laya.Box {\n    public img_bg!: Laya.Image;\n    public box_item!: Laya.Box;\n    public tf_rank!: Laya.Label;\n    public tf_name!: Laya.Label;\n    public img_kill!: Laya.Image;\n    public tf_kill!: Laya.Label;\n    public playerIcon!: PlayerIcon;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-20 20:12:26\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-02-06 15:28:33\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport GameManager from \"../../../script/logic/GameManager\";\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { Quick } from \"../../global/util/Quick\";\r\nimport RoomPlayerDto from \"../../net/protocol/dto/RoomPlayerDto\";\r\nimport { MatchRankListItemBase } from \"./MatchRankListItem.generated\";\r\n\r\n@regClass('XTVFXeI_R768e0Elv_ePAA')\r\nexport class MatchRankListItem extends MatchRankListItemBase {\r\n\r\n    public roomPlayerDto: RoomPlayerDto;\r\n    private isAddEvent:boolean = false;\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    private addEvent(){\r\n        if(!this.isAddEvent){\r\n            // this.btn_join.on(Laya.Event.CLICK, this, this.onJoin);\r\n            this.isAddEvent = true;\r\n            // Signal.intance.on(HeroEvent.EVENT_HERO_DRAW_UPDATE_PRODUCTION, this, this.updateProduction);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        // super.dataSource = value;\r\n        this.roomPlayerDto = value as RoomPlayerDto;\r\n        if(!this.roomPlayerDto ) {\r\n            return\r\n        }\r\n        this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n    setCurrentOutPut() {\r\n        \r\n        \r\n        this.tf_rank.text = (this.roomPlayerDto as any).rankNum + \"\";\r\n        let headId = this.roomPlayerDto.icon;\r\n        this.playerIcon.headSkin = headId;\r\n        // this.img_head.skin = GameResourceManager.instance.getPlayerIcon(headId);\r\n\r\n        this.tf_name.text = GameLanguageMgr.instance.getLanguage(this.roomPlayerDto.name);\r\n        this.tf_kill.text = this.roomPlayerDto.kill + \"\";\r\n        \r\n\r\n        if(this.roomPlayerDto.id == GameManager.instance.myPlayer.id){\r\n            this.img_bg.skin = \"res/match1/img_ph2.png\";\r\n            this.tf_rank.color = \"#000000\";\r\n            this.tf_name.color = \"#ffe64b\";\r\n            this.img_kill.filters = [Quick.YELLOW];\r\n            this.tf_kill.color = \"#ffe64b\";\r\n            this.box_item.x = 6;\r\n        }else{\r\n            this.img_bg.skin = \"res/match1/img_ph.png\";\r\n            this.tf_rank.color = \"#ffffff\";\r\n            this.tf_name.color = \"#ffffff\";\r\n            this.img_kill.filters = null;\r\n            this.tf_kill.color = \"#ffffff\";\r\n            this.box_item.x = 15;\r\n        }\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * scenes/match/MatchReady.ls\r\n */\r\nexport class MatchReadyRTBase extends Laya.Scene {\r\n    public btn_back!: Laya.Button;\r\n    public input_username!: Laya.TextInput;\r\n    public btn_enter!: Laya.Button;\r\n    public btn_random!: Laya.Button;\r\n}\r\n\r\n", "/*\r\n * @Description: \r\n * @Author: hjy\r\n * @Date: 2023-12-22 16:38:39\r\n * @LastEditTime: 2024-01-19 19:36:03\r\n * @LastEditors: hjy\r\n */\r\nconst { regClass } = Laya;\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { SceneManager } from \"../../common/SceneManager\";\r\nimport { SceneType } from \"../../common/baseScene/SceneType\";\r\nimport { WebSocketService } from \"../../net/WebSocketService\";\r\nimport { MatchReadyRTBase } from \"./MatchReadyRT.generated\";\r\n\r\n@regClass('mOlMVGD3TRCKNoddhyUGLw')\r\nexport class MatchReadyRT extends MatchReadyRTBase {\r\n\r\n  public m_iLayerType: number;\r\n  public m_iPositionType: number;\r\n  onAwake(): void {\r\n      this.m_iLayerType = LayerManager.M_POP;\r\n      this.m_iPositionType = LayerManager.UP;\r\n      // this.m_ioffsetX = 20;\r\n      // if(GameSetting.m_bIsIphoneX ) {\r\n      //     this.m_ioffsetY = GameSetting.IPHONEX_TOP;\r\n      // } \r\n  }\r\n  private type: number = 1;\r\n  // private hasFree: boolean = false;\r\n\r\n  onOpened(_type: any): void {\r\n\r\n      this.type = _type;\r\n  }\r\n\r\n\r\n\r\n\r\n  private setToMainScene():void{\r\n      SceneManager.intance.setCurrentScene(SceneType.M_SCENE_MAIN);\r\n  }\r\n\r\n\r\n\r\n    onEnable(): void {\r\n\r\n        console.log(\"MatchReadyRT onEnable\");\r\n        // this.generateName();\r\n        //ui\r\n        if(this.btn_back ) {\r\n          this.btn_back.on(Laya.Event.CLICK, this, this.setToMainScene)\r\n      }\r\n      \r\n        this.btn_random.on(Laya.Event.CLICK, this, () => {\r\n            this.generateName();\r\n        });\r\n\r\n        //\r\n        this.btn_enter.on(Laya.Event.CLICK, this, () => {\r\n            //\r\n            var username = this.input_username.text;\r\n            console.log(\"phyBtn\");\r\n            if(username == \"\"){\r\n              alert(\"\");\r\n              return;\r\n            }\r\n              \r\n            //websocket\r\n            WebSocketService.instance.openId = username;\r\n            WebSocketService.instance.initSocket();\r\n\r\n            // Laya.Scene.open(\"scenes/match/Match.ls\");\r\n        });\r\n\r\n\r\n        \r\n    }\r\n\r\n    generateRandomName(length: number): string {\r\n        const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\r\n        let randomName = '';\r\n        for (let i = 0; i < length; i++) {\r\n          const randomIndex = Math.floor(Math.random() * characters.length);\r\n          randomName += characters.charAt(randomIndex);\r\n        }\r\n        return randomName;\r\n      }\r\n\r\n      generateName(){\r\n        this.input_username.text = this.generateRandomName(8); // 8\r\n      }\r\n      \r\n\r\n\r\n    onDestroy(): void {\r\n\r\n        // if( this.uiBtn.hasListener( Laya.Event.CLICK ) )\r\n        //     console.log(\"uiBtn\");\r\n\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/match/MatchReadyView.lh\n */\nexport class MatchReadyViewBase extends Laya.Dialog {\n    public fontClip_reduceTime!: Laya.FontClip;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-03-17 02:28:09\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-17 16:58:22\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { MatchModel } from \"./MatchModel\";\r\nimport { MatchReadyViewBase } from \"./MatchReadyView.generated\";\r\n\r\n@regClass('xpPoFvX_SqiYMO5AaOwGyA')\r\nexport class MatchReadyView extends MatchReadyViewBase {\r\n\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_PANEL;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n\r\n    private reduceTime:number;\r\n\r\n    onEnable(): void {\r\n\r\n        // SoundMgr.instance.playMusicByName(SoundMgr.soundName_bg, \".mp3\");\r\n\r\n    }\r\n\r\n    onOpened(param: any): void {\r\n\r\n        this.updateBattleCD();\r\n\r\n        \r\n    }\r\n\r\n\r\n    \r\n  public updateBattleCD(): void {\r\n    // var remainStartTime =  5000;\r\n    var remainStartTime =  MatchModel.instance.matchDto.startTime - MatchModel.instance.matchDto.nowTime;\r\n    \r\n    MatchModel.instance.startCoolDownTime = Math.round(remainStartTime/1000);\r\n    if(MatchModel.instance.startCoolDownTime>0){\r\n        this.onSetCoolTime();\r\n        Laya.timer.loop(1000, this, this.onSetCoolTime);\r\n    }else{\r\n        Laya.timer.clear(this, this.onSetCoolTime);\r\n    }\r\n\r\n}\r\n\r\nprivate onSetCoolTime():void{\r\n    if(MatchModel.instance.startCoolDownTime>=0){\r\n        this.fontClip_reduceTime.value = MatchModel.instance.startCoolDownTime + \"\";\r\n\r\n          this.scaleEffect();\r\n\r\n        MatchModel.instance.startCoolDownTime--;\r\n    }else{\r\n        Laya.timer.clear(this, this.onSetCoolTime);\r\n\r\n        this.onMatchStartEnd();\r\n\r\n    }\r\n\r\n}\r\n// Tween\r\nscaleEffect() {\r\n  var that = this;\r\n  // 1.3\r\n  Laya.Tween.to(this.fontClip_reduceTime, { scaleX: 1.3, scaleY: 1.3 }, 200, Laya.Ease.linearInOut, Laya.Handler.create(this, function(){\r\n      // \r\n      Laya.Tween.to(that.fontClip_reduceTime, { scaleX: 1, scaleY: 1 }, 200, Laya.Ease.linearInOut);\r\n  }));\r\n}\r\n\r\n\r\nonMatchStartEnd(){\r\n    // this.close();\r\n}\r\n\r\n\r\n\r\n\r\n    onDisable(): void {\r\n        this.removeEvent();\r\n    }\r\n\r\n    public removeEvent():void{\r\n        Laya.timer.clearAll(this);\r\n        Laya.Tween.clearAll(this);\r\n\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { KnapsackItem } from \"../item/KnapsackItem\";\n\n/**\n * scenes/match/MatchRewardListItem.lh\n */\nexport class MatchRewardListItemBase extends Laya.Box {\n    public knapsackItem!: KnapsackItem;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-20 21:29:04\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-11 12:33:59\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { ItemVo } from \"../../global/vo/pack/ItemVo\";\r\nimport { PackageData } from \"../../global/vo/pack/PackageData\";\r\nimport { KnapsackItem } from \"../item/KnapsackItem\";\r\nimport { MatchRewardListItemBase } from \"./MatchRewardListItem.generated\";\r\n\r\n@regClass('WXpxCvqlQ2mKdcJCYlqOeg')\r\nexport class MatchRewardListItem extends MatchRewardListItemBase {\r\n\r\n        \r\n    public itemVo: ItemVo;\r\n    public showAdd:boolean = false;\r\n    private isAddEvent:boolean = false;\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public createChildren():void{\r\n        super.createChildren();\r\n        // this.visible = false;\r\n    }\r\n\r\n    private addEvent(){\r\n        if(!this.isAddEvent){\r\n            this.on(Laya.Event.CLICK, this, this.toDetail);\r\n            this.isAddEvent = true;\r\n            // Signal.intance.on(HeroEvent.EVENT_HERO_DRAW_UPDATE_PRODUCTION, this, this.updateProduction);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    // private async onRecruit():Promise<void>{\r\n    //     if(this.itemVo.type == 1){\r\n    //         await ETHBlindBoxProxy.instance.recruit(this.itemVo.id); \r\n    //     }else{\r\n    //         await ETHBlindBoxProxy.instance.recruitItem(this.itemVo.id); \r\n    //         // await ETHSeriesHeroMallProxy.instance.recruit(this.itemVo.id);\r\n\r\n    //     }\r\n               \r\n    // }\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.itemVo = value as ItemVo;\r\n        if(!this.itemVo ) {\r\n            return\r\n        }\r\n        this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n    async setCurrentOutPut() {\r\n\r\n        if(!this.itemVo)return;\r\n        // let itemItem = this.itemVo.itemItem;\r\n\r\n        (this.knapsackItem as KnapsackItem).showAdd = true;\r\n        (this.knapsackItem as KnapsackItem).dataSource = this.itemVo;\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    \r\n    private toDetail(){\r\n        if(!this.itemVo || !this.itemVo.needTip){\r\n            return;\r\n        }\r\n        \r\n        if(this.itemVo.type === PackageData.TYPE_Equipment){\r\n            ModuleManager.intance.openModule(ModuleName.EquipDetailDialog, this.itemVo);\r\n        }\r\n        else{\r\n            ModuleManager.intance.openModule(ModuleName.KnapsackTipDialog, this.itemVo);\r\n        }\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { PlayerIcon } from \"../mainView/PlayerIcon\";\nimport { MatchSkillListItem } from \"./MatchSkillListItem\";\n\n/**\n * scenes/match/Match.ls\n */\nexport class MatchSceneBase extends Laya.Scene {\n    public matchBox!: Laya.Box;\n    public gameMap!: Laya.Box;\n    //public gameMap!: Laya.Image;\n    public img_map_1!: Laya.Image;\n    public img_map_2!: Laya.Image;\n    public img_map_3!: Laya.Image;\n    public img_map_4!: Laya.Image;\n    public Box!: Laya.Box;\n    public img_firstBlood!: Laya.Image;\n    public img_firstBlood_head!: Laya.Image;\n    public mcBg_1!: Laya.Image;\n    public zi_firstBlood!: Laya.Image;\n    public img_mutiKill!: Laya.Image;\n    public img_mutiKill_head!: Laya.Image;\n    //public mcBg_1!: Laya.Image;\n    public zi_mutiKill!: Laya.Box;\n    public fontClip_kill!: Laya.FontClip;\n    //public zi_mutiKill!: Laya.Image;\n    public rightBox!: Laya.Box;\n    public tf_remainer!: Laya.Label;\n    public tf_total!: Laya.Label;\n    public tf_kill!: Laya.Label;\n    public list_rank!: Laya.List;\n    public headBox!: Laya.Box;\n    public tf_roleName!: Laya.Label;\n    public playerIcon!: PlayerIcon;\n    public box_reduceTime!: Laya.Box;\n    public fontClip_reduceTime!: Laya.FontClip;\n    public img_arrow_left!: Laya.Image;\n    public img_arrow_right!: Laya.Image;\n    public img_arrow_up!: Laya.Image;\n    public img_arrow_down!: Laya.Image;\n    public img_freebar_arrow!: Laya.Image;\n    public matchSkill6!: MatchSkillListItem;\n    public matchSkill5!: MatchSkillListItem;\n    public matchSkill4!: MatchSkillListItem;\n    public matchSkill3!: MatchSkillListItem;\n    public matchSkill2!: MatchSkillListItem;\n    public matchSkill1!: MatchSkillListItem;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-20 13:38:59\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-17 19:22:00\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport GameManager from \"../../../script/logic/GameManager\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { GameEvent } from \"../../global/event/GameEvent\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { Quick } from \"../../global/util/Quick\";\r\nimport { TimeUtil } from \"../../global/util/TimeUtil\";\r\nimport RoomPlayerDto from \"../../net/protocol/dto/RoomPlayerDto\";\r\nimport FirstBloodPush from \"../../net/protocol/login/FirstBloodPush\";\r\nimport MutiKillPush from \"../../net/protocol/login/MutiKillPush\";\r\nimport { MatchModel } from \"./MatchModel\";\r\nimport { MatchSceneBase } from \"./MatchScene.generated\";\r\nimport { MatchSkillListItem } from \"./MatchSkillListItem\";\r\n\r\n@regClass('sX0uLhOQSmm8b-_sHNqe5w')\r\nexport class MatchScene extends MatchSceneBase {\r\n\r\n    public m_iLayerType: number;\r\n  public m_iPositionType: number;\r\n  onAwake(): void {\r\n      this.m_iLayerType = LayerManager.M_POP;\r\n      this.m_iPositionType = LayerManager.UP;\r\n      // this.m_ioffsetX = 20;\r\n      // if(GameSetting.m_bIsIphoneX ) {\r\n      //     this.m_ioffsetY = GameSetting.IPHONEX_TOP;\r\n      // } \r\n\r\n      GameManager.instance.init();\r\n    //   this.m_scene = this.owner;\r\n    //   GameManager.instance.scene = this.m_scene;\r\n      GameManager.instance.gameMap = this.gameMap;\r\n      \r\n      // GameManager.instance.sceneWindow = this.sceneWindow;\r\n      // GameManager.instance.initPlayer(this.roleAni);\r\n\r\n    //   GameManager.instance.createPlayers(this.enemy);\r\n    //   GameManager.instance.createItems(this.dropBox);\r\n      //GameManager.instance.setCurrentPlane(this.planeNode);\r\n  }\r\n  private liveNum:number = 0;\r\n  // private hasFree: boolean = false;\r\n\r\n  onOpened(_type: any): void {\r\n    var remainStartTime =  MatchModel.instance.matchDto.startTime - MatchModel.instance.matchDto.nowTime;\r\n    if(remainStartTime>0){\r\n      ModuleManager.intance.openModule(ModuleName.MatchReadyView);\r\n    }\r\n      \r\n\r\n\r\n      var playerDto = GlobalDataManager.instance.playerDto;\r\n      this.tf_roleName.text = playerDto.name;\r\n      \r\n\r\n      let headId = playerDto.icon;\r\n      this.playerIcon.headSkin = headId;\r\n      // this.img_head.skin = GameResourceManager.instance.getPlayerIcon(headId);\r\n      // this.that = this;\r\n      GameManager.instance.initMatch(this, this.onInitEnd);\r\n      \r\n  }\r\n\r\n  onInitEnd(obj:any){\r\n    obj.updateSkill();\r\n    obj.updateKill();\r\n    obj.updateBattleCD();\r\n    // \r\n    Laya.timer.frameLoop(10, obj, obj.updateCharactersOrder);\r\n\r\n  }\r\n\r\n\r\n  onRestoreData(){\r\n    GameManager.instance.updateMatch(this, this.onInitEnd);\r\n  }\r\n\r\n\r\n  updateSkill(){\r\n\r\n    var myPlayer = GameManager.instance.myPlayer;\r\n    var myHeroItem = SheetDataManager.intance.m_dicHeros.get(myPlayer.heroId);\r\n    // myHeroItem.skillIds=[10001, 10002, 10003, 10004];//TODO:: TEST \r\n\r\n    var len = myHeroItem.skillIds.length;\r\n    for(var i = 0; i < len; i++){\r\n        var skillId:number = myHeroItem.skillIds[i];\r\n        var skillItem = SheetDataManager.intance.m_dicSkills.get(skillId);\r\n        var matchSkillListItem = ( (this as any)[\"matchSkill\" + (i+1)] as MatchSkillListItem);\r\n        matchSkillListItem.keyNum = (i+1);\r\n        matchSkillListItem.dataSource = skillItem;\r\n        var skillCd:number = myPlayer.skillCd.get(skillId);//\r\n        if(skillCd){\r\n          matchSkillListItem.updateSkillCooldown(skillCd);\r\n        }\r\n        \r\n        matchSkillListItem.updateGlobalCooldown(myPlayer.commonCd);\r\n        matchSkillListItem.visible = true;\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  updateKill(){\r\n    if(GameManager.instance.myPlayer)\r\n        this.tf_kill.text = GameManager.instance.myPlayer.kill+\"\";\r\n    this.list_rank.array = this.getSortPlayer(GameManager.instance.matchHeroDic.values);\r\n    this.tf_remainer.text = this.liveNum + \"\";\r\n    this.tf_total.text = \"/ \" + GameManager.instance.matchHeroDic.values.length;\r\n  }\r\n\r\n\r\n  getSortPlayer(heros:RoomPlayerDto[]){\r\n    //  age \r\n    var newHeros = heros.slice();\r\n    var endHeros = newHeros.sort((a, b) => b.score - a.score);\r\n    this.liveNum = 0;\r\n    var rankNum = 1;\r\n\r\n    endHeros.forEach((roomPlayerDto: RoomPlayerDto) => {\r\n      (roomPlayerDto as any).rankNum = rankNum;\r\n      rankNum++;\r\n      if(roomPlayerDto.hp>0){\r\n        this.liveNum++;\r\n      }\r\n      \r\n    });\r\n    return endHeros;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  public updateBattleCD(): void {\r\n    MatchModel.instance.matchCoolDownTime = Math.round(MatchModel.instance.matchDto.remainderCd/1000);\r\n    if(MatchModel.instance.matchCoolDownTime>0){\r\n        this.onSetCoolTime();\r\n        Laya.timer.loop(1000, this, this.onSetCoolTime);\r\n    }else{\r\n        Laya.timer.clear(this, this.onSetCoolTime);\r\n    }\r\n\r\n}\r\n\r\nprivate onSetCoolTime():void{\r\n    if(MatchModel.instance.matchCoolDownTime>=0){\r\n        this.fontClip_reduceTime.value = TimeUtil.format(MatchModel.instance.matchCoolDownTime, \":\", false);\r\n        // this.fontClip_reduceTime.value = MatchModel.instance.matchCoolDownTime + \"\";\r\n        // this.tf_reduceTime.text = MatchModel.instance.matchCoolDownTime + \"\";\r\n        if(MatchModel.instance.matchCoolDownTime>90){\r\n          // this.tf_reduceTime.color = \"#119c09\";\r\n          // this.fontClip_reduceTime.filters = null;\r\n          this.fontClip_reduceTime.skin = \"res/match1/fontClip_1.png\";\r\n        }else if(MatchModel.instance.matchCoolDownTime>10){\r\n          // this.tf_reduceTime.color = \"#df8236\";\r\n          // this.fontClip_reduceTime.filters = [Quick.YELLOW1];\r\n          this.fontClip_reduceTime.skin = \"res/match1/fontClip_2.png\";\r\n        }else{\r\n          // this.tf_reduceTime.color = \"#de2208\";\r\n          // this.fontClip_reduceTime.filters = [Quick.RED1];\r\n          this.fontClip_reduceTime.skin = \"res/match1/fontClip_3.png\";\r\n          this.scaleEffect();\r\n        }\r\n        // this.tf_reduceTime.text = TimeUtil.format(MatchModel.instance.matchCoolDownTime);\r\n        if(!MatchModel.instance.stopAll)\r\n          MatchModel.instance.matchCoolDownTime--;\r\n    }else{\r\n        Laya.timer.clear(this, this.onSetCoolTime);\r\n\r\n        // this.onGoMatchEndRank();\r\n\r\n\r\n        //socket;\r\n    }\r\n\r\n}\r\n// Tween\r\nscaleEffect() {\r\n  var that = this;\r\n  // 1.3\r\n  Laya.Tween.to(this.fontClip_reduceTime, { scaleX: 1.3, scaleY: 1.3 }, 200, Laya.Ease.linearInOut, Laya.Handler.create(this, function(){\r\n      // \r\n      Laya.Tween.to(that.fontClip_reduceTime, { scaleX: 1, scaleY: 1 }, 200, Laya.Ease.linearInOut);\r\n  }));\r\n}\r\n\r\n\r\nprivate updateCharactersOrder(): void {\r\n  //  y  zOrder\r\n  GameManager.instance.matchHeroSprs.sort((a, b) => {\r\n      return a.y - b.y;\r\n  });\r\n\r\n  //  zOrder\r\n  for (let i = 0; i < GameManager.instance.matchHeroSprs.length; i++) {\r\n    GameManager.instance.matchHeroSprs[i].zOrder = i;\r\n    // console.log(GameManager.instance.matchHeroSprs[i].y, GameManager.instance.matchHeroSprs[i].roomPlayerDto.id, GameManager.instance.matchHeroSprs[i].roomPlayerDto.name, \", zOrder: \", i);\r\n  }\r\n}\r\n    private onFirstBloodPush(firstBloodPush:FirstBloodPush): void {\r\n      // \r\n      var pid:number = firstBloodPush.pid;\r\n      var attPlayerDto:RoomPlayerDto = GameManager.instance.matchHeroDic.get(pid);\r\n\r\n      let headId = attPlayerDto.icon;\r\n      this.img_firstBlood_head.skin = GameResourceManager.instance.getPlayerIcon(headId);\r\n\r\n      this.img_firstBlood.visible = true;\r\n      this.img_firstBlood.alpha = 0;\r\n      this.img_firstBlood.y = -200;\r\n\r\n      Laya.Tween.to( this.img_firstBlood, { y: 92, alpha: 1 }, 200, Laya.Ease.linearInOut, Laya.Handler.create(this, this.onFirstBlood1) );\r\n    }\r\n\r\n    private onFirstBlood1():void{\r\n\r\n\r\n      this.zi_firstBlood.scale(1, 1); // \r\n      Laya.Tween.to(this.zi_firstBlood, { scaleX: 1.5, scaleY: 1.5}, 200, Laya.Ease.linearNone, Laya.Handler.create(this, this.onFirstBlood2));\r\n    }\r\n\r\n    private onFirstBlood2():void{\r\n      Laya.Tween.to(this.zi_firstBlood, { scaleX: 1, scaleY: 1}, 200, Laya.Ease.linearNone, Laya.Handler.create(this, this.onFirstBlood3));  \r\n    }\r\n    private onFirstBlood3():void{\r\n        // \r\n        Laya.Tween.to(this.img_firstBlood, { y: -200, alpha: 0 }, 200, Laya.Ease.linearInOut, Laya.Handler.create(this, this.onFirstBlood4), 1500);\r\n    }\r\n\r\n    private onFirstBlood4():void{\r\n        this.img_firstBlood.visible = false;    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    private onMutiKillPush(mutiKillPush:MutiKillPush): void {\r\n      this.fontClip_kill.value = mutiKillPush.kill + \"\";\r\n      var is3More = false;\r\n      if(mutiKillPush.kill>=3){\r\n        is3More = true;\r\n        this.img_mutiKill.skin = \"res/match1/img_kill_3s.png\";\r\n      }else{\r\n        this.img_mutiKill.skin = \"res/match1/img_kill_2s.png\";\r\n      }\r\n      // \r\n      \r\n      var pid:number = mutiKillPush.pid;\r\n      var attPlayerDto:RoomPlayerDto = GameManager.instance.matchHeroDic.get(pid);\r\n\r\n      let headId = attPlayerDto.icon;\r\n      this.img_mutiKill_head.skin = GameResourceManager.instance.getPlayerIcon(headId);\r\n\r\n      \r\n      this.img_mutiKill.visible = true;\r\n      this.img_mutiKill.alpha = 0;\r\n      this.img_mutiKill.y = -200;\r\n\r\n      Laya.Tween.to( this.img_mutiKill, { y: 175, alpha: 1 }, 200, Laya.Ease.linearInOut, Laya.Handler.create(this, this.onMutiKill1, [is3More]) );\r\n    }\r\n\r\n    private onMutiKill1(is3More:boolean):void{\r\n\r\n\r\n      this.zi_mutiKill.scale(1, 1); // \r\n      if(is3More){\r\n        Laya.Tween.to(this.zi_mutiKill, { scaleX: 1.5, scaleY: 1.5}, 200, Laya.Ease.linearNone, Laya.Handler.create(this, this.onMutiKill2));\r\n      }else{\r\n        this.onMutiKill3(2000);\r\n      }\r\n      \r\n    }\r\n\r\n    private onMutiKill2():void{\r\n      Laya.Tween.to(this.zi_mutiKill, { scaleX: 1, scaleY: 1}, 200, Laya.Ease.linearNone, Laya.Handler.create(this, this.onMutiKill3, [1500]));  \r\n    }\r\n    private onMutiKill3(delayTime:number):void{\r\n        // \r\n        Laya.Tween.to(this.img_mutiKill, { y: -200, alpha: 0 }, 200, Laya.Ease.linearInOut, Laya.Handler.create(this, this.onMutiKill4), delayTime);\r\n    }\r\n\r\n    private onMutiKill4():void{\r\n        this.img_mutiKill.visible = false;    \r\n    }\r\n\r\n\r\n    private onGameSceneGray(): void {\r\n      this.matchBox.gray = true;\r\n    }\r\n\r\n\r\n\r\n    onEnable(): void {\r\n      // this.onMutiKillPush(44);\r\n\r\n        console.log(\"MatchScene onEnable\");\r\n        Signal.intance.on(GameEvent.UPDATE_KILL_NUM, this, this.updateKill);\r\n        Signal.intance.on(GameEvent.EVENT_RESTORE_DATA, this, this.onRestoreData);\r\n        Signal.intance.on(GameEvent.EVENT_FirstBlood, this, this.onFirstBloodPush);\r\n        Signal.intance.on(GameEvent.EVENT_MutiKill, this, this.onMutiKillPush);\r\n        Signal.intance.on(GameEvent.EVENT_GameScene_Gray, this, this.onGameSceneGray);\r\n        // \r\n        Laya.stage.on(Laya.Event.FOCUS, this, this.onWindowFocus);\r\n\r\n        //   this.btn_back.on(Laya.Event.CLICK, this, this.setToMainScene)\r\n\r\n\r\n        \r\n    }\r\n\r\n    onWindowFocus(){\r\n      GameManager.instance.sendRestoreData();\r\n\r\n    }\r\n\r\n    onDisable(): void {\r\n      Signal.intance.off(GameEvent.UPDATE_KILL_NUM, this, this.updateKill);\r\n      Signal.intance.off(GameEvent.EVENT_RESTORE_DATA, this, this.onRestoreData);\r\n      Signal.intance.off(GameEvent.EVENT_FirstBlood, this, this.onFirstBloodPush);\r\n      Signal.intance.off(GameEvent.EVENT_MutiKill, this, this.onMutiKillPush);\r\n      Signal.intance.off(GameEvent.EVENT_GameScene_Gray, this, this.onGameSceneGray);\r\n      Laya.stage.off(Laya.Event.FOCUS, this, this.onWindowFocus);\r\n      Laya.timer.clearAll(this);\r\n    }\r\n\r\n\r\n\r\n}", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-06 16:29:41\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-01-21 20:51:02\r\n * @Description: \r\n */\r\nimport GameManager from \"../../../script/logic/GameManager\";\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('Ply19emtSrqrBk7nHXToAQ')\r\nexport default class MatchScene extends Laya.Script {\r\n    // private m_scene:any;\r\n\r\n    // @property({ type: Laya.Prefab})\r\n    // roleAni:Laya.Prefab;\r\n\r\n    // /** @prop {name:dropBox,tips:\"\",type:Prefab}*/\r\n    // @property({ type: Laya.Prefab })\r\n    // dropBox: Laya.Prefab;\r\n\r\n    // @property({type:Laya.Prefab})\r\n    // private enemy: Laya.Prefab;\r\n\r\n    // @property({ type: Laya.Sprite})\r\n    // planeNode:Laya.Sprite;\r\n\r\n    // /** @prop {name:gameMap, tips:\"\", type:Node} */\r\n    // @property({type:Laya.Sprite})\r\n    // private gameMap: Laya.Sprite;\r\n    // /** @prop {name:sceneWindow, tips:\"\", type:Node} */\r\n    // @property({type:Laya.Box})\r\n    // private sceneWindow: Laya.Box;\r\n\r\n    \r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    // /**\r\n    //  * \r\n    //  * \r\n    //  */\r\n     onAwake(): void {\r\n        // GameManager.instance.init();\r\n        // this.m_scene = this.owner;\r\n        // GameManager.instance.scene = this.m_scene;\r\n        // GameManager.instance.gameMap = this.gameMap;\r\n        // GameManager.instance.sceneWindow = this.sceneWindow;\r\n        // GameManager.instance.initPlayer(this.roleAni);\r\n\r\n        // GameManager.instance.createPlayers(this.enemy);\r\n        // GameManager.instance.createItems(this.dropBox);\r\n        //GameManager.instance.setCurrentPlane(this.planeNode);\r\n     }\r\n\r\n\r\n    /**\r\n     * update\r\n     * \r\n     */\r\n    onStart(): void {\r\n        GameManager.instance.playMusic();\r\n        // this.initEnemy();\r\n    }\r\n\r\n    onLateUpdate(): void {\r\n        GameManager.instance.moveGameWindow();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    // initEnemy()\r\n    // {\r\n    //     var planeNode = this.planeNode;\r\n    //     if(planeNode.numChildren > 0)\r\n    //     {\r\n    //        for (let index = 0; index < planeNode.numChildren; index++) {\r\n    //             var _parentNode = planeNode.getChildAt(index);\r\n    //             GameManager.instance.createEnemy(this.enemy, this.gameMap, _parentNode as Laya.Sprite, index);\r\n    //        }\r\n    //     }\r\n    // }\r\n\r\n\r\n\r\n    \r\n    \r\n\r\n\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { SkillIconItem } from \"../hero/SkillIconItem\";\n\n/**\n * scenes/match/MatchSkillListItem.lh\n */\nexport class MatchSkillListItemBase extends Laya.Button {\n    public skillIconItem!: SkillIconItem;\n    public globalCooldownMask!: Laya.Sprite;\n    public img_djs!: Laya.Image;\n    public skillCooldownMask!: Laya.Sprite;\n    public txt_time!: Laya.Label;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-22 21:00:18\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-02-16 18:20:59\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport GameManager, { MusicType } from \"../../../script/logic/GameManager\";\r\nimport { ModuleManager } from \"../../common/ModuleManager\";\r\nimport { BtnColorFilter } from \"../../common/filters/BtnColorFilter\";\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { SkillItem } from \"../../global/data/sheetItem/hero/Skilltem\";\r\nimport { GameEvent } from \"../../global/event/GameEvent\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { MatchSkillListItemBase } from \"./MatchSkillListItem.generated\";\r\n\r\n@regClass('x6t-z1VuR52yXWju0qxGBg')\r\nexport class MatchSkillListItem extends MatchSkillListItemBase {\r\n\r\n    public skillItem: SkillItem;\r\n    private isAddEvent:boolean = false;\r\n    private isCanClick = true;\r\n    public keyNum:number;\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    onEnable(): void {\r\n        this.addEvent();\r\n    }\r\n\r\n\r\n    private addEvent(){\r\n        if(!this.isAddEvent){\r\n            Signal.intance.on(GameEvent.EVENT_CLICK_NUM, this, this.onNumberClick);\r\n            Signal.intance.on(GameEvent.EVENT_UPDATE_GLOBAL_COOL, this, this.updateGlobalCooldown);\r\n            // this.on(Laya.Event.CLICK, this, this.onSkillButtonClick);\r\n            this.isAddEvent = true;\r\n                    // \r\n        // this.skillButton = new Laya.Button(\"res/skillButton.png\");\r\n        // this.pos(50, 200);\r\n        // this.stateNum = 2; // 2\r\n        this.on(Laya.Event.CLICK, this, this.onSkillButtonClick);\r\n        this.on(Laya.Event.MOUSE_UP, this, this.onSkillButtonUp);\r\n        // Laya.stage.addChild(this.skillButton);\r\n\r\n        // \r\n        // this.globalCooldownMask = new Laya.Sprite();\r\n        // this.addChild(this.globalCooldownMask);\r\n\r\n        // \r\n        // this.skillCooldownMask = new Laya.Sprite();\r\n        // this.addChild(this.skillCooldownMask);\r\n\r\n        \r\n        }\r\n\r\n    }\r\n\r\n    onNumberClick(num:number){\r\n        if(num == this.keyNum){\r\n            // if(!this.isBig)\r\n                this.onSkillButtonClick(null);\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.skillItem = value as SkillItem;\r\n        if(!this.skillItem ) {\r\n            return\r\n        }\r\n        this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n    async setCurrentOutPut() {\r\n\r\n        if(!this.skillItem)return;\r\n        this.skillIconItem.isBig = (this.skillItem.icon == \"1001\");\r\n        this.skillIconItem.dataSource = this.skillItem;\r\n        \r\n\r\n        // this.skillIconItem.txt_num.text = '' + this.skillItem.name;//TODO TEST\r\n        // this.skillIconItem.txt_num.visible = true;//TODO TEST\r\n                \r\n        this.skillCooldown = this.skillItem.cd; // \r\n        this.thisGlobalCooldown = this.skillItem.commCd; // \r\n        \r\n\r\n        // \r\n        Laya.timer.frameLoop(1, this, this.updateCooldown);\r\n\r\n    }\r\n\r\n    public onMouseClick(evt: Laya.Event) {\r\n        if (!this.isCanClick) {\r\n            return;\r\n        }\r\n        if (this.isCanClick) {\r\n            this.isCanClick = false;\r\n        }\r\n\r\n        // var _list = GameManager.instance.getValidList();\r\n        // Laya.Tween.to(this, { scaleX: 1.1, scaleY: 1.1 }, 250, Laya.Ease.linearIn, Laya.Handler.create(this, () => {\r\n        //     Laya.Tween.to(this, { scaleX: 1, scaleY: 1 }, 150, Laya.Ease.linearIn);\r\n        // }));\r\n        var skillIndex = 0\r\n        // //\r\n        // if (!this.isBig) {\r\n            // GameManager.instance.myHeroSpr.attack();\r\n\r\n            GameManager.instance.playSound(MusicType.ePuGong);\r\n        // }\r\n        // else {\r\n        //     GameManager.instance.myHeroSpr.attack();\r\n\r\n            // // return;\r\n            // skillIndex = 3\r\n            // this.animname = \"attack4\";\r\n            // if (_list.length > 0) {\r\n            //     //\r\n            //     for (let index = 0; index < _list.length; index++) {\r\n            //         var dx = (this.player as Laya.Sprite).x - (_list[0] as Laya.Sprite).x;\r\n            //         var dy = (this.player as Laya.Sprite).y - (_list[0] as Laya.Sprite).y;\r\n\r\n\r\n            //         if (this.getDistance(dx, dy) < 1) {\r\n            //             var item = _list[index].getComponent(EnemyMove);\r\n            //             //\r\n            //             if (item.getLife() > 0) {\r\n            //                 item.setLife(item.getLife() - 1);\r\n            //             }\r\n            //             item.setIsAttack(true);\r\n            //         }\r\n            //     }\r\n            //     //ParticleTool.playSkillEffect(\"resources/prefab/eff_play.lh\", skillIndex, this.player as Laya.Sprite);\r\n            // }\r\n            // GameManager.instance.playSound(MusicType.eDaZhao);\r\n        // }\r\n        Laya.timer.once(1000, this, () => {\r\n            this.isCanClick = true;\r\n        });\r\n        // setTimeout(() => {\r\n        //     this.isCanClick = true;\r\n        // }, 500)\r\n        // ParticleTool.playSkillEffect(\"resources/prefab/eff_play.lh\", skillIndex, this.player);\r\n        \r\n    }\r\n\r\n    // private skillButton: Laya.Button;\r\n    // private globalCooldownMask: Laya.Sprite; // \r\n    // private skillCooldownMask: Laya.Sprite; // \r\n\r\n    private skillCooldown: number = 5000; // \r\n    private thisGlobalCooldown: number = 10000; // \r\n    private globalCooldown: number = 10000; // \r\n    private remainingSkillCooldown: number = 0; // \r\n    private remainingGlobalCooldown: number = 0; // \r\n\r\n\r\n\r\n\r\n\r\n    // \r\n    private onSkillButtonUp(e:Laya.Event): void {\r\n        if(e){\r\n            e.stopPropagation();\r\n        }\r\n        BtnColorFilter.clearClickFilter(this);\r\n    }\r\n\r\n\r\n    // \r\n    private onSkillButtonClick(e:Laya.Event): void {\r\n        if(e){\r\n            e.stopPropagation();\r\n        }\r\n        if (this.remainingSkillCooldown <= 0 && this.remainingGlobalCooldown <= 0) {\r\n            // \r\n            console.log(\"\");\r\n\r\n            // \r\n            Laya.Tween.to(this, { scaleX: 0.8, scaleY: 0.8 }, 100, Laya.Ease.linearNone, Laya.Handler.create(this, () => {\r\n                Laya.Tween.to(this, { scaleX: 1, scaleY: 1 }, 100, Laya.Ease.linearNone);\r\n            }));\r\n            \r\n            GameManager.instance.myHeroSpr.attack(this.skillItem.id);\r\n\r\n\r\n            // \r\n            this.updateSkillCooldown(this.skillCooldown);\r\n            Signal.intance.event(GameEvent.EVENT_UPDATE_GLOBAL_COOL, [this.thisGlobalCooldown]);\r\n            // this.remainingGlobalCooldown = this.globalCooldown;\r\n            \r\n        } else {\r\n            // \r\n            console.log(\"\");\r\n        }\r\n    }\r\n    public updateSkillCooldown(_skillCooldown:number){\r\n        this.remainingSkillCooldown = _skillCooldown;\r\n    }\r\n\r\n    public updateGlobalCooldown(_globalCooldown:number){\r\n        this.globalCooldown = _globalCooldown;\r\n        this.remainingGlobalCooldown = _globalCooldown;\r\n    }\r\n\r\n    // \r\n    private updateCooldown(): void {\r\n        if (this.remainingSkillCooldown > 0) {\r\n            // \r\n            this.remainingSkillCooldown -= Laya.timer.delta; // \r\n            \r\n            let num: number = this.remainingSkillCooldown/1000;\r\n            this.txt_time.text = num.toFixed(1);\r\n\r\n            // \r\n            this.updateCooldownMask(this.skillCooldownMask, this.remainingSkillCooldown / this.skillCooldown, \"#000000\");\r\n            // this.skillCooldownMask.visible = true;\r\n            this.img_djs.visible = true;\r\n            this.txt_time.visible = true;\r\n            \r\n        }else{\r\n            // this.skillCooldownMask.visible = false;\r\n            this.img_djs.visible = false;\r\n            this.txt_time.visible = false;\r\n        }\r\n\r\n        if (this.remainingGlobalCooldown > 0) {\r\n            // \r\n            this.remainingGlobalCooldown -= Laya.timer.delta; // \r\n\r\n            // \r\n            this.updateCooldownMask(this.globalCooldownMask, this.remainingGlobalCooldown / this.globalCooldown, \"#00000036\");\r\n            this.globalCooldownMask.visible = true;\r\n        }else{\r\n            this.globalCooldownMask.visible = false;\r\n        }\r\n\r\n        // \r\n        this.skillIconItem.gray = this.remainingSkillCooldown > 0 || this.remainingGlobalCooldown > 0;\r\n    }\r\n\r\n    // \r\n    private updateCooldownMask(mask: Laya.Sprite, progress: number, color:string): void {\r\n        // \r\n        const maskRadius = this.width / 2;\r\n\r\n        // \r\n        const centerX = this.width / 2;\r\n        const centerY = this.height / 2;\r\n\r\n        // \r\n        mask.graphics.clear();\r\n\r\n        // \r\n        mask.graphics.drawPie(centerX, centerY, maskRadius, -90 + 360 * (1 -progress), 270, color);\r\n        // mask.graphics.drawPie(centerX, centerY, maskRadius, -90 + 360 * (1 -progress), 270, \"#0000007a\");\r\n    }\r\n\r\n    onDisable(): void {\r\n        Signal.intance.off(GameEvent.EVENT_UPDATE_GLOBAL_COOL, this, this.updateGlobalCooldown);\r\n        Signal.intance.offAllCaller(this);\r\n        Laya.timer.clearAll(this);\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * scenes/notice/TxtNoticeView.lh\r\n */\r\nexport class TxtNoticeViewBase extends Laya.Box {\r\n    public image_bg!: Laya.Image;\r\n    public label_tf!: Laya.Label;\r\n}\r\n\r\n", "const { regClass } = Laya;\r\nimport { TxtNoticeViewBase } from \"./TxtNoticeView.generated\";\r\n\r\n@regClass('Nm27xWbYSG6mj-EXqPOZ_A')\r\nexport class TxtNoticeView extends TxtNoticeViewBase {\r\n\r\n    onEnable(): void {\r\n        \r\n    }\r\n    public notice(_notice:string): void {\r\n        let value: string = _notice;\r\n        this.label_tf.text = value;\r\n        this.label_tf.x = 68;\r\n        this.image_bg.width = 68 * 2 + this.label_tf.textField.textWidth;\r\n        let line: number = value.length / 45;\r\n        if(line > 1 ) {\r\n            this.image_bg.height = this.label_tf.textField.textHeight + 25;\r\n        } \r\n    }\r\n    public get view(): any {\r\n        return this;\r\n    }\r\n    public get width(): number {\r\n        return this.image_bg.width;\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/shop/CoinsBox.lh\n */\nexport class CoinsBoxBase extends Laya.Box {\n    public box_3006!: Laya.Box;\n    public tf_3006!: Laya.Label;\n    public box_3007!: Laya.Box;\n    public tf_3007!: Laya.Label;\n    public box_3001!: Laya.Box;\n    public tf_3001!: Laya.Label;\n    public box_3004!: Laya.Box;\n    public tf_3004!: Laya.Label;\n    public box_3005!: Laya.Box;\n    public tf_3005!: Laya.Label;\n}\n\n", "const { regClass } = Laya;\r\nimport { GlobalDataManager } from \"../../global/GlobalDataManager\";\r\nimport { EnumConsumeType } from \"../../global/data/enumData/EnumConsumeType\";\r\nimport { GameEvent } from \"../../global/event/GameEvent\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { NumberUtil } from \"../../global/util/NumberUtil\";\r\nimport { WalletEvent } from \"../wallet/event/WalletEvent\";\r\nimport { CoinsBoxBase } from \"./CoinsBox.generated\";\r\n\r\n@regClass('7P9MlqipSaG6QoKpQowDbQ')\r\nexport class CoinsBox extends CoinsBoxBase {\r\n\r\n\r\n\r\n\r\n\r\n    onEnable(): void {\r\n        this.updateLocalAssets();\r\n        \r\n        Signal.intance.on(GameEvent.ROLE_INFO_CHANGE, this, this.updateLocalAssets);\r\n        Signal.intance.on(WalletEvent.UPDATE_LOCAL_WALLET_LIST_EVENT, this, this.updateLocalAssets);\r\n        \r\n\r\n    }\r\n    \r\n\r\n\r\n    onDisable(): void {\r\n\r\n        \r\n        Signal.intance.off(GameEvent.ROLE_INFO_CHANGE, this, this.updateLocalAssets);\r\n        Signal.intance.off(WalletEvent.UPDATE_LOCAL_WALLET_LIST_EVENT, this, this.updateLocalAssets);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        /**\r\n     * My Assets\r\n        BTC 8: 9.12345678\r\n        ETH 4999.1234\r\n        TOX 2999,999.12\r\n        USDT 2999,999.12\r\n        0999,999\r\n     */\r\n\r\n        private updateLocalAssets(): void {\r\n\r\n            this.tf_3001.text = NumberUtil.filterNumFormat(GlobalDataManager.instance.getConsumeValue(EnumConsumeType.TYPE_TOX),2);\r\n            this.tf_3006.text = NumberUtil.filterNumFormat(GlobalDataManager.instance.getConsumeValue(EnumConsumeType.TYPE_BTC),8);\r\n            this.tf_3007.text = NumberUtil.filterNumFormat(GlobalDataManager.instance.getConsumeValue(EnumConsumeType.TYPE_ETH),4);\r\n            this.tf_3004.text = NumberUtil.filterNumFormat(GlobalDataManager.instance.getConsumeValue(EnumConsumeType.TYPE_USDT),2);\r\n            this.tf_3005.text = NumberUtil.filterNumFormat(GlobalDataManager.instance.getConsumeValue(EnumConsumeType.TYPE_GOLD),0);\r\n    \r\n    \r\n    \r\n            // this.tf_10000.text = NumberUtil.filterNumFormat(WalletModel.instance.getValue(EnumWallet.ASSETS_TOX),0);\r\n            // this.tf_10001.text = NumberUtil.filterNumFormat(WalletModel.instance.getValue(EnumWallet.ASSETS_ARCANITE), 0);\r\n            // this.tf_10002.text = NumberUtil.filterNumFormat(WalletModel.instance.getValue(EnumWallet.ASSETS_CRYSTAL), 0);\r\n            // this.tf_10003.text = NumberUtil.filterNumFormat(WalletModel.instance.getValue(EnumWallet.ASSETS_MITHRIL), 0);\r\n            // this.tf_10004.text = NumberUtil.filterNumFormat(WalletModel.instance.getValue(EnumWallet.ASSETS_REDSTONE), 0);\r\n            // this.tf_10005.text = NumberUtil.filterNumFormat(WalletModel.instance.getValue(EnumWallet.ASSETS_TRUEIRON), 0);\r\n        \r\n        }\r\n\r\n        \r\n\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\nimport { HeroSk } from \"../hero/HeroSk\";\r\n\r\n/**\r\n * scenes/shop/item/DrawHeroItem.lh\r\n */\r\nexport class DrawHeroItemBase extends Laya.Box {\r\n    public heroSk!: HeroSk;\r\n    public img_chanchu!: Laya.Image;\r\n    public tf_output2!: Laya.Label;\r\n    public tf_heroOutput!: Laya.Label;\r\n    public box_star!: Laya.Box;\r\n    public img_star1!: Laya.Image;\r\n    public img_star2!: Laya.Image;\r\n    public img_star3!: Laya.Image;\r\n    public img_star4!: Laya.Image;\r\n    public img_star5!: Laya.Image;\r\n    public tf_name!: Laya.Label;\r\n}\r\n\r\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-07 21:34:04\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-14 22:12:27\r\n */\r\nconst { regClass } = Laya;\r\nimport { HeroVo } from \"../../global/contract/vo/HeroVo\";\r\nimport { StringTool } from \"../../util/StringTool\";\r\nimport { HeroModel } from \"../luckdraw/model/HeroModel\";\r\nimport { DrawHeroItemBase } from \"./DrawHeroItem.generated\";\r\n\r\n@regClass('IcuwbMwvRKqMyiXxDzW-dA')\r\nexport class DrawHeroItem extends DrawHeroItemBase {\r\n\r\n\r\n\r\n    public heroVo: HeroVo;\r\n    private isAddEvent:boolean = false;\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n\r\n    private addEvent(){\r\n        if(!this.isAddEvent){\r\n            // this.img_chanchu.on(Laya.Event.CLICK, this, this.onDigGet);\r\n            this.isAddEvent = true;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.heroVo = value as HeroVo;\r\n        if(!this.heroVo ) {\r\n            return\r\n        }\r\n        this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n    async setCurrentOutPut() {\r\n        this.heroSk.dataSource = this.heroVo;\r\n        this.tf_name.text = StringTool.shortHeroStr(this.heroVo.name);\r\n        let star = this.heroVo.heroItem.level + '';\r\n        HeroModel.instance.setStar(this, star);\r\n\r\n        \r\n\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { HeroListItem } from \"../hero/HeroListItem\";\n\n/**\n * scenes/shop/HeroGetDialog.lh\n */\nexport class HeroGetDialogBase extends Laya.Dialog {\n    public heroListItem!: HeroListItem;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-07 22:34:33\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-01-07 23:07:28\r\n */\r\nconst { regClass } = Laya;\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { SoundMgr } from \"../../common/SoundMgr\";\r\nimport { ModuleName } from \"../../global/ModuleName\";\r\nimport { HeroVo } from \"../../global/contract/vo/HeroVo\";\r\nimport { GameEvent } from \"../../global/event/GameEvent\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { HeroListItem } from \"../hero/HeroListItem\";\r\nimport { GetItemDataModel } from \"../item/model/GetItemDataModel\";\r\nimport { DrawHeroItem } from \"./DrawHeroItem\";\r\nimport { HeroGetDialogBase } from \"./HeroGetDialog.generated\";\r\n\r\n@regClass('mrqJhWahTxuTjeSGIs559Q')\r\nexport class HeroGetDialog extends HeroGetDialogBase {\r\n\r\n\r\n    public m_strName: string = \"OpenSceneRuntime\";\r\n    public m_iLayerType:number = LayerManager.M_POP;\r\n    public m_iPositionType:number = LayerManager.CENTER;\r\n\r\n    public constructor(_data: any) {\r\n        super();\r\n\r\n    }\r\n\r\n\r\n\r\n    onEnable(): void {\r\n        \r\n        this.initContainer();\r\n\t\t\tSoundMgr.instance.playSoundByName(SoundMgr.soundName32);\r\n    }\r\n    \r\n    private initContainer():void\r\n    {\r\n        \r\n        var data:HeroVo = GetItemDataModel.instance.getOneItem();\r\n        if(data)\r\n        {\r\n\r\n            this.showItem(data);\r\n\r\n        }\r\n\r\n    }\r\n    \r\n    /**\r\n     *  \r\n     * @param itemVO\r\n     */\t\t\r\n    private showItem(data:HeroVo):void\r\n    {\r\n        let drawHeroItem:HeroListItem = this.heroListItem as HeroListItem;\r\n        // let drawHeroItem:DrawHeroItem = this.box_card as DrawHeroItem;\r\n                drawHeroItem.dataSource = data;\r\n        \r\n\r\n    }\r\n\r\n    onDisable(): void {\r\n\r\n        Signal.intance.event(GameEvent.EVENT_CHECK_REMAIN,ModuleName.HeroGetDialog);\r\n    }\r\n\r\n\r\n\r\n    \r\n}", "export class XUtils {\r\n    public static blackFilter: Laya.ColorFilter = new Laya.ColorFilter([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.78, 0]);\r\n    public static blackFilter2: Laya.ColorFilter = new Laya.ColorFilter([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.5, 0]);\r\n    \r\n    public static qualityColors:string[] = [\"#78cefd\", \"#78cefd\", \"#78cefd\", \"#d5a8ff\", \"#fdd378\", \"#ffa8a8\", \"#ffa8a8\", \"#ffa8a8\"];\r\n    public constructor() {\r\n        \r\n    }\r\n    public static pointEquil(p1: Laya.Point, p2: Laya.Point): boolean {\r\n        return ((p1 && p2) && p1.x == p2.x) && p1.y == p2.y;\r\n    }\r\n    public static isEmpty(obj: any): boolean {\r\n        for(let i in obj) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    public static showTxtEffect(txt: any, num: number): void {\r\n        let cur: number = parseInt(txt.text);\r\n        let del: number = Math.floor((num - cur) / 5);\r\n        let index: number = 0;\r\n        Laya.timer.loop(60, null, onUpdate);\r\n        let onUpdate = function(): void {\r\n            index++;\r\n            cur += del;\r\n            if(index >= 5 ) {\r\n                cur = num;\r\n                Laya.timer.clear(null, onUpdate);\r\n            } \r\n            txt.text = cur + \"\";\r\n        };\r\n    }\r\n    private static COLORS: any[] = [\"#69ff4c\", \"#FFFFFF\"];\r\n    public static showTxtFlash(tf: any): void {\r\n        let orColor: string = tf.color;\r\n        tf.color = XUtils.COLORS[0];\r\n        Laya.Tween.to(tf, {}, 10, null, Laya.Handler.create(null, step1), 50);\r\n        let step1 = function(): void {\r\n            tf.color = XUtils.COLORS[1];\r\n            Laya.Tween.to(tf, {}, 10, null, Laya.Handler.create(null, step2), 50);\r\n        };\r\n        let step2 = function(): void {\r\n            tf.color = XUtils.COLORS[0];\r\n            Laya.Tween.to(tf, {}, 10, null, Laya.Handler.create(null, step3), 50);\r\n        };\r\n        let step3 = function(): void {\r\n            tf.color = XUtils.COLORS[1];\r\n            Laya.Tween.to(tf, {}, 10, null, Laya.Handler.create(null, step4), 50);\r\n        };\r\n        let step4 = function(): void {\r\n            tf.color = XUtils.COLORS[0];\r\n            Laya.Tween.to(tf, {}, 10, null, Laya.Handler.create(null, step5), 50);\r\n        };\r\n        let step5 = function(): void {\r\n            tf.color = XUtils.COLORS[1];\r\n            Laya.Tween.to(tf, {}, 10, null, Laya.Handler.create(null, finish), 50);\r\n        };\r\n        let finish = function(): void {\r\n            tf.color = orColor;\r\n        };\r\n    }\r\n    private static PRO_DIC: any = {\"HP\": \"hp\", \"ATK\": \"attack\", \"DEF\": \"defense\", \"SPEED\": \"speed\", \"RES\": \"resilience\", \"CDMG\": \"critDamage\", \"CDMGR\": \"critDamReduct\"};\r\n    public static getProKey(key: string): string {\r\n        if(XUtils.PRO_DIC[key] ) {\r\n            return XUtils.PRO_DIC[key];\r\n        } else {\r\n            return key;\r\n        }\r\n    }\r\n    private static proList: any = {\"hp\": \"HP\", \"attack\": \"ATK\", \"defense\": \"DEF\", \"speed\": \"SPEED\", \"hit\": \"hit\", \"dodge\": \"dodge\", \"crit\": \"crit\", \"critDamage\": \"CDMG\", \"resilience\": \"RES\", \"critDamReduct\": \"CDMGR\"};\r\n    public static getIconName(proName: string): string {\r\n        return XUtils.proList[proName];\r\n    }\r\n    public static clonePoint(p: Laya.Point): Laya.Point {\r\n        return new Laya.Point(p.x, p.y);\r\n    }\r\n    public static copyObj(targetObj: any): any {\r\n        let tmp: any = {};\r\n        for(let i in targetObj) {\r\n            tmp[i] = targetObj[i];\r\n        }\r\n        return tmp;\r\n    }\r\n    public static mergeObj(targeObj: any, valueObj: any): any {\r\n        for(let i in valueObj) {\r\n            if(targeObj[i] ) {\r\n                targeObj[i] = parseFloat(targeObj[i]) + parseFloat(valueObj[i]);\r\n            } else {\r\n                targeObj[i] = valueObj[i];\r\n            }\r\n        }\r\n        return targeObj;\r\n    }\r\n    public static checkHit(dis: Laya.Sprite): boolean {\r\n        return (((dis.visible && dis.mouseX > 0) && dis.mouseY > 0) && dis.mouseX <= dis.width) && dis.mouseY <= dis.height;\r\n    }\r\n    public static separateObj(targeObj: any, valueObj: any): any {\r\n        if(valueObj ) {\r\n            for(let i in valueObj) {\r\n                if(targeObj[i] ) {\r\n                    targeObj[i] = parseFloat(targeObj[i]) - parseFloat(valueObj[i]);\r\n                } \r\n            }\r\n        } \r\n        return targeObj;\r\n    }\r\n    public static toFixed(num: any, decimalNum: number = 1): string {\r\n        if((num + \"\").indexOf(\".\") != -1 ) {\r\n            let str: string = parseFloat(num).toFixed(decimalNum);\r\n            if(decimalNum == 1 && str.charAt(str.length - 1) == \"0\" ) {\r\n                str = parseInt(str) + \"\";\r\n            } \r\n            return str;\r\n        } \r\n        return num + \"\";\r\n    }\r\n    private static RES_W: any[] = [\"K\", \"M\", \"B\", \"T\"];\r\n    public static formatResWith(num: number): string {\r\n        if(num >= 1000000000000 ) {\r\n            return Math.floor(num / 1000000000000) + XUtils.RES_W[3];\r\n        } else if(num >= 1000000000 ) {\r\n            return Math.floor(num / 1000000000) + XUtils.RES_W[2];\r\n        } else if(num >= 1000000 ) {\r\n            return Math.floor(num / 1000000) + XUtils.RES_W[1];\r\n        } else if(num >= 10000 ) {\r\n            return Math.floor(num / 1000) + XUtils.RES_W[0];\r\n        } \r\n        return num + \"\";\r\n    }\r\n    public static formatNumWithSign(num: number, sign: string = \",\"): string {\r\n        num = Math.floor(num);\r\n        let str: string = num + \"\";\r\n        let index: number = 1;\r\n        let arr: any[] = [];\r\n        for(let i: number = str.length - 1; i >= 0; i--) {\r\n            arr.push(str.charAt(i));\r\n            if(index > 0 && index % 3 == 0 ) {\r\n                arr.push(sign);\r\n            } \r\n            index++;\r\n        }\r\n        arr.reverse();\r\n        if(arr[0] == sign ) {\r\n            arr.shift();\r\n        } \r\n        return arr.join(\"\");\r\n    }\r\n    public static autoRecyle(ani: Laya.Animation, recover: boolean = false): void {\r\n        ani.on(Laya.Event.COMPLETE, null, onComplete, [ani]);\r\n        if(!ani.isPlaying ) {\r\n            ani.play(1, false);\r\n        } \r\n        let onComplete = function(ani: Laya.Animation): void {\r\n            ani.off(Laya.Event.COMPLETE, null, onComplete);\r\n            ani.stop();\r\n            ani.removeSelf();\r\n            if(recover ) {\r\n                Laya.Pool.recover(\"Animation\", ani);\r\n            } \r\n        };\r\n    }\r\n    public static createEllipse(sp: Laya.Graphics, x, y, a, b, stepScale: number = 1, color = '#ffffff'): any[] {\r\n        let points: any[] = [];\r\n        let step = a > b ? stepScale / a : stepScale / b;\r\n        for(let i = 0; i < 2 * Math.PI; i += step) {\r\n            points.push(x + a * Math.cos(i) - a / 2, y + b * Math.sin(i));\r\n        }\r\n        if(sp ) {\r\n            sp.drawPoly(points.shift(), points.shift(), points, color);\r\n        } \r\n        return points;\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/shop/ShopListItem.lh\n */\nexport class ShopListItemBase extends Laya.Box {\n    public img_bg!: Laya.Image;\n    public selectBox!: Laya.Image;\n    public tf_name!: Laya.Label;\n    public img_const!: Laya.Image;\n    public tf_const!: Laya.Label;\n    public img_icon!: Laya.Image;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-01-07 18:08:21\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-09 23:06:55\r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { ETHBlindBoxProxy } from \"../../global/contract/service/ETHBlindBoxProxy\";\r\nimport { ShopItem } from \"../../global/data/sheetItem/shop/ShopItem\";\r\nimport { NumberUtil } from \"../../global/util/NumberUtil\";\r\nimport { XUtils } from \"../../util/XUtils\";\r\nimport { ShopListItemBase } from \"./ShopListItem.generated\";\r\n\r\n@regClass('awS07ko0RBaxCnxXWqiR4g')\r\nexport class ShopListItem extends ShopListItemBase {\r\n\r\n\r\n    public shopItem: ShopItem;\r\n    private isAddEvent:boolean = false;\r\n    \r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    //  fdd378\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.shopItem = value as ShopItem;\r\n        if(!this.shopItem ) {\r\n            return\r\n        }\r\n        // this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n\r\n\r\n    async setCurrentOutPut() {\r\n\r\n        \r\n        \r\n        this.tf_name.text = GameLanguageMgr.instance.getLanguage(this.shopItem.title);\r\n            // this.tf_des.text = GameLanguageMgr.instance.getLanguage(this.shopItem.des);\r\n        this.img_const.skin = GameResourceManager.instance.getMoneyIcon(this.shopItem.cost[0]);\r\n        this.tf_const.text = NumberUtil.formatNumber(this.shopItem.cost[1])+\"\";\r\n\r\n        if(this.shopItem.type == 1){\r\n\r\n            this.tf_name.color = XUtils.qualityColors[parseInt(this.shopItem.icon) - 1];\r\n            \r\n\r\n            this.img_bg.skin =  GameResourceManager.instance.getHeroQuality(this.shopItem.icon);\r\n            this.img_icon.skin = GameResourceManager.instance.getHeroEggIcon(this.shopItem.icon);\r\n            // this.box_count.visible = false;\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    \r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/shop/ShopListItem2.lh\n */\nexport class ShopListItem2Base extends Laya.Box {\n    public img_bg!: Laya.Image;\n    public img_const!: Laya.Image;\n    public tf_const!: Laya.Label;\n    public img_icon!: Laya.Image;\n    public tf_name!: Laya.Label;\n    public selectBox!: Laya.Image;\n}\n\n", "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-03-09 23:30:05\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-17 01:01:31\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { ItemItem } from \"../../global/data/sheetItem/item/ItemItem\";\r\nimport { ShopItem } from \"../../global/data/sheetItem/shop/ShopItem\";\r\nimport { NumberUtil } from \"../../global/util/NumberUtil\";\r\nimport { XUtils } from \"../../util/XUtils\";\r\nimport { ShopListItem2Base } from \"./ShopListItem2.generated\";\r\n\r\n@regClass('din69PYeRbSapMB2H6E06g')\r\nexport class ShopListItem2 extends ShopListItem2Base {\r\n\r\n    public shopItem: ShopItem;\r\n    private isAddEvent:boolean = false;\r\n    \r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    //  fdd378\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.shopItem = value as ShopItem;\r\n        if(!this.shopItem ) {\r\n            return\r\n        }\r\n        // this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n    async setCurrentOutPut() {\r\n        \r\n        this.tf_name.text = GameLanguageMgr.instance.getLanguage(this.shopItem.title);\r\n            // this.tf_des.text = GameLanguageMgr.instance.getLanguage(this.shopItem.des);\r\n        this.img_const.skin = GameResourceManager.instance.getMoneyIcon(this.shopItem.cost[0]);\r\n        this.tf_const.text = NumberUtil.formatNumber(this.shopItem.cost[1])+\"\";\r\n\r\n        if(this.shopItem.type == 2){\r\n            var itemItem:ItemItem = SheetDataManager.intance.m_dicItems.get(this.shopItem.icon);\r\n            this.img_bg.skin =  GameResourceManager.instance.getItemQualityIcon(itemItem.quality+\"\");\r\n\r\n            this.tf_name.color = XUtils.qualityColors[itemItem.quality - 1];\r\n            \r\n            this.img_icon.skin = GameResourceManager.instance.getItemIcon(this.shopItem.icon);\r\n            // this.box_count.visible = true;\r\n        }        \r\n        // this.tf_get.text = GameLanguageMgr.instance.getLanguage(\"111\", this.shopItem.mineralLevel);\r\n    }\r\n\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { CoinsBox } from \"./CoinsBox\";\n\n/**\n * scenes/shop/ShopScene.ls\n */\nexport class ShopSceneBase extends Laya.Scene {\n    public box_2!: Laya.Box;\n    public listPanel1!: Laya.List;\n    public listPanel2!: Laya.List;\n    public box_left!: Laya.Box;\n    public btn_back!: Laya.Button;\n    public btn_1!: Laya.Button;\n    public btn_2!: Laya.Button;\n    public btn_3!: Laya.Button;\n    public btn_4!: Laya.Button;\n    public btn_5!: Laya.Button;\n    public btn_6!: Laya.Button;\n    public box_middle!: Laya.Box;\n    public tf_name!: Laya.Label;\n    public tf_des!: Laya.Label;\n    public box_count!: Laya.Box;\n    public btn_reduce!: Laya.Button;\n    public btn_plus!: Laya.Button;\n    public tf_num!: Laya.Label;\n    public btn_recruit!: Laya.Button;\n    public img_const!: Laya.Image;\n    public tf_const!: Laya.Label;\n    public img_icon!: Laya.Image;\n    public img_sk!: Laya.Skeleton;\n    public CoinsBox!: CoinsBox;\n}\n\n", "const { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { SceneManager } from \"../../common/SceneManager\";\r\nimport { SceneType } from \"../../common/baseScene/SceneType\";\r\nimport { GameSetting } from \"../../global/GameSetting\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { ETHBlindBoxProxy } from \"../../global/contract/service/ETHBlindBoxProxy\";\r\nimport { ItemItem } from \"../../global/data/sheetItem/item/ItemItem\";\r\nimport { ShopItem } from \"../../global/data/sheetItem/shop/ShopItem\";\r\nimport { GameEvent } from \"../../global/event/GameEvent\";\r\nimport { Signal } from \"../../global/event/Signal\";\r\nimport { NumberUtil } from \"../../global/util/NumberUtil\";\r\nimport { GetItemDataModel } from \"../item/model/GetItemDataModel\";\r\nimport { GetItemService } from \"../item/service/GetItemService\";\r\nimport { NoticeMgr } from \"../notice/NoticeMgr\";\r\nimport { ShopSceneBase } from \"./ShopScene.generated\";\r\n\r\n@regClass('IPCUkD5kRse3Gz5tw0Aovw')\r\nexport class ShopScene extends ShopSceneBase {\r\n\r\n    public m_iLayerType: number;\r\n    public m_iPositionType: number;\r\n    onAwake(): void {\r\n        this.m_iLayerType = LayerManager.M_POP;\r\n        this.m_iPositionType = LayerManager.UP;\r\n        // this.m_ioffsetX = 20;\r\n        // if(GameSetting.m_bIsIphoneX ) {\r\n        //     this.m_ioffsetY = GameSetting.IPHONEX_TOP;\r\n        // } \r\n    }\r\n    private currTab:number = 0;\r\n    private type: number = 1;\r\n    // private hasFree: boolean = false;\r\n\r\n    onOpened(_type: any): void {\r\n        \r\n        if(_type){\r\n            this.type = _type;\r\n            this.onClickTab(this.type);\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    onEnable(): void {\r\n  \r\n        Signal.intance.on(GameEvent.EVENT_HERO_DRAW_BACK, this, this.onDrawBack);\r\n\r\n        this.btn_recruit.on(Laya.Event.CLICK, this, this.onRecruit);\r\n\r\n            this.btn_reduce.clickHandler = new Laya.Handler(this, this.handleClickBtn, [this.btn_reduce]);\r\n            this.btn_plus.clickHandler = new Laya.Handler(this, this.handleClickBtn, [this.btn_plus]);\r\n        \r\n\r\n        // this.hideLoadingBySelf = true;\r\n\r\n        // this.box_skill.on(Laya.Event.CLICK, this, this.onShowSkill);\r\n        \r\n        this.btn_1.on(Laya.Event.CLICK, this, this.onClickTab, [1]);\r\n        this.btn_2.on(Laya.Event.CLICK, this, this.onClickTab, [2]);\r\n\r\n        if(this.btn_back ) {\r\n            this.btn_back.on(Laya.Event.CLICK, this, this.setToMainScene)\r\n        }\r\n        this.listPanel1.vScrollBarSkin = \"\";\r\n        this.listPanel1.selectHandler = Laya.Handler.create(this, this.onSelectItem, [1], false);\r\n\r\n        this.listPanel2.vScrollBarSkin = \"\";\r\n        this.listPanel2.selectHandler = Laya.Handler.create(this, this.onSelectItem, [2], false);\r\n\r\n        // this.img_sk.visible = true;\r\n        // this.img_sk.on(Laya.Event.COMPLETE, this, this.stopAni, [1]);\r\n        this.img_sk.on(Laya.Event.PLAYED, this, this.stopAni, [2]);\r\n        // this.img_sk.on(Laya.Event.DISPLAY, this, this.stopAni, [3]);\r\n        // this.img_sk.on(Laya.Event.LOADED, this, this.stopAni, [4]);\r\n        // this.img_sk.on(Laya.Event.READY, this, this.stopAni, [5]);\r\n\r\n        this.box_2.visible = false;\r\n        // this.sk.on(Laya.Event.READY, this, this.onSkReady);\r\n        // this.img_sk[\"_complete\"] = Laya.Handler.create(this, this.stopAni, [6]);\r\n        // this.tf_congratulation.text = GameLanguageMgr.instance.getLanguage(131);\r\n        // this.tf_congratulation.visible = false;\r\n        // this.box_sucess2.visible = false;\r\n\r\n        // this.box_draw_4.visible = false;\r\n        this.initLuckDrawView();\r\n        // ETHBlindBoxProxy.instance.heroOutputRate();\r\n\r\n        let dHeight = (Laya.stage.height - GameSetting.DESIGN_HEIGHT)/2;\r\n        \r\n        // this.btn_back.y -= dHeight;\r\n\r\n    }\r\n\r\n\r\n\r\n    private async onRecruit():Promise<void>{\r\n        if(this.shopItem.open==0){\r\n            NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(12));//\r\n            return;\r\n        }\r\n        if(this.shopItem.type == 1){\r\n            this.setChou1Ani(\"animation\"+this.shopItem.icon+\"_1\");\r\n            \r\n            await ETHBlindBoxProxy.instance.recruit(this.shopItem.id); \r\n            this.setChou2Ani(\"animation\"+this.shopItem.icon+\"_2\");\r\n        }else{\r\n\r\n            await ETHBlindBoxProxy.instance.recruitItem(this.shopItem.id, this.addL); \r\n            // await ETHSeriesHeroMallProxy.instance.recruit(this.shopItem.id);\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public setTab(value: number) {\r\n        for(let i = 1;i<7;i++){\r\n            if(value == i){\r\n                (this as any)[\"btn_\"+i].getChildByName(\"selectBox\").visible = true;\r\n                (this as any)[\"btn_\"+i].getChildByName(\"tf_txt\").color = \"#143f6b\";\r\n                (this as any)[\"btn_\"+i].getChildByName(\"img_tab_icon\").skin = \"res/shop/img_shop_\"+i+\"_s.png\";\r\n            }else{\r\n                (this as any)[\"btn_\"+i].getChildByName(\"selectBox\").visible = false;            \r\n                (this as any)[\"btn_\"+i].getChildByName(\"tf_txt\").color = \"#7ff1fe\";  \r\n                (this as any)[\"btn_\"+i].getChildByName(\"img_tab_icon\").skin = \"res/shop/img_shop_\"+i+\".png\"; \r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n    private async initLuckDrawView():Promise<void>{\r\n        \r\n        \r\n        if(this.destroyed)\r\n            return;\r\n        if(this.type){\r\n            this.onClickTab(this.type);//tab Index\r\n        }else{\r\n            this.onClickTab(1);//tab Index\r\n        }\r\n\r\n    }\r\n    private shopItems:any[];\r\n\r\n    onClickTab(_index:number) {\r\n        if(this.currTab == _index)\r\n            return;\r\n        this.setTab(_index);\r\n        if(_index == 1){\r\n\r\n                \r\n                this.box_2.visible = true;\r\n                \r\n                if(this.destroyed){\r\n                    return;\r\n                }\r\n                this.shopItems = this.getItemByType(1);\r\n\r\n                this.listPanel1.array = this.shopItems;\r\n\r\n\r\n                this.listPanel1.visible = true;\r\n                this.listPanel2.visible = false;\r\n\r\n                this.listPanel1.selectedIndex = -1;\r\n                this.listPanel1.selectedIndex = 0;\r\n            \r\n        }else{\r\n            this.box_2.visible = true;\r\n                \r\n                if(this.destroyed){\r\n                    return;\r\n                }\r\n                this.shopItems = this.getItemByType(2);\r\n\r\n                this.listPanel2.dataSource = this.shopItems;\r\n                this.listPanel1.visible = false;\r\n                this.listPanel2.visible = true;\r\n                this.listPanel2.selectedIndex = -1;\r\n                this.listPanel2.selectedIndex = 0;\r\n\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    getItemByType(shopType: number) {\r\n        \r\n        var m_dicShopItems = SheetDataManager.intance.m_dicShops.values;\r\n        var items:any[] = [];\r\n        m_dicShopItems.forEach((shopItem: ItemItem) => {\r\n            if(shopItem.type == shopType)\r\n                items.push(shopItem);\r\n            \r\n        });\r\n        return items;\r\n    }\r\n\r\n\r\n    private shopItem:ShopItem;\r\n    private addL:number = 1;\r\n    private price:number = 0;\r\n\r\n    \r\n    onSelectItem(shopType:number, selectIndex:number): void { \r\n        this.shopItem = this.shopItems[selectIndex];\r\n        console.log(this.shopItem);\r\n        if(this.shopItem){\r\n\r\n            this.tf_name.text = GameLanguageMgr.instance.getLanguage(this.shopItem.title);\r\n            this.tf_des.text = GameLanguageMgr.instance.getLanguage(this.shopItem.des);\r\n            this.img_const.skin = GameResourceManager.instance.getMoneyIcon(this.shopItem.cost[0]);\r\n\r\n\r\n            // if(this.shopItem.open==0){\r\n            //     NoticeMgr.instance.notice(GameLanguageMgr.instance.getLanguage(12));//\r\n            // }\r\n\r\n            \r\n            this.addL = 1;\r\n            this.price = NumberUtil.formatNumber(this.shopItem.cost[1]);\r\n\r\n            this.setPriceByNum();\r\n\r\n            \r\n\r\n            if(shopType == 1){\r\n                \r\n\r\n                // this.img_bg.skin =  GameResourceManager.instance.getHeroQuality(this.shopItem.icon);\r\n                // this.img_icon.skin = GameResourceManager.instance.getHeroEggBigIcon(this.shopItem.icon);\r\n                // this.img_icon.y = 138;\r\n\r\n                this.img_icon.visible = false;\r\n            this.img_sk.visible = true;\r\n            this.setIdleAni(\"animation\"+this.shopItem.icon+\"_0\");\r\n\r\n\r\n                this.box_count.visible = false;\r\n                \r\n\r\n\r\n            }else if(shopType == 2){\r\n                // this.img_bg.skin =  GameResourceManager.instance.getItemQualityIcon(this.shopItem.icon);\r\n                this.img_icon.skin = GameResourceManager.instance.getItemBigIcon(this.shopItem.icon);\r\n                this.img_icon.y = 60;\r\n\r\n                this.img_icon.visible = true;\r\n            this.img_sk.visible = false;\r\n\r\n\r\n                this.box_count.visible = true;\r\n            }\r\n            this.btn_recruit.visible = true;\r\n\r\n\r\n        }else{\r\n            \r\n               \r\n            this.tf_name.text = \"\";\r\n            this.tf_des.text = \"\";\r\n            this.img_icon.visible = false;\r\n            this.img_sk.visible = false;\r\n            this.box_count.visible = false;\r\n            this.btn_recruit.visible = false;\r\n        }\r\n        \r\n    }\r\n\r\n    \r\n\r\n\r\n    private handleClickBtn(currentTarget: Laya.Button): void {\r\n        switch (currentTarget) {\r\n\r\n\r\n            case this.btn_reduce:\r\n                {\r\n                    if(this.addL > 1){\r\n                        this.addL--;\r\n                    }\r\n                    this.setPriceByNum();\r\n\r\n                }\r\n                break\r\n            case this.btn_plus:\r\n                {\r\n                    if(this.addL < 100){\r\n                        this.addL++;\r\n                    }\r\n                    // this.tf_num.text = this.addL + \"\";\r\n                    this.setPriceByNum();\r\n\r\n                }\r\n                break\r\n\r\n        }\r\n    }\r\n\r\n\r\n    private setPriceByNum(){\r\n\r\n\r\n        this.tf_num.text = this.addL + \"\";\r\n        this.tf_const.text = (this.addL * this.price)+\"\";\r\n    }\r\n\r\n    private setToMainScene():void{\r\n        SceneManager.intance.setCurrentScene(SceneType.M_SCENE_MAIN);\r\n    }\r\n\r\n    private isSkReady:boolean = false;\r\n\r\n\r\n\r\n    private stopAni(i: string):void{\r\n        console.log(\"stopAni: \" + i);\r\n        if(!this.isSkReady){\r\n            this.isSkReady = true;\r\n        \r\n            this.callLater(this.stopSk);\r\n        }\r\n        \r\n    }\r\n\r\n    stopSk(){\r\n        this.img_sk.paused();\r\n        this.img_sk.stop();\r\n    }\r\n\r\n    private setIdleAni(aniName:string){\r\n        if(this.isSkReady){\r\n            this.img_sk.play(aniName, false);\r\n            this.img_sk.stop();\r\n        }else{\r\n            this.img_sk.animationName = aniName;\r\n        }\r\n\r\n    }\r\n\r\n    private setChou1Ani(aniName:string){\r\n        if(this.isSkReady){\r\n            this.img_sk.play(aniName, true);\r\n            // this.img_sk.stop();\r\n        }else{\r\n            this.img_sk.animationName = aniName;\r\n        }\r\n\r\n    }\r\n\r\n    private setChou2Ani(aniName:string){\r\n        if(this.isSkReady){\r\n            this.img_sk.play(aniName, false);\r\n            // this.img_sk.stop();\r\n        }else{\r\n            this.img_sk.animationName = aniName;\r\n        }\r\n\r\n        Laya.timer.once(800, this, this.openHeroGetView);\r\n\r\n    }\r\n\r\n    openHeroGetView(){\r\n        GetItemDataModel.instance.autoPop = true;\r\n        GetItemService.instance.startShow();\r\n    }\r\n\r\n\r\n    private onDrawBack(data:any):void{\r\n        // if(data instanceof Array){\r\n        //     for (const heroVo of data) {\r\n        //         // let heroInfo:HeroInfo = new HeroInfo();\r\n        //         // heroInfo.id = 1;\r\n        //         // heroInfo.tokenId = _tokenId;\r\n        //         // HeroModel.instance.heroList.concat(heroInfo);\r\n        //         let _heroVo:HeroVo = heroVo as HeroVo;\r\n        //         // let drawHeroItem:DrawHeroItem = this.box_card as DrawHeroItem;\r\n        //         // drawHeroItem.dataSource = _heroVo;\r\n        //         // selectHeroItem.img_hero.skin = _heroVo.simgurl;\r\n        //         // selectHeroItem.tf_name.text = _heroVo.stokenid;\r\n        //         // this.startAni();\r\n        //         ModuleManager.intance.openModule(ModuleName.HeroGetDialog, _heroVo);\r\n        //     }          \r\n\r\n        // }else{\r\n        //     ErrorPopManager.instance.showErrorWord(data);\r\n        // }\r\n    }\r\n    \r\n\r\n\r\n\r\n    private startAni():void{\r\n        // this.box_sucess2.visible = true;\r\n        this.img_sk.paused();\r\n        this.img_sk.play(0, false);\r\n        // this.tf_congratulation.text = GameLanguageMgr.instance.getLanguage(131);\r\n        // this.tf_congratulation.visible = true;\r\n\r\n        // Laya.timer.once(1500, this, this.showCard);\r\n    }\r\n\r\n    // private showCard():void{\r\n\r\n    //     this.box_sucess2.visible = true;\r\n    //     this.box_skill.visible = false;\r\n    //     Laya.Tween.to(this.box_card, {scaleX:1.5, scaleY:1.5}, 100, null, Laya.Handler.create(this, this.onScaleEnd));\r\n\r\n    // }\r\n\r\n    // private onScaleEnd():void{\r\n    //     Laya.Tween.to(this.box_card, {scaleX:1.4, scaleY:1.4}, 100, null, Laya.Handler.create(this, this.onScaleEnd1));\r\n    // }\r\n\r\n    // private onScaleEnd1():void{\r\n    //     // this.box_skill.visible = true;\r\n    // }\r\n\r\n\r\n    public removeEvent():void{\r\n        Signal.intance.off(GameEvent.EVENT_HERO_DRAW_BACK, this, this.onDrawBack);\r\n        \r\n\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * scenes/union/UnionRankListItem.lh\n */\nexport class UnionRankListItemBase extends Laya.Box {\n    public bg!: Laya.Image;\n    public img_unionIcon!: Laya.Image;\n    public tf_name!: Laya.Label;\n    public img_lvBg!: Laya.Image;\n    public img_lvIcon!: Laya.Image;\n    public tf_lv!: Laya.Label;\n    public tf_num!: Laya.Label;\n}\n\n", "/*Shop\r\n * @Descripttion: \r\n * @version: \r\n * @Author: hjy\r\n * @Date: 2024-03-14 17:05:21\r\n * @LastEditors: hjy\r\n * @LastEditTime: 2024-03-14 21:31:49\r\n * @Description: \r\n */\r\nconst { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { ItemItem } from \"../../global/data/sheetItem/item/ItemItem\";\r\nimport { UnionItem } from \"../../global/data/sheetItem/union/UnionItem\";\r\nimport { NumberUtil } from \"../../global/util/NumberUtil\";\r\nimport { UnionRankListItemBase } from \"./UnionRankListItem.generated\";\r\n\r\n@regClass('cbbqawzdSI2g161G69xpUg')\r\nexport class UnionRankListItem extends UnionRankListItemBase {\r\n\r\n    public unionItem: UnionItem;\r\n    private isAddEvent:boolean = false;\r\n    \r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    //  fdd378\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public set dataSource(value: any) {\r\n        super.dataSource = value;\r\n        this.unionItem = value as UnionItem;\r\n        if(!this.unionItem ) {\r\n            return\r\n        }\r\n        // this.addEvent();\r\n        this.setCurrentOutPut();\r\n    }\r\n\r\n    async setCurrentOutPut() {\r\n\r\n        // public id: number; //id|\r\n        // public name: string; //name|\t\t\r\n        // public declaration: string; //declaration|\r\n        // public unionLv: number; //unionLv|\r\n        // public number: number; //number|\r\n        // public maxNumber: number; //maxNumber|\r\n\r\n\r\n        \r\n        this.tf_name.text = GameLanguageMgr.instance.getLanguage(this.unionItem.name);\r\n            // this.tf_des.text = GameLanguageMgr.instance.getLanguage(this.unionItem.des);\r\n\r\n\r\n\r\n        this.tf_lv.text = GameLanguageMgr.instance.getUILang(\"LV.\") + this.unionItem.unionLv;\r\n        this.tf_num.text = \"<font color='#25ff63'>\"+this.unionItem.number+\"</font>/\"+this.unionItem.maxNumber;\r\n\r\n        this.img_lvBg.skin = \"res/union1/img_trade_di_\" + (this.unionItem.unionLv > 3? 4 : this.unionItem.unionLv) + \".png\";\r\n        this.img_lvIcon.skin = \"res/union1/img_trade_\" + (this.unionItem.unionLv > 3? 4 : this.unionItem.unionLv) + \".png\";\r\n\r\n    }\r\n\r\n    onChange(isSelect:boolean){\r\n        if(isSelect){\r\n            this.bg.skin = \"res/union1/img_trade_bg_2.png\";\r\n            // this.tf_name.color = \"#ffffff\";\r\n        }else{\r\n            // this.tf_name.color = \"#357cc0\";\r\n            this.bg.skin = \"res/union1/img_trade_bg_1.png\";\r\n        }\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\nimport { CoinsBox } from \"../shop/CoinsBox\";\n\n/**\n * scenes/union/UnionScene.ls\n */\nexport class UnionSceneBase extends Laya.Scene {\n    public box_2!: Laya.Box;\n    public CoinsBox!: CoinsBox;\n    public box_show!: Laya.Box;\n    public img_icon!: Laya.Image;\n    public img_lvIcon!: Laya.Image;\n    public tf_name!: Laya.Label;\n    public tf_num!: Laya.Label;\n    public tf_des!: Laya.Label;\n    public btn_out!: Laya.Button;\n    public box_left!: Laya.Box;\n    public btn_back!: Laya.Button;\n    public list_union!: Laya.List;\n    public input_search!: Laya.TextInput;\n    public btn_search!: Laya.Button;\n}\n\n", "const { regClass } = Laya;\r\nimport { GameLanguageMgr } from \"../../common/GameLanguageMgr\";\r\nimport { GameResourceManager } from \"../../common/GameResourceManager\";\r\nimport { LayerManager } from \"../../common/LayerManager\";\r\nimport { SceneManager } from \"../../common/SceneManager\";\r\nimport { SceneType } from \"../../common/baseScene/SceneType\";\r\nimport { GameSetting } from \"../../global/GameSetting\";\r\nimport { SheetDataManager } from \"../../global/SheetDataManager\";\r\nimport { UnionItem } from \"../../global/data/sheetItem/union/UnionItem\";\r\nimport { StringTool } from \"../../util/StringTool\";\r\n\r\nimport { UnionSceneBase } from \"./UnionScene.generated\";\r\n\r\n@regClass('VfpfbqXcSQalDIkuosz8Rw')\r\nexport class UnionScene extends UnionSceneBase {\r\n\r\n    public m_iLayerType: number;\r\n    public m_iPositionType: number;\r\n    onAwake(): void {\r\n        this.m_iLayerType = LayerManager.M_POP;\r\n        this.m_iPositionType = LayerManager.UP;\r\n        // this.m_ioffsetX = 20;\r\n        // if(GameSetting.m_bIsIphoneX ) {\r\n        //     this.m_ioffsetY = GameSetting.IPHONEX_TOP;\r\n        // } \r\n    }\r\n    private currTab:number = 0;\r\n    private type: number = 1;\r\n    // private hasFree: boolean = false;\r\n\r\n    onOpened(_type: any): void {\r\n\r\n        this.type = _type;\r\n    }\r\n\r\n    onEnable(): void {\r\n  \r\n        // Signal.intance.on(GameEvent.EVENT_HERO_DRAW_BACK, this, this.onDrawBack);\r\n\r\n        // this.hideLoadingBySelf = true;\r\n\r\n        this.btn_search.on(Laya.Event.CLICK, this, this.onSearch);\r\n\r\n\r\n        if(this.btn_back ) {\r\n            this.btn_back.on(Laya.Event.CLICK, this, this.setToMainScene)\r\n        }\r\n        this.list_union.vScrollBarSkin = \"\";\r\n        this.list_union.selectHandler = Laya.Handler.create(this, this.onSelectItem, null, false);\r\n        this.list_union.renderHandler = Laya.Handler.create(this, this.onItemRender, null, false);\r\n\r\n        // this.listPanel2.vScrollBarSkin = \"\";\r\n\r\n\r\n\r\n        this.box_show.visible = false;\r\n        // this.box_2.visible = false;\r\n\r\n        this.initLuckDrawView();\r\n\r\n        let dHeight = (Laya.stage.height - GameSetting.DESIGN_HEIGHT)/2;\r\n        \r\n        // this.btn_back.y -= dHeight;\r\n\r\n    }\r\n\r\n\r\n\r\n    \r\n\r\n    private async initLuckDrawView():Promise<void>{\r\n        // await ETHBlindBoxProxy.instance.ownerBag();\r\n        this.getItemByName(\"\");\r\n        \r\n        if(this.destroyed)\r\n            return;\r\n\r\n    }\r\n\r\n\r\n    private items:any[] = [];\r\n    private hasItem:boolean = false;\r\n    getItemByName(searchName:string) {\r\n        this.list_union.selectedIndex = -1;\r\n        \r\n        this.items = [];\r\n        this.hasItem = false;\r\n\r\n        \r\n        \r\n        var m_dicUnionItems = SheetDataManager.intance.m_dicUnions.values;\r\n        var len = m_dicUnionItems.length;\r\n        \r\n        for (var i=0;i<len;i++) {\r\n            var _item = m_dicUnionItems[i];\r\n            var itemName = GameLanguageMgr.instance.getLanguage(_item.name);\r\n\r\n            if (StringTool.caseInsensitiveSearchWithRegex(itemName, searchName)) {\r\n\r\n                this.hasItem = true;\r\n\r\n                this.items.push(_item);                \r\n            }\r\n        }\r\n\r\n\r\n        this.list_union.array = this.items;\r\n        if(this.items.length>0)\r\n            this.list_union.selectedIndex = 0;\r\n        else\r\n            this.list_union.selectedIndex = -1;\r\n\r\n    }\r\n\r\n\r\n    onSearch(){\r\n        var searchName:string = this.input_search.text;\r\n        this.getItemByName(searchName);\r\n\r\n    }\r\n\r\n\r\n\r\n    private onItemRender(cell: any, index: number): void {\r\n        cell.onChange(this.list_union.selectedIndex == index);\r\n    }\r\n            // \r\n\r\n        public onSelectItem(selectIndex:number, x:any): void {\r\n            var unionItem:UnionItem = this.items[selectIndex];\r\n            console.log(unionItem);\r\n            if(unionItem){\r\n                // this.img_icon.skin = GameResourceManager.instance.getItemIcon(unionItem.icon);\r\n    \r\n                this.tf_name.text = GameLanguageMgr.instance.getLanguage(unionItem.name);\r\n                \r\n        \r\n                // this.txt_type.text = GameLanguageMgr.instance.getLanguage('6060') + GameLanguageMgr.instance.getLanguage(unionItem.type);\r\n        \r\n                this.tf_des.text = GameLanguageMgr.instance.getLanguage(unionItem.declaration);\r\n\r\n                this.tf_name.text = GameLanguageMgr.instance.getLanguage(unionItem.name);\r\n                // this.tf_des.text = GameLanguageMgr.instance.getLanguage(unionItem.des);\r\n    \r\n    \r\n    \r\n            // this.tf_lv.text = GameLanguageMgr.instance.getUILang(\"LV.\") + unionItem.unionLv;\r\n            this.tf_num.text = \"<font color='#25ff63'>\"+unionItem.number+\"</font>/\"+unionItem.maxNumber;\r\n    \r\n            // this.img_lvBg.skin = \"res/union1/img_trade_di_\" + (unionItem.unionLv > 3? 4 : unionItem.unionLv) + \".png\";\r\n            this.img_lvIcon.skin = \"res/union1/img_trade_\" + (unionItem.unionLv > 3? 4 : unionItem.unionLv) + \".png\";\r\n\r\n\r\n                this.box_show.visible = true;\r\n            }else{\r\n                \r\n                // this.img_icon.skin = null;    \r\n                // this.tf_name.text = \"\";\r\n                // this.tf_des.text = \"\";\r\n                this.box_show.visible = false;\r\n            }\r\n            \r\n        }\r\n\r\n\r\n\r\n    private setToMainScene():void{\r\n        SceneManager.intance.setCurrentScene(SceneType.M_SCENE_MAIN);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public removeEvent():void{\r\n        // Signal.intance.off(GameEvent.EVENT_HERO_DRAW_BACK, this, this.onDrawBack);\r\n\r\n    }\r\n}", "const { regClass, property } = Laya;\r\n/**\r\n * \r\n */\r\n @regClass('hIXP-u9_RfeIwPLhNGNjGw')\r\nexport default class Bullet extends Laya.Script {\r\n    constructor() { super(); }\r\n\r\n    onEnable(): void {\r\n        //\r\n        let rig: Laya.RigidBody = this.owner.getComponent(Laya.RigidBody);\r\n        rig.setVelocity({ x: 0, y: -10 });\r\n    }\r\n\r\n    onTriggerEnter(other: any, self: any, contact: any): void {\r\n        //\r\n        this.owner.removeSelf();\r\n    }\r\n\r\n    onUpdate(): void {\r\n        //\r\n        if ((this.owner as Laya.Sprite).y < -10) {\r\n            this.owner.removeSelf();\r\n        }\r\n    }\r\n\r\n    onDisable(): void {\r\n        //\r\n        Laya.Pool.recover(\"bullet\", this.owner);\r\n    }\r\n}", "\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('DQCudilORvOvMM7hTH8i7w')\r\nexport default class CloseBtn extends Laya.Script {\r\n\r\n    constructor() { super(); }\r\n\r\n    onEnable(): void {\r\n\r\n        this.owner.on(Laya.Event.MOUSE_DOWN, this, this.onClick);\r\n    }\r\n\r\n    onClick(e: Laya.Event): void {\r\n        //\r\n        Laya.stage.width = 1334;\r\n        Laya.stage.height = 750;\r\n        Laya.stage.scaleMode = Laya.Stage.SCALE_FIXED_WIDTH;\r\n        //\r\n        Laya.Scene.open(\"scenes/Index.ls\");\r\n\r\n\r\n    }\r\n\r\n    onDisable(): void {\r\n        this.owner.off(Laya.Event.MOUSE_DOWN, this);\r\n    }\r\n}", "const { regClass, property } = Laya;\r\nimport PhysicsGameMainRT from \"../scence/physicsDemo/PhysicsGameMainRT\";\r\n/**\r\n * \r\n */\r\n@regClass('3L23NCFLSAieUApqTrVoCQ')\r\nexport default class DropBox extends Laya.Script {\r\n    @property({ type: \"number\" })\r\n    /** */\r\n    level: number = 1;\r\n    /** */\r\n    private _text: Laya.Text;\r\n    /** */\r\n    private _rig: Laya.RigidBody\r\n\r\n    private _itemId: number;\r\n    public get itemId(): number {\r\n        return this._itemId;\r\n    }\r\n    public set itemId(value: number) {\r\n        this._itemId = value;\r\n        (this.owner as Laya.Image).skin = \"resources/UI/images/bag/\" + value + \".png\";\r\n    }\r\n\r\n    constructor() { super(); }\r\n    onEnable(): void {\r\n        /** */\r\n        this._rig = this.owner.getComponent(Laya.RigidBody);\r\n        this.level = Math.round(Math.random() * 5) + 1;\r\n        // this._text = this.owner.getChildByName(\"levelTxt\") as Laya.Text;\r\n        // this._text.text = this.level + \"\";\r\n    }\r\n\r\n    onUpdate(): void {\r\n        //\r\n        // (this.owner as Laya.Sprite).rotation++;\r\n    }\r\n\r\n    onCollisionEnter(collision: Laya.Collision): void {\r\n        console.log(\"collision: \", collision);\r\n    }\r\n\r\n    onTriggerEnter(other: any, self: any, contact: any): void {\r\n        var owner: Laya.Sprite = this.owner as Laya.Sprite;\r\n        console.log(\"owener: \", owner);\r\n        if (other.label === \"buttle\") {\r\n            //\r\n            // if (this.level > 1) {\r\n            //     this.level--;\r\n            //     this._text.text = (this.level + \"\");\r\n            //     owner.getComponent(Laya.RigidBody).setVelocity({ x: 0, y: -10 });\r\n            //     Laya.SoundManager.playSound(\"resources/sound/hit.wav\");\r\n            // } else {\r\n                if (owner.parent) {\r\n                    let effect: Laya.Animation = Laya.Pool.getItemByCreateFun(\"effect\", this.createEffect, this);\r\n                    effect.pos(owner.x, owner.y);\r\n                    owner.parent.addChild(effect);\r\n                    effect.play(0, true);\r\n                    owner.removeSelf();\r\n                    Laya.SoundManager.playSound(\"resources/sound/destroy.wav\");\r\n                }\r\n            // }\r\n            \r\n            // PhysicsGameMainRT.instance.addScore(1);\r\n        }\r\n        //  else if (other.label === \"ground\") {\r\n        //     //\r\n        //     owner.removeSelf();\r\n        //     PhysicsGameMainRT.instance.stopGame();\r\n        // }\r\n    }\r\n\r\n    /** */\r\n    createEffect(): Laya.Animation {\r\n        let ani: Laya.Animation = new Laya.Animation();\r\n        ani.loadAnimation(\"resources/ani/TestAni.ani\");\r\n        ani.on(Laya.Event.COMPLETE, null, recover);\r\n        function recover(): void {\r\n            ani.removeSelf();\r\n            Laya.Pool.recover(\"effect\", ani);\r\n        }\r\n        return ani;\r\n    }\r\n\r\n    onDisable(): void {\r\n        //\r\n        Laya.Pool.recover(\"dropBox\", this.owner);\r\n    }\r\n}", "const { regClass, property } = Laya;\r\nimport DropBox from \"./DropBox\";\r\nimport GameManager from \"../script/logic/GameManager\";\r\nimport { MatchHeroSpr } from \"../game/module/match/MatchHeroSpr\";\r\nimport { GlobalDataManager } from \"../game/global/GlobalDataManager\";\r\nimport { Dictionary } from \"../game/util/Dictionary\";\r\n@regClass('DknC7B57SZi-09Mz092daQ')\r\nexport default class Role extends Laya.Script {\r\n\r\n\r\n    \r\n    isCanClick: boolean;\r\n\r\n\r\n    // private _itemId: number = 0;\r\n    // public get itemId(): number {\r\n    //     return this._itemId;\r\n    // }\r\n    // public set itemId(value: number) {\r\n    //     this._itemId = value;\r\n    //     if(value == 0){\r\n    //         (this.owner.getChildByName(\"itemImg\") as Laya.Image).visible = false;\r\n    //     }else{\r\n            \r\n    //         (this.owner.getChildByName(\"itemImg\") as Laya.Image).skin = \"resources/UI/images/bag/\" + value + \".png\";\r\n    //         (this.owner.getChildByName(\"itemImg\") as Laya.Image).visible = true;\r\n    //     }\r\n        \r\n    // }\r\n    // catchItem() {\r\n    //     if(this.owner.enterItemId>0){\r\n    //         var enterItemSpr:Laya.Sprite = GameManager.instance.getItemById(this.owner.enterItemId);\r\n    //         enterItemSpr.removeSelf();\r\n    //         // enterItemSpr.visible = false;\r\n            \r\n    //         (this.owner.getChildByName(\"itemImg\") as Laya.Image).skin = \"resources/UI/images/bag/\" + this.owner.enterItemId + \".png\";\r\n\r\n\r\n    //     }\r\n    // }\r\n\r\n\r\n\r\n    // public get roleName(): string {\r\n    //     return this._roleName;\r\n    // }\r\n    // public set roleName(value: string) {\r\n    //     this._roleName = value;\r\n    //     (this.owner.getChildByName(\"roleName\") as Laya.Label).text = value;\r\n\r\n    // }\r\n\r\n    // public roleId:number = 0;\r\n    // public mLife: number = 5;\r\n\r\n    \r\n    // private mIsEnd: boolean = false;\r\n\r\n    // private mIsAttack: boolean = false;\r\n\r\n    // private mIsAttackStart: boolean = false;\r\n\r\n    // private mCanPlayFirst: boolean = true;\r\n\r\n    // private mAttackDelayTime: number = 0;\r\n\r\n\r\n    // private _animator: Laya.Animator2D;\r\n    // private heroSk: HeroSk;\r\n    /**  */\r\n\r\n\r\n\r\n\r\n    declare owner: MatchHeroSpr;\r\n    private touchHeroIds: Dictionary = new Dictionary();\r\n    constructor() { super(); }\r\n\r\n    onAwake(): void {\r\n        \r\n    }\r\n\r\n    onEnable(): void {\r\n\r\n        // this.heroSk = this.owner.heroSk;\r\n        // this.roleStand = this._owner.getChildByName(\"roleStand\") as Laya.Animation;\r\n        // this.roleRun = this._owner.getChildByName(\"roleRun\") as Laya.Animation;\r\n        // this.bg = this.owner.parent as Laya.Image;\r\n        // Laya.stage.on(Event.KEY_UP, this, this.onKeyUp);\r\n    }\r\n\r\n    onCollisionEnter(collision: Laya.Collision): void {\r\n        console.log(this[\"constructor\"].name + \" onCollisionEnter collision\", collision);\r\n    }\r\n    \r\n    onCollisionStay(collision: Laya.Collision): void {\r\n        console.log(this[\"constructor\"].name + \" onCollisionStay collision\", collision);\r\n    }\r\n\r\n    onCollisionExit(collision: Laya.Collision): void {\r\n        \r\n        console.log(this[\"constructor\"].name + \" onCollisionExit collision\", collision);\r\n    }\r\n\r\n    \r\n\r\n    \r\n    onTriggerEnter(other: Laya.ColliderBase, self?: Laya.ColliderBase, contact?: any): void {\r\n        console.log(this[\"constructor\"].name + \" onTriggerEnter other\", other, \"self\", self, contact);\r\n        if(other.label === \"ground\"){\r\n            // this.owner.inGround = true; //TODO:// \r\n            // Laya.Tween.clearAll(this.owner);\r\n            console.warn(\"ground in\");\r\n            // this.owner.enterItemId = other.owner.getComponent(DropBox).itemId;\r\n        }else if(other.label === \"item\"){\r\n            this.owner.enterItemId = other.owner.getComponent(DropBox).itemId;\r\n        }else if(other.label === \"role\"){\r\n            var enterRoleId = (other.owner as MatchHeroSpr).roomPlayerDto.id;\r\n\r\n            this.touchHeroIds.set(enterRoleId, other.owner);\r\n\r\n            if(this.owner.displacementType == 2){\r\n                var canAttack = GameManager.instance.canAttack(this.owner, other.owner as MatchHeroSpr);\r\n                if(canAttack){\r\n                    Laya.Tween.clearAll(this.owner);\r\n                }\r\n            }           \r\n            \r\n        }\r\n    }\r\n\r\n    \r\n\r\n    \r\n    onTriggerStay(other: Laya.ColliderBase, self?: Laya.ColliderBase, contact?: any): void {\r\n        console.log(this[\"constructor\"].name + \" onTriggerStay other\", other, \"self\", self, contact);\r\n    }\r\n    onTriggerExit(other: Laya.ColliderBase, self?: Laya.ColliderBase, contact?: any): void {\r\n        console.log(this[\"constructor\"].name + \" onTriggerExit other\", other, \"self\", self, contact);\r\n        if(other.label === \"ground\"){\r\n            this.owner.inGround = false;\r\n            // Laya.Tween.clearAll(this.owner);\r\n            console.warn(\"ground exit\");\r\n            // this.owner.enterItemId = other.owner.getComponent(DropBox).itemId;\r\n        }else if(other.label === \"item\"){\r\n            if(this.owner.enterItemId == other.owner.getComponent(DropBox).itemId){\r\n                this.owner.enterItemId = 0;\r\n            }\r\n        }else if(other.label === \"role\"){\r\n            var enterRoleId = (other.owner as MatchHeroSpr).roomPlayerDto.id;\r\n            this.touchHeroIds.remove(enterRoleId);\r\n            // if(this.owner.enterRoleId == (other.owner as MatchHeroSpr).roomPlayerDto.id){\r\n            //     this.owner.enterRoleId = 0;\r\n            // }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\n    updateIndex:number = 0;\r\n\r\n\r\n    lastSpeed:number;\r\n\r\n    onUpdate(): void {\r\n\r\n        if(!this.owner.isMe)\r\n            return;\r\n        if(this.owner.isStop)\r\n            return;\r\n        \r\n\r\n\r\n        if ( this.owner.speed>0 ) {// \r\n        // if (this.owner.isRun && !(this.owner.isMe && this.owner._isAttacking ) ) {// \r\n            // if(this.owner.lastRoleDirection != this.owner.roleDirection){\r\n                if(!this.owner.isLockAni){\r\n                    if(this.lastSpeed != this.owner.speed || this.owner.aniChange){\r\n                        this.owner.aniChange = false;\r\n                        if(this.owner.heroSk.isReady)\r\n                            this.owner.walk();\r\n                        this.lastSpeed = this.owner.speed;\r\n                    }\r\n\r\n                }\r\n                    \r\n                // this.playRoleAni(this.owner.roleDirection, \"run\");\r\n            // }\r\n            // this.owner.isRuning = true;\r\n            ////console.log(\"RoleId: \" + this.owner.roomPlayerDto.id + \", Role this.owner.roleDirection: \" + this.owner.roleDirection + \", Role this.owner.isRuning: \" + this.owner.isRuning);\r\n            \r\n                \r\n            switch(this.owner.roleDirection){\r\n                case 1:\r\n                    //\r\n                    this.owner.y = Math.round(this.owner.y - this.owner.speed);\r\n                    break;\r\n                case 2:\r\n                    //\r\n                    this.owner.x = Math.round(this.owner.x + this.owner.biasSpeed);\r\n                    this.owner.y = Math.round(this.owner.y - this.owner.biasSpeed);\r\n                    break;\r\n                case 3:\r\n                    //\r\n                    this.owner.x = Math.round(this.owner.x + this.owner.speed);\r\n                    break;\r\n                case 4:\r\n                    //\r\n                    this.owner.x = Math.round(this.owner.x + this.owner.biasSpeed);\r\n                    this.owner.y = Math.round(this.owner.y + this.owner.biasSpeed);\r\n                    break;\r\n                case 5:\r\n                    //\r\n                    this.owner.y = Math.round(this.owner.y + this.owner.speed);\r\n                    break;\r\n                case 6:\r\n                    //\r\n                    this.owner.x = Math.round(this.owner.x - this.owner.biasSpeed);\r\n                    this.owner.y = Math.round(this.owner.y + this.owner.biasSpeed);\r\n                    break;\r\n                    \r\n                case 7:\r\n                    //\r\n                    this.owner.x = Math.round(this.owner.x - this.owner.speed);\r\n                    break;\r\n                case 8:\r\n                    //\r\n                    this.owner.x = Math.round(this.owner.x - this.owner.biasSpeed);\r\n                    this.owner.y = Math.round(this.owner.y - this.owner.biasSpeed);\r\n                    break;\r\n            }\r\n\r\n\r\n            console.log(\"this.owner.inControl 0: \" + this.owner.inControl + \", id: \" + this.owner.roomPlayerDto.id);\r\n\r\n            if(this.owner.inControl && (!this.owner._isDead)){//,\r\n                \r\n                console.log(\"this.owner.inControl 1: \" + this.owner.inControl + \", id: \" + this.owner.roomPlayerDto.id);\r\n                this.touchHeroIds.values.forEach((otherHeroSpr: MatchHeroSpr) => {\r\n                    var canAttack = GameManager.instance.canTui(this.owner, otherHeroSpr);\r\n                    if(canAttack){//45\r\n                        console.log(\"this.owner.inControl 2: \" + this.owner.inControl + \", id: \" + this.owner.roomPlayerDto.id);\r\n                        otherHeroSpr.beiTui(this.owner.roomPlayerDto.id);\r\n                    }\r\n                    \r\n                });\r\n                // var otherHeroSpr = (other.owner as MatchHeroSpr);\r\n                \r\n            }\r\n\r\n        } else {\r\n            // this.owner.isRuning = false;\r\n            ////console.log(\"RoleId: \" + this.owner.roomPlayerDto.id + \", Role this.owner.roleDirection: \" + this.owner.roleDirection + \", Role this.owner.isRuning: \" + this.owner.isRuning);\r\n            if(!this.owner.isLockAni){\r\n                if(this.lastSpeed != this.owner.speed || this.owner.aniChange){\r\n                    this.owner.aniChange = false;\r\n                    this.owner.idle();\r\n                    this.lastSpeed = this.owner.speed;\r\n                }\r\n            }\r\n           \r\n            \r\n            // if(this.owner.lastRoleDirection != this.owner.roleDirection)\r\n            //     this.playRoleAni(this.owner.lastRoleDirection);\r\n        }\r\n\r\n        // if(this.owner.lastRoleDirection == this.owner.roleDirection){\r\n            if(this.updateIndex == 0){\r\n                this.owner.onSendMoveData();//2\r\n            }\r\n            this.updateIndex++;\r\n            if(this.updateIndex > 0){\r\n                // this.onSendMoveData();\r\n                // GameManager.instance.onSendMove(this.owner.roomPlayerDto.id, this.owner.speed, this.owner.roleDirection, this.owner.x, this.owner.y);\r\n                this.updateIndex = 0;\r\n            }\r\n        //     return;\r\n        // }else{\r\n        //     GameManager.instance.onSendMove(this.owner.roomPlayerDto.id, this.owner.speed, this.owner.roleDirection, this.owner.x, this.owner.y);\r\n        //     this.updateIndex = 0;\r\n\r\n        // }\r\n\r\n        // this.owner.lastRoleDirection = this.owner.roleDirection;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // //\r\n    // onKeyUp(e: Event): void {\r\n    //     // console.log(\"onKeyUp\");\r\n    //     this.playRoleAni(this.owner.roleDirection);\r\n    //     //\r\n    //     this.owner.roleDirection = \"\";\r\n    // }\r\n\r\n    onDisable(): void {\r\n    }\r\n}", "const { regClass, property } = Laya;\r\nimport DropBox from \"../../prefab/DropBox\";\r\nimport Bullet from \"../../prefab/Bullet\";\r\n/**\r\n * dropBoxbulletcreateBoxIntervalIDE\r\n * \r\n */\r\n@regClass('5iJgbfCiSn6Rc8upAfHtjA')\r\nexport default class PhysicsGameMain extends Laya.Script {\r\n    /** @prop {name:dropBox,tips:\"\",type:Prefab}*/\r\n    @property({ type: Laya.Prefab })\r\n    dropBox: Laya.Prefab;\r\n    /** @prop {name:bullet,tips:\"\",type:Prefab}*/\r\n    @property({type:Laya.Prefab})\r\n    bullet: Laya.Prefab;\r\n    /** @prop {name:createBoxInterval,tips:\"\",type:int,default:1000}*/\r\n    createBoxInterval: number = 1000;\r\n    /***/\r\n    private _time: number = 0;\r\n    /** */\r\n    private _started: boolean = false;\r\n    /** */\r\n    private _gameBox: Laya.Sprite;\r\n    /** */\r\n    private updateStop: boolean = false;\r\n\r\n    constructor() { super(); }\r\n\r\n\r\n    onEnable(): void {\r\n        let resArr: Array<string> = [\r\n            \"resources/UI/images/test/b1.png\"\r\n        ];\r\n\r\n        //2D\r\n        Laya.loader.load(resArr).then((res) => {\r\n\r\n            this._time = Date.now();\r\n            this._gameBox = this.owner.getChildByName(\"gameBox\") as Laya.Sprite;\r\n            //\r\n            Laya.stage.on(Laya.Event.BLUR, this, () => { this.updateStop = true });\r\n            //\r\n            Laya.stage.on(Laya.Event.FOCUS, this, () => { this.updateStop = false });\r\n\r\n            Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.onStageClick);\r\n\r\n        });\r\n\r\n\r\n\r\n    }\r\n    //onStart\r\n    onStart(): void {\r\n        //,_ground\r\n        let _ground: Laya.BoxCollider = this.owner.getChildByName(\"ground\").getComponent(Laya.BoxCollider);\r\n        //\r\n        _ground.width = Laya.stage.width;\r\n\r\n\r\n    }\r\n\r\n    onUpdate(): void {\r\n        //\r\n        if (this.updateStop) return;\r\n        //\r\n        let now = Date.now();\r\n        if (now - this._time > this.createBoxInterval && this._started) {\r\n            this._time = now;\r\n            this.createBox();\r\n        }\r\n    }\r\n\r\n\r\n    createBox(): void {\r\n        //\r\n        let box: Laya.Sprite = Laya.Pool.getItemByCreateFun(\"dropBox\", this.dropBox.create, this.dropBox);\r\n        box.pos(Math.random() * (Laya.stage.width - 100), -100);\r\n        this._gameBox.addChild(box);\r\n    }\r\n\r\n    onStageClick(e: Laya.Event): void {\r\n        //\r\n        e.stopPropagation();\r\n        //\r\n        let flyer: Laya.Sprite = Laya.Pool.getItemByCreateFun(\"bullet\", this.bullet.create, this.bullet);\r\n        flyer.pos(Laya.stage.mouseX, Laya.stage.mouseY);\r\n        this._gameBox.addChild(flyer);\r\n    }\r\n\r\n    /***/\r\n    startGame(): void {\r\n        if (!this._started) {\r\n            this._started = true;\r\n            this.enabled = true;\r\n        }\r\n    }\r\n\r\n    /** */\r\n    stopGame(): void {\r\n        this._started = false;\r\n        this.enabled = false;\r\n        this.createBoxInterval = 1000;\r\n        this._gameBox.removeChildren();\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * scenes/PhysicsGameMain.ls\r\n */\r\nexport class PhysicsGameMainRTBase extends Laya.Scene {\r\n    public tipLbll: Laya.Label;\r\n    public scoreLbl: Laya.Label;\r\n}\r\n\r\n", "const { regClass, property } = Laya;\r\nimport GameControl from \"./PhysicsGameMain\"\r\nimport { PhysicsGameMainRTBase } from \"./PhysicsGameMainRT.generated\";\r\n\r\n\r\n@regClass('Y5UkAabiTgWFZQnBL1EpEw')\r\n\r\n/**\r\n * IDERuntime\r\n * IDEvarthis.tipLbllthis.scoreLbl\r\n * \r\n */\r\nexport default class PhysicsGameMainRT extends PhysicsGameMainRTBase {\r\n    /** */\r\n    static instance: PhysicsGameMainRT;\r\n    /** */\r\n    private _score: number;\r\n    /** */\r\n    private _control: GameControl;\r\n\r\n    constructor() {\r\n        super();\r\n        PhysicsGameMainRT.instance = this;\r\n        //\r\n        // Laya.MouseManager.multiTouchEnabled = false;\r\n    }\r\n\r\n\r\n    onEnable(): void {\r\n        this._control = this.getComponent(GameControl);\r\n        //\r\n        this.tipLbll.on(Laya.Event.CLICK, this, this.onTipClick);\r\n    }\r\n\r\n    onTipClick(e: Laya.Event): void {\r\n        this.tipLbll.visible = false;\r\n        this._score = 0;\r\n        this.scoreLbl.text = \"\";\r\n        this._control.startGame();\r\n    }\r\n\r\n    /** */\r\n    addScore(value: number = 1): void {\r\n        this._score += value;\r\n        this.scoreLbl.text = \"\" + this._score;\r\n        //\r\n        if (this._control.createBoxInterval > 600 && this._score % 20 == 0) this._control.createBoxInterval -= 20; \r\n    }\r\n\r\n    /** */\r\n    stopGame(): void {\r\n        this.tipLbll.visible = true;\r\n        this.tipLbll.text = \"\";\r\n        this._control.stopGame();\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * Scenes&#x2F;uiDemo&#x2F;Msg.ls\r\n */\r\nexport class MsgRTBase extends Laya.Scene {\r\n    public msgLab: Laya.Label;\r\n}\r\n\r\n", "import { MsgRTBase } from \"./MsgRT.generated\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n\r\n@regClass('9kGOzpbbSOWSAmN0l9VtfQ')\r\nexport default class MsgRT extends MsgRTBase {\r\n\r\n\r\n    constructor() { super(); }\r\n\r\n    onOpened(param: any): void {\r\n        if (param) {\r\n            this.msgLab.x = param.point && param.point.x ? param.point.x : Laya.stage.mouseX - 50;\r\n            this.msgLab.y = param.point && param.point.y ? param.point.y : Laya.stage.mouseY - 80;\r\n            //\r\n            this.msgLab.text = (param.text);\r\n\r\n            Laya.Tween.to(this.msgLab, { y: this.msgLab.y - 100, alpha: 0 }, 1000, Laya.Ease.linearNone);\r\n        }\r\n    }\r\n    \r\n}", "const { regClass, property } = Laya;\r\nimport Browser = Laya.Browser;\r\nimport Render = Laya.Render;\r\nimport SpriteUtils = Laya.SpriteUtils;\r\n\r\n@regClass('ZtMxoJHQTWipjGWyGV51jQ')\r\nexport default class IframeElementRT extends Laya.Script {\r\n    @property({type:Laya.Button})\r\n    private videoBtn: Laya.Button;    \r\n    @property({type:Laya.Box})\r\n    private closeBox: Laya.Box;  \r\n    @property({type:Laya.Box})\r\n    private iframeBox: Laya.Box;  \r\n\r\n    static instance: IframeElementRT;\r\n    /** script */\r\n    scriptElement: any;\r\n    /** ifram */\r\n    iframeElement: any;\r\n    /** div */\r\n    divElement: any;\r\n\r\n    constructor() {\r\n        super();\r\n        IframeElementRT.instance = this;\r\n    }\r\n\r\n    onEnable(): void {\r\n        this.videoBtn.on(Laya.Event.MOUSE_DOWN, this, () => { this.createElementVideo(); });\r\n    }\r\n\r\n\r\n    /**  */\r\n    createElementVideo(): void {\r\n        //windowIframeElementRTJSIframeElementRT\r\n        Browser.window.IframeElementRT = this;\r\n\r\n        //dom\r\n        this.createScript();\r\n        this.createDiv();\r\n        this.createIframe(\"resources/files/video.html?url=layaAir.mp4\");\r\n\r\n        //dom\r\n        this.setDOMElementInArea();\r\n\r\n        //DOM\r\n        Laya.stage.on(Laya.Event.RESIZE, this, this.setDOMElementInArea);\r\n    }\r\n\r\n    /** DOM */\r\n    setDOMElementInArea(): void {\r\n        if (this.iframeElement != null && this.divElement != null) {\r\n            SpriteUtils.fitDOMElementInArea(this.divElement, this.closeBox, 0, 0, this.closeBox.width, this.closeBox.height);\r\n            SpriteUtils.fitDOMElementInArea(this.iframeElement, this.iframeBox, 0, 0, this.iframeBox.width, this.iframeBox.height);\r\n        }\r\n    }\r\n\r\n    /** script */\r\n    createScript(): void {\r\n        //script\r\n        this.scriptElement = Browser.document.createElement(\"script\");\r\n        //body\r\n        Browser.document.body.appendChild(this.scriptElement);\r\n        //script\r\n        this.scriptElement.innerHTML = \"function closeVideo(){IframeElementRT.closeVideo() }\";\r\n\r\n    }\r\n\r\n    /** iframeDOM */\r\n    createIframe(url: string): void {\r\n        //iframe\r\n        this.iframeElement = Browser.createElement(\"iframe\");\r\n        //body\r\n        Browser.document.body.appendChild(this.iframeElement);\r\n\r\n        //iframe\r\n        this.iframeElement.style.zIndex = Render.canvas.style.zIndex + 998;\r\n        this.iframeElement.src = url;\r\n        this.iframeElement.style.margin = \"0\";\r\n        this.iframeElement.style.scrolling = \"no\";\r\n        this.iframeElement.style.frameborder = \"0\";\r\n        this.iframeElement.style.padding = \"0\";\r\n        this.iframeElement.style.left = \"0\";\r\n        this.iframeElement.style.top = \"0px\";\r\n        this.iframeElement.style.position = \"absolute\";\r\n    }\r\n\r\n    /** div\r\n     *  domdom\r\n     */\r\n    createDiv(): void {\r\n        this.divElement = Laya.Browser.createElement(\"div\");\r\n        Laya.Browser.document.body.appendChild(this.divElement);\r\n        this.divElement.innerHTML = \"<img src='resources/files/x.png' width='60px' height='60px' onclick='closeVideo()'/>\"\r\n        this.divElement.style.zIndex = Render.canvas.style.zIndex + 999;\r\n    }\r\n\r\n    /** */\r\n    closeVideo(): void {\r\n        //dom\r\n        Laya.Browser.document.body.removeChild(this.scriptElement);\r\n        Laya.Browser.document.body.removeChild(this.iframeElement);\r\n        Laya.Browser.document.body.removeChild(this.divElement);\r\n\r\n        //\r\n        this.scriptElement = this.iframeElement = this.divElement = null;\r\n\r\n        //\r\n        Laya.stage.off(Laya.Event.RESIZE, this, this.setDOMElementInArea);\r\n\r\n        //\r\n        //this.close();\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * scenes/UiMain.ls\r\n */\r\nexport class UiMainRTBase extends Laya.Scene {\r\n    public topTab!: Laya.Tab;\r\n    public tabPage!: Laya.ViewStack;\r\n    public item0Tab!: Laya.Tab;\r\n    public item0Page!: Laya.ViewStack;\r\n    public item1Tab!: Laya.Tab;\r\n    public item1Page!: Laya.ViewStack;\r\n    public item2Tab!: Laya.Tab;\r\n    public item2Page!: Laya.ViewStack;\r\n    public item3Tab!: Laya.Tab;\r\n    public item3Page!: Laya.ViewStack;\r\n    public item4Tab!: Laya.Tab;\r\n    public item4Page!: Laya.ViewStack;\r\n}\r\n\r\n", "const { regClass, property } = Laya;\r\n\r\nimport IframeElementRT from \"./page/IframeElementRT\";\r\nimport { UiMainRTBase } from \"./UiMainRT.generated\";\r\n\r\n\r\n@regClass('gbAKGLFtQ5WL6-NpVocAEA')\r\nexport default class UiMainRT extends UiMainRTBase {    \r\n\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onEnable(): void {\r\n        //\r\n        Laya.Physics2D.I && (Laya.Physics2D.I.enableDebugDraw = false);\r\n\r\n        this.tabBindViewStack();\r\n        // this.onClicked();\r\n        this.topTab.selectedIndex = 0;\r\n        this.item0Tab.selectedIndex = 0;\r\n    }\r\n\r\n    /**  */\r\n    onClicked(): void {\r\n        let openSceneBtn: Laya.Button = this.item2Tab.getChildByName(\"item2\") as Laya.Button,\r\n            openSceneBtn2: Laya.Button = this.item2Tab.getChildByName(\"item3\") as Laya.Button,\r\n            openDialogBtn: Laya.Button = this.item2Tab.getChildByName(\"item4\") as Laya.Button;\r\n\r\n        openSceneBtn.on(Laya.Event.MOUSE_DOWN, this, () => { Laya.Scene.open(\"scenes/uiDemo/page/OpenMainScene.ls\", false) });\r\n        openSceneBtn2.on(Laya.Event.MOUSE_DOWN, this, () => { Laya.Scene.open(\"scenes/uiDemo/page/OpenScene.ls\", false) });\r\n        openDialogBtn.on(Laya.Event.MOUSE_DOWN, this, () => { Laya.Scene.open(\"scenes/uiDemo/page/Dialog.ls\", false, { \"title\": \"\", \"text\": \"\" }) });\r\n    }\r\n\r\n    /**tabViewStack*/\r\n    tabBindViewStack(): void {\r\n        //tabViewStack\r\n        this.topTab.selectHandler = new Laya.Handler(this, (index: number) => {\r\n            this.tabPage.selectedIndex = index;\r\n            if( index == 1 )\r\n                this.item1Tab.selectedIndex = 0;\r\n            if( index == 2 )\r\n                this.item2Tab.selectedIndex = 0;\r\n            if( index == 3 )\r\n                this.item3Tab.selectedIndex = 0;\r\n            if( index == 4 )\r\n                this.item4Tab.selectedIndex = 0;\r\n            //\r\n            Laya.Physics2D.I && (Laya.Physics2D.I.enableDebugDraw = false);\r\n            //DOM\r\n            !!IframeElementRT.instance.iframeElement && IframeElementRT.instance.closeVideo();\r\n            index == 2 && this.item2Page.selectedIndex == 1 && !IframeElementRT.instance.iframeElement && IframeElementRT.instance.createElementVideo();\r\n            \r\n        });\r\n\r\n        //tabViewStack\r\n        this.item0Tab.selectHandler = new Laya.Handler(this, (index: number) => {\r\n            this.item0Page.selectedIndex = index;\r\n        });\r\n        this.item1Tab.selectHandler = new Laya.Handler(this, (index: number) => {\r\n            this.item1Page.selectedIndex = index;\r\n            if (index !== 4 && Laya.Physics2D.I) Laya.Physics2D.I.enableDebugDraw = false;\r\n            else if (index == 4 && Laya.Physics2D.I) Laya.Physics2D.I.enableDebugDraw = true;\r\n        });\r\n        this.item2Tab.selectHandler = new Laya.Handler(this, (index: number) => {\r\n            this.item2Page.selectedIndex = index;\r\n            switch (index) {\r\n                case 1:\r\n                    !IframeElementRT.instance.iframeElement && IframeElementRT.instance.createElementVideo();\r\n                    break;\r\n                case 2:\r\n                    Laya.Scene.open(\"scenes/uiDemo/page/OpenMainScene.ls\", false);\r\n                    break;\r\n                case 3:\r\n                    //PrefabUI\r\n                    Laya.loader.load(\"prefab/uiDemo/page/Win.lh\").then(res=> {\r\n                        let win = <Laya.Box>res.create();\r\n                        this.tabPage.parent.addChild(win);\r\n                    });     \r\n                    // SceneView      \r\n                    // Laya.Scene.open(resources//uiDemo/page/OpenScene.ls\", false);\r\n                    break;\r\n                case 4:\r\n                    //PrefabDialog\r\n                    Laya.loader.load(\"prefab/uiDemo/page/Dialog.lh\").then(res=> {\r\n                        let dlg = <Laya.Dialog>res.create();\r\n                        dlg.show();\r\n                    });\r\n                    // SceneDialog\r\n                    // Laya.Scene.open(resources//uiDemo/page/Dialog.ls\", false, { \"title\": \"\", \"text\": \"\" });\r\n                    break;\r\n            }\r\n\r\n            index !== 1 && !!IframeElementRT.instance.iframeElement && IframeElementRT.instance.closeVideo();\r\n        });\r\n        this.item3Tab.selectHandler = new Laya.Handler(this, (index: number) => {\r\n            this.item3Page.selectedIndex = index\r\n        });\r\n        this.item4Tab.selectHandler = new Laya.Handler(this, (index: number) => {\r\n            this.item4Page.selectedIndex = index\r\n        });\r\n    }\r\n\r\n    onDisable(): void {\r\n    }\r\n}", "const { regClass, property } = Laya;\r\n\r\n@regClass('tmkUlMggQi20FZpy6nC1aw')\r\nexport default class AtlasAniRT extends Laya.Script {\r\n    @property({type:Laya.Button})\r\n    private playAni: Laya.Button;    \r\n    @property({type:Laya.Button})\r\n    private stopAni: Laya.Button;  \r\n    @property({type:Laya.ComboBox})\r\n    private selectAni: Laya.ComboBox;  \r\n    @property({type:Laya.Animation})\r\n    private aniSource: Laya.Animation; \r\n/**\r\n * \r\n */\r\n    /** true */\r\n    private isPlay: boolean = false;\r\n    onAwake(): void {\r\n\r\n        console.log(\"\");\r\n        //\r\n        this.createAniTemplate(\"moveB\");\r\n        this.createAniTemplate(\"moveC\");\r\n        this.createAniTemplate(\"moveE\");\r\n        this.createAniTemplate(\"moveF\");\r\n        this.createAniTemplate(\"moveH\");\r\n        this.createAniTemplate(\"moveI\");\r\n        this.createAniTemplate(\"moveK\");\r\n        this.createAniTemplate(\"moveL\");\r\n        this.aniSource.play(0,true,\"moveB\");\r\n\r\n    }\r\n\r\n    onEnable(): void {\r\n        \r\n        //\r\n        this.playAni.on(Laya.Event.MOUSE_DOWN, this, () => {\r\n            this.isPlay = true;\r\n            this.aniSource.play(0, true, this.selectAni.selectedLabel);\r\n        });\r\n        this.stopAni.on(Laya.Event.MOUSE_DOWN, this, () => {\r\n            this.isPlay = false;\r\n            this.aniSource.isPlaying && this.aniSource.stop();\r\n        });\r\n\r\n\r\n        //\r\n        this.selectAni.selectHandler = new Laya.Handler(this, () => {\r\n            this.isPlay ? this.aniSource.play(0, true, this.selectAni.selectedLabel) : this.aniSource.play(0, false, this.selectAni.selectedLabel);\r\n        });\r\n\r\n    }\r\n\r\n\r\n    /** \r\n     * @param name \r\n     * @param len \r\n     */\r\n    createAniTemplate(name: string, len: number = 8): void {\r\n\r\n        /** */\r\n        let aniFrames: Array<string> = [];\r\n        for (let i: number = 0; i < len; i++) {\r\n            //\r\n            aniFrames.push(\"resources/UI/role/atlasAni/139x/\" + name + i + \".png\");\r\n        }\r\n        //CPU\r\n        Laya.Animation.createFrames(aniFrames, name);\r\n    }\r\n\r\n    onError(err: string): void {\r\n        console.log(\": \" + err);\r\n    }\r\n\r\n}", "const { regClass, property } = Laya;\r\n\r\n@regClass('8gw7FS4iT1q8EhdN3sWklQ')\r\nexport default class FrameAniRT extends Laya.Script {\r\n    @property({type:Laya.Button})\r\n    private playAni: Laya.Button;    \r\n    @property({type:Laya.Button})\r\n    private stopAni: Laya.Button;  \r\n    @property({type:Laya.ComboBox})\r\n    private selectAni: Laya.ComboBox;  \r\n    @property({type:Laya.Animation})\r\n    private aniSource: Laya.Animation; \r\n    \r\n/** \r\n * @readme \r\n * \r\n */\r\n    /** true */\r\n    private isPlay: boolean = false;\r\n\r\n    onEnable(): void {\r\n        //\r\n        this.isPlay = true;\r\n        this.playAnimation(this.selectAni.selectedLabel);\r\n\r\n        //\r\n        this.playAni.on(Laya.Event.MOUSE_DOWN, this, () => {\r\n            this.isPlay = true;\r\n            this.playAnimation(this.selectAni.selectedLabel);\r\n        });\r\n        this.stopAni.on(Laya.Event.MOUSE_DOWN, this, () => {\r\n            this.isPlay = false;\r\n            this.aniSource.isPlaying && this.aniSource.stop();\r\n        });\r\n\r\n        //\r\n        this.selectAni.selectHandler = new Laya.Handler(this, () => {\r\n            this.isPlay ? this.playAnimation(this.selectAni.selectedLabel) : this.playAnimation(this.selectAni.selectedLabel, false);\r\n        });\r\n\r\n    }\r\n\r\n\r\n    /** \r\n     * @param name \r\n     * @param loop \r\n     * @param len \r\n     */\r\n    playAnimation(name: string, loop: boolean = true, len: number = 7): void {\r\n\r\n        /** */\r\n        let aniFrames: Array<string> = [];\r\n        for (let i: number = 0; i < len; i++) {\r\n            //\r\n            aniFrames.push(\"resources/UI/role/frameAni/\" + name + i + \".png\");\r\n        }\r\n\r\n        //,\r\n        this.aniSource.loadImages(aniFrames).play(0, loop);\r\n        // API\r\n    }\r\n\r\n}", "const { regClass, property } = Laya;\r\n\r\nimport Templet = Laya.Templet;\r\nimport Event = Laya.Event;\r\nimport SpineSkeleton = Laya.SpineSkeleton;\r\n/**\r\n * :\r\n * @readme1 spineLayaAirIDEspinesk\r\n * \r\n * @readme2 spinehttps://ldc2.layabox.com/doc/?nav=zh-ts-1-5-4\r\n * @readme3 https://ldc2.layabox.com/doc/?nav=zh-ts-1-5-5\r\n * @readme4 spine\r\n * @readme5 spinespineskelLayaAir3.73.84.0\r\n * https://ldc2.layabox.com/doc/?nav=zh-ts-1-5-6\r\n */\r\n @regClass('qTd2xmRXT4i0Re94qly0Lg')\r\nexport default class SkeletonAni extends Laya.Script {\r\n    /** (spineDragonBones) */\r\n    // private skeletonTemplet: Templet;\r\n    /** spine */\r\n    // private spineTemplet: SpineTemplet;\r\n    /** */\r\n    private skeletonAni: Laya.Skeleton;\r\n    /**spine */\r\n    private spineAni: Laya.SpineSkeleton;\r\n    /**  */\r\n    private skinArray: Array<string> = [\"goblin\", \"goblingirl\"];\r\n    /**  */\r\n    private skinIndex: number = 0;\r\n    /** spine  */\r\n    private spineAniIndex: number = 6;\r\n    /** spine */\r\n    private skeletonNode: Laya.Sprite;\r\n    /**spine */\r\n    private spineNode: Laya.Sprite;\r\n    /** spine */\r\n    private spineAniNum: number;\r\n\r\n    onEnable(): void {\r\n        this.createLayaSpine();\r\n        this.createSpine();\r\n    }\r\n\r\n    /**layaAirspine */\r\n    createLayaSpine(): void {\r\n        this.skeletonNode = this.owner.getChildByName(\"skeletonNode\") as Laya.Sprite;\r\n        // this.skeletonTemplet = new Templet();\r\n        // this.skeletonTemplet.on(Event.COMPLETE, this, this.parseComplete);\r\n        Laya.loader.load(\"resources/UI/role/spineAni/goblins.sk\").then((templet: Templet) => {\r\n            //1\r\n            this.skeletonAni = templet.buildArmature(1);\r\n            this.skeletonNode.addChild(this.skeletonAni);\r\n            this.skeletonAni.x = 128;\r\n            this.skeletonAni.y = 390;\r\n\r\n                        //spine\r\n                        this.spineAniNum = this.skeletonAni.getAnimNum();\r\n\r\n            //\r\n            this.skeletonAni.play(0, true);\r\n            //\r\n            this.changeSkin();\r\n\r\n            //\r\n            this.skeletonNode.on(Event.CLICK, this, this.changeSkin);\r\n\t\t});\r\n        //\r\n        // this.skeletonTemplet.loadAni(\"role/spineAni/goblins.sk\");\r\n        //IDE\r\n        \r\n    }\r\n\r\n    /**  */\r\n    parseComplete(): void {\r\n\r\n    }\r\n\r\n    /**spine */\r\n    createSpine(): void {\r\n        //IDE\r\n        this.spineNode = this.owner.getChildByName(\"spineNode\") as Laya.Sprite;\r\n        //spinespineIDEspine\r\n        // this.spineTemplet = new SpineTemplet();//Laya.SpineVersion.v3_8);\r\n        // this.spineTemplet.on(Event.COMPLETE, this, this.spineParseComplete)\r\n        // this.spineTemplet.loadAni(\"role/spineAni/spineboy-pma.skel\");\r\n        Laya.loader.load(\"resources/UI/role/spineAni/spineboy-pma.skel\",Laya.Loader.SPINE).then((templet: Laya.SpineTemplet) => {\r\n            //spine\r\n            this.spineAni = new SpineSkeleton();\r\n            this.spineAni.templet = templet;\r\n            this.spineNode.addChild(this.spineAni);\r\n            this.spineAni.scale(0.3, 0.3);\r\n            this.spineAni.pos(220, 390);\r\n\r\n            //spine\r\n            this.spineAniNum = this.spineAni.getAnimNum();\r\n            //\r\n            this.spineAni.play(this.spineAniIndex, true);\r\n            //\r\n            this.spineNode.on(Event.CLICK, this, this.changeAni);\r\n\t\t});        \r\n        \r\n    }\r\n\r\n    /** spine */\r\n    spineParseComplete(): void {\r\n\r\n    }\r\n\r\n    /**  */\r\n    changeAni(): void {\r\n        //spine\r\n        ++this.spineAniIndex >= this.spineAniNum && (this.spineAniIndex = 5);\r\n        //\r\n        this.spineAni.play(this.spineAniIndex, true, true);\r\n    }\r\n\r\n\r\n\r\n    /**  */\r\n    changeSkin(): void {\r\n        //spine,showSkinByIndex(index)\r\n        this.skeletonAni.showSkinByName(this.skinArray[this.skinIndex]);\r\n        //indexskinIndex\r\n        // this.skeletonAni.showSkinByIndex(index);\r\n\r\n        //\r\n        ++this.skinIndex >= this.skinArray.length && (this.skinIndex = 0);\r\n    }\r\n\r\n}", "const { regClass, property } = Laya;\r\n\r\nimport Prefab = Laya.Prefab;\r\nimport Image = Laya.Image;\r\nimport Event = Laya.Event;\r\nimport Panel = Laya.Panel;\r\nimport Point = Laya.Point;\r\n\r\n@regClass('zBb5TGy7Swu5_GpFiGzUng')\r\nexport default class AStar extends Laya.Script {\r\n\r\n    @property({type:Laya.Sprite})\r\n    private gameMap: Laya.Sprite;  \r\n\r\n    @property({type:Laya.Prefab})\r\n    private roleAni: Laya.Prefab;\r\n\r\n    /** @prop {name:runAniName, tips:\"16015\", type:String, default:\"Right,Rdown1,Rdown2,Rdown3,Down,Ldown3,Ldown2,Ldown1,Left,Lup1,Lup2,Lup3,Up,Rup3,Rup2,Rup1\"}*/\r\n    @property({type:\"string\"})\r\n    private runAniName: string = \"runRight,runRDown1,runRDown2,runRDown3,runDown,runLDown3,runLDown2,runLDown1,runLeft,runLUp1,runLUp2,runLUp3,runUp,runRUp3,runRUp2,runRUp1\";\r\n    \r\n    /** @prop {name:standAniName, tips:\"807\", type:String, default:\"Right,Rdown,Down,Ldown,Left,Lup,Up,Rup\"}*/\r\n    @property({type:\"string\"})\r\n    private standAniName: string = \"right,Rdown,down,Ldown,left,Lup,up,Rup\";\r\n    /** @prop {name:gameMap, tips:\"\", type:Node} */\r\n    @property({type:Laya.Panel})\r\n    private sceneWindow: Panel;\r\n\t\r\n    private tiledMap: Laya.TiledMap;\r\n    /** stagestage */\r\n    private stageMouse: Point = new Point();\r\n    /**  */\r\n    private angle: number = 0;\r\n    /**  */\r\n    private lastAngle: number;\r\n    /**  */\r\n    private isMoving: boolean = false;\r\n    /**  */\r\n    private roleAniNode: Laya.Sprite;\r\n    private _animator: Laya.Animator2D;\r\n    private isRun: boolean = false;\t\r\n\r\n    private graph: any;\r\n    private _everyPath: any[];\r\n    private opts: any;\r\n\r\n    /** x */\r\n    private lastX: number;\r\n    /** y */\r\n    private lastY: number;\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onEnable(): void {\r\n\t\tthis.createMap();\r\n\r\n        //panel\r\n        this.sceneWindow.on(Event.MOUSE_UP, this, this.mouseUp);\r\n\r\n        //\r\n        this.roleAniNode = this.roleAni.create() as Laya.Sprite;\r\n        this.sceneWindow.addChild(this.roleAniNode);\r\n        this.roleAniNode.pivot(this.roleAniNode.width / 2 , this.roleAniNode.height / 2 + 26);\r\n        this.roleAniNode.scale(0.6,0.6);\r\n        this.roleAniNode.x = this.lastX = 48;\r\n        this.roleAniNode.y = this.lastY = 48;\r\n\r\n        //\r\n        this._animator = this.roleAniNode.getComponent<Laya.Animator2D>(Laya.Animator2D);\r\n\r\n\t\t//\r\n\t\tlet aniState : Laya.AnimatorState2D = this._animator.getDefaultState();\r\n\t\tconsole.log(aniState.name);\r\n\r\n\r\n        this.createWallMap();\r\n    }\r\n\r\n    private createWallMap(): void {\r\n        \r\n        Laya.loader.load(\"resources/tiledMap/desert_new.json\").then(() => {\r\n            //listjson\r\n            let _json = Laya.loader.getRes(\"resources/tiledMap/desert_new.json\").data; \r\n            let data =  _json.layers[0].data;  \r\n            // console.log(data);    \r\n            let mapData : Number[][];\r\n            mapData = new Array();\r\n            for (var i = 0; i < 40 ; i++) {\r\n                mapData[i] = new Array();\r\n                for (var j = 0; j < 60 ; j++) {\r\n                    if( data[i*60+j] == 30 )\r\n                        mapData[i][j] = 1;\r\n                    else \r\n                        mapData[i][j] = 0;\r\n                }\r\n            }\r\n            // console.log(mapData);\r\n\r\n            this.graph = new (window as any).Graph(mapData);\r\n            this.opts = [];\r\n            this.opts.closest = true;\r\n            this.opts.heuristic = (window as any).astar.heuristics.diagonal;        \r\n        });    \r\n    }\r\n\r\n    mouseUp(e: Event): void {\r\n        if( this.isMoving )\r\n            return;\r\n        this.stageMouse.x = Laya.stage.mouseX;\r\n        this.stageMouse.y = Laya.stage.mouseY;\r\n        let mapMouse = this.gameMap.globalToLocal(this.stageMouse);\r\n        // console.log(mapMouse);    \r\n        var start = this.graph.grid[Math.ceil(this.roleAniNode.y/32)-1][Math.ceil(this.roleAniNode.x/32)-1];\r\n        var end = this.graph.grid[Math.ceil(mapMouse.y/32)-1][Math.ceil(mapMouse.x/32)-1];  \r\n        // console.log(start,end);       \r\n        this._everyPath = (window as any).astar.search(this.graph, start, end, {\r\n            closest: this.opts.closest\r\n        });\r\n        // console.log(this._everyPath);    \r\n        if( this._everyPath.length > 0 )\r\n        {\r\n            \r\n            this.isMoving = true;\r\n        }\r\n        //\r\n        Laya.timer.loop(100, this, this.loopfun);              \r\n    }\r\n\r\n    private loopfun(): void {\r\n\t\tif (this._everyPath.length > 0) {\r\n            // console.log(this._everyPath[0].x,this._everyPath[0].y);\r\n            let x = this._everyPath[0].y * 32 + 16;\r\n            let y = this._everyPath[0].x * 32 + 16;\r\n\r\n            if( x == this.lastX )\r\n            {\r\n                if( y > this.lastY )\r\n                    this.angle = 90;\r\n                else   \r\n                    this.angle = 270;\r\n            }\r\n            else\r\n            {\r\n                if( x > this.lastX )\r\n                    this.angle = 0;\r\n                else   \r\n                    this.angle = 180;\r\n            }\r\n                \r\n            this.switchAni(\"run\");\r\n            this.lastX = x;\r\n            this.lastY = y;\r\n            \r\n\t\t\t//\r\n\t\t\tLaya.Tween.to(this.roleAniNode, { x: x, y: y }, 100);\r\n\t\t\tthis._everyPath.splice(0,1);\r\n\t\t}\r\n        else{\r\n            this.switchAni(\"stand\");\r\n            Laya.timer.clear(this, this.loopfun); \r\n            this.isMoving = false; \r\n        }\r\n\t}\r\n\r\n    \t//\r\n\tcreateMap(): void {\r\n\t\t//\r\n\t\tthis.tiledMap = new Laya.TiledMap();\r\n\t\t//destroy\r\n\t\tthis.tiledMap.createMap(\"resources/tiledMap/desert_new.json\", new Laya.Rectangle(0, 0, this.sceneWindow.width, this.sceneWindow.height), new Laya.Handler(this, this.completeHandler));\r\n\t}\r\n\r\n\tprivate onLoaded(): void {\r\n\t\tthis.tiledMap.mapSprite().removeSelf();\r\n\t\tthis.gameMap.addChild(this.tiledMap.mapSprite());\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate completeHandler(e: any = null): void {\r\n\t\tthis.onLoaded();\r\n\t}\r\n\r\n\r\n    /** \r\n     * @param aniType \r\n     */\r\n    switchAni(aniType: string): void {\r\n        if (aniType == \"run\") {\r\n\t\t\t\tlet runS : string = this.getOrientation(this.angle, this.runAniName);\r\n                this._animator.play(runS);\r\n\t\t\t\t// console.log(runS);\r\n                this.isRun = true;\r\n        } else {\r\n            this.isRun = false;\r\n\t\t\tlet standS : string = this.getOrientation(this.angle, this.standAniName);\r\n\t\t\t// console.log(standS);\r\n            this.lastAngle !== this.angle && this._animator.play(standS);\r\n        }        \r\n\r\n    }\r\n\r\n\r\n    /**  \r\n     * @param angle \r\n     * @param aniName \r\n     * @return \r\n    */\r\n    getOrientation(angle: number, aniName: string): string {\r\n        let aniArr: Array<string> = aniName.split(\",\");\r\n        const angleConditions: number = 360 / aniArr.length;\r\n        return aniArr[Math.floor(angle / angleConditions)];\r\n    }\r\n\r\n\r\n\tonDisable(): void {\r\n\t\t// Laya.stage.off(Event.MOUSE_DOWN, this, this.mouseDown);\r\n\t\tLaya.stage.off(Event.MOUSE_UP, this, this.mouseUp);\r\n\t\t// Laya.stage.off(Event.MOUSE_MOVE, this, this.mouseMove);\r\n\t\tif (this.tiledMap) {\r\n\t\t\tthis.tiledMap.destroy();\r\n\t\t}\r\n\t}\r\n}", "const { regClass, property } = Laya;\r\nimport Rectangle = Laya.Rectangle;\r\n/**\r\n * \r\n * @readme1 \r\n * \r\n *  \r\n * @readme2 \r\n */\r\n @regClass('naI7Ga3ZQzuwHxZXbiaZEw')\r\nexport default class ShapeDetection extends Laya.Script {\r\n    /**  */\r\n    private _rect1: Rectangle = Rectangle.TEMP;\r\n    /**  */\r\n    private _rect2: Rectangle = Rectangle.TEMP;\r\n\r\n    /**  \r\n     * @param self \r\n     * @param target \r\n     * @returns booleantrueflase\r\n    */\r\n    rectDetection(self: Laya.Sprite, target: Laya.Sprite): boolean {\r\n        //\r\n        return !(//\r\n            self.x > target.x + target.width ||\r\n            self.x + self.width < target.x ||\r\n            self.y > target.y + target.height ||\r\n            self.y + self.height < target.y\r\n        );\r\n    }\r\n\r\n    /**  \r\n     * @param self \r\n     * @param targets \r\n     * @param type 012 \r\n     * @returns collisionNodes\r\n    */\r\n    collisionWith(self: Laya.Sprite, targets: Array<any>, type: number): Array<any> {\r\n        /**  */\r\n        let collisionNodes: Array<any> = [];\r\n        if (type == 0) {\r\n            /**  */\r\n            var p1: Laya.Point = Laya.Point.create(),\r\n                p1PivotX: number = self.width / 2,\r\n                p1PivotY: number = self.height / 2,\r\n                p2: Laya.Point = Laya.Point.create(),\r\n                p1Radius: number,\r\n                p2Radius: number;\r\n\r\n            //\r\n            p1.x = self.x + p1PivotX;\r\n            p1.y = self.y + p1PivotY;\r\n            //\r\n            p1Radius = this.rectToRadius(self.width, self.height);\r\n        } else if (type == 2) {\r\n            /**  */\r\n            var targetVertices: Array<any>,\r\n                /**  */\r\n                selfVertices: Array<any>;\r\n            selfVertices = this.arrayToPoint(self);\r\n        }\r\n\r\n        for (let i = 0; i < targets.length; i++) {\r\n            if (self == targets[i]) continue;\r\n            switch (type) {\r\n                case 0:\r\n                    p2.x = targets[i].x + (targets[i].width / 2);\r\n                    p2.y = targets[i].y + (targets[i].height / 2);\r\n                    p2Radius = this.rectToRadius(targets[i].width, targets[i].height);\r\n\r\n                    this.circleDetection(p1, p2, p1Radius + p2Radius) && collisionNodes.push(targets[i]);\r\n                    // this.circlesCollision(p1, p2, p1Radius, p2Radius) && collisionNodes.push(targets[i]);\r\n                    break;\r\n                case 1:\r\n                    this.rectDetection(self, targets[i]) && collisionNodes.push(targets[i]);\r\n                    break;\r\n                case 2:\r\n                    //\r\n                    if (self.name === \"c1\") {//\r\n                        targetVertices = this.arrayToPoint(targets[i]);\r\n                        this.circleAndPolygonDetection(self, targetVertices, targets[i]) && collisionNodes.push(targets[i]);\r\n                    } else if (targets[i].name === \"c1\") {//\r\n                        this.circleAndPolygonDetection(targets[i], selfVertices, self) && collisionNodes.push(targets[i]);\r\n                    } else {//\r\n                        targetVertices = this.arrayToPoint(targets[i]);\r\n                        this.polygonDetection(selfVertices, targetVertices, self, targets[i]) && collisionNodes.push(targets[i]);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n        return collisionNodes;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param circel \r\n     * @param polygonVertices \r\n     * @param polygonNode \r\n     * @returns \r\n     */\r\n    circleAndPolygonDetection(circel: Laya.Sprite, polygonVertices: Array<any>, polygonNode: Laya.Sprite): boolean {\r\n        /**  */\r\n        let sides = this.getSides(polygonVertices),\r\n            /**  */\r\n            axises: Array<any> = [],\r\n            /**  */\r\n            circelCenter: Laya.Point = Laya.Point.create(),\r\n            /** */\r\n            nearestPoint: Laya.Point = Laya.Point.create(),\r\n            /**  */\r\n            radius: number = circel.hitArea._hit._cmds[0].radius,\r\n            /**  */\r\n            targetList: Array<any> = this.getNodeCoord(polygonVertices, polygonNode);\r\n\r\n        //\r\n        circelCenter.x = circel.x + circel.hitArea._hit._cmds[0].x;\r\n        circelCenter.y = circel.y + circel.hitArea._hit._cmds[0].y;\r\n\r\n        //\r\n        nearestPoint = this.getNearestPoint(circelCenter, targetList);\r\n        axises.push(new Laya.Point(nearestPoint.x - circelCenter.x, nearestPoint.y - circelCenter.y));\r\n\r\n        //()\r\n        for (let i: number = 0, len: number = sides.length; i < len; i++) axises.push(this.perpendicular(sides[i]));\r\n\r\n        for (let i: number = 0, len: number = axises.length; i < len; i++) {\r\n            let axis = axises[i],\r\n                s = this.getCircleProjection(circelCenter, axis, radius),\r\n                t = this.getPolygonProjection(targetList, axis);\r\n\r\n            //\r\n            if (!this.isOverlap(s, t)) return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param circelCenter  \r\n     * @param list \r\n     * @returns nearestPoint \r\n     */\r\n    getNearestPoint(circelCenter: Laya.Point, list: Array<any>): Laya.Point {\r\n        /** */\r\n        let nearestPoint: Laya.Point = list[0],//\r\n            /**  */\r\n            minDistance: number = this.getDistance(circelCenter, nearestPoint),\r\n            /**  */\r\n            nowPoint: Laya.Point,\r\n            /**  */\r\n            nowDistance: number;\r\n\r\n        //\r\n        for (let i: number = 1; i < list.length; i++) {\r\n            nowPoint = list[i];\r\n            nowDistance = this.getDistance(circelCenter, nowPoint);\r\n            //\r\n            if (nowDistance < minDistance) {\r\n                minDistance = nowDistance;\r\n                nearestPoint = nowPoint;\r\n            }\r\n        }\r\n        return nearestPoint;\r\n    }\r\n\r\n\r\n    /** \r\n     * @param selfVertices \r\n     * @param targetVertices \r\n     */\r\n    polygonDetection(selfVertices: Array<any>, targetVertices: Array<any>, selfNode: Laya.Sprite, targetNode: Laya.Sprite): boolean {\r\n        /**   */\r\n        let sides = this.getSides(selfVertices).concat(this.getSides(targetVertices)),\r\n            /**  */\r\n            axises: Array<any> = [],\r\n            /**  */\r\n            selfList: Array<any> = this.getNodeCoord(selfVertices, selfNode),\r\n            targetList: Array<any> = this.getNodeCoord(targetVertices, targetNode);\r\n\r\n        //()\r\n        for (let i: number = 0, len: number = sides.length; i < len; i++) axises.push(this.perpendicular(sides[i]));\r\n\r\n        for (let i: number = 0, len: number = axises.length; i < len; i++) {\r\n            let axis = axises[i],\r\n                s = this.getPolygonProjection(selfList, axis),\r\n                t = this.getPolygonProjection(targetList, axis);\r\n\r\n            //\r\n            if (!this.isOverlap(s, t)) return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n\r\n    /**  \r\n     * @param self \r\n     * @param target \r\n    */\r\n    isOverlap(self: any, target: any): boolean {\r\n        let min: number, max: number;\r\n        //\r\n        min = (self.min < target.min) ? self.min : target.min;\r\n        //\r\n        max = (self.max > target.max) ? self.max : target.max;\r\n        //,\r\n        return (self.max - self.min) + (target.max - target.min) >= max - min;\r\n    }\r\n\r\n\r\n    /**  */\r\n    getNodeCoord(vertices: Array<any>, node: Laya.Sprite): Array<any> {\r\n        let _arr: Array<any> = [];\r\n        for (let i: number = 0; i < vertices.length; i++) {\r\n            let _point: Laya.Point = Laya.Point.create();\r\n            _point.x = vertices[i].x + node.x + node.hitArea._hit._cmds[0].x;\r\n            _point.y = vertices[i].y + node.y + node.hitArea._hit._cmds[0].y;\r\n            _arr.push(_point);\r\n        }\r\n        return _arr;\r\n    }\r\n\r\n    /** \r\n     * @param list  \r\n     * @param axis \r\n    */\r\n    getPolygonProjection(list: Array<any>, axis: Laya.Point): any {\r\n        let min = null, max = null;\r\n\r\n        for (let i = 0; i < list.length; i++) {\r\n            /**  */\r\n            let projection = this.dotProduct(list[i], axis) / this.getLength(axis);\r\n\r\n            //\r\n            (min === null || projection < min) && (min = projection);\r\n            //\r\n            (max === null || projection > max) && (max = projection);\r\n        }\r\n        //\r\n        return { min: min, max: max };\r\n    }\r\n\r\n    /**  \r\n     * @param circelCenter \r\n     * @param axis \r\n     * @param circleRadius \r\n    */\r\n    getCircleProjection(circelCenter: Laya.Point, axis: Laya.Point, circleRadius: number): any {\r\n        /**  */\r\n        let projection = this.dotProduct(circelCenter, axis) / this.getLength(axis);\r\n        //\r\n        return { min: projection - circleRadius, max: projection + circleRadius };\r\n    }\r\n\r\n    /**  \r\n     *  @param width \r\n     *  @param height \r\n     *  @return \r\n     * */\r\n    rectToRadius(width: number, height: number): number {\r\n        let radius: number;\r\n        //\r\n        if (width == height) {\r\n            radius = width / 2;\r\n        } else {//,\r\n            radius = Math.sqrt(width * width + height * height) / 2;\r\n        }\r\n        return radius;\r\n    }\r\n\r\n    /**  \r\n     * @param p1 \r\n     * @param p2 \r\n     * @param distance \r\n     * @returns boolean true:false:\r\n    */\r\n    circleDetection(p1: Laya.Point, p2: Laya.Point, distance: number): boolean {\r\n        //\r\n        return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2)) <= distance;\r\n    }\r\n\r\n    /**  \r\n     * @param p1 \r\n     * @param p2 \r\n     * @param p1Radius \r\n     * @param p2Radius \r\n    */\r\n    circlesCollision(p1: Laya.Point, p2: Laya.Point, p1Radius: number, p2Radius: number): boolean {\r\n        let axis = this.subtract(p1, p2),\r\n            s = this.getCircleProjection(p1, axis, p1Radius),\r\n            t = this.getCircleProjection(p2, axis, p2Radius);\r\n\r\n        //\r\n        if (this.isOverlap(s, t)) return true;\r\n        return false;\r\n    }\r\n\r\n    /** \r\n     * \r\n     * @param sp \r\n     */\r\n    arrayToPoint(sp: Laya.Sprite): Array<any> {\r\n        let points: Array<any> = [], hitPoints: Array<any> = [];\r\n        hitPoints = sp.hitArea._hit._cmds[0].points;\r\n        if (hitPoints && hitPoints.length > 3) {\r\n            for (let i = 0; i < hitPoints.length / 2; i++) {\r\n                points[i] = Laya.Point.create();\r\n                points[i].x = hitPoints[i * 2];\r\n                points[i].y = hitPoints[i * 2 + 1];\r\n            }\r\n        }\r\n        return points;\r\n    }\r\n\r\n    /** \r\n     * \r\n     */\r\n    perpendicular(p: Laya.Point): Laya.Point {\r\n        let _temp: Laya.Point = Laya.Point.create();\r\n        //yx\r\n        _temp.x = p.y;\r\n        _temp.y = -p.x;\r\n        return _temp;\r\n    }\r\n\r\n    /**  \r\n     * @param p \r\n    */\r\n    getNormal(p: Laya.Point): Laya.Point {\r\n        //\r\n        let sum = Math.sqrt(p.x * p.x + p.y * p.y);\r\n        //\r\n        return new Laya.Point(p.y / sum, (0 - p.x) / sum);\r\n    }\r\n\r\n    /**  \r\n     * @param vertices \r\n     * @returns Array<any> \r\n    */\r\n    getSides(vertices: any): Array<any> {\r\n        var list = vertices,\r\n            /**  */\r\n            length = list.length,\r\n            /**  */\r\n            sides = new Array();\r\n\r\n        //3\r\n        if (length >= 3) {\r\n            for (var i = 1, lastPoint = list[0]; i < length; i++) {\r\n                let nowPoint = list[i];\r\n                //\r\n                sides.push(this.subtract(nowPoint, lastPoint));\r\n                //\r\n                lastPoint = nowPoint;\r\n            }\r\n            //0\r\n            sides.push(this.subtract(list[0], list[length - 1]));\r\n        }\r\n        return sides;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param p \r\n     */\r\n    getLength(p: Laya.Point): number {\r\n        return Math.sqrt(p.x * p.x + p.y * p.y);\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param p1 \r\n     * @param p2 \r\n     */\r\n    dotProduct(p1: Laya.Point, p2: Laya.Point): number {\r\n        return p1.x * p2.x + p1.y * p2.y;\r\n    }\r\n\r\n    /** \r\n     * @param p2 \r\n     * @param p1 \r\n     */\r\n    subtract(p2: Laya.Point, p1: Laya.Point): Laya.Point {\r\n        let _point: Laya.Point = Laya.Point.create();\r\n        return _point.setTo(p2.x - p1.x, p2.y - p1.y);\r\n    }\r\n\r\n    /**  \r\n     * @param p1 \r\n     * @param p2 \r\n    */\r\n    getDistance(p1: Laya.Point, p2: Laya.Point): number {\r\n        let dx = p1.x - p2.x,\r\n            dy = p1.y - p2.y;\r\n        return Math.sqrt(dx * dx + dy * dy);\r\n    }\r\n\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * prefab/uiDemo/interactive/ShapeDetection.lh\r\n */\r\nexport class ShapeDetectionRTBase extends Laya.View {\r\n    public c1: Laya.Sprite;\r\n    public c11: Laya.Sprite;\r\n    public p1: Laya.Sprite;\r\n    public p11: Laya.Sprite;\r\n    public p2: Laya.Sprite;\r\n    public p22: Laya.Sprite;\r\n    public detectionType: Laya.RadioGroup;\r\n}\r\n\r\n", "const { regClass, property } = Laya;\r\nimport ShapeDetection from \"./ShapeDetection\";\r\nimport { ShapeDetectionRTBase } from \"./ShapeDetectionRT.generated\";\r\n@regClass('RrGHZH_SROCrF5XxFa05sg')\r\nexport default class ShapeDetectionRT extends ShapeDetectionRTBase {\r\n    /** UI */\r\n    static i: ShapeDetectionRT;\r\n    /**  */\r\n    private _script: ShapeDetection;\r\n    /**  */\r\n    private _detectionType: number = 0;\r\n    /**  */\r\n    private collisionNodes: Array<any> = null;\r\n\r\n    constructor() {\r\n        super();\r\n        ShapeDetectionRT.i = this;\r\n    }\r\n\r\n    onEnable(): void {\r\n        this.collisionNodes = [this.c1, this.p1, this.p2];\r\n        //\r\n        this._script = this.getComponent(ShapeDetection);\r\n        //\r\n        this.detectionType.selectHandler = new Laya.Handler(this, this.onSelected);\r\n        //\r\n        this.detectionType.selectedIndex = 0;\r\n        // this.setCircleLine([this.c11, this.p11, this.p22]);\r\n        // this.onSelected(0);\r\n    }\r\n\r\n    /**  */\r\n    onSelected(index: number): void {\r\n        console.log(\"onSelected:\"+index);\r\n        this._detectionType = index;\r\n        switch (index) {\r\n            case 0:\r\n                this.setCircleLine([this.c11, this.p11, this.p22]);\r\n                break;\r\n            case 1:\r\n                this.setRectLine([this.c11, this.p11, this.p22]);\r\n                break;\r\n            case 2:\r\n                this.c11.graphics.clear();\r\n                this.p11.graphics.clear();\r\n                this.p22.graphics.clear();\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**  \r\n     * @param self \r\n    */\r\n    collisionWith(self: Laya.Sprite): void {\r\n        /**  */\r\n        let nodes: Array<any>;\r\n        nodes = this._script.collisionWith(self, this.collisionNodes, this._detectionType);\r\n        if (nodes.length > 0) {\r\n            nodes.push(self);\r\n            this.setLineWidth(nodes);\r\n        } else {\r\n            this.retsetLineWidth();\r\n        }\r\n    }\r\n\r\n    /**  \r\n     * @param nodes \r\n     */\r\n    setLineWidth(nodes: Array<any>): void {\r\n        for (let i = 0; i < nodes.length; i++) {\r\n            nodes[i]._graphics._cmds[0].lineWidth = 3;\r\n        }\r\n    }\r\n\r\n\r\n    /**  */\r\n    retsetLineWidth(): void {\r\n        for (let i = 0; i < this.collisionNodes.length; i++) {\r\n            this.collisionNodes[i]._graphics._cmds[0].lineWidth = 0;\r\n        }\r\n    }\r\n\r\n    /**  \r\n     * @param nodes \r\n     * @param lineWidth \r\n     * @param lineColor \r\n    */\r\n    setCircleLine(nodes: Array<any>, lineWidth: number = 1, lineColor: string = \"#1e00fb\"): void {\r\n        for (let i = 0; i < nodes.length; i++) {\r\n            nodes[i].graphics.clear();\r\n            let x: number = nodes[i].width / 2,\r\n                y: number = nodes[i].height / 2,\r\n                radius: number = this._script.rectToRadius(nodes[i].width, nodes[i].height);\r\n\r\n            nodes[i].graphics.drawCircle(x, y, radius, null, lineColor, lineWidth);\r\n        }\r\n    }\r\n\r\n    /**  \r\n     * @param nodes \r\n     * @param lineWidth \r\n     * @param lineColor \r\n    */\r\n    setRectLine(nodes: Array<any>, lineWidth: number = 1, lineColor: string = \"#1e00fb\"): void {\r\n        for (let i = 0; i < nodes.length; i++) {\r\n            nodes[i].graphics.clear();\r\n            nodes[i].graphics.drawRect(nodes[i].x, nodes[i].y, nodes[i].width, nodes[i].height, null, lineColor, lineWidth);\r\n        }\r\n    }\r\n}", "const { regClass, property } = Laya;\r\n\r\nimport Prefab = Laya.Prefab;\r\nimport Image = Laya.Image;\r\nimport Event = Laya.Event;\r\nimport Panel = Laya.Panel;\r\nimport Point = Laya.Point;\r\n\r\n@regClass('k2DFVaFIQEyMRaElgOWsVw')\r\nexport default class TileMapRT extends Laya.Script {\r\n\r\n    @property(Laya.Sprite)\r\n    private gameMap: Laya.Sprite;  \r\n\r\n    @property(Laya.Prefab)\r\n    private roleAni: Laya.Prefab;\r\n\r\n    /** @prop {name:runAniName, tips:\"16015\", type:String, default:\"Right,Rdown1,Rdown2,Rdown3,Down,Ldown3,Ldown2,Ldown1,Left,Lup1,Lup2,Lup3,Up,Rup3,Rup2,Rup1\"}*/\r\n    @property({type:\"string\"})\r\n    private runAniName: string = \"runRight,runRDown1,runRDown2,runRDown3,runDown,runLDown3,runLDown2,runLDown1,runLeft,runLUp1,runLUp2,runLUp3,runUp,runRUp3,runRUp2,runRUp1\";\r\n    \r\n    /** @prop {name:standAniName, tips:\"807\", type:String, default:\"Right,Rdown,Down,Ldown,Left,Lup,Up,Rup\"}*/\r\n    @property({type:\"string\"})\r\n    private standAniName: string = \"right,Rdown,down,Ldown,left,Lup,up,Rup\";\r\n    /** @prop {name:gameMap, tips:\"\", type:Node} */\r\n    @property({type:Laya.Panel})\r\n    private sceneWindow: Panel;\r\n    @property(Laya.Image)\r\n    private joystickBG: Image;/**  */\r\n\t\r\n    private tiledMap: Laya.TiledMap;\r\n\r\n    /**  */\r\n    private joystickAxis: Image;\r\n    /**  */\r\n    private maxDistance: number;\r\n    /** touchID */\r\n    private touchId: number;\r\n    /** stagestage */\r\n    private stageMouse: Point = new Point();\r\n    /**  */\r\n    private axisPivot: Point = new Point();\r\n    /**  */\r\n    private angle: number = 0;\r\n    /**  */\r\n    private lastAngle: number;\r\n    /**  */\r\n    private radian: number = 0;\r\n    /**  */\r\n    private lastRunAniName: string;    \r\n    /**  */\r\n    private isMoving: boolean = false;\r\n    /**  */\r\n    private roleAniNode: Laya.Sprite;\r\n    private _animator: Laya.Animator2D;\r\n    private isRun: boolean = false;\t\r\n\tprivate mLastX: number = 0;\r\n\tprivate mLastY: number = 0;\r\n    constructor() {\r\n        super();\r\n\r\n    }\r\n\r\n    onEnable(): void {\r\n\t\tthis.createMap();\r\n\r\n        //\r\n        this.joystickAxis = this.joystickBG.getChildByName(\"joystickAxis\") as Image;\r\n\r\n        //2\r\n        this.maxDistance = this.joystickBG.width - this.joystickAxis.width;\r\n\r\n        //IDEjoystickAxis\r\n        this.axisPivot.x = this.joystickAxis.x;\r\n        this.axisPivot.y = this.joystickAxis.y;\r\n\r\n        //panel\r\n        this.sceneWindow.on(Event.MOUSE_DOWN, this, this.mouseDown);\r\n        this.sceneWindow.on(Event.MOUSE_MOVE, this, this.mouseMove);\r\n        this.sceneWindow.on(Event.MOUSE_UP, this, this.mouseUp);\r\n        this.sceneWindow.on(Event.MOUSE_OUT, this, this.mouseUp);\r\n\r\n        //\r\n        this.roleAniNode = this.roleAni.create() as Laya.Sprite;\r\n        this.sceneWindow.addChild(this.roleAniNode);\r\n        this.roleAniNode.pivot(this.roleAniNode.width / 2, this.roleAniNode.height / 2);\r\n        this.roleAniNode.x = this.sceneWindow.width / 2;\r\n        this.roleAniNode.y = this.sceneWindow.height / 2;\r\n\r\n        //\r\n        this._animator = this.roleAniNode.getComponent<Laya.Animator2D>(Laya.Animator2D);\r\n\r\n\t\t//\r\n\t\tlet aniState : Laya.AnimatorState2D = this._animator.getDefaultState();\r\n\t\tconsole.log(aniState.name);\r\n    }\r\n\r\n    \t//\r\n\tcreateMap(): void {\r\n\t\t//\r\n\t\tthis.tiledMap = new Laya.TiledMap();\r\n\t\t//destroy\r\n\t\tthis.tiledMap.createMap(\"resources/tiledMap/desert_new.json\", new Laya.Rectangle(0, 0, this.sceneWindow.width, this.sceneWindow.height), new Laya.Handler(this, this.completeHandler));\r\n\t}\r\n\r\n\tprivate onLoaded(): void {\r\n\t\tthis.tiledMap.mapSprite().removeSelf();\r\n\t\tthis.gameMap.addChild(this.tiledMap.mapSprite());\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate completeHandler(e: any = null): void {\r\n\t\tthis.onLoaded();\r\n\t}\r\n\r\n    /** panel \\ */\r\n    mouseDown(e: Event): void {\r\n        //touchId\r\n        this.touchId = e.touchId;\r\n        this.isMoving = true;\r\n        this.updateJoystickPoint();\r\n    }\r\n\r\n    /**  */\r\n    updateJoystickPoint(): void {\r\n        //stage,\r\n        this.stageMouse.x = Laya.stage.mouseX;\r\n        this.stageMouse.y = Laya.stage.mouseY;\r\n        let joystickBGMouse = this.joystickBG.globalToLocal(this.stageMouse),\r\n            /**  */\r\n            mouseX = joystickBGMouse.x - this.joystickAxis.width / 2,\r\n            mouseY = joystickBGMouse.y - this.joystickAxis.height / 2;\r\n\r\n        //\r\n        this.radian = Math.atan2(mouseY - this.axisPivot.y, mouseX - this.axisPivot.x);\r\n        this.lastAngle = this.angle;\r\n        this.angle = Math.round(this.radian * 180 / Math.PI * 10) / 10;\r\n        this.angle < 0 && (this.angle += 360);\r\n\r\n        /**joystickBG*/\r\n        let distance = this.getDistance(this.joystickBG.width / 2, this.joystickBG.height / 2, joystickBGMouse.x, joystickBGMouse.y);\r\n\r\n        // console.log({ distance }, this.maxDistance);\r\n        //\r\n        if (distance > this.maxDistance && this.lastAngle !== this.angle) {\r\n            this.joystickAxis.x = Math.floor(Math.cos(this.radian) * this.maxDistance) + this.axisPivot.x;\r\n            this.joystickAxis.y = Math.floor(Math.sin(this.radian) * this.maxDistance) + this.axisPivot.y;\r\n        } else {\r\n            //, joystickBGjoystickAxisjoystickAxis\r\n            this.joystickAxis.pos(joystickBGMouse.x - this.joystickAxis.width / 2, joystickBGMouse.y - this.joystickAxis.height / 2);\r\n        }\r\n        this.switchAni(\"run\");\r\n    }\r\n\r\n    /** \r\n     * @param aniType \r\n     */\r\n    switchAni(aniType: string): void {\r\n        if (aniType == \"run\") {\r\n            let _runAniName: string = this.getOrientation(this.angle, this.runAniName);\r\n            if (_runAniName !== this.lastRunAniName) {\r\n                this.lastRunAniName = _runAniName;\r\n                this._animator.play(_runAniName);\r\n                // console.log(_runAniName);\r\n            }\r\n            this.isRun = true;\r\n        } else {\r\n            this.isRun = false;\r\n\t\t\tlet standS : string = this.getOrientation(this.angle, this.standAniName);\r\n\t\t\t// console.log(standS);\r\n            this.lastAngle !== this.angle && this._animator.play(standS);\r\n        }          \r\n    }\r\n\r\n    /**  */\r\n    mouseUp(e: Event): void {\r\n        //\r\n        if (e.touchId != this.touchId) return;\r\n        this.touchId = null;\r\n        this.isMoving = false;\r\n        //\r\n        this.joystickAxis.pos(this.axisPivot.x, this.axisPivot.y);\r\n\r\n        //\r\n        this.switchAni(\"stand\");\r\n    }\r\n\r\n    /**  */\r\n    mouseMove(e: Event): void {\r\n        //\r\n        if (e.touchId != this.touchId) return;\r\n        this.updateJoystickPoint();\r\n    }\r\n\r\n    /**  \r\n     * @param angle \r\n     * @param aniName \r\n     * @return \r\n    */\r\n    getOrientation(angle: number, aniName: string): string {\r\n        let aniArr: Array<string> = aniName.split(\",\");\r\n        const angleConditions: number = 360 / aniArr.length;\r\n        return aniArr[Math.floor(angle / angleConditions)];\r\n    }\r\n\r\n    onUpdate(): void {\r\n        if (!this.isMoving) return;\r\n        //\r\n        this.updateRoleMove();\r\n\r\n    }\r\n\r\n    /**  */\r\n    updateRoleMove(): void {\r\n        //\r\n        this.switchAni(\"run\");\r\n\r\n        //\r\n        let dx = Math.cos(this.radian) * 2;\r\n        let dy = Math.sin(this.radian) * 2;\r\n\t\tthis.mLastX += dx;\r\n\t\tthis.mLastY += dy;\r\n\t\tif( this.mLastX < 0 )\r\n\t\t\tthis.mLastX = 0;\r\n\t\telse if( this.mLastX > 1920 - this.sceneWindow.width )\r\n\t\t\tthis.mLastX = 1920 - this.sceneWindow.width;\t\t\t\r\n\t\tif( this.mLastY < 0 )\r\n\t\t\tthis.mLastY = 0;\r\n\t\telse if( this.mLastY > 1280 - this.sceneWindow.height )\r\n\t\t\tthis.mLastY = 1280 - this.sceneWindow.height;\r\n\t\tthis.tiledMap.moveViewPort(this.mLastX, this.mLastY);        \r\n    }\r\n\r\n    /** \r\n    * \r\n    * ()\r\n    * @param centerX X\r\n    * @param centerY Y\r\n    * @param mouseX X\r\n    * @param mouseY Y\r\n    */\r\n    getDistance(centerX: number, centerY: number, mouseX: number, mouseY: number): number {\r\n        let dx: number = centerX - mouseX,\r\n            dy: number = centerY - mouseY;\r\n        return Math.sqrt(dx * dx + dy * dy);\r\n    }\r\n\r\n\tonDisable(): void {\r\n\t\tLaya.stage.off(Event.MOUSE_DOWN, this, this.mouseDown);\r\n\t\tLaya.stage.off(Event.MOUSE_UP, this, this.mouseUp);\r\n\t\tLaya.stage.off(Event.MOUSE_MOVE, this, this.mouseMove);\r\n\t\tif (this.tiledMap) {\r\n\t\t\tthis.tiledMap.destroy();\r\n\t\t}\r\n\t}\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * prefab/uiDemo/list/BagList.lh\r\n */\r\nexport class BagListRTBase extends Laya.Box {\r\n    public bagList!: Laya.List;\r\n    public tips!: Laya.Image;\r\n    public itemImg!: Laya.Image;\r\n    public itemNumber!: Laya.Label;\r\n    public itemReadme!: Laya.TextArea;\r\n}\r\n\r\n", "import { BagListRTBase } from \"./BagListRT.generated\";\r\n\r\nconst { regClass } = Laya;\r\n\r\n/**\r\n * \r\n * @readme \r\n */\r\n\r\n@regClass('fimeRTYXT46eMH6komwhJQ')\r\nexport default class BagListRT extends BagListRTBase {\r\n    private lastIndex: number = -1;\r\n    constructor() { super(); }\r\n\r\n    onEnable(): void {\r\n        const jsonPath: string = \"resources/json/bagList.json\";\r\n        //fetchgetRes\r\n        Laya.loader.fetch(jsonPath, \"json\").then((_json) => {\r\n            if (_json.bagList && _json.bagList.length > 0) {\r\n                //jsonlistarray,uirenderHandler\r\n                this.bagList.array = _json.bagList;\r\n                //listlist\r\n                this.bagList.renderHandler = new Laya.Handler(this, this.onListRender);\r\n                //list\r\n                this.bagList.selectHandler = new Laya.Handler(this, this.onListSelect);\r\n                //\r\n                this.bagList.mouseHandler = new Laya.Handler(this, this.onListMouse);\r\n\r\n                //\r\n                this.bagList.vScrollBarSkin = \"\";\r\n            }\r\n        });\r\n    }\r\n\r\n    /**  */\r\n    onListRender(item: Laya.Box, index: number): void {\r\n        //\r\n        if (index > this.bagList.array.length || index < 0) return;\r\n        // (item.getChildByName(\"listItemBG\") as Laya.Image).skin = \"bg/bg100-0.png\";\r\n    }\r\n\r\n    /** \r\n     * @readme \r\n     *  uinameselectBox\r\n     * \r\n    */\r\n    onListSelect(index: number): void {\r\n        this.tips.visible = true;\r\n        //\r\n        this.bagList.array[index].listItemBG = { \"skin\": \"resources/UI/images/bg/bg100-1.png\" };\r\n        // console.log(this.bagList.getItem(index), this.bagList.array);\r\n        if (this.lastIndex !== -1) {\r\n            //\r\n            this.bagList.array[this.lastIndex].listItemBG = { \"skin\": \"resources/UI/images/bg/bg100-0.png\" };\r\n        }\r\n        //\r\n        this.lastIndex = index;\r\n\r\n        //\r\n        this.itemImg.skin = this.bagList.array[index].listItemImg.skin;\r\n        this.itemNumber.text = (\" \" + this.bagList.array[index].listItemNumber.text);\r\n        this.itemReadme.text = this.bagList.array[index].readme;\r\n    }\r\n\r\n    /** */\r\n    onListMouse(e: Laya.Event, index: number): void {\r\n        //\r\n        // if (e.type == Laya.Event.MOUSE_DOWN) {\r\n        //     // console.log(\"\", e.target);\r\n        //     (e.target as Laya.Image).skin = \"bg/bg100-1.png\"; \r\n\r\n        // }\r\n    }\r\n\r\n    onDisable(): void {\r\n\r\n    }\r\n}", "const { regClass, property } = Laya;\r\n\r\n@regClass('M6bGyqDSRCGU3TkvNeqvRw')\r\nexport default class ComboBoxRT extends Laya.Script {\r\n    @property({type:Laya.ComboBox})\r\n    private combo1: Laya.ComboBox;\r\n    @property({type:Laya.ComboBox})\r\n    private combo2: Laya.ComboBox; \r\n    @property({type:Laya.Label})\r\n    private selectedText: Laya.Label;     \r\n\r\n    private comboList: Laya.List;\r\n\r\n    constructor() { super(); }\r\n\r\n    onEnable(): void {\r\n        //list\r\n        var _dataSourece = this.getDataSourece();\r\n        //\r\n        Laya.loader.load(\"prefab/ComboList.lh\").then(res => {\r\n\r\n            let node = res.create();\r\n            this.comboList = node;\r\n\r\n            //\r\n            this.comboList.array = _dataSourece;\r\n            //\r\n            this.comboList.repeatY = _dataSourece.length;\r\n\r\n            //Listlist\r\n            this.combo2.list = this.comboList;\r\n            this.combo2.list.width = this.combo2.width;\r\n            this.combo2.list.hScrollBarSkin = \"\";\r\n            this.combo2.selectHandler = new Laya.Handler(this, this.onSelected2);\r\n        });\r\n\r\n        this.combo1.selectHandler = new Laya.Handler(this, this.onSelected1);\r\n        // this.combo1.itemPadding = \"20,5,5,25\";\r\n        // this.combo1.itemHeight = 70 ;\r\n        // this.combo1.defaultLabel = \"\";\r\n    }\r\n\r\n    onSelected1(index: number): void {\r\n        this.selectedText.text = \"\" + this.combo1.selectedLabel;\r\n        // this.selectedText.text = \"\" + this.combo1.list.array[index].label;\r\n    }\r\n\r\n    onSelected2(index: number): void {\r\n        this.selectedText.text = \"\" + (index < 0 ? \"\" : this.comboList.array[index].label);\r\n    }\r\n\r\n\r\n    /**\r\n     * List\r\n     */\r\n    getDataSourece(): Array<any> {\r\n        for (var _data = [], i = 0; i < 10; i++) {\r\n            _data[i] = { \"optText\": { \"text\": \"\" + (i + 1) } };\r\n        }\r\n        return _data;\r\n\r\n    }\r\n\r\n    onDisable(): void {\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * prefab/uiDemo/list/LoopList.lh\r\n */\r\nexport class LoopListRTBase extends Laya.View {\r\n    public hList: Laya.List;\r\n}\r\n\r\n", "import { LoopListRTBase } from \"./LoopListRT.generated\";\r\n\r\nconst { regClass } = Laya;\r\n\r\n@regClass('WFag7yYwR9q-iI31OJUedg')\r\nexport default class LoopListRT extends LoopListRTBase {\r\n\r\n    /**item */\r\n    private leftLimit: number;\r\n    /**item */\r\n    private rightLimit: number;\r\n\r\n    onEnable(): void {\r\n        //\r\n        this.hList.array = this.getListDataSource();\r\n\r\n        //1item\r\n        this.hList.scrollTo(1);\r\n\r\n        //\r\n        let icon = this.hList.cells[1].getChildByName(\"icon\") as Laya.Image;\r\n        //cell2\r\n        icon.scaleX = icon.scaleY = 2;\r\n\r\n        // this.hList.disableStopScroll = true;\r\n        //\r\n        this.hList.scrollBar.on(Laya.Event.CHANGE, this, this.onScrollBarChange);\r\n        //\r\n        this.leftLimit = this.getLeftLimit();\r\n        this.rightLimit = this.getRightLimit();\r\n    }\r\n\r\n    onScrollBarChange(): void {\r\n        var sliderValue = this.hList.scrollBar.value;\r\n        var listArr = this.hList.array;\r\n        //\r\n        if (sliderValue > this.leftLimit) {\r\n            var cell = listArr.shift();\r\n            listArr[listArr.length] = cell;\r\n            this.hList.array = listArr;\r\n            //\r\n            this.hList.scrollBar.value = sliderValue - this.hList.cells[0].width - this.hList.spaceX;\r\n            this.iconTweenToLeft();\r\n\r\n        } else if (sliderValue < this.rightLimit) {//    \r\n            cell = listArr.pop();\r\n            listArr.unshift(cell);\r\n            this.hList.array = listArr;\r\n            this.hList.scrollBar.value = sliderValue + this.hList.cells[0].width + this.hList.spaceX;\r\n            this.iconTweenToRight();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param time \r\n     */\r\n    iconTweenToLeft(time: number = 200) {\r\n        //\r\n        let iconOld = this.hList.cells[0].getChildByName(\"icon\") as Laya.Image;\r\n        //cell2\r\n        iconOld.scaleX = iconOld.scaleY = 2;\r\n        //\r\n        Laya.Tween.to(iconOld, { scaleX: 1, scaleY: 1 }, time);\r\n\r\n        //\r\n        let icon = this.hList.cells[1].getChildByName(\"icon\") as Laya.Image;\r\n        //cell\r\n        icon.scaleX = icon.scaleY = 1;\r\n        //\r\n        Laya.Tween.to(icon, { scaleX: 2, scaleY: 2 }, time);\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param time \r\n     */\r\n    iconTweenToRight(time: number = 200) {\r\n        //\r\n        let iconOld = this.hList.cells[1].getChildByName(\"icon\") as Laya.Image;\r\n        //cell2\r\n        iconOld.scaleX = iconOld.scaleY = 2;\r\n        //\r\n        Laya.Tween.to(iconOld, { scaleX: 1, scaleY: 1 }, time);\r\n\r\n        //\r\n        let icon = this.hList.cells[2].getChildByName(\"icon\") as Laya.Image;\r\n        //cell\r\n        icon.scaleX = icon.scaleY = 1;\r\n        //\r\n        Laya.Tween.to(icon, { scaleX: 2, scaleY: 2 }, time);\r\n    }\r\n\r\n\r\n    /** */\r\n    getRightLimit(): number {\r\n        return this.hList.cells[0].width - this.hList.spaceX;\r\n    }\r\n\r\n    /** */\r\n    getLeftLimit(): number {\r\n        return (this.hList.cells[0].width * 2) + this.hList.spaceX;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param length \r\n     */\r\n    getListDataSource(length: number = 5): Array<any> {\r\n        let _arr: Array<any> = [];\r\n        for (let i: number = 0; i < length; i++) {\r\n            _arr[i] = {};\r\n            _arr[i].icon = { \"skin\": `resources/UI/role/r${i}.png` };\r\n        }\r\n        return _arr;\r\n    }\r\n}", "const { regClass, property } = Laya;\r\n\r\n/**\r\n * Mail\r\n * @readme \r\n * tabuibutton\r\n */\r\n\r\n@regClass('HzpJPDUEQN69Xg1VasHb-w')\r\nexport default class MailListRT extends Laya.Script {\r\n\r\n    @property({type:Laya.List})\r\n    private mailList: Laya.List;\r\n\r\n    @property({type:Laya.Button})\r\n    private addMail: Laya.Button;\r\n\r\n    @property({type:Laya.Button})\r\n    private selectDel: Laya.Button;\r\n\r\n    @property({type:Laya.Button})\r\n    private selectFlag: Laya.Button;\r\n\r\n    /**  */\r\n    private optStatus: Array<number> = [];\r\n    constructor() { super(); }\r\n\r\n    onEnable(): void {\r\n        const jsonPath: string = \"resources/json/mailList.json\";\r\n        Laya.loader.fetch(jsonPath, \"json\").then((data) => {\r\n            //listjson\r\n            let jsonData = data.mailList;\r\n            if (jsonData && jsonData.length > 0) {\r\n                //\r\n                this.mailList.array = jsonData;\r\n                this.mailList.mouseHandler = new Laya.Handler(this, this.onListMouse);\r\n                this.mailList.repeatY = jsonData.length;\r\n                this.mailList.vScrollBarSkin = \"\";\r\n            }\r\n\r\n            this.addMail.on(Laya.Event.CLICK, this, this.addMialItem);\r\n            this.selectDel.on(Laya.Event.CLICK, this, this.listSelectDel);\r\n            this.selectFlag.on(Laya.Event.CLICK, this, this.listSelectFlag);\r\n        });\r\n\r\n    }\r\n\r\n    /**  */\r\n    listSelectFlag(): void {\r\n        if (this.optStatus.length > 0) {\r\n            for (let i = 0; i < this.optStatus.length; i++) {\r\n                let index = this.optStatus[i];\r\n                this.mailList.array[index].flag = 1;\r\n                this.mailList.array[index].flagStatus = { \"skin\": \"resources/UI/images/comp/img_mail_open.png\" };\r\n                this.mailList.array[index].flagBtn = { \"label\": \"\", \"labelColors\": \"#3277f3,#3277f3,#3277f3\" };\r\n            }\r\n            this.mailList.refresh();\r\n            Laya.Scene.open(\"scenes/uiDemo/Msg.ls\", false, { \"text\": \"\" });\r\n        } else\r\n            Laya.Scene.open(\"scenes/uiDemo/Msg.ls\", false, { \"text\": \"\" });\r\n    }\r\n\r\n    /** */\r\n    listSelectDel(): void {\r\n        if (this.optStatus.length > 0) {\r\n            //\r\n            this.optStatus.sort(function (a, b) { return b - a });\r\n            for (let i = 0; i < this.optStatus.length; i++) {\r\n                //\r\n                this.mailList.array.splice(this.optStatus[i], 1);\r\n            }\r\n            //\r\n            this.optStatus = [];\r\n            this.mailList.refresh();\r\n            Laya.Scene.open(\"scenes/uiDemo/Msg.ls\", false, { \"text\": \"\" });\r\n        } else\r\n            Laya.Scene.open(\"scenes/uiDemo/Msg.ls\", false, { \"text\": \"\" });\r\n    }\r\n\r\n    /**  */\r\n    addMialItem(): void {\r\n        // console.log(\"===11111===\", this.mailList.startIndex, JSON.parse(JSON.stringify(this.mailList.array)), this.optStatus);\r\n        //list\r\n        var index: number = this.mailList.startIndex + 1;\r\n        let itemData = {\r\n            \"mailTitle\": {\r\n                \"text\": \"\" + index\r\n            },\r\n            \"mailDateTime\": {\r\n                \"text\": this.timestampFormat(\"YYYY-MM-DD hh:mm\")\r\n            },\r\n            \"opt\": {\r\n                \"visible\": false\r\n            },\r\n            \"flagStatus\": {\r\n                \"skin\": \"resources/UI/images/comp/img_mail.png\"\r\n            },\r\n            \"flagBtn\": {\r\n                \"label\": \"\",\r\n                \"labelColors\": \"#000000,#000000,#000000\"\r\n            }\r\n        };\r\n\r\n        //\r\n        this.mailList.array.splice(index, 0, itemData);\r\n\r\n        //\r\n        if (this.optStatus.length > 0) {\r\n            //\r\n            for (let i = 0; i < this.optStatus.length; i++) {\r\n                //\r\n                if (this.optStatus[i] >= index) {\r\n                    //1\r\n                    this.optStatus[i] += 1;\r\n                }\r\n            }\r\n        }\r\n        this.mailList.refresh();\r\n    }\r\n\r\n\r\n    /**\r\n     * \r\n     * @param timestamp \r\n     * @param fmt \"YYYY-MM-DD hh:mm:ss\"\r\n     * @returns \r\n     */\r\n\r\n    timestampFormat = (fmt: any, datetime?: any) => {\r\n        let _this = datetime ? new Date(datetime) : new Date();\r\n        let o: any = {\r\n            \"M+\": _this.getMonth() + 1,\r\n            \"D+\": _this.getDate(),\r\n            \"h+\": _this.getHours(),\r\n            \"m+\": _this.getMinutes(),\r\n            \"s+\": _this.getSeconds(),\r\n            \"S+\": _this.getMilliseconds()\r\n        };\r\n        //test(fmt)\r\n        if (new RegExp(\"(Y+)\").test(fmt)) fmt = fmt.replace(RegExp.$1, (<any>(_this.getFullYear() + \"\")).substr(4 - RegExp.$1.length));\r\n        for (var k in o)\r\n            if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((<any>(\"00\" + o[k])).substr((\"\" + o[k]).length)));\r\n        return fmt;\r\n    };\r\n\r\n    /** */\r\n    onListMouse(e: Laya.Event, index: number): void {\r\n        if (e.type == Laya.Event.CLICK) {\r\n            //\r\n            var optIndex: number = this.optStatus.indexOf(index);\r\n            switch (e.target.name) {\r\n                case \"optBG\"://\r\n                    //\r\n                    if (optIndex === -1) {\r\n                        //\r\n                        this.mailList.array[index].opt = { \"visible\": true };\r\n                        //\r\n                        this.optStatus.push(index);\r\n                    } else {\r\n                        //\r\n                        this.mailList.array[index].opt = { \"visible\": false };\r\n                        //\r\n                        this.optStatus.splice(optIndex, 1);\r\n                    }\r\n                    //array\r\n                    this.mailList.refresh();\r\n                    break;\r\n                case \"mailTitle\":// \r\n                    Laya.Scene.open(\"scenes/uiDemo/Dialog.scene\", false, { \"title\": this.mailList.array[index].mailTitle.text, \"text\": \"1000\" })\r\n                    this.mailList.array[index].flag = 1;\r\n                    this.mailList.array[index].flagStatus = { \"skin\": \"resources/UI/images/comp/img_mail_open.png\" };\r\n                    this.mailList.array[index].flagBtn = { \"label\": \"\", \"labelColors\": \"#3277f3,#3277f3,#3277f3\" };\r\n                    //array\r\n                    this.mailList.refresh();\r\n                    break;\r\n                case \"flagBtn\":// \r\n                    if (this.mailList.array[index].flag === 1) {\r\n                        this.mailList.array[index].flag = 0;\r\n                        this.mailList.array[index].flagStatus = { \"skin\": \"resources/UI/images/comp/img_mail.png\" };\r\n                        this.mailList.array[index].flagBtn = { \"label\": \"\", \"labelColors\": \"#000000,#000000,#000000\" };\r\n                    } else {\r\n                        this.mailList.array[index].flag = 1;\r\n                        this.mailList.array[index].flagStatus = { \"skin\": \"resources/UI/images/comp/img_mail_open.png\" };\r\n                        this.mailList.array[index].flagBtn = { \"label\": \"\", \"labelColors\": \"#3277f3,#3277f3,#3277f3\" };\r\n                    }\r\n                    //array\r\n                    this.mailList.refresh();\r\n                    break;\r\n                case \"delBtn\"://\r\n                    this.mailList.array.splice(index, 1);\r\n                    //\r\n                    if (optIndex > -1) {\r\n                        //\r\n                        this.optStatus.splice(optIndex, 1);\r\n                        //\r\n                        for (let i = optIndex; i < this.optStatus.length; i++) {\r\n                            //1\r\n                            this.optStatus[i] -= 1;\r\n                        }\r\n                    }\r\n                    //array\r\n                    this.mailList.refresh();\r\n                    Laya.Scene.open(\"scenes/uiDemo/Msg.ls\", false, { \"text\": \"\" });\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n}", "const { regClass, property } = Laya;\r\n\r\n/**  \r\n * @readme \r\n * \r\n*/\r\n@regClass('m0TR8w0gTbWSvHbZTzrORA')\r\nexport default class RefreshRT extends Laya.Script {\r\n\r\n    @property({ type: Laya.List })\r\n    private refreshList: Laya.List;\r\n\r\n    @property({ type: Laya.Button })\r\n    private toLine: Laya.Button;\r\n\r\n    @property({ type: Laya.Button })\r\n    private toTop: Laya.Button;\r\n\r\n    @property({ type: Laya.Button })\r\n    private toBottom: Laya.Button;\r\n\r\n    @property({ type: Laya.Box })\r\n    private refreshLoading: Laya.Box;\r\n\r\n    @property({ type: Laya.Label })\r\n    private lineNumber: Laya.Label;\r\n\r\n    /**  */\r\n    private scrollBarIsStop: boolean = false;\r\n    /** id */\r\n    private msgIdNow: number = 1;\r\n    /**  */\r\n    private moveLastPos: Laya.Point;\r\n    /**  */\r\n    private itemIsOpen: boolean = false;\r\n    /**ID */\r\n    private itemOpenId: number = -1;\r\n    /** */\r\n    private openedItem: Laya.Box;\r\n    /**  */\r\n    private redHotStatus: Array<number> = [];\r\n    /** true */\r\n    private mouseDown: boolean = false;\r\n    constructor() { super(); }\r\n\r\n    onEnable(): void {\r\n        this.refreshList.array = this.createListData(9);\r\n        this.refreshList.repeatY = this.refreshList.array.length;\r\n        this.refreshList.vScrollBarSkin = \"\";\r\n        //\r\n        this.toLine.on(Laya.Event.CLICK, this, this.onToLineBtn);\r\n        this.toTop.on(Laya.Event.CLICK, this, this.onToTopBtn);\r\n        this.toBottom.on(Laya.Event.CLICK, this, this.onToBottomBtn);\r\n        //\r\n        this.refreshList.on(Laya.Event.MOUSE_UP, this, this.stageOnMouseUp);\r\n        this.refreshList.on(Laya.Event.MOUSE_OUT, this, this.stageOnMouseUp);\r\n\r\n        //\r\n        this.refreshList.scrollBar.stopMoveLimit = this.scrollBarIsStopBind.bind(this);\r\n        this.refreshLimit(\"dragTopLimit\", 80);\r\n        this.refreshLimit(\"dragBottomLimit\", 80, 20);\r\n\r\n        //\r\n        this.refreshList.mouseHandler = new Laya.Handler(this, this.onListMouse);\r\n    }\r\n\r\n    stageOnMouseUp(): void {\r\n        // console.log(\"??????????-----stageOnMouseUp\", this.itemIsOpen, this.itemOpenId, this.openedItem);\r\n        this.mouseDown = false;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param eventName \r\n     * @param moveLimit \r\n     * @param distance \r\n     * @param time  \r\n     */\r\n    refreshLimit(eventName: string, moveLimit: number, distance: number = 0, time: number = 2000): void {\r\n        if (eventName === \"dragTopLimit\") {\r\n            //,\r\n            this.refreshList.scrollBar.topMoveLimit = moveLimit;\r\n        } else if (eventName === \"dragBottomLimit\") {\r\n            this.refreshList.scrollBar.bottomMoveLimit = moveLimit;\r\n        }\r\n        //\r\n        this.refreshList.scrollBar.on(eventName, this, () => {\r\n            console.log(\":\" + eventName);\r\n            //ui\r\n            this.refreshLoading.visible = true;\r\n            //ui\r\n            if (eventName === \"dragTopLimit\") {\r\n                //bottomtop\r\n                this.refreshLoading.bottom = NaN;\r\n                this.refreshLoading.top = distance;\r\n                //\r\n                var _arr = this.createListData(5, \"\");\r\n                //\r\n                _arr = _arr.concat(this.refreshList.array);\r\n                var index = 0 + 5;\r\n                var line = 0;\r\n                //\r\n                if (this.redHotStatus.length > 0) {\r\n                    for (let i = 0; i < this.redHotStatus.length; i++) {\r\n                        this.redHotStatus[i] += 5;\r\n                    }\r\n                }\r\n\r\n            } else if (eventName === \"dragBottomLimit\") {\r\n                this.refreshList.scrollBar.disableDrag = true;\r\n                //topbottom\r\n                this.refreshLoading.top = NaN;\r\n                this.refreshLoading.bottom = distance;\r\n                //\r\n                var _arr = this.createListData(5, \"\");\r\n                //\r\n                _arr = this.refreshList.array.concat(_arr);\r\n                var index = this.refreshList.array.length - 1;\r\n                var line = index + 5;\r\n\r\n            }\r\n            //\r\n            this.scrollBarIsStop = true;\r\n            //X\r\n            Laya.timer.once(time, this, () => {\r\n                //list\r\n                this.refreshList.array = _arr;\r\n                this.refreshList.scrollTo(line);\r\n                //\r\n                this.refreshList.selectedIndex = index;\r\n                //\r\n                this.scrollBarIsStop = false;\r\n                this.refreshList.scrollBar.backToNormal();\r\n                this.refreshLoading.visible = false;\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    /** */\r\n    onListMouse(e: Laya.Event, index: number): void {\r\n        // console.log(\"-----onListMouse\", e.type, this.refreshList.getChildAt(0), e.target, index);\r\n\r\n        if (e.type == Laya.Event.MOUSE_DOWN) {\r\n            this.mouseDown = true;\r\n            // console.log(\"===========MOUSE_DOWN\", this.itemOpenId, JSON.stringify(this.redHotStatus), index);\r\n            //\r\n            if (this.itemIsOpen) {\r\n                this.itemIsOpen = false;\r\n                this.itemOpenId = -1;\r\n                Laya.Tween.to(this.openedItem, { \"x\": 0 }, 500, null, Laya.Handler.create(this, () => {\r\n                    this.refreshList.scrollBar.disableDrag = false;\r\n                }));\r\n                // console.log(\"mouseDown+++++++++++++*****\", this.itemOpenId, e.target.name, index);\r\n            } else {\r\n                //\r\n                this.moveLastPos = e.target.globalToLocal(new Laya.Point(Laya.stage.mouseX, Laya.stage.mouseY));\r\n                //\r\n                e.target.on(Laya.Event.MOUSE_MOVE, this, this.onItemBoxMouseMove, [e.target, index]);\r\n                // console.log(\"\", this.itemOpenId, e.target.name, index);\r\n            }\r\n        }\r\n        if (e.type == Laya.Event.MOUSE_UP) {\r\n            this.mouseDown = false;\r\n            // console.log(\"??????????=====MOUSE_UP\", this.itemIsOpen, this.itemOpenId, this.openedItem, index);\r\n            // !(this.itemOnMouseUp()) && e.target.off(Laya.Event.MOUSE_MOVE, this, this.onItemBoxMouseMove);\r\n            this.itemOnMouseUp();\r\n        }\r\n\r\n        if (e.type == Laya.Event.CLICK) {\r\n\r\n            if (e.target.name == \"flag\") this.onClickFlag(index);\r\n            //\r\n            if (e.target.name == \"del\") this.onClickDel(index);\r\n        }\r\n\r\n    }\r\n\r\n    /** \r\n     */\r\n    itemOnMouseUp(): void {\r\n        //\r\n        if (this.itemIsOpen) {\r\n            var targetX: number;\r\n            //x\r\n            if (this.openedItem.x < -80) {\r\n                targetX = -262;\r\n            } else {\r\n                this.itemIsOpen = false;\r\n                targetX = 0;\r\n            }\r\n            //\r\n            if (targetX !== this.openedItem.x) {\r\n                //\r\n                Laya.Tween.to(this.openedItem, { \"x\": targetX }, 500);\r\n            }\r\n\r\n            //\r\n            this.refreshList.scrollBar.disableDrag = false;\r\n\r\n            //\r\n            if (this.itemOpenId !== -1) {\r\n                this.openedItem.off(Laya.Event.MOUSE_MOVE, this, this.onItemBoxMouseMove);\r\n                this.itemOpenId = -1;  //\r\n\r\n                // console.log(\"off1___33333333333333---this.openedItem\", this.openedItem.name, this.itemOpenId, this.openedItem, this.itemIsOpen, this.refreshList.array);\r\n            }\r\n\r\n            // console.log(\"off2________\", this.itemOpenId, this.openedItem, this.itemIsOpen);\r\n        }\r\n        // console.log(\"off3________\", this.itemOpenId, this.openedItem, this.itemIsOpen);\r\n\r\n        // return false;\r\n    }\r\n\r\n    /** \r\n     * @param index \r\n    */\r\n    onClickFlag(index: number): void {\r\n        // console.log(\"((((((((((((--onClickFlag---------\", JSON.stringify(this.redHotStatus), this.refreshList.array[index]);\r\n        //\r\n        var showRedHot: number = this.redHotStatus.indexOf(index);\r\n        //index\r\n        if (showRedHot == -1) {\r\n            //\r\n            this.refreshList.array[index].avatar = {};\r\n            this.refreshList.array[index].avatar.redHot = { \"visible\": true }\r\n            this.refreshList.array[index].flag = { \"flagText\": { \"text\": \"\" } };\r\n            //\r\n            this.redHotStatus.push(index);\r\n        } else {\r\n            this.refreshList.array[index].avatar = { \"redHot\": { \"visible\": false } };\r\n            this.refreshList.array[index].flag = { \"flagText\": { \"text\": \"\" } };\r\n            //\r\n            this.redHotStatus.splice(showRedHot, 1);\r\n            // console.log(\"11111\", JSON.stringify(this.redHotStatus));\r\n        }\r\n        this.refreshList.refresh();\r\n        // console.log(\"((((((((((((--onClickFlag+++++\", JSON.stringify(this.redHotStatus), this.refreshList.array);\r\n    }\r\n\r\n    /**  \r\n     * @param index \r\n    */\r\n    onClickDel(index: number): void {\r\n        // console.log(\"((((((((((((del------------\");\r\n        //\r\n        this.refreshList.array.splice(index, 1);\r\n        //\r\n        // this.itemIsOpen = false;\r\n        this.itemOpenId = -1;\r\n        //\r\n        var showRedHot: number = this.redHotStatus.indexOf(index);\r\n        if (showRedHot > -1) {\r\n            this.redHotStatus.splice(index, 1);\r\n        }\r\n\r\n        //\r\n        if (this.redHotStatus.length > 0) {\r\n            for (let i = 0; i < this.redHotStatus.length; i++) {\r\n                (this.redHotStatus[i] > index) && (this.redHotStatus[i] += 1);\r\n            }\r\n        }\r\n        //\r\n        this.refreshList.refresh();\r\n    }\r\n\r\n    /** \r\n     * @param item \r\n     * @param index \r\n    */\r\n    onItemBoxMouseMove(item: Laya.Box, index: number): any {\r\n        if (this.mouseDown) {\r\n            //\r\n            let mousePos = item.globalToLocal(new Laya.Point(Laya.stage.mouseX, Laya.stage.mouseY));\r\n            //\r\n            let moveX = this.moveLastPos.x - mousePos.x;\r\n            let moveY = this.moveLastPos.y - mousePos.y;\r\n\r\n            //\r\n            if (Math.abs(moveX) > Math.abs(moveY) && !(this.itemIsOpen)) {\r\n                // console.log(\"@@@@---onItemBoxMouseMove\", moveX, moveY);\r\n                //\r\n                this.openedItem = item;\r\n                //\r\n                this.itemIsOpen = true;\r\n                //\r\n                this.refreshList.scrollBar.disableDrag = true;\r\n                //\r\n                this.itemOpenId = index;\r\n            }\r\n\r\n            //x\r\n            if (this.itemIsOpen) {\r\n                this.openedItem.x -= moveX;\r\n                // console.log(\"-------------move-------\", { item }, { mousePos }, this.openedItem, this.itemIsOpen, this.itemOpenId);\r\n                if (this.openedItem.x < -262) this.openedItem.x = -262;\r\n                else if (this.openedItem.x > 0) this.openedItem.x = 0;\r\n            }\r\n        } else {\r\n            this.refreshList.scrollBar.disableDrag = false;\r\n            // console.log(\"\", this.itemOpenId, this.openedItem);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**  */\r\n    scrollBarIsStopBind(): boolean {\r\n        return this.scrollBarIsStop;\r\n    }\r\n\r\n    /** XX */\r\n    onToLineBtn(): void {\r\n        let line: number = parseInt(this.lineNumber.text) - 1;\r\n        //array\r\n        this.refreshList.scrollTo(line);\r\n        //\r\n        (line < this.refreshList.array.length) && (this.refreshList.selectedIndex = line);\r\n    }\r\n\r\n    /**  */\r\n    onToTopBtn(): void {\r\n        this.refreshList.scrollTo(0);\r\n        //\r\n        this.refreshList.selectedIndex = 0;\r\n    }\r\n\r\n    /**  */\r\n    onToBottomBtn(): void {\r\n        let line: number = this.refreshList.array.length - 1;\r\n        //\r\n        this.refreshList.scrollTo(line);\r\n        //\r\n        this.refreshList.selectedIndex = line;\r\n    }\r\n\r\n\r\n    /** list\r\n     * @param max \r\n     * @param msgTitle \r\n     */\r\n    createListData(max: number = 5, msgTitle: string = \"\"): any {\r\n        let _Date: Date = new Date();\r\n        let _hour: string = (_Date.getHours() < 10) ? \"0\" + _Date.getHours() : \"\" + _Date.getHours();\r\n        let _minute: string = (_Date.getMinutes() < 10) ? \"0\" + _Date.getMinutes() : \"\" + _Date.getMinutes();\r\n        var _arr: Array<any> = [];\r\n\r\n        for (var i: number = 0; i < max; i++) {\r\n            let msgTime: any = { \"text\": _hour + \" : \" + _minute };\r\n            _arr[i] = {};\r\n            _arr[i].msgTime = msgTime;\r\n            _arr[i].msgTitle = { \"text\": msgTitle + (this.msgIdNow + i) };\r\n            //imgruntimelistRuntime\r\n            _arr[i].avatar = { \"redHot\": { \"visible\": false } };\r\n\r\n            // console.log(\".............\", i, msgTime);\r\n        }\r\n        this.msgIdNow += i;\r\n        return _arr;\r\n    }\r\n\r\n    onDisable(): void {\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * prefab/uiDemo/list/TreeList.lh\r\n */\r\nexport class TreeListRTBase extends Laya.View {\r\n    public tree1: Laya.Tree;\r\n    public tree2: Laya.Tree;\r\n}\r\n\r\n", "import { TreeListRTBase } from \"./TreeListRT.generated\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('GJWtWFwsQoqNpjA1k42SpQ')\r\nexport default class TreeListRT extends TreeListRTBase {\r\n\r\n\r\n    onEnable(): void {\r\n        //treexml\r\n        this.tree1.xml = this.getTreeData(true);\r\n        this.tree2.xml = this.getTreeData(false);\r\n    }\r\n\r\n    getTreeData(_static: boolean): any {\r\n        //\r\n        let treeData: string = \"<data>\";\r\n        if (_static) {//\r\n            //elsexml\r\n            treeData +=\r\n                \"<dir itemLabel='' isOpen='false'>\" +\r\n                \"<file itemLabel='1 '/>\" +\r\n                \"<file itemLabel='2 '/>\" +\r\n                \"<file itemLabel='3 '/>\" +\r\n                \"<file itemLabel='4 '/>\" +\r\n                \"<file itemLabel='5 '/>\" +\r\n                \"</dir>\" +\r\n                \"<dir itemLabel='' isOpen='true'>\" +\r\n                \"<file itemLabel='1 '/>\" +\r\n                \"<file itemLabel='2 '/>\" +\r\n                \"<file itemLabel='3 '/>\" +\r\n                \"</dir>\" +\r\n                \"<dir itemLabel='' isOpen='false'>\" +\r\n                \"<file itemLabel='1 '/>\" +\r\n                \"<file itemLabel='2 '/>\" +\r\n                \"<file itemLabel='3 '/>\" +\r\n                \"<file itemLabel='4 '/>\" +\r\n                \"<file itemLabel='5 '/>\" +\r\n                \"</dir>\" +\r\n                \"<file itemLabel='1 '/>\" +\r\n                \"<file itemLabel='2 '/>\";//\r\n        } else {//\r\n            //\r\n            for (let i: number = 0; i < 5; i++) {\r\n                //item,titlelabelname\r\n                treeData += \"<item title='\" + (i + 1) + \"' isOpen='true'>\";\r\n                for (let j: number = 0; j < 5; j++) {\r\n                    //(subpagetitlelabelname\r\n                    treeData += \"<subpage title='\" + (j + 1) + \"' />\";\r\n                }\r\n                //\r\n                treeData += \"</item>\";\r\n            }\r\n        }\r\n        //data\r\n        treeData += \"</data>\"\r\n        //xml\r\n        return new Laya.XML(treeData);;\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * Scenes/uiDemo/page/OpenMainScene.ls\r\n */\r\nexport class OpenMainSceneBase extends Laya.Scene {\r\n    public closeBtn: Laya.Button;\r\n}\r\n\r\n", "import { OpenMainSceneBase } from \"./OpenMainScene.generated\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('JQ1fkq03ThewqQWRXQPgmw')\r\nexport default class OpenMainScene extends OpenMainSceneBase {\r\n\r\n    onEnable(): void {\r\n\r\n    }\r\n\r\n    onDisable(): void {\r\n    }\r\n}", "const { regClass, property } = Laya;\r\n\r\n@regClass('7Fkz4T7JQ5ujwNcIx9lGNA')\r\nexport default class BaseUI extends Laya.Script {\r\n\r\n    private window :Laya.Scene;\r\n    constructor() { super(); }\r\n\r\n    //UIUI\r\n    baseUI(ui :Laya.Scene): void {\r\n\r\n        this.window = ui;\r\n        \r\n        this.searchCloseButton( ui );\r\n\r\n    }\r\n\r\n    //Buttonbutton\r\n    searchCloseButton( node: Laya.Node ): void {\r\n\r\n        //\r\n        for( let i = 0; i < node.numChildren; i++ )\r\n        {\r\n            let child = node.getChildAt(i);\r\n            if( child instanceof Laya.Button && child.name == \"closeBtn\" )\r\n            {\r\n                //\r\n                child.on(Laya.Event.MOUSE_DOWN, this, () => { this.window.close() });\r\n                console.log(\"baseUI closeBtn\");\r\n            }                \r\n            else\r\n                this.searchCloseButton( child );\r\n        }\r\n    }\r\n\r\n    onDisable(): void {\r\n    }\r\n}", "const { regClass, property } = Laya;\r\nimport OpenMainScene from \"./OpenMainScene\";\r\nimport BaseUI from \"./BaseUI\";\r\n\r\n@regClass('utN7JQs_T3iw6KqWT-beFQ')\r\nexport default class OpenMainSceneScript extends BaseUI {\r\n\r\n\r\n    private ui: OpenMainScene\r\n    constructor() { super(); }\r\n\r\n    onEnable(): void {\r\n        \r\n        //OpenMainScene runtime        \r\n        this.ui = this.owner as OpenMainScene;\r\n\r\n        //BaseUI\r\n        this.baseUI(this.ui);\r\n    }\r\n\r\n    onDisable(): void {\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * prefab/uiDemo/page/UsePanel.lh\r\n */\r\nexport class UsePanelRTBase extends Laya.Box {\r\n    public panel!: Laya.Panel;\r\n    public topLab!: Laya.Label;\r\n}\r\n\r\n", "const { regClass, property } = Laya;\r\n\r\nimport { UsePanelRTBase } from \"./UsePanelRT.generated\";\r\nimport Event = Laya.Event;\r\nimport Mouse = Laya.Mouse;\r\n\r\n@regClass('9s1SW9WKRrSodo6JY27VSw')\r\nexport default class UsePanelRT extends UsePanelRTBase {\r\n    constructor() { super(); }\r\n\r\n    onEnable(): void {\r\n        if (!(Laya.Browser.onPC)) {\r\n            this.topLab.text = \"\";\r\n        } else {\r\n            this.panel.on(Event.MOUSE_OVER, this, () => { Mouse.cursor = \"move\" });\r\n            this.panel.on(Event.MOUSE_OUT, this, () => { Mouse.cursor = \"auto\" });\r\n        }\r\n    }\r\n}", "import { Script } from \"../../../ItemBox\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n// export default class ChangeTextureRT extends ui.uiDemo.useUI.ChangeTextureUI {\r\n@regClass('ulgCMWfCQKiihSJynpbJFg')\r\nexport default class ChangeTextureRT extends Laya.Script {\r\n    @property({type:Laya.Image})\r\n    private Img: Laya.Image;    \r\n    @property({type:Laya.Sprite})\r\n    private spImg: Laya.Sprite; \r\n    @property({type:Laya.Sprite})\r\n    private graphicsSprite: Laya.Sprite; \r\n    @property({type:Laya.Sprite})\r\n    private textureImg: Laya.Sprite;     \r\n\r\n    private graphics: Laya.Graphics; \r\n\r\n    constructor() { super(); }\r\n\r\n    onEnable(): void {\r\n        this.graphics = this.graphicsSprite.graphics;\r\n        Laya.timer.loop(2000, this, () => {\r\n            this.changeImgSkin();\r\n            this.changeSpriteTexture();\r\n            this.changeFillTexture();\r\n            this.changeTexture();\r\n        });\r\n    }\r\n\r\n    /** Image */\r\n    changeImgSkin(): void {\r\n        this.Img.skin = this.randomImg();\r\n    }\r\n\r\n    /**Sprite */\r\n    changeSpriteTexture(): void {\r\n        this.spImg.loadImage(this.randomImg(true, 6, 5));\r\n    }\r\n\r\n    /**FillTextureGraphics */\r\n    changeFillTexture(): void {\r\n        //clearGraphicsGraphics\r\n        this.graphics.clear();\r\n        let imgTexture : string = this.randomImg(true, 4);\r\n        Laya.loader.load(imgTexture).then(res=>{\r\n            //\r\n            this.graphics.fillTexture(res, 0, 0, 1, 1);            \r\n        });\r\n\r\n\r\n    }\r\n\r\n    /** TextureGraphics */\r\n    changeTexture(): void {\r\n        //this._textureImg\r\n        this.textureImg.graphics.clear();\r\n        //\r\n        let _texture: Laya.Texture = Laya.loader.getRes(this.randomImg(true, 8));\r\n        //this._textureImg\r\n        this.textureImg.graphics.drawTexture(_texture);\r\n    }\r\n\r\n    /**  */\r\n    randomImg(isMan: boolean = false, max: number = 8, min: number = 1): string {\r\n        let mum = Math.floor(Math.random() * (max - min + 1)) + min;\r\n\r\n        if (isMan) return \"resources/UI/role/m\" + mum + \".png\";\r\n        return \"resources/UI/role/w\" + mum + \".png\"\r\n    }\r\n\r\n    onDisable(): void {\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * prefab&#x2F;uiDemo&#x2F;useUI&#x2F;Mask.lh\r\n */\r\nexport class MaskRTBase extends Laya.View {\r\n    public bg2: Laya.Image;\r\n    public _mask: Laya.Sprite;\r\n    public bg3Mask: Laya.Sprite;\r\n    public _hitArea: Laya.Sprite;\r\n}\r\n\r\n", "const { regClass, property } = Laya;\r\nimport { MaskRTBase } from \"./MaskRT.generated\";\r\nimport Event = Laya.Event;\r\n/**\r\n * mask\r\n * graphicsmask\r\n */\r\n@regClass('zt0rBsEST9KVJgcimd7SFA')\r\nexport default class MaskRT extends MaskRTBase {\r\n  \r\n\r\n    onEnable(): void {\r\n\r\n        this._hitArea.on(Event.MOUSE_DOWN, this, () => {\r\n            this._hitArea.off(Event.MOUSE_MOVE, this, this.bg3MaskMove);\r\n            this._hitArea.startDrag();\r\n            //_hitAreamask\r\n            this._hitArea.on(Event.MOUSE_MOVE, this, this.bg3MaskMove);\r\n        });\r\n\r\n        this._mask.on(Event.MOUSE_MOVE, this, this.maskMove);\r\n\r\n    }\r\n\r\n    bg3MaskMove(e: Event): void {\r\n        e.stopPropagation();\r\n        //mask\r\n        this.bg3Mask.x = this._hitArea.x;\r\n        this.bg3Mask.y = this._hitArea.y;\r\n    }\r\n\r\n    maskMove(): void {\r\n        /** stage */\r\n        let _point = this.globalToLocal(new Laya.Point(Laya.stage.mouseX, Laya.stage.mouseY)),\r\n            maskX = _point.x - (this._mask.width / this.bg2.scaleX / 2),\r\n            maskY = _point.y - (this._mask.height / this.bg2.scaleY / 2);\r\n\r\n        if (maskX > 80 && maskY > 80) {\r\n            //mask\r\n            this._mask.x = _point.x - (this._mask.width / this.bg2.scaleX / 2);\r\n            this._mask.y = _point.y - (this._mask.height / this.bg2.scaleY / 2);\r\n\r\n            //\r\n            this.bg2.x = (-_point.x - this._mask.width / 2) * (this.bg2.scaleX - 1);\r\n            this.bg2.y = (-_point.y - this._mask.height / 2) * (this.bg2.scaleY - 1);\r\n        }\r\n    }\r\n}", "const { regClass, property } = Laya;\r\n//https://ldc2.layabox.com/doc/?nav=zh-ts-2-2-8\r\n\r\n@regClass('AmLUThtNSaW6zL9W205gyg')\r\nexport default class TextShowRT extends Laya.Script {\r\n    @property({type:Laya.Tab})\r\n    private throughTab: Laya.Tab;    \r\n    @property({type:Laya.Sprite})\r\n    private leftBg: Laya.Sprite;   \r\n    @property({type:Laya.Sprite})\r\n    private rightBg: Laya.Sprite;      \r\n    @property({type:Laya.Button})\r\n    private btn1: Laya.Button;    \r\n    @property({type:Laya.Button})\r\n    private btn2: Laya.Button; \r\n    @property({type:Laya.Sprite})\r\n    private close1: Laya.Sprite;    \r\n    @property({type:Laya.Sprite})\r\n    private close2: Laya.Sprite; \r\n\r\n    constructor() { super(); }\r\n\r\n    onEnable(): void {\r\n        this.changeMouseCursor();\r\n        this.throughTab.selectHandler = new Laya.Handler(this, this.onSwitchTab);\r\n    }\r\n\r\n    /**tabindex */\r\n    onSwitchTab(index: number): void {\r\n        switch (index) {\r\n            case 0:\r\n                this.leftBg.hitTestPrior = true;\r\n                this.rightBg.hitTestPrior = true;\r\n                break;\r\n            case 1:\r\n                this.leftBg.hitTestPrior = false;\r\n                this.rightBg.hitTestPrior = false;\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * \r\n     */\r\n    changeMouseCursor(): void {\r\n        //\r\n        this.leftBg.on(Laya.Event.MOUSE_OVER, this, () => {\r\n            Laya.Mouse.cursor = \"move\";\r\n        });\r\n        this.leftBg.on(Laya.Event.MOUSE_OUT, this, () => {\r\n            Laya.Mouse.cursor = \"auto\";\r\n        });\r\n        this.rightBg.on(Laya.Event.MOUSE_OVER, this, () => {\r\n            Laya.Mouse.cursor = \"move\";\r\n        });\r\n        this.rightBg.on(Laya.Event.MOUSE_OUT, this, () => {\r\n            Laya.Mouse.cursor = \"auto\";\r\n        });\r\n        //\r\n        this.leftBg.on(Laya.Event.CLICK, this, () => {\r\n            Laya.Scene.open(\"scenes/uiDemo/Msg.ls\", false, { \"text\": \"\", \"point\": { x: Laya.stage.mouseX - 100 } });\r\n            console.log(\"click \" + this.leftBg.name);\r\n        });\r\n        this.rightBg.on(Laya.Event.CLICK, this, () => {\r\n            Laya.Scene.open(\"scenes/uiDemo/Msg.ls\", false, { \"text\": \"\", \"point\": { x: Laya.stage.mouseX - 120 } });\r\n            console.log(\"click \" + this.rightBg.name);\r\n        });\r\n        //\r\n        this.btn1.on(Laya.Event.CLICK, this, (e: Laya.Event) => {\r\n            //MOUSE_DOWNCLICK\r\n            e.stopPropagation();\r\n            Laya.Scene.open(\"scenes/uiDemo/Msg.ls\", false, { \"text\": \"1\" });\r\n            console.log(\"click btn1\");\r\n        });\r\n        this.btn2.on(Laya.Event.CLICK, this, (e: Laya.Event) => {\r\n            e.stopPropagation();\r\n            Laya.Scene.open(\"scenes/uiDemo/Msg.ls\", false, { \"text\": \"2\" });\r\n            console.log(\"click btn2\");\r\n        });\r\n\r\n        //\r\n        //\r\n        this.close1.on(Laya.Event.CLICK, this, (e: Laya.Event) => {\r\n            e.stopPropagation();//btn1leftBg\r\n            Laya.Scene.open(\"scenes/uiDemo/Msg.ls\", false, { \"text\": \"\" , \"point\": { x: Laya.stage.mouseX - 100 } });\r\n            console.log(\"click \" + this.close1.name);\r\n        });\r\n        //\r\n        this.close2.on(Laya.Event.CLICK, this, (e: Laya.Event) => {\r\n            e.stopPropagation();\r\n            Laya.Scene.open(\"scenes/uiDemo/Msg.ls\", false, { \"text\": \"\" , \"point\": { x: Laya.stage.mouseX - 120 } });\r\n            console.log(\"click \" + this.close2.name);\r\n        });\r\n\r\n    }\r\n\r\n    onDisable(): void {\r\n    }\r\n}", "const { regClass, property } = Laya;\r\n\r\n@regClass('jp5l8WZtQLuVyfU4ljEFyQ')\r\nexport default class PhysicalCollisionRT extends Laya.Script {\r\n    @property({type:Laya.Image})\r\n    private bTop: Laya.Image;    \r\n    @property({type:Laya.Image})\r\n    private bBottom: Laya.Image;   \r\n    @property({type:Laya.Image})\r\n    private bRight: Laya.Image;      \r\n    @property({type:Laya.Image})\r\n    private bLeft: Laya.Image; \r\n\r\n    onEnable(): void {\r\n        this.bTop.getComponent(Laya.BoxCollider).width = this.bTop.width;\r\n        this.bBottom.getComponent(Laya.BoxCollider).width = this.bBottom.width;\r\n        this.bRight.getComponent(Laya.BoxCollider).height = this.bRight.height;\r\n        this.bLeft.getComponent(Laya.BoxCollider).height = this.bLeft.height;\r\n    }\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * prefab&#x2F;uiDemo&#x2F;useUI&#x2F;Progress.lh\r\n */\r\nexport class ProgressRTBase extends Laya.View {\r\n    public loading2: Laya.ProgressBar;\r\n    public loadText: Laya.Text;\r\n}\r\n\r\n", "import { ProgressRTBase } from \"./ProgressRT.generated\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n\r\n@regClass('9w97n2rXRjiACN_vzizQPw')\r\nexport default class ProgressRT extends ProgressRTBase {\r\n\r\n\r\n    onEnable(): void {\r\n        // this.ani1.on(Laya.Event.COMPLETE, this, () => {\r\n        //     this.ani1.stop();\r\n        //     //3\r\n        //     Laya.timer.once(3000, this, () => {\r\n        //         this.ani1.play();\r\n        //     });\r\n        // });\r\n\r\n        // let animator: Laya.Animator2D = this.ani1.getComponent<Laya.Animator2D>(Laya.Animator2D);\r\n        // animator.play(\"cd\");\r\n        // Laya.timer.once(3000, this, () => {\r\n        //     animator.play(\"cd\");\r\n        // });\r\n        this.testProgress();\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    testProgress(): void {\r\n        this.loading2.value = 0.01;\r\n        this.loadText.text = (\"\")\r\n        Laya.timer.loop(100, this, this.changeProgress);\r\n    }\r\n\r\n    //LoadingRuntime\r\n    changeProgress(): void {\r\n        this.loading2.value += 0.05;\r\n        if (this.loading2.value == 1) {\r\n            this.loadText.text = (\"\")\r\n            Laya.timer.clear(this, this.changeProgress);\r\n\r\n            //3\r\n            Laya.timer.once(3000, this, () => {\r\n                this.testProgress();\r\n            });\r\n        }\r\n    }\r\n}", "const { regClass, property } = Laya;\r\n\r\n@regClass('q0uAMn-DTUm70T4fGtxGlw')\r\nexport class AnimatorControl extends Laya.Script {\r\n    private _anim: Laya.Animator;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onStart(): void {\r\n        this._anim = this.owner.getComponent(Laya.Animator);\r\n    }\r\n    private isPlayanimaByName(layerIndex: number = 0): boolean {\r\n        let layer: Laya.AnimatorControllerLayer = this._anim.getControllerLayer(layerIndex);\r\n        if (layer == undefined) {\r\n            return false;\r\n        }\r\n        let state = layer.getCurrentPlayState()\r\n        if (state == undefined) {\r\n            return false;\r\n        }\r\n        if (state.animatorState.clip.islooping) {\r\n            return true;\r\n        }\r\n        //@ts-ignore\r\n        return state._finish;\r\n    }\r\n    /**\r\n     * \r\n     * @param\tname \r\n     */\r\n    private isSameByName(name: string, layerIndex: number = 0): boolean {\r\n        let layer: Laya.AnimatorControllerLayer = this._anim.getControllerLayer(layerIndex);\r\n        if (layer == undefined) {\r\n            return false;\r\n        }\r\n        let state = layer.getCurrentPlayState()\r\n        if (state == undefined) {\r\n            return false;\r\n        }\r\n        if (state.animatorState.name == name) {\r\n            return true\r\n        }\r\n    }\r\n    /**\r\n     * \r\n     * @param\tname null\r\n     * @param\tisForce \r\n     */\r\n    public playAnim(name: string, isForce: boolean = false) {\r\n        if (isForce) {\r\n            if (this.isSameByName(name)) {\r\n                return;\r\n            } else {\r\n                this._anim.play(name, 0, 0)\r\n            }\r\n            return;\r\n        }\r\n        if (this.isPlayanimaByName()) {\r\n            return;\r\n        } else {\r\n            this._anim.play(name, 0, 0)\r\n        }\r\n\r\n    }\r\n\r\n}\r\n", "import Role from \"../../prefab/Role\";\r\nimport GameManager from \"../logic/GameManager\";\r\nimport KeyBoardManager = Laya.InputManager;\r\nimport { Signal } from \"../../game/global/event/Signal\";\r\nimport { GameEvent } from \"../../game/global/event/GameEvent\";\r\nimport Tool from \"../util/Tool\";\r\nimport { MatchModel } from \"../../game/module/match/MatchModel\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n/**\r\n * @author HJY \r\n * @readme \r\n */\r\n@regClass('7cTqWb35RwygSkuWy4QkgQ')\r\nexport default class Script extends Laya.Script {\r\n    //  Laya.Box\r\n    declare owner: Laya.Box;\r\n\r\n\r\n    // // \r\n    // private directComponent: Role | null = null;\r\n    private currRockerBar: Laya.Button | null = null;\r\n    private img_freebar_arrow: Laya.Image;\r\n\r\n\r\n    private freetrack: Laya.Image;\r\n\r\n\r\n    private img_arrow_left: Laya.Image;\r\n    private img_arrow_right: Laya.Image;\r\n    private img_arrow_up: Laya.Image;\r\n    private img_arrow_down: Laya.Image;\r\n\r\n    private maxDistance: number = 80;\r\n    private isMouseDown: boolean = false;\r\n    private mouseDownPosition: Laya.Point = new Laya.Point();\r\n    private _currentMouse: Laya.Point = new Laya.Point();\r\n    private initRockerBarPosition: Laya.Point = new Laya.Point();\r\n\r\n\r\n    public key1Pressed: boolean = false;\r\n    public key2Pressed: boolean = false;\r\n    public key3Pressed: boolean = false;\r\n    public key4Pressed: boolean = false;\r\n    // public direction: number = -4;\r\n    public directionOffset: number = 0;\r\n\r\n    // /** @prop {name:gameMap, tips:\"1\", type:Button} */\r\n    // @property({type:Laya.Button})\r\n    // private key1: Laya.Button;\r\n    // private key2: Laya.Button;\r\n    // private key3: Laya.Button;\r\n    // private key4: Laya.Button;\r\n\r\n    // private isMoving: boolean;\r\n    private touchId: number;\r\n    // private centerX: number;\r\n    // private centerY: number;\r\n    // private _visible: boolean;\r\n\r\n    public isKeyRun:boolean = false;\r\n\r\n    onEnable(): void {\r\n        //\r\n        Laya.InputManager.multiTouchEnabled = true;\r\n    }\r\n\r\n\r\n\r\n    onStart(): void {\r\n        this.currRockerBar = this.owner.getChildByName(\"freebar\") as Laya.Button;\r\n        this.img_freebar_arrow = this.currRockerBar.getChildByName(\"img_freebar_arrow\") as Laya.Image;\r\n\r\n\r\n        this.freetrack = this.owner.getChildByName(\"freetrack\") as Laya.Image;\r\n\r\n        this.img_arrow_left = this.freetrack.getChildByName(\"img_arrow_left\") as Laya.Image;\r\n        this.img_arrow_right = this.freetrack.getChildByName(\"img_arrow_right\") as Laya.Image;\r\n        this.img_arrow_up = this.freetrack.getChildByName(\"img_arrow_up\") as Laya.Image;\r\n        this.img_arrow_down = this.freetrack.getChildByName(\"img_arrow_down\") as Laya.Image;\r\n        this.img_freebar_arrow.visible = false;\r\n        if (Laya.Browser.onPC) {\r\n            \r\n            this.freetrack.visible = true;\r\n        }else{            \r\n            this.img_arrow_left.visible = \r\n            this.img_arrow_right.visible = \r\n            this.img_arrow_up.visible = \r\n            this.img_arrow_down.visible = false;\r\n        }\r\n        this.initialise();\r\n\r\n        // DirectMove\r\n        // if (this.target) {\r\n        //     this.directComponent = this.target.getComponent(Role);\r\n        // }\r\n    }\r\n\r\n    // \r\n    private initialise(): void {\r\n\r\n        this.initRockerBarPosition.setTo(this.currRockerBar.x, this.currRockerBar.y);\r\n\r\n        this.currRockerBar.on(Laya.Event.MOUSE_DOWN, this, this.onMouseDown);\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.onMouseMove);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.onMouseUp);\r\n        // Laya.stage.on(Laya.Event.MOUSE_OUT, this, this.onMouseUp);\r\n\r\n        // this.key1.on(Laya.Event.MOUSE_DOWN, this, this.onSkillKeyDown, [1, true]);\r\n        // this.key1.on(Laya.Event.MOUSE_UP, this, this.onSkillKeyDown, [1, false]);\r\n        // this.key1.on(Laya.Event.MOUSE_OUT, this, this.onSkillKeyDown, [1, false]);\r\n\r\n        // this.key2.on(Laya.Event.MOUSE_DOWN, this, this.onSkillKeyDown, [2, true]);\r\n        // this.key2.on(Laya.Event.MOUSE_UP, this, this.onSkillKeyDown, [2, false]);\r\n        // this.key2.on(Laya.Event.MOUSE_OUT, this, this.onSkillKeyDown, [2, false]);\r\n\r\n        // this.key3.on(Laya.Event.MOUSE_DOWN, this, this.onSkillKeyDown, [3, true]);\r\n        // this.key3.on(Laya.Event.MOUSE_UP, this, this.onSkillKeyDown, [3, false]);\r\n        // this.key3.on(Laya.Event.MOUSE_OUT, this, this.onSkillKeyDown, [3, false]);\r\n    }\r\n\r\n    onSkillKeyDown(e: Laya.Event, _index:number, isPress:boolean): void {\r\n        e.stopPropagation();\r\n        switch(_index){\r\n            case 1:\r\n                this.key1Pressed = isPress;\r\n                break;\r\n            case 2:\r\n                this.key2Pressed = isPress;\r\n                break;            \r\n            case 3:\r\n                this.key3Pressed = isPress;\r\n                break;\r\n            }\r\n    }\r\n\r\n    // \r\n    onMouseDown(e: Laya.Event): void {\r\n        if(MatchModel.instance.stopAll)\r\n            return;\r\n        e.stopPropagation();\r\n        this.isMouseDown = true;\r\n        this.currRockerBar!.selected = true;\r\n        if (!Laya.Browser.onPC) {            \r\n            this.freetrack!.visible = true;\r\n        }\r\n        \r\n        this.mouseDownPosition.setTo(this.owner.mouseX, this.owner.mouseY);\r\n        console.log(\"onMouseDown this.owner.mouse: \", this.owner.mouseX, this.owner.mouseY);\r\n        this.isKeyRun = false;\r\n        this.touchId = e.touchId;\r\n    }\r\n\r\n    // \r\n    onMouseUp(e: Laya.Event): void {\r\n        // console.log(\"onMouseUp 1 \", e);\r\n        if (!this.isMouseDown) {\r\n            return;\r\n        }\r\n        // console.log(\"onMouseUp 2 \", e);\r\n        this.endClick(e);\r\n    }\r\n\r\n    // \r\n    private endClick(e: Laya.Event): void {\r\n        // if (this.touchId == e.touchId) {\r\n            this.isMouseDown = false;\r\n            this.currRockerBar!.x = this.initRockerBarPosition.x;\r\n            this.currRockerBar!.y = this.initRockerBarPosition.y;\r\n            this.currRockerBar!.selected = false;\r\n            if (!Laya.Browser.onPC) {            \r\n                this.freetrack!.visible = false;\r\n            }\r\n\r\n            //DirectMove\r\n            // if (this.directComponent) this.directComponent.roleDirection = -4;\r\n            this.setDir( -4 );\r\n        // }\r\n        \r\n        \r\n    }\r\n\r\n    /*\r\n    * \r\n    */\r\n    onMouseMove(e: Laya.Event): void {\r\n        if (!this.isMouseDown || !this.currRockerBar) {\r\n            return;\r\n        }\r\n\r\n\r\n        // if (this.touchId == e.touchId) {\r\n            \r\n\r\n\r\n            e.stopPropagation();\r\n\r\n            this._currentMouse.setTo(e.stageX, e.stageY);\r\n            // console.log(\"onMouseMove e.stage: \", e.stageX, e.stageY);\r\n            /** */\r\n            const localMouse = this.owner.globalToLocal(this._currentMouse, false);\r\n\r\n            // console.log(\"onMouseMove localMouse: \", localMouse.x, localMouse.y);\r\n\r\n            const distanceX = localMouse.x - this.mouseDownPosition.x;\r\n            const distanceY = localMouse.y - this.mouseDownPosition.y;\r\n            const distance = Math.sqrt(distanceX ** 2 + distanceY ** 2);\r\n\r\n            // console.log(\"onMouseMove mouseDownPosition: \", this.mouseDownPosition.x, this.mouseDownPosition.y);\r\n\r\n            // \r\n            if (distance < this.maxDistance) {\r\n                this.currRockerBar.x = this.initRockerBarPosition.x + distanceX;\r\n                this.currRockerBar.y = this.initRockerBarPosition.y + distanceY;\r\n            } else {\r\n                const radians = Math.atan2(distanceX, distanceY);\r\n                this.currRockerBar.x = Math.sin(radians) * this.maxDistance + this.initRockerBarPosition.x;\r\n                this.currRockerBar.y = Math.cos(radians) * this.maxDistance + this.initRockerBarPosition.y;\r\n            }\r\n\r\n\r\n\r\n            //  Role \r\n            // if (this.directComponent) {\r\n                // const angle = Math.atan2(distanceX, distanceY) * 180 / Math.PI;\r\n                // console.log(\"angle: \" + angle);\r\n                // this.directComponent.directMove(angle);\r\n\r\n                if (Math.abs(distanceX) > this.directionOffset || Math.abs(distanceY) > this.directionOffset) {\r\n                    // this.direction = this.angle;\r\n\r\n                    let direction = Tool.judgePosition(distanceX, distanceY);\r\n                    console.log(\"this.direction:\" + direction);\r\n                    this.setDir(direction);\r\n                }\r\n            // }\r\n        // }\r\n    }\r\n\r\n    onUpdate(): void {\r\n        if(MatchModel.instance.stopAll)\r\n            return;\r\n        this.getKeyboardPressed();\r\n    }\r\n\r\n    lastDirection:number;\r\n\r\n    private setDir(direction:number){\r\n        if(this.lastDirection != direction){\r\n            GameManager.instance.setMyHeroDirection(direction);\r\n            this.lastDirection = direction;\r\n        }\r\n        if(direction == -4){\r\n            this.img_freebar_arrow.visible = false;\r\n\r\n        }else{\r\n            this.img_freebar_arrow.visible = true;\r\n            // \r\n            let angle: number = (direction - 3) * 45;\r\n            // let angle: number = Math.atan2(distanceY, distanceX) * 180 / Math.PI;\r\n\r\n\r\n            this.img_freebar_arrow.rotation = 45 + angle;\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n    private getKeyboardPressed() {\r\n        if (KeyBoardManager.hasKeyDown(Laya.Keyboard.W) && KeyBoardManager.hasKeyDown(Laya.Keyboard.A)) {\r\n            this.isKeyRun = true;\r\n            this.setDir( 8 );\r\n        }else if (KeyBoardManager.hasKeyDown(Laya.Keyboard.W) && KeyBoardManager.hasKeyDown(Laya.Keyboard.D)) {\r\n            this.isKeyRun = true;\r\n            this.setDir( 2 );\r\n        }else if (KeyBoardManager.hasKeyDown(Laya.Keyboard.S) && KeyBoardManager.hasKeyDown(Laya.Keyboard.A)) {\r\n            this.isKeyRun = true;\r\n            this.setDir( 6 );\r\n        }else if (KeyBoardManager.hasKeyDown(Laya.Keyboard.S) && KeyBoardManager.hasKeyDown(Laya.Keyboard.D)) {\r\n            this.isKeyRun = true;\r\n            this.setDir( 4 );\r\n        }else if (KeyBoardManager.hasKeyDown(Laya.Keyboard.W)) {\r\n            this.isKeyRun = true;\r\n            this.setDir( 1 );\r\n        } else if (KeyBoardManager.hasKeyDown(Laya.Keyboard.D)) {\r\n            this.isKeyRun = true;\r\n            this.setDir( 3 );\r\n        } else if (KeyBoardManager.hasKeyDown(Laya.Keyboard.S)) {\r\n            this.isKeyRun = true;\r\n            this.setDir( 5 );\r\n        } else if (KeyBoardManager.hasKeyDown(Laya.Keyboard.A)) {\r\n            this.isKeyRun = true;\r\n            this.setDir( 7 );\r\n        } else {\r\n            if(this.isKeyRun){\r\n                this.setDir( -4 );\r\n            }\r\n            \r\n        }\r\n        if (KeyBoardManager.hasKeyDown(Laya.Keyboard.H) || KeyBoardManager.hasKeyDown(Laya.Keyboard.NUMPAD_1)) {\r\n            if(this.key1Pressed) return;\r\n            this.key1Pressed = true;\r\n            Signal.intance.event(GameEvent.EVENT_CLICK_NUM, 1);\r\n            Laya.timer.once(500, this, this.notKey1Pressed);\r\n        }\r\n        if (KeyBoardManager.hasKeyDown(Laya.Keyboard.J) || KeyBoardManager.hasKeyDown(Laya.Keyboard.NUMPAD_2)) {\r\n            if(this.key2Pressed) return;\r\n            this.key2Pressed = true;\r\n            Signal.intance.event(GameEvent.EVENT_CLICK_NUM, 2);\r\n            Laya.timer.once(500, this, this.notKey2Pressed);\r\n        }\r\n        if (KeyBoardManager.hasKeyDown(Laya.Keyboard.K) || KeyBoardManager.hasKeyDown(Laya.Keyboard.NUMPAD_3)) {\r\n            if(this.key3Pressed) return;\r\n            this.key3Pressed = true;\r\n            Signal.intance.event(GameEvent.EVENT_CLICK_NUM, 3);\r\n            Laya.timer.once(500, this, this.notKey3Pressed);\r\n        }\r\n        if (KeyBoardManager.hasKeyDown(Laya.Keyboard.L) || KeyBoardManager.hasKeyDown(Laya.Keyboard.NUMPAD_4)) {\r\n            if(this.key4Pressed) return;\r\n            this.key4Pressed = true;\r\n            Signal.intance.event(GameEvent.EVENT_CLICK_NUM, 4);\r\n            Laya.timer.once(500, this, this.notKey4Pressed);\r\n        }\r\n    }\r\n\r\n    private notKey1Pressed(){\r\n        this.key1Pressed = false;\r\n    }\r\n    private notKey2Pressed(){\r\n        this.key2Pressed = false;\r\n    }\r\n    private notKey3Pressed(){\r\n        this.key3Pressed = false;\r\n    }\r\n    private notKey4Pressed(){\r\n        this.key4Pressed = false;\r\n    }\r\n\r\n\r\n\r\n\r\n    private getKeyPressed(button: Laya.Sprite) {\r\n        //var pt = button.fromStagePoint(Laya.stage.getMousePoint());\r\n        var pt = button.toParentPoint(new Laya.Point(button.x, button.y));\r\n        if (pt.x > button.x &&\r\n            pt.x < button.x + button.width &&\r\n            pt.y > button.y &&\r\n            pt.y < button.y + button.height) {\r\n            return true;\r\n        }\r\n        // if (Laya.stage.mouseX > button.x &&\r\n        //     Laya.stage.mouseX < button.x + button.width &&\r\n        //     Laya.stage.mouseY > button.y &&\r\n        //     Laya.stage.mouseY < button.y + button.height) {\r\n        //     return true;\r\n        // }\r\n        return false;\r\n    }\r\n\r\n    private getDistance(centerX: number, centerY: number, mouseX: number, mouseY: number) {\r\n        let dx: number = centerX - mouseX;\r\n        let dy: number = centerY - mouseY;\r\n        let distance: number = Math.sqrt(dx * dx + dy * dy);\r\n        return distance;\r\n    }\r\n\r\n\r\n    onDisable(): void {\r\n        //\r\n        Laya.InputManager.multiTouchEnabled = false;\r\n    }\r\n\r\n\r\n\r\n}", "\r\n//\r\nexport default class ParticleTool {\r\n\r\n    /**\r\n     * \r\n     * @param resName \r\n     * @param skillIndex  id\r\n     * @param parentNode \r\n     */\r\n    public static playSkillEffect(resName: string, skillIndex: number, parentNode: Laya.Sprite3D) {\r\n        var array = [\"Attack01\", \"Attack02\", \"Attack03\", \"Attack04\"];\r\n        var skillName = array[skillIndex];\r\n        Laya.Sprite3D.load(resName, Laya.Handler.create(null, function (sp: any) {\r\n            parentNode.addChild(sp);\r\n            var _p = sp.getChildByName(skillName) as Laya.Sprite3D;\r\n            _p.active = true;\r\n            var _partice = _p.getComponent(Laya.ShurikenParticleRenderer);\r\n            _partice._particleSystem.play();\r\n            setTimeout(() => {\r\n                sp.removeSelf();\r\n            }, 1000)\r\n        }))\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param resName \r\n     * @param parentNode \r\n     */\r\n    public static playEnemyHurtSkillEffect(resName: string, parentNode: Laya.Sprite3D) {\r\n        Laya.Sprite3D.load(resName, Laya.Handler.create(null, function (sp: any) {\r\n            parentNode.addChild(sp);\r\n            var _name = \"Attack\";\r\n            var _p = sp.getChildByName(_name) as Laya.Sprite3D;\r\n            var _partice = _p.getComponent(Laya.ShurikenParticleRenderer);\r\n            _partice._particleSystem.play();\r\n            if (_p.numChildren > 0) {\r\n                for (let index = 0; index < _p.numChildren; index++) {\r\n                    var _p1 = _p.getChildAt(index);\r\n                    var _partice1 = _p1.getComponent(Laya.ShurikenParticleRenderer);\r\n                    _partice1._particleSystem.play();\r\n                }\r\n            }\r\n            setTimeout(() => {\r\n                sp.removeSelf();\r\n            }, 1000)\r\n        }))\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param resName \r\n     * @param parentNode \r\n     */\r\n    public static playNormalEffect(resName: string, parentNode: Laya.Sprite3D) {\r\n        Laya.Sprite3D.load(resName, Laya.Handler.create(null, function (sp: any) {\r\n            parentNode.addChild(sp);\r\n            var _p = sp;\r\n            var _partice = _p.getComponent(Laya.ShurikenParticleRenderer);\r\n            _partice._particleSystem.play();\r\n            if (_p.numChildren > 0) {\r\n                for (let index = 0; index < _p.numChildren; index++) {\r\n                    var _p1 = _p.getChildAt(index);\r\n                    var _partice1 = _p1.getComponent(Laya.ShurikenParticleRenderer);\r\n                    _partice1._particleSystem.play();\r\n                }\r\n            }\r\n            setTimeout(() => {\r\n                sp.removeSelf();\r\n            }, 1000);\r\n        }))\r\n    }\r\n\r\n}", "\r\nimport { AnimatorControl } from \"../AnimatorControl\";\r\nimport GameManager, { MusicType } from \"./GameManager\";\r\nimport ParticleTool from \"./ParticleTool\";\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('eWO-rqURQ6ag7phXtJPZCA')\r\nexport default class EnemyMove extends Laya.Script {\r\n    //@property()\r\n    followTarget: Laya.Sprite3D = null;\r\n\r\n    @property({ type: AnimatorControl})\r\n    public anim: AnimatorControl;\r\n\r\n    @property({ type: \"number\"})\r\n    public speed: number = 0.02;\r\n\r\n    private mLife: number = 5;\r\n\r\n    private mIsEnd: boolean = false;\r\n\r\n    private mIsAttack: boolean = false;\r\n\r\n    private mIsAttackStart: boolean = false;\r\n\r\n    private mCanPlayFirst: boolean = true;\r\n\r\n    private mAttackDelayTime: number = 0;\r\n\r\n    private mCurrentIndex: number = 0;\r\n    constructor() {\r\n        super();\r\n        this.followTarget = GameManager.instance.getCurrentHero();\r\n    }\r\n\r\n\r\n    /**\r\n     * getComponent\r\n     * \r\n    */\r\n    onUpdate(): void {\r\n        if (this.mIsEnd) {\r\n            return;\r\n        }\r\n        if (this.followTarget == null) {\r\n            this.followTarget = GameManager.instance.getCurrentHero();\r\n        }\r\n        var Vec1 = new Laya.Vector3(this.followTarget.transform.position.x, 0, this.followTarget.transform.position.z);\r\n        var Vec2 = new Laya.Vector3((this.owner as Laya.Sprite3D).transform.position.x, 0, (this.owner as Laya.Sprite3D).transform.position.z)\r\n        var dis = Laya.Vector3.distance(Vec1, Vec2);\r\n        if (dis < 10) {\r\n            if (dis <= 1) {\r\n                if (this.mIsAttack) {\r\n                    this.isAttackendByPlayer();\r\n                }\r\n                else {\r\n                    if (this.mCanPlayFirst) {\r\n                        this.mCanPlayFirst = false;\r\n                        this.attackPlayer();\r\n                    }\r\n                    else {\r\n                        this.mAttackDelayTime = this.mAttackDelayTime + Laya.timer.delta;\r\n                        if (this.mAttackDelayTime > 1000) {\r\n                            this.mAttackDelayTime = 0;\r\n                            this.attackPlayer();\r\n                        }\r\n                    }\r\n                    this.mIsAttackStart = false;\r\n                }\r\n                GameManager.instance.insertValidList(this.owner);\r\n            }\r\n            else {\r\n                this.mAttackDelayTime = 0;\r\n                var cha = new Laya.Vector3();\r\n                Laya.Vector3.subtract(Vec1, Vec2, cha);\r\n                Laya.Vector3.normalize(cha, cha);\r\n                (this.owner as Laya.Sprite3D).transform.lookAt(Vec1, Laya.Vector3.Up);\r\n                var curpos: Laya.Vector3 = (this.owner as Laya.Sprite3D).transform.position;\r\n                curpos.vadd(new Laya.Vector3(cha.x * this.speed, 0, cha.z * this.speed), curpos);\r\n                (this.owner as Laya.Sprite3D).transform.position = curpos;\r\n                this.anim && this.anim.playAnim(\"run\", true);\r\n                this.mCanPlayFirst = true\r\n                this.mIsAttackStart = false;\r\n                this.mIsAttack = false;\r\n            }\r\n        }\r\n        else {\r\n            if (this.anim) {\r\n                this.anim.playAnim(\"ldle\", true);\r\n            }\r\n            GameManager.instance.removeValidListByValue(this.owner);\r\n        }\r\n\r\n        if (this.mLife <= 0) {\r\n            this.mIsEnd = true;\r\n            if (this.anim) {\r\n                this.anim.playAnim(\"die\", true);\r\n            }\r\n            setTimeout(() => {\r\n                GameManager.instance.removeValidListByValue(this.owner);\r\n                this.owner.removeSelf();\r\n                var plane = GameManager.instance.getCurrentPlane();\r\n                var index = this.mCurrentIndex;\r\n                GameManager.instance.createEnemy(plane.getChildAt(index) as Laya.Sprite3D, index);\r\n            }, 600)\r\n        }\r\n    }\r\n\r\n    setCurrentIndex(index: number) {\r\n        this.mCurrentIndex = index;\r\n    }\r\n\r\n    public setLife(_life: number) {\r\n        this.mLife = _life;\r\n    }\r\n\r\n    private attackPlayer() {\r\n        ParticleTool.playEnemyHurtSkillEffect(\"resources/prefab/eff_monster.lh\", this.owner.getChildAt(0) as Laya.Sprite3D);\r\n        GameManager.instance.playSound(MusicType.eEnemyAttack);\r\n        this.anim && this.anim.playAnim(\"attack\", true);\r\n        setTimeout(() => {\r\n            if (this.mIsEnd) {\r\n                return;\r\n            }\r\n            this.anim && this.anim.playAnim(\"ldle\", true);\r\n        }, 500)\r\n    }\r\n\r\n    private isAttackendByPlayer() {\r\n        //\r\n        if (!this.mIsAttackStart) {\r\n            this.anim && this.anim.playAnim(\"shouji\", true);\r\n            ParticleTool.playNormalEffect(\"resources/prefab/eff_shouji.lh\", this.owner.getChildAt(0) as Laya.Sprite3D);\r\n            setTimeout(() => {\r\n                if (this.mIsEnd) {\r\n                    return;\r\n                }\r\n                this.anim && this.anim.playAnim(\"shouji\", true);\r\n                this.mIsAttack = false;\r\n            }, 500);\r\n            this.mIsAttackStart = true;\r\n        }\r\n    }\r\n\r\n\r\n    public getLife() {\r\n        return this.mLife;\r\n    }\r\n\r\n    public setIsAttack(state: boolean) {\r\n        this.mIsAttack = state;\r\n    }\r\n}", "import { AnimatorControl } from \"../AnimatorControl\";\r\nimport GameManager, { MusicType } from \"./GameManager\";\r\nimport ParticleTool from \"./ParticleTool\";\r\nimport Tool from \"../util/Tool\";\r\nimport EnemyMove from \"./EnemyMove\";\r\nimport Role from \"../../prefab/Role\";\r\nimport { Signal } from \"../../game/global/event/Signal\";\r\nimport { GameEvent } from \"../../game/global/event/GameEvent\";\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('xovkzdhOSuOc_JJKi_7s2g')\r\nexport default class PlayerCatch extends Laya.Script {\r\n\r\n    @property({ type: AnimatorControl})\r\n    public anim1: AnimatorControl;\r\n\r\n    @property({ type: \"string\"})\r\n    public animname: string = \"\";\r\n    @property({ type: \"boolean\"})\r\n    public force: boolean = false;\r\n\r\n\r\n    // @property({ type: Laya.Sprite})\r\n    // public player: Laya.Sprite;\r\n\r\n    @property({ type: \"boolean\"})\r\n    public isBig: boolean = false;\r\n\r\n    @property({ type: Laya.Sprite})\r\n    btn_pic: Laya.Sprite;\r\n\r\n    private isCanClick = true;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onStart(): void {\r\n        Signal.intance.on(GameEvent.EVENT_CLICK_NUM3, this, this.onMouseClick);\r\n        \r\n    }\r\n\r\n    public onMouseClick(evt: Laya.Event) {\r\n        if (!this.isCanClick) {\r\n            return;\r\n        }\r\n        // if (this.isCanClick) {\r\n        //     this.isCanClick = false;\r\n        // }\r\n\r\n        Laya.Tween.to(this.btn_pic, { scaleX: 1.1, scaleY: 1.1 }, 250, Laya.Ease.linearIn, Laya.Handler.create(this, () => {\r\n            Laya.Tween.to(this.btn_pic, { scaleX: 1, scaleY: 1 }, 150, Laya.Ease.linearIn);\r\n        }));\r\n\r\n        GameManager.instance.myHeroSpr.getComponent(Role).catchItem();\r\n        GameManager.instance.playSound(MusicType.ePuGong);\r\n\r\n        // ParticleTool.playSkillEffect(\"resources/prefab/eff_play.lh\", skillIndex, this.player);\r\n        if (this.anim1) {\r\n            this.anim1.playAnim(this.animname, this.force);\r\n            setTimeout(() => {\r\n                this.anim1.playAnim(\"idle\", this.force);\r\n                this.isCanClick = true;\r\n            }, 500)\r\n        }\r\n    }\r\n\r\n\r\n    onDestroy(): void {\r\n        Signal.intance.offAllCaller(this);\r\n        \r\n    }\r\n\r\n\r\n}", "import { AnimatorControl } from \"../AnimatorControl\";\r\nimport GameManager, { MusicType } from \"./GameManager\";\r\nimport ParticleTool from \"./ParticleTool\";\r\nimport Tool from \"../util/Tool\";\r\nimport EnemyMove from \"./EnemyMove\";\r\nimport { GameEvent } from \"../../game/global/event/GameEvent\";\r\nimport { Signal } from \"../../game/global/event/Signal\";\r\nimport Role from \"../../prefab/Role\";\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ye1w48wgTbqktuLPDOjmkw')\r\nexport default class PlayerFight extends Laya.Script {\r\n\r\n    // @property({ type: AnimatorControl})\r\n    // public anim1: AnimatorControl;\r\n\r\n    // @property({ type: \"string\"})\r\n    // public animname: string = \"\";\r\n    // @property({ type: \"boolean\"})\r\n    // public force: boolean = false;\r\n\r\n\r\n    // @property({ type: Laya.Sprite})\r\n    // public player: Laya.Sprite;\r\n\r\n    @property({ type: \"boolean\"})\r\n    public isBig: boolean = false;\r\n\r\n    @property({ type: Laya.Sprite})\r\n    btn_pic: Laya.Sprite;\r\n\r\n    private isCanClick = true;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n    onStart(): void {\r\n        Signal.intance.on(GameEvent.EVENT_CLICK_NUM, this, this.onNumberClick);\r\n        \r\n    }\r\n\r\n    onNumberClick(num:number){\r\n        if(num == 1){\r\n            if(!this.isBig)\r\n                this.onMouseClick(null);\r\n        }else{\r\n            if(this.isBig)\r\n                this.onMouseClick(null);\r\n        }\r\n        \r\n    }\r\n\r\n    public onMouseClick(evt: Laya.Event) {\r\n        if (!this.isCanClick) {\r\n            return;\r\n        }\r\n        if (this.isCanClick) {\r\n            this.isCanClick = false;\r\n        }\r\n\r\n        var _list = GameManager.instance.getValidList();\r\n        Laya.Tween.to(this, { scaleX: 1.1, scaleY: 1.1 }, 250, Laya.Ease.linearIn, Laya.Handler.create(this, () => {\r\n            Laya.Tween.to(this, { scaleX: 1, scaleY: 1 }, 150, Laya.Ease.linearIn);\r\n        }));\r\n        var skillIndex = 0\r\n        //\r\n        if (!this.isBig) {\r\n            GameManager.instance.myHeroSpr.attack();\r\n\r\n            GameManager.instance.playSound(MusicType.ePuGong);\r\n        }\r\n        else {\r\n            GameManager.instance.myHeroSpr.attack();\r\n\r\n            // // return;\r\n            // skillIndex = 3\r\n            // this.animname = \"attack4\";\r\n            // if (_list.length > 0) {\r\n            //     //\r\n            //     for (let index = 0; index < _list.length; index++) {\r\n            //         var dx = (this.player as Laya.Sprite).x - (_list[0] as Laya.Sprite).x;\r\n            //         var dy = (this.player as Laya.Sprite).y - (_list[0] as Laya.Sprite).y;\r\n\r\n\r\n            //         if (this.getDistance(dx, dy) < 1) {\r\n            //             var item = _list[index].getComponent(EnemyMove);\r\n            //             //\r\n            //             if (item.getLife() > 0) {\r\n            //                 item.setLife(item.getLife() - 1);\r\n            //             }\r\n            //             item.setIsAttack(true);\r\n            //         }\r\n            //     }\r\n            //     //ParticleTool.playSkillEffect(\"resources/prefab/eff_play.lh\", skillIndex, this.player as Laya.Sprite);\r\n            // }\r\n            GameManager.instance.playSound(MusicType.eDaZhao);\r\n        }\r\n        setTimeout(() => {\r\n            this.isCanClick = true;\r\n        }, 500)\r\n        // ParticleTool.playSkillEffect(\"resources/prefab/eff_play.lh\", skillIndex, this.player);\r\n        \r\n    }\r\n\r\n    private getDistance(dx: number, dy: number) {\r\n        let distance: number = Math.sqrt(dx * dx + dy * dy);\r\n        return distance;\r\n    }\r\n    private getDistanceByPoint(centerX: number, centerY: number, mouseX: number, mouseY: number) {\r\n        let dx: number = centerX - mouseX;\r\n        let dy: number = centerY - mouseY;\r\n        let distance: number = Math.sqrt(dx * dx + dy * dy);\r\n        return distance;\r\n    }\r\n\r\n        onDestroy(): void {\r\n            Signal.intance.offAllCaller(this);\r\n            \r\n        }\r\n    \r\n\r\n}", "const { regClass, property } = Laya;\r\n@regClass('c71-MoP2RIyCrdBAfjnIgw')\r\nexport default class bgImg extends Laya.Script {\r\n    declare owner: Laya.Image;\r\n    /** x */\r\n    private maxX: number = 0;\r\n    /** x */\r\n    private minX: number = -90;\r\n    /** y */\r\n    private maxY: number = 0;\r\n    /** y */\r\n    private minY: number = -580;\r\n\r\n    /** */\r\n    private scaleSize: number = 0.1;\r\n\r\n    /**  */\r\n    private lastDistance: number = 0;\r\n    /**  */\r\n    private lastPivot: Laya.Point;\r\n    /**  */\r\n    private startedSingleTouchDrag: boolean = false;\r\n\r\n    onEnable(): void {\r\n        this.owner.on(Laya.Event.MOUSE_DOWN, this, this.onMouseDown);\r\n        this.onMouseWheel();\r\n    }\r\n\r\n    /**  */\r\n    onMouseWheel(): void {\r\n        //\r\n        this.owner.on(Laya.Event.MOUSE_WHEEL, this, (e: Laya.Event) => {\r\n            //\r\n            let point: Laya.Point = this.owner.globalToLocal(new Laya.Point(Laya.stage.mouseX, Laya.stage.mouseY));\r\n            // this.addTestPoint(point);\r\n\r\n            if (e.delta > 0) { //  \r\n                this.owner.scaleX += this.scaleSize;\r\n                this.owner.scaleY += this.scaleSize;\r\n            }\r\n            if (e.delta < 0) { //  \r\n                this.owner.scaleX -= this.scaleSize;\r\n                this.owner.scaleY -= this.scaleSize;\r\n                //\r\n                (this.owner.scaleX < 1) && (this.owner.scaleX = 1);\r\n                (this.owner.scaleY < 1) && (this.owner.scaleY = 1);\r\n            }\r\n\r\n            //\r\n            let point2: Laya.Point = this.owner.globalToLocal(new Laya.Point(Laya.stage.mouseX, Laya.stage.mouseY));\r\n            // this.addTestPoint(point2, \"#ffffff\");\r\n\r\n            //xy\r\n            let _offsetX = (point2.x - point.x) * this.owner.scaleX;\r\n            let _offsetY = (point2.y - point.y) * this.owner.scaleY;\r\n\r\n            //\r\n            _offsetX += this.owner.x;\r\n            _offsetY += this.owner.y;\r\n\r\n            //,\r\n            this.updateLimit();\r\n\r\n            //\r\n            if (_offsetX > this.maxX) this.owner.x = this.maxX;\r\n            else if (_offsetX < this.minX) this.owner.x = this.minX;\r\n            else this.owner.x = _offsetX;\r\n\r\n            if (_offsetY > this.maxY) this.owner.y = this.maxY;\r\n            else if (_offsetY < this.minY) this.owner.y = this.minY;\r\n            else this.owner.y = _offsetY;\r\n        });\r\n    }\r\n\r\n    onStart(): void {\r\n        //onStart \r\n        this.updateLimit();\r\n    }\r\n\r\n    /**  */\r\n    updateLimit(): void {\r\n        //panel\r\n        let _parent = this.owner.parent as Laya.Panel;\r\n\r\n        //\r\n        this.minX = Math.min(_parent.width - this.owner.width * this.owner.scaleX, 0);\r\n        this.minY = Math.min(_parent.height - this.owner.height * this.owner.scaleY, 0);\r\n    }\r\n\r\n    onMouseDown(e: Laya.Event): void {\r\n        e.stopPropagation();\r\n        //touch1\r\n        if (e.touches && e.touches.length > 1) {\r\n            if (this.startedSingleTouchDrag) {\r\n                //\r\n                this.owner.stopDrag();\r\n                //\r\n                this.startedSingleTouchDrag = false;\r\n            }\r\n            let lastPivot = this.setPivot(e);\r\n            //safaribug\r\n            if (!(lastPivot.x) || !(lastPivot.y)) {\r\n                console.log(\"(((((((((((((((((((((((\", this.lastPivot, JSON.parse(JSON.stringify(e.touches)));\r\n            } else {\r\n                //touch\r\n                this.lastDistance = this.getDistance(e);\r\n                //\r\n                this.lastPivot = lastPivot;\r\n                //\r\n                this.owner.on(Laya.Event.MOUSE_MOVE, this, this.mouseMove);\r\n                // this.addTestPoint(this.lastPivot);\r\n            }\r\n        }\r\n        else { //\r\n            this.owner.startDrag();// \r\n            this.startedSingleTouchDrag = true;\r\n        }\r\n    }\r\n\r\n    onMouseUp(e: Laya.Event): void {\r\n        //\r\n        this.owner.off(Laya.Event.MOUSE_MOVE, this, this.mouseMove);\r\n    }\r\n    /**  */\r\n    getDistance(e: Laya.Event): number {\r\n        //0\r\n        var distance: number = 0;\r\n        if (e.touches && e.touches.length > 1) {\r\n            //\r\n            let dx: number = e.touches[0].pos.x - e.touches[1].pos.x;\r\n            let dy: number = e.touches[0].pos.y - e.touches[1].pos.y;\r\n            distance = Math.sqrt(dx * dx + dy * dy);\r\n        }\r\n        return distance;\r\n    }\r\n\r\n    /**  */\r\n    mouseMove(e: Laya.Event): void {\r\n        /***/\r\n        let distance: number = this.getDistance(e);\r\n\r\n        //\r\n        this.owner.scaleX += (distance - this.lastDistance) * (this.scaleSize / 10);\r\n        this.owner.scaleY += (distance - this.lastDistance) * (this.scaleSize / 10);\r\n        //\r\n        (this.owner.scaleX < 1) && (this.owner.scaleX = 1);\r\n        (this.owner.scaleY < 1) && (this.owner.scaleY = 1);\r\n        (this.owner.scaleX > 5) && (this.owner.scaleX = 5);\r\n        (this.owner.scaleY > 5) && (this.owner.scaleY = 5);\r\n\r\n        //()\r\n        let nowPivot = this.setPivot(e);\r\n        //safaribug\r\n        if (!(nowPivot.x) || !(nowPivot.y)) {\r\n            console.log(\"$$$$$$$$$$$\", nowPivot, JSON.parse(JSON.stringify(e.touches)));\r\n        } else {\r\n            // this.addTestPoint(nowPivot, \"#ffffff\");\r\n\r\n            //,\r\n            this.updateLimit();\r\n\r\n            //xy\r\n            let _offsetX = (nowPivot.x - this.lastPivot.x) * this.owner.scaleX;\r\n            let _offsetY = (nowPivot.y - this.lastPivot.y) * this.owner.scaleY;\r\n\r\n            //\r\n            _offsetX += this.owner.x;\r\n            _offsetY += this.owner.y;\r\n\r\n            //\r\n            if (_offsetX > this.maxX) this.owner.x = this.maxX;\r\n            else if (_offsetX < this.minX) this.owner.x = this.minX;\r\n            else this.owner.x = _offsetX;\r\n\r\n            if (_offsetY > this.maxY) this.owner.y = this.maxY;\r\n            else if (_offsetY < this.minY) this.owner.y = this.minY;\r\n            else this.owner.y = _offsetY;\r\n\r\n            //\r\n            this.lastDistance = distance;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param touches \r\n     */\r\n    setPivot(e: Laya.Event): Laya.Point {\r\n        //\r\n        if (e.touches && e.touches.length >= 2) {\r\n            let Point0: Laya.Point = this.owner.globalToLocal(new Laya.Point(e.touches[0].pos.x, e.touches[0].pos.y));\r\n            let Point1: Laya.Point = this.owner.globalToLocal(new Laya.Point(e.touches[1].pos.x, e.touches[1].pos.y));\r\n            return new Laya.Point((Point0.x + Point1.x) / 2, (Point0.y + Point1.y) / 2);\r\n        }\r\n        return this.lastPivot;\r\n\r\n    }\r\n\r\n    onUpdate(): void {\r\n        //\r\n        (this.owner.x > this.maxX) && (this.owner.x = this.maxX);\r\n        (this.owner.x < this.minX) && (this.owner.x = this.minX);\r\n        (this.owner.y > this.maxY) && (this.owner.y = this.maxY);\r\n        (this.owner.y < this.minY) && (this.owner.y = this.minY);\r\n        // console.log(\"---------_owner.xy++++++++++\", this.owner.x, this.owner.y, this.maxX, this.maxY, this.minX, this.minY, this.owner);\r\n    }\r\n\r\n    /** \r\n     * @param point \r\n     * @param size \r\n     * @param color \r\n     */\r\n    addTestPoint(point: Laya.Point, color: string = \"#ff0000\", size: number = 2): void {\r\n        let spTest = new Laya.Sprite();\r\n        spTest.graphics.drawCircle(0, 0, size, color);\r\n        this.owner.addChild(spTest);\r\n        spTest.pos(point.x, point.y);\r\n        // console.log(\"====---------\", point.x, point.y)\r\n    }\r\n}", "const { regClass, property } = Laya;\r\nimport ShapeDetectionRT from \"../../scence/uiDemo/interactive/ShapeDetectionRT\";\r\n@regClass('oWa7FUgoQ6CqtyJh_D1Y2w')\r\nexport default class DragAndTips extends Laya.Script {\r\n    /** @prop {name:tipsText,tips:\"\",type:string} */\r\n    @property({type:\"string\"})\r\n    private tipsText: string = '';\r\n    /**  */\r\n    private isDown: boolean = false;\r\n\r\n    onEnable(): void {\r\n        this.tipsText.replace(/(^\\s*)|(\\s*$)/g, '');\r\n    }\r\n\r\n    onMouseDown(): void {\r\n        (this.owner as Laya.Sprite).startDrag();\r\n        this.isDown = true;\r\n    }\r\n\r\n    onMouseUp(): void {\r\n        this.isDown = false;\r\n    }\r\n\r\n    onMouseMove(): void {\r\n        this.isDown && ShapeDetectionRT.i.collisionWith(this.owner as Laya.Sprite);            \r\n    }\r\n\r\n    onMouseOver(): void {\r\n        Laya.Mouse.cursor = \"move\";\r\n        this.tipsText !== \"\" && Laya.Scene.open(\"scenes/uiDemo/Msg.ls\", false, { \"text\": this.tipsText });\r\n    }\r\n\r\n    onMouseOut(): void {\r\n        Laya.Mouse.cursor = \"auto\";\r\n    }\r\n}", "const { regClass, property } = Laya;\r\n\r\n\r\n\r\nimport Prefab = Laya.Prefab;\r\nimport Image = Laya.Image;\r\nimport Event = Laya.Event;\r\nimport Panel = Laya.Panel;\r\nimport Point = Laya.Point;\r\n/**\r\n * 2D\r\n * \r\n */\r\n\r\n @regClass('Pl5-_PonSLe-7mCnxeXfRw')\r\nexport default class Joystick extends Laya.Script {\r\n    /** @prop {name:roleAni, tips:\"\", type:Prefab}*/\r\n\r\n    @property({type:Laya.Prefab})\r\n    private roleAni: Laya.Prefab;\r\n\r\n    /** @prop {name:runAniName, tips:\"16015\", type:String, default:\"Right,Rdown1,Rdown2,Rdown3,Down,Ldown3,Ldown2,Ldown1,Left,Lup1,Lup2,Lup3,Up,Rup3,Rup2,Rup1\"}*/\r\n    @property({type:\"string\"})\r\n    private runAniName: string = \"runRight,runRDown1,runRDown2,runRDown3,runDown,runLDown3,runLDown2,runLDown1,runLeft,runLUp1,runLUp2,runLUp3,runUp,runRUp3,runRUp2,runRUp1\";\r\n    \r\n    /** @prop {name:standAniName, tips:\"807\", type:String, default:\"Right,Rdown,Down,Ldown,Left,Lup,Up,Rup\"}*/\r\n    @property({type:\"string\"})\r\n    private standAniName: string = \"right,Rdown,down,Ldown,left,Lup,up,Rup\";\r\n    /** @prop {name:gameMap, tips:\"\", type:Node} */\r\n    @property({type:Laya.Sprite})\r\n    private gameMap: Laya.Sprite;\r\n    /** @prop {name:sceneWindow, tips:\"\", type:Node} */\r\n    @property({type:Laya.Box})\r\n    private sceneWindow: Laya.Box;\r\n\r\n    /**  */\r\n    private joystickBG: Image;\r\n    /**  */\r\n    private joystickAxis: Image;\r\n    /**  */\r\n    private maxDistance: number;\r\n    /** touchID */\r\n    private touchId: number;\r\n    /** stagestage */\r\n    private stageMouse: Point = new Point();\r\n    /**  */\r\n    private axisPivot: Point = new Point();\r\n    /**  */\r\n    private angle: number = 0;\r\n    /**  */\r\n    private lastAngle: number;\r\n    /**  */\r\n    private radian: number = 0;\r\n    /**  */\r\n    private lastRunAniName: string;\r\n    /**  */\r\n    private isMoving: boolean = false;\r\n    /**  */\r\n    private roleAniNode: Laya.Sprite;\r\n    private _animator: Laya.Animator2D;\r\n    private isRun: boolean = false;\r\n\r\n    constructor() { super(); }\r\n\r\n    onEnable(): void {\r\n        //\r\n        this.joystickBG = this.owner as Image;\r\n        this.joystickAxis = this.owner.getChildByName(\"joystickAxis\") as Image;\r\n\r\n        //2\r\n        this.maxDistance = this.joystickBG.width - this.joystickAxis.width;\r\n\r\n        //IDEjoystickAxis\r\n        this.axisPivot.x = this.joystickAxis.x;\r\n        this.axisPivot.y = this.joystickAxis.y;\r\n\r\n        //panel\r\n        this.sceneWindow.on(Event.MOUSE_DOWN, this, this.mouseDown);\r\n        this.sceneWindow.on(Event.MOUSE_MOVE, this, this.mouseMove);\r\n        this.sceneWindow.on(Event.MOUSE_UP, this, this.mouseUp);\r\n        this.sceneWindow.on(Event.MOUSE_OUT, this, this.mouseUp);\r\n\r\n        //\r\n        this.roleAniNode = this.roleAni.create() as Laya.Sprite;\r\n        this.gameMap.addChild(this.roleAniNode);\r\n        this.roleAniNode.pivot(this.roleAniNode.width / 2, this.roleAniNode.height / 2);\r\n        this.roleAniNode.x = this.gameMap.width / 2;\r\n        this.roleAniNode.y = this.gameMap.height / 2;\r\n\r\n        //\r\n        this._animator = this.roleAniNode.getComponent<Laya.Animator2D>(Laya.Animator2D);\r\n    }\r\n\r\n    /** panel \\ */\r\n    mouseDown(e: Event): void {\r\n        //touchId\r\n        this.touchId = e.touchId;\r\n        this.isMoving = true;\r\n        this.updateJoystickPoint();\r\n    }\r\n\r\n    /**  */\r\n    updateJoystickPoint(): void {\r\n        // console.log(\"updateJoystickPoint\");\r\n        //stage,\r\n        this.stageMouse.x = Laya.stage.mouseX;\r\n        this.stageMouse.y = Laya.stage.mouseY;\r\n        let joystickBGMouse = this.joystickBG.globalToLocal(this.stageMouse),\r\n            /**  */\r\n            mouseX = joystickBGMouse.x - this.joystickAxis.width / 2,\r\n            mouseY = joystickBGMouse.y - this.joystickAxis.height / 2;\r\n\r\n        //\r\n        this.radian = Math.atan2(mouseY - this.axisPivot.y, mouseX - this.axisPivot.x);\r\n        this.lastAngle = this.angle;\r\n        this.angle = Math.round(this.radian * 180 / Math.PI * 10) / 10;\r\n        this.angle < 0 && (this.angle += 360);\r\n\r\n        console.log(\"radian: \" + this.radian + \", angle: \" + this.angle);\r\n\r\n        /**joystickBG*/\r\n        let distance = this.getDistance(this.joystickBG.width / 2, this.joystickBG.height / 2, joystickBGMouse.x, joystickBGMouse.y);\r\n\r\n        // console.log({ distance }, this.maxDistance);\r\n        //\r\n        if (distance > this.maxDistance && this.lastAngle !== this.angle) {\r\n            this.joystickAxis.x = Math.floor(Math.cos(this.radian) * this.maxDistance) + this.axisPivot.x;\r\n            this.joystickAxis.y = Math.floor(Math.sin(this.radian) * this.maxDistance) + this.axisPivot.y;\r\n        } else {\r\n            //, joystickBGjoystickAxisjoystickAxis\r\n            this.joystickAxis.pos(joystickBGMouse.x - this.joystickAxis.width / 2, joystickBGMouse.y - this.joystickAxis.height / 2);\r\n        }\r\n        this.switchAni(\"run\");\r\n    }\r\n\r\n    /** \r\n     * @param aniType \r\n     */\r\n    switchAni(aniType: string): void {\r\n        if (aniType == \"run\") {\r\n            let _runAniName: string = this.getOrientation(this.angle, this.runAniName);\r\n            if (_runAniName !== this.lastRunAniName) {\r\n                this.lastRunAniName = _runAniName;\r\n                this._animator.play(_runAniName);\r\n            }\r\n            this.isRun = true;\r\n        } else {\r\n            this.isRun = false;\r\n\t\t\tlet standS : string = this.getOrientation(this.angle, this.standAniName);\r\n            this.lastAngle !== this.angle && this._animator.play(standS);\r\n        }       \r\n    }\r\n\r\n    /**  */\r\n    mouseUp(e: Event): void {\r\n        //\r\n        if (e.touchId != this.touchId) return;\r\n        this.touchId = null;\r\n        this.isMoving = false;\r\n        //\r\n        this.joystickAxis.pos(this.axisPivot.x, this.axisPivot.y);\r\n\r\n        //\r\n        this.switchAni(\"stand\");\r\n    }\r\n\r\n    /**  */\r\n    mouseMove(e: Event): void {\r\n        //\r\n        if (e.touchId != this.touchId) return;\r\n        this.updateJoystickPoint();\r\n    }\r\n\r\n    /**  \r\n     * @param angle \r\n     * @param aniName \r\n     * @return \r\n    */\r\n    getOrientation(angle: number, aniName: string): string {\r\n        let aniArr: Array<string> = aniName.split(\",\");\r\n        const angleConditions: number = 360 / aniArr.length;\r\n        return aniArr[Math.floor(angle / angleConditions)];\r\n    }\r\n\r\n    onUpdate(): void {\r\n        if (!this.isMoving) return;\r\n        //\r\n        this.updateRoleMove();\r\n    }\r\n\r\n    /**  */\r\n    updateRoleMove(): void {\r\n        //\r\n        this.switchAni(\"run\");\r\n\r\n        //\r\n        let dx = Math.cos(this.radian) * 2;\r\n        let dy = Math.sin(this.radian) * 2;\r\n\r\n        //\r\n        ((dx < 0 && this.gameMap.x < 0) || (dx > 0 && this.gameMap.x > this.sceneWindow.width - this.gameMap.width)) && (this.gameMap.x -= dx);\r\n        ((dy < 0 && this.gameMap.y < 0) || (dy > 0 && this.gameMap.y > this.sceneWindow.height - this.gameMap.height)) && (this.gameMap.y -= dy);\r\n    }\r\n\r\n    /** \r\n    * \r\n    * ()\r\n    * @param centerX X\r\n    * @param centerY Y\r\n    * @param mouseX X\r\n    * @param mouseY Y\r\n    */\r\n    getDistance(centerX: number, centerY: number, mouseX: number, mouseY: number): number {\r\n        let dx: number = centerX - mouseX,\r\n            dy: number = centerY - mouseY;\r\n        return Math.sqrt(dx * dx + dy * dy);\r\n    }\r\n}", "/**\r\n * \r\n */\r\n const { regClass, property } = Laya;\r\n\r\n @regClass('hPkwKQvKQTaeBeEpHxNUEA')\r\n export default class Folded extends Laya.Script {\r\n    /**  */\r\n    private isOpen: boolean = true;\r\n    /**  */\r\n    private toolbarBG: Laya.Image;\r\n    /**  */\r\n    private _owner: Laya.Sprite;\r\n    /**  */\r\n    private menu: Laya.Sprite;\r\n\r\n    constructor() { super(); }\r\n\r\n    onEnable(): void {\r\n        //\r\n        this.toolbarBG = this.owner.parent as Laya.Image;\r\n        //\r\n        this._owner = this.owner as Laya.Image;\r\n        //\r\n        this.menu = this.owner.parent.getChildByName(\"menu\") as Laya.Sprite;\r\n    }\r\n\r\n    onMouseDown(e: Laya.Event) {\r\n        //\r\n        e.stopPropagation();\r\n\r\n        if (this.isOpen) {\r\n            //\r\n            Laya.Tween.to(this.toolbarBG, { width: 106 }, 1000, Laya.Ease.strongOut);\r\n            //+\r\n            Laya.Tween.to(this._owner, { x: 52, rotation: 540 }, 1000, Laya.Ease.strongOut, Laya.Handler.create(this, () => {\r\n                //\r\n                this.isOpen = false;\r\n            }));\r\n            //\r\n            Laya.Tween.to(this.menu, { alpha: 0 }, 300, Laya.Ease.strongOut, Laya.Handler.create(this, () => {\r\n                //\r\n                this.menu.visible = false;\r\n            }));\r\n        } else {\r\n            //\r\n            Laya.Tween.to(this.toolbarBG, { width: 460 }, 1000, Laya.Ease.strongOut);\r\n            //+\r\n            Laya.Tween.to(this._owner, { x: 402, rotation: -360 }, 1000, Laya.Ease.strongOut, Laya.Handler.create(this, () => {\r\n                //\r\n                this.isOpen = true;\r\n            }));\r\n            //\r\n            Laya.Tween.to(this.menu, { alpha: 1 }, 200, Laya.Ease.strongOut, Laya.Handler.create(this, () => {\r\n                //\r\n                this.menu.visible = true;\r\n            }));\r\n        }\r\n    }\r\n\r\n    onDisable(): void {\r\n    }\r\n}"],
  "mappings": "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EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,SAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,SAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,SAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,SAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,SAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,EAAOlI,EAAO,EAAA,EAAK,UAAA,EACvB,IAAIkI,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",
  "names": ["b64Tab", "uint8array2packed", "arr", "existingPacked", "existingPackedLen", "bigEndianMod", "i", "intOffset", "byteOffset", "packed", "existingByteLen", "shiftModifier", "length", "push", "value", "binLen", "getStrConverter", "format", "utfType", "Error", "str", "existingBin", "existingBinLen", "num", "parseInt", "substr", "isNaN", "codePnt", "codePntArr", "j", "transposeBytes", "byteCnt", "charCodeAt", "tmpInt", "strPart", "firstEqual", "indexOf", "search", "replace", "charAt", "ArrayBuffer", "ignore", "Uint8Array", "getOutputConverter", "outputBinLen", "outputOptions", "binarray", "outputLength", "formatOpts", "srcByte", "toUpperCase", "triplet", "int1", "int2", "String", "fromCharCode", "retVal", "arrView", "K_sha2", "H_trunc", "H_full", "sha_variant_error", "packedLEConcat", "a", "b", "arrOffset", "aByteLen", "bByteLen", "leftShiftAmount", "rightShiftAmount", "pop", "concat", "getOutputOpts", "options", "outputUpper", "b64Pad", "outputLen", "lenErrstr", "parseInputOption", "key", "fallback", "errStr", "h", "n", "variant", "inputFormat", "inputOptions", "this", "numRounds", "shaVariant", "remainder", "remainderLen", "updateCalled", "processedLen", "macKeySet", "keyWithIPad", "keyWithOPad", "jsSHABase", "srcString", "updateProcessedLen", "variantBlockIntInc", "variantBlockSize", "convertRet", "converterFunc", "chunkBinLen", "chunk", "chunkIntLen", "intermediateState", "roundFunc", "slice", "finalizedState", "isVariableLen", "formatFunc", "getMAC", "finalizeFunc", "stateCloneFunc", "newStateFunc", "HMACSupported", "keyConverterFunc", "_setHMACKey", "blockByteSize", "lastArrayIndex", "_getHMAC", "firstHash", "extendStatics", "d", "Object", "setPrototypeOf", "__proto__", "Array", "p", "prototype", "hasOwnProperty", "call", "__extends", "__", "constructor", "create", "rotl_32", "x", "rotr_32", "shr_32", "parity_32", "y", "z", "ch_32", "maj_32", "sigma0_32", "safeAdd_32_2", "lsw", "safeAdd_32_4", "c", "safeAdd_32_5", "e", "gamma0_32", "sigma1_32", "getNewState", "_variant", "roundSHA1", "block", "H", "T", "t", "W", "finalizeSHA1", "remainderBinLen", "processedBinLen", "offset", "totalLen", "K", "r", "o", "resolvedOptions", "_this", "_super", "state", "getNewState256", "roundSHA256", "f", "g", "T1", "T2", "msint_32", "lsint_32", "highOrder", "lowOrder", "rotl_64", "tmp", "Int_64", "rotr_64", "shr_64", "ch_64", "maj_64", "sigma0_64", "rotr28", "rotr34", "rotr39", "safeAdd_64_2", "msw", "safeAdd_64_4", "safeAdd_64_5", "xor_64_2", "gamma0_64", "rotr1", "rotr8", "shr7", "sigma1_64", "rotr14", "rotr18", "rotr41", "K_sha512", "getNewState512", "roundSHA512", "rotr19", "rotr61", "shr6", "G", "rc_sha3", "r_sha3", "cloneSHA3State", "clone", "roundSHA3", "round", "B", "C", "D", "left_encode", "byte", "numEncodedBytes", "x_64", "encode_string", "input", "byte_pad", "outputByteLen", "encodedLen", "outputIntLen", "intsToAppend", "on", "delimiter", "_initializeKMAC", "_getKMAC", "_initializeCSHAKE", "_processedBinLen", "blockSize", "temp", "state_offset", "binaryStringInc", "remainderIntLen", "jsSHA", "funcNameOverride", "funcName", "customization", "packedParams", "byte_pad_out", "kmacKey", "concatedRemainder", "shaObj", "jsSHA1", "jsSHA256", "jsSHA512", "jsSHA3", "update", "getHash", "setHMACKey", "getHMAC", "IndexRTBase", "regClass", "property", "IndexRT", "IndexRTBase", "__decorateClass", "ItemBoxBase", "regClass", "property", "Script", "ItemBoxBase", "value", "redHot", "flagText", "__decorateClass", "LoadingRTBase", "BaseItem", "obj", "key", "value", "LanguageItem", "BaseItem", "Dictionary", "key", "value", "index", "_GameSetting", "value", "time", "cancelTime", "GameSetting", "GameLanguageMgr", "_GameLanguageMgr", "Dictionary", "value", "a", "languageItem", "LanguageItem", "ID", "type", "id", "key", "lanValue", "reg", "source", "args", "pattern", "arg", "replaceArr", "_str", "text", "arg1", "arg2", "arg3", "arg4", "i", "n", "callBack", "str", "GameSetting", "cookieLang", "lang", "language", "SpotInfo", "BaseItem", "SheetDictionary", "data", "BaseItemClass", "item", "key", "returnData", "index", "SpotSheetDataManager", "_SpotSheetDataManager", "json", "GameResourceManager", "SheetDictionary", "SpotInfo", "id", "PlatFormManager", "_PlatFormManager", "_callBack", "spotId", "parameters", "_spotInfo", "spotInfo", "SpotSheetDataManager", "parametersStr", "_obj", "jsonData", "EffectManager", "Dictionary", "url", "i", "oneUrl", "GameResourceManager", "animation", "copyAnimation", "newUrl", "ani", "effect", "res", "LoadingManager", "_LoadingManager", "EffectManager", "GameResourceManager", "_e", "bounds", "showImmediately", "text", "textWidth", "_LayerManager", "value", "view", "layerType", "postTpye", "index", "swidth", "sheight", "offsetX", "offsetY", "anchorX", "anchorY", "_posWidth", "_posHeight", "view1", "view2", "isFrontBack", "index1", "index2", "LayerManager", "_SoundMgr", "value", "cookieMusic", "cookieSound", "url", "name", "pix", "GameResourceManager", "loops", "isOpen", "v", "SoundMgr", "ModuleName", "GameEvent", "Signal", "_Signal", "BaseDialog", "LayerManager", "SoundMgr", "event", "_sprite", "target", "type", "caller", "listener", "args", "i", "ModuleManager", "GameResourceManager", "Signal", "GameEvent", "cmdId", "data", "preSceneData", "SceneManager", "ModuleName", "ModuleManager", "_ModuleManager", "Dictionary", "moduleName", "data", "Signal", "GameEvent", "moudleName", "temp", "i", "name", "LoadingManager", "GameResourceManager", "className", "index", "baseView", "moduleView", "res", "LayerManager", "baseDialog", "viewName", "viewDetail", "delectIndex", "temps", "viewItemDetail", "BaseDialog", "j", "dialog", "SceneLoadMgr", "_SceneLoadMgr", "mapWidth", "mapHeight", "gridWidth", "gridHeight", "_mapImg", "_mapName", "_callBack", "_altlasXmlUrl", "GameResourceManager", "_nima", "_index", "sprite", "b", "_textures", "img", "SceneType", "_NoticeMgr", "value", "moduleView", "GameResourceManager", "noticeView", "res", "notice", "LayerManager", "view", "NoticeMgr", "ErrorPopManager", "_ErrorPopManager", "_data", "id", "para", "GameLanguageMgr", "NoticeMgr", "value", "color", "_txt", "NpcModel", "Dictionary", "json", "GameResourceManager", "npcVo", "npc", "GameLanguageMgr", "faceVo", "face", "id", "lv", "info", "EnumFunctionId", "SysteSheetModel", "Dictionary", "funId", "vo", "_openSystem", "j", "EnumFunctionId", "json", "GameResourceManager", "systemInfo", "info", "arr", "position", "value", "openType", "param", "sysId", "GameSetting", "VipInfo", "vipLel", "level", "vipLevel", "value", "HeroVo", "GameResourceManager", "value", "SheetDataManager", "GameLanguageMgr", "ItemVo", "_ItemVo", "__id", "value", "vo", "GameLanguageMgr", "itemDto", "SheetDataManager", "montyId", "monyItem", "GameResourceManager", "itemVo", "itemID", "GetItemService", "_GetItemService", "Signal", "GameEvent", "GetItemDataModel", "item", "HeroVo", "ModuleName", "data", "GetItemDataModel", "_GetItemDataModel", "cls", "singClass", "GetItemService", "itemVo", "isAutoShow", "copyItem", "ItemVo", "HeroVo", "value", "info", "id", "count", "EnumConsumeType", "EnumItemType", "_EnumeCatagoryChildType", "childType", "keyName", "EnumeCatagoryChildType", "PackageData", "Dictionary", "data", "item", "ItemVo", "isAll", "itemId", "needLv", "EnumConsumeType", "GlobalDataManager", "SheetDataManager", "dataArr", "updateIds", "dispatchGetItem", "itemDto", "i", "itemVo", "GetItemDataModel", "EnumeCatagoryChildType", "EnumItemType", "GetItemService", "Signal", "GameEvent", "typeId", "childType", "items", "type", "subType", "a", "b", "aState", "bState", "id", "GlobalService", "_GlobalService", "cls", "singClass", "value", "funId", "funVo", "GlobalDataManager", "needPop", "NoticeMgr", "Signal", "GameEvent", "ModuleName", "functionId", "showTip", "vo", "bool", "GameLanguageMgr", "coseType", "EnumConsumeType", "AlertType", "AlertManager", "_AlertManager", "type", "data", "flag", "okHandler", "cancelHandler", "destroyDoCancel", "initHandler", "AlertType", "ModuleManager", "_Quick", "text", "color", "target", "name", "attribute", "container", "len", "item", "i", "attrName", "logMsg", "logType", "addLogFile", "date", "mat", "blurFilter", "id", "type", "imgUrl", "code", "imgWidth", "imgHeight", "_callBack", "GameSetting", "clip", "index", "data", "_index", "_level", "_type", "_clipSkin", "_starStr", "starList", "starArr", "_color", "cf", "AlertManager", "AlertType", "GameLanguageMgr", "SceneManager", "SceneType", "PlatFormManager", "errorCodeMsg", "shakeSprs", "times", "offset", "speed", "points", "shakeSpr", "offsetXYArray", "num", "updateShake", "j", "dis", "point", "Quick", "MessageReader", "value", "_array", "_index1", "_index2", "_index3", "_data", "_short", "len", "_buffer1", "MessageWrite", "value", "_lenByt", "MsgBodyAnaly", "_MsgBodyAnaly", "GameSetting", "_time", "_roleID", "_account", "_version", "_key", "_md5", "MD5Compress", "GlobalDataManager", "_encryptData", "commandId", "_data", "_write", "MessageWrite", "_arrData", "value", "_itemData", "xm", "n", "byt", "_read", "MessageReader", "_msgID", "_arr", "_dataArr", "_index", "_byt", "a", "_len", "m", "_itemLen", "_itemArr", "MatchModel", "_MatchModel", "Dictionary", "value", "len", "loadArr", "mapId", "mapRes", "GameResourceManager", "i", "roomPlayer", "heroItem", "SheetDataManager", "heroSk", "_AnimationRequest", "buffer", "packet", "map0", "result1", "result2", "result3", "AnimationRequest", "AnimationRequest_default", "_AttackRequest", "buffer", "packet", "result0", "result1", "result2", "AttackRequest", "AttackRequest_default", "_RoomInfoRequest", "buffer", "packet", "RoomInfoRequest", "RoomInfoRequest_default", "_RoomMoveRequest", "buffer", "packet", "result0", "result1", "result2", "result3", "result4", "RoomMoveRequest", "RoomMoveRequest_default", "_TargetMoveRequest", "buffer", "packet", "result0", "result1", "result2", "result3", "result4", "result5", "TargetMoveRequest", "TargetMoveRequest_default", "_GameManager", "value", "item", "_list", "state", "index", "_index", "obj", "complete", "roleAni", "Dictionary", "len", "MatchModel", "i", "roomPlayerDto", "matchHeroSpr", "GlobalDataManager", "roomPlayerChangePush", "timeStamp", "roleId", "speed", "dire", "x", "y", "roomMoveRequest", "RoomMoveRequest_default", "WebSocketService", "sourceId", "targetId", "targetX", "targetY", "skillId", "targetMoveRequest", "TargetMoveRequest_default", "type", "newX", "newY", "animationRequest", "AnimationRequest_default", "animationPush", "attHeroSpr", "attackType", "attackRequest", "AttackRequest_default", "roomPlayerMovePush", "roleSprite", "targetMovePush", "attackPush", "skillItem", "SheetDataManager", "defHeroSpr", "attPlayerDto", "defPlayerDto", "Signal", "GameEvent", "roomInfoRequest", "RoomInfoRequest_default", "matchDto", "_matchRole", "rankList", "ModuleManager", "ModuleName", "SoundMgr", "musicType", "fileName", "hero", "isFirst", "skillRadius", "targetsType", "lastMatchHeroSpr", "lastDistance", "distance", "enemy", "radius", "myHeroSpr", "playerBPositionVector", "playerAFrontVector", "angle", "thresholdAngle", "direction", "immediately", "gameMapX", "gameMapY", "deW", "deH", "GameManager", "initWeb3", "WalletModel", "_WalletModel", "Dictionary", "assetType", "_Debugger", "stage", "isRelease", "moveStartX", "moveStartY", "moveEndX", "moveEndY", "onDebugDown", "e", "onDebugMove", "onDebugUp", "widthEnough", "heightEnough", "Debug", "selfStr", "str", "color", "addTime", "time", "len", "value", "nowX", "nowY", "Debugger", "Debug", "_Debug", "stage", "isRelease", "Debugger", "message", "type", "color", "logMsg", "Quick", "args", "HttpRequest", "_HttpCmd", "action", "srvArgs", "needLogin", "needToken", "resolve", "reject", "xhr", "completeHandler", "errorHandler", "status", "recover", "token", "EthereumManager", "header", "realUrl", "parseArgs", "Debug", "args", "str", "i", "data", "ErrorPopManager", "e", "__async", "time", "GlobalDataManager", "resChange", "loginToken", "currSeq", "Quick", "GameSetting", "loginData", "HttpCmd", "EnumWallet", "EthereumConfig", "data", "Dictionary", "iterator", "value", "SheetDataManager", "PlayerDto", "ETHAccountProxy", "_ETHAccountProxy", "EthereumConfig", "__async", "info", "HttpCmd", "EthereumManager", "vo", "PlayerDto", "nickName", "avatar", "countryId", "sex", "GlobalDataManager", "playerDto", "WalletEvent", "WalletItemVo", "ETHAssetsProxy", "_ETHAssetsProxy", "EthereumConfig", "__async", "tokenAddress", "amount", "LoadingManager", "EthereumManager", "NoticeMgr", "GameLanguageMgr", "err", "result", "vo", "WalletModel", "Dictionary", "iterator", "itemId", "address", "blc", "walletItemVo", "WalletItemVo", "Signal", "WalletEvent", "toxValue", "EnumWallet", "import_sha", "ETHUtils", "EthereumManager", "str", "key", "len", "s", "b", "b1", "b2", "b3", "i", "d", "name", "reg", "r", "url", "value", "decimals", "num", "__pow", "point", "temp", "tt", "ttt", "index", "obj", "Dictionary", "k", "EthereumManager", "_EthereumManager", "__async", "NoticeMgr", "GameLanguageMgr", "PlatFormManager", "initWeb3", "EthereumConfig", "ETHAccountProxy", "key", "mustSign", "needSign", "time", "randomHex", "r", "s", "v", "GameSetting", "loginToken", "_code", "ETHUtils", "codes", "loginInfoStr", "shaObj", "jsSHA", "hash", "signature", "err", "res", "signature1", "loginRequest", "loginDto", "HttpCmd", "ModuleManager", "ModuleName", "Signal", "GameEvent", "nickName", "gender", "avatar", "countryId", "playerDto", "address", "result", "LoadingManager", "contractAddress", "tokenAddress", "tToken", "str", "balance", "tokenId", "status", "_Error", "buffer", "packet", "result0", "result1", "result2", "Error", "Error_default", "_Ping", "buffer", "packet", "Ping", "Ping_default", "_Pong", "buffer", "packet", "result0", "Pong", "Pong_default", "_LoginRequest", "buffer", "packet", "result0", "result1", "result2", "LoginRequest", "LoginRequest_default", "_LoginResponse", "buffer", "packet", "result0", "result1", "result2", "LoginResponse", "LoginResponse_default", "_LoginAgainPush", "buffer", "packet", "LoginAgainPush", "LoginAgainPush_default", "_GmRequest", "buffer", "packet", "result0", "result1", "GmRequest", "GmRequest_default", "_GmResponse", "buffer", "packet", "result0", "result1", "GmResponse", "GmResponse_default", "_LoginBindingRequest", "buffer", "packet", "result0", "result1", "LoginBindingRequest", "LoginBindingRequest_default", "_LoginBindingResponse", "buffer", "packet", "result0", "result1", "LoginBindingResponse", "LoginBindingResponse_default", "_DisconnectPush", "buffer", "packet", "DisconnectPush", "DisconnectPush_default", "_ResPush", "buffer", "packet", "result0", "result1", "result2", "ResPush", "ResPush_default", "_RoomMoveResponse", "buffer", "packet", "result0", "result1", "result2", "result3", "result4", "result5", "RoomMoveResponse", "RoomMoveResponse_default", "_RoomPlayerChangePush", "buffer", "packet", "result0", "result1", "RoomPlayerChangePush", "RoomPlayerChangePush_default", "_RoomPlayerMovePush", "buffer", "packet", "result0", "result1", "result2", "result3", "result4", "result5", "RoomPlayerMovePush", "RoomPlayerMovePush_default", "_RoomGameOverPush", "buffer", "packet", "list0", "list1", "result2", "RoomGameOverPush", "RoomGameOverPush_default", "_AttackResponse", "buffer", "packet", "result0", "AttackResponse", "AttackResponse_default", "_AttackPush", "buffer", "packet", "result0", "result1", "result2", "list3", "result4", "result5", "result6", "result7", "result8", "result9", "AttackPush", "AttackPush_default", "_RoomInfoResponse", "buffer", "packet", "result0", "result1", "RoomInfoResponse", "RoomInfoResponse_default", "_FirstBloodPush", "buffer", "packet", "result0", "FirstBloodPush", "FirstBloodPush_default", "_MutiKillPush", "buffer", "packet", "result0", "result1", "MutiKillPush", "MutiKillPush_default", "_AnimationResponse", "buffer", "packet", "result0", "AnimationResponse", "AnimationResponse_default", "_AnimationPush", "buffer", "packet", "result0", "result1", "map2", "result3", "result4", "AnimationPush", "AnimationPush_default", "_TargetMoveResponse", "buffer", "packet", "result0", "result1", "TargetMoveResponse", "TargetMoveResponse_default", "_TargetMovePush", "buffer", "packet", "result0", "result1", "result2", "result3", "result4", "result5", "TargetMovePush", "TargetMovePush_default", "_GameStartPush", "buffer", "packet", "result0", "GameStartPush", "GameStartPush_default", "_IntBoolDto", "buffer", "packet", "result0", "result1", "IntBoolDto", "IntBoolDto_default", "_ItemDto", "buffer", "packet", "result0", "result1", "result2", "ItemDto", "ItemDto_default", "_RoomDto", "buffer", "packet", "result0", "result1", "result2", "result3", "list4", "RoomDto", "RoomDto_default", "_MatchDto", "buffer", "packet", "result0", "result1", "list2", "result3", "result4", "result5", "result6", "MatchDto", "MatchDto_default", "_RoomPlayerDto", "buffer", "packet", "result0", "result1", "result2", "result3", "result4", "result5", "result6", "result7", "result8", "result9", "result10", "result11", "result12", "map13", "result14", "result15", "result16", "RoomPlayerDto", "RoomPlayerDto_default", "_RoomRankPlayerDto", "buffer", "packet", "result0", "result1", "result2", "result3", "result4", "result5", "result6", "result7", "result8", "result9", "result10", "RoomRankPlayerDto", "RoomRankPlayerDto_default", "protocols", "Error_default", "Ping_default", "Pong_default", "LoginRequest_default", "LoginResponse_default", "LoginAgainPush_default", "GmRequest_default", "GmResponse_default", "LoginBindingRequest_default", "LoginBindingResponse_default", "DisconnectPush_default", "ResPush_default", "RoomMoveRequest_default", "RoomMoveResponse_default", "RoomPlayerChangePush_default", "RoomPlayerMovePush_default", "RoomGameOverPush_default", "AttackRequest_default", "AttackResponse_default", "AttackPush_default", "RoomInfoRequest_default", "RoomInfoResponse_default", "FirstBloodPush_default", "MutiKillPush_default", "AnimationRequest_default", "AnimationResponse_default", "AnimationPush_default", "TargetMoveRequest_default", "TargetMoveResponse_default", "TargetMovePush_default", "GameStartPush_default", "IntBoolDto_default", "ItemDto_default", "RoomDto_default", "MatchDto_default", "RoomPlayerDto_default", "RoomRankPlayerDto_default", "ProtocolManager", "_ProtocolManager", "protocolId", "protocol", "buffer", "packet", "ProtocolManager_default", "INT_CACHE", "UINT_CACHE", "wasm", "e", "_Long", "low", "high", "unsigned", "TWO_PWR_32_DBL", "radix", "radixLong", "div", "rem1", "radixToPower", "result", "rem", "remDiv", "digits", "val", "bit", "other", "thisNeg", "otherNeg", "addend", "a48", "a32", "a16", "a00", "b48", "b32", "b16", "b00", "c48", "c32", "c16", "c00", "subtrahend", "multiplier", "TWO_PWR_24", "divisor", "approx", "res", "log2", "delta", "approxRes", "approxRem", "numBits", "lowNum", "b", "le", "hi", "lo", "bytes", "value", "cache", "cachedObj", "obj", "TWO_PWR_64_DBL", "TWO_PWR_63_DBL", "lowBits", "highBits", "str", "p", "i", "size", "power", "Long", "TWO_PWR_16_DBL", "TWO_PWR_24_DBL", "Longbits", "_Longbits", "lo", "hi", "mask", "unsigned", "Long", "value", "zero", "sign", "writeVarint64", "byteBuffer", "count", "readLongVarint", "buffer", "bits", "i", "len", "pos", "writeInt64", "readInt64", "empty_str", "initSize", "maxSize", "maxShort", "minShort", "maxInt", "minInt", "encoder", "decoder", "copy", "original", "newLength", "dst", "encodeZigzagInt", "n", "decodeZigzagInt", "ByteBuffer", "writeOffset", "readOffset", "minCapacity", "newSize", "byteArray", "length", "result", "value", "b", "writeInt64", "buffer", "bufferView", "count", "readInt64", "uint8Array", "flag", "packet", "protocolId", "ProtocolManager_default", "array", "element", "index", "protocolRegistration", "list", "set", "map", "key", "size", "ByteBuffer_default", "_WebSocketService", "ws", "MatchModel", "Debug", "loginRequest", "LoginRequest_default", "EthereumManager", "GlobalDataManager", "e", "LoadingManager", "packet", "buffer", "ByteBuffer_default", "ProtocolManager_default", "writeOffset", "event", "__async", "data", "cmd", "errorCode", "ErrorPopManager", "Signal", "GameEvent", "ModuleName", "SceneManager", "SceneType", "Quick", "LoginResponse_default", "loginResponse", "GameStartPush_default", "gameStartPush", "ModuleManager", "RoomPlayerMovePush_default", "roomPlayerMovePush", "GameManager", "TargetMovePush_default", "targetMovePush", "AttackPush_default", "attackPush", "AnimationPush_default", "animationPush", "RoomPlayerChangePush_default", "roomPlayerChangePush", "FirstBloodPush_default", "firstBloodPush", "MutiKillPush_default", "mutiKillPush", "RoomGameOverPush_default", "roomGameOverPush", "RoomInfoResponse_default", "roomInfoResponse", "Error_default", "error", "LoginAgainPush_default", "accoutVo", "Ping_default", "WebSocketService", "_HttpNetService", "_Calldata", "LoadingManager", "GameLanguageMgr", "ModuleManager", "ModuleName", "evt", "totalTime", "ErrorPopManager", "_byt", "hasComBack", "_read", "MessageReader", "_cookie", "MsgBodyAnaly", "_num", "a", "_len", "_byts", "_composeByt", "_arr", "_data2", "decompressByt", "_unCompose", "_dataArr", "Quick", "Signal", "_data", "error", "value", "GameSetting", "commandID", "data", "_callBackHandler", "_isShowLoding", "_needReSend", "isReSend", "WebSocketService", "_newByt", "index", "_newData", "j", "_uint8Arr", "progress", "HttpNetService", "HeroEvent", "_GameUserInfo", "cmdId", "data", "str", "tt", "value", "_tt", "_value", "_tts", "NoticeMgr", "GameLanguageMgr", "GameSetting", "PlatFormManager", "GameUserInfo", "HeroAttupSheetItem", "BaseItem", "HeroLvSheetItem", "BaseItem", "_TimeUtil", "totalMM", "_second", "millisecon", "numberTime", "totalsec", "_sign", "needHour", "_day", "remain", "_hours", "_minute", "lanId", "GameLanguageMgr", "Quick", "second", "formatType", "result", "types", "type", "timeStamp", "sec", "time", "date", "formatStr", "month", "_date", "hour", "min", "signType", "needZero", "secStr", "arr", "time1", "timeStr", "len", "i", "temp", "TimeUtil", "HeroModel", "_HeroModel", "sheetManager", "SheetDataManager", "HeroLvSheetItem", "HeroAttupSheetItem", "sex", "index", "vo", "GlobalDataManager", "ui", "_star", "star", "ziNum", "yellowNum", "totalNum", "m", "i", "totalW", "offsetX", "_roundType", "str", "GameLanguageMgr", "TimeUtil", "GameUserInfo", "BlindBoxVo", "HeroOutputRate", "ETHBlindBoxProxy", "_ETHBlindBoxProxy", "EthereumConfig", "__async", "Dictionary", "LoadingManager", "len", "i", "iterator", "vo", "BlindBoxVo", "EthereumManager", "idx", "SheetDataManager", "price", "have", "temp", "HttpCmd", "GetItemDataModel", "GlobalDataManager", "num", "free", "Signal", "GameEvent", "GameLanguageMgr", "err", "result", "HeroModel", "HeroOutputRate", "HeroEvent", "obj", "HeroVo", "HeroData", "Dictionary", "data", "heroVo", "i", "HeroVo", "heroDto", "dataArr", "isLvUp", "updateIds", "dispatchGetItem", "GetItemDataModel", "GetItemService", "Signal", "GameEvent", "typeId", "GlobalDataManager", "_GlobalDataManager", "__async", "PlatFormManager", "ETHBlindBoxProxy", "mailinfor", "Dictionary", "timestamp", "value", "VipInfo", "PackageData", "HeroData", "SysteSheetModel", "NpcModel", "Signal", "data", "resoult", "needRefresh", "type", "currGradeId", "avo", "datas", "_datas", "funId", "styleId", "tagId", "opens", "GlobalService", "interValTime", "isAll", "GameEvent", "itemId", "coinNum", "id", "cost", "showTip", "autoPatchEvent", "needPop", "totalNeed", "needPush", "delta", "info", "EnumConsumeType", "GetItemDataModel", "GetItemService", "needSend", "lastLevel", "currLevel", "ModuleName", "guideID", "guides", "GameSetting", "LoadingManager", "ErrorPopManager", "HttpNetService", "ModuleManager", "GameLanguageMgr", "setValue", "_value", "v", "GeneralItem", "BaseItem", "BaseSheetDataModel", "jsonName", "idKeyName", "sheetItemCls", "Dictionary", "json", "GameResourceManager", "obj", "item", "id", "ItemSheetDataModel", "BaseSheetDataModel", "Dictionary", "key1", "key2", "splitKey", "childType", "itemType", "combineKey", "items", "SheetDataManager", "item", "ItemItem", "BaseItem", "rate", "k", "MapSheetItem", "BaseItem", "BaseSheetItem", "sourceObj", "key", "value", "arr", "result", "CatagoryChildTypeSheetItem", "BaseSheetItem", "value", "GameLanguageMgr", "CatagoryChildTypeSheetDataModel", "BaseSheetDataModel", "CatagoryChildTypeSheetItem", "EnumeCatagoryChildType", "childType", "ShopItem", "BaseItem", "SceneItem", "BaseItem", "HeadItem", "BaseItem", "HeroItem", "BaseItem", "ArenaItem", "BaseItem", "SkillItem", "BaseItem", "BuffItem", "BaseItem", "CountryItem", "BaseItem", "UnionItem", "BaseItem", "_SheetDataManager", "item", "EnumeCatagoryChildType", "value", "Dictionary", "EthereumConfig", "startTime", "GlobalDataManager", "ItemItem", "ShopItem", "UnionItem", "HeroItem", "SkillItem", "BuffItem", "ArenaItem", "MapSheetItem", "HeadItem", "CountryItem", "GeneralItem", "arenaItem", "SceneItem", "id", "dataType", "ItemSheetDataModel", "CatagoryChildTypeSheetDataModel", "dic", "key", "arr", "i", "name", "BaseItemClass", "callBack", "url", "data", "GameResourceManager", "SheetDictionary", "keyArr", "clearJson", "targetURL", "itemData", "len", "j", "valueArr", "key1", "dataArr", "itemType", "childType", "petSheets", "result", "itemS", "m_dic", "multiKeyValue", "SheetDataManager", "_SceneManager", "Signal", "GameEvent", "data", "SceneType", "secenData", "preSceneData", "type", "sceneType", "pushBack", "needRemember", "__async", "isReOpen", "ModuleManager", "SceneLoadMgr", "sceneItem", "SheetDataManager", "SoundMgr", "Quick", "layerType", "LayerManager", "SceneManager", "_GameResourceManager", "Dictionary", "data", "obj", "GameLanguageMgr", "err", "spotInfo", "SpotInfo", "PlatFormManager", "GameSetting", "GlobalDataManager", "GameManager", "roleAniPrefab", "value", "loaded", "startTime", "SpotSheetDataManager", "SheetDataManager", "Signal", "GameEvent", "SceneManager", "uiArr", "_data", "ErrorPopManager", "isCommon", "key", "defaultType", "url", "i", "ext", "typeId", "main", "loaderType", "result", "forceDispose", "formatUrl", "str", "targetURL", "name", "complete", "type", "priority", "cache", "urlArr", "a", "urlStrKey", "urlStrValue", "m_strName", "progress", "isBig", "headId", "sceneUrl", "roleSkinUrlArr", "icon", "pix", "sceneId", "functionId", "effectName", "img", "picId", "imgUrl", "isInstantGame", "isVideo", "shareUrl", "_head", "mapId", "serialId", "color", "GameResourceManager", "BaseAlert", "btn", "destroyChild", "cmdId", "data", "BaseAlertView", "BaseAlert", "target", "flag", "okHandler", "cancelHandler", "data", "destroyDoCancel", "initHandler", "offsetX", "AlertType", "BaseView", "LayerManager", "GameSetting", "len", "childs", "i", "node", "LoadingManager", "preSceneData", "SceneManager", "SceneType", "target", "type", "caller", "listener", "args", "ModuleManager", "GameResourceManager", "commandID", "data", "_callBackHandler", "_isShowLoding", "ModuleName", "ETHSeriesHeroMallProxy", "_ETHSeriesHeroMallProxy", "EthereumConfig", "__async", "Dictionary", "LoadingManager", "len", "i", "iterator", "vo", "BlindBoxVo", "tokenContract", "idx", "EthereumManager", "Signal", "GameEvent", "GameLanguageMgr", "price", "tokenAddress", "have", "decimals", "need", "ETHUtils", "err", "result", "EnumFun", "luckdrawevevt", "LuckdrawView", "BaseView", "_type", "LayerManager", "Signal", "luckdrawevevt", "GameEvent", "GameLanguageMgr", "ETHBlindBoxProxy", "dHeight", "GameSetting", "value", "__async", "ETHSeriesHeroMallProxy", "EnumFun", "_index", "mailList", "star", "level", "iterator", "vo", "dH", "ModuleManager", "ModuleName", "i", "currentTarget", "data", "heroVo", "_heroVo", "drawHeroItem", "ErrorPopManager", "SkillTipDialog", "BaseDialog", "UnionAttributeDetailsDialog", "BaseDialog", "vo", "GameLanguageMgr", "value", "NumberUtil", "_NumberUtil", "number", "decimalPointCount", "str", "addStr", "num", "GlobalDataManager", "knum", "numI", "numM", "lauguage", "times", "GameLanguageMgr", "value", "obj", "digits", "si", "rx", "i", "temp", "decimals", "point", "len", "tt", "ttt", "index", "Cmd", "cmdId", "MemberApplyVo", "MemberVo", "ETHUnionProxy", "_ETHUnionProxy", "__async", "Dictionary", "EthereumConfig", "difficulty", "mineId", "temp", "unionId", "LoadingManager", "EthereumManager", "err", "result", "sendBeanDto", "HttpCmd", "vo", "accountIds", "bonusPercents", "HttpNetService", "accountId", "itemId", "amount", "data", "unionName", "avator", "declaration", "have", "Quick", "NoticeMgr", "GameLanguageMgr", "list", "iterator", "MemberVo", "MemberApplyVo", "historyRecordList", "toAccountId", "Signal", "Cmd", "maxStr", "max", "curStr", "UnionAttrDetailVo", "UnionAttrLvUpDialog", "BaseDialog", "_data", "UnionAttrDetailVo", "Signal", "WebSocketService", "index", "element", "img", "idx", "temp", "__async", "GameLanguageMgr", "NoticeMgr", "LoadingManager", "data", "HttpCmd", "itemItem", "SheetDataManager", "max", "NumberUtil", "value", "node", "ETHUnionProxy", "UnionAttrView", "BaseView", "LayerManager", "Signal", "WebSocketService", "__async", "list", "HttpCmd", "dH", "GameSetting", "HeroPosVo", "HeroNetModel", "_HeroNetModel", "Dictionary", "EthereumConfig", "__async", "HttpCmd", "element", "vo", "HeroPosVo", "LoadingManager", "Signal", "ary", "EthereumManager", "err", "result", "oldA", "newA", "iterator", "HeroFormationDialog", "BaseDialog", "Signal", "__async", "HeroNetModel", "ErrorPopManager", "ModuleManager", "ModuleName", "ETHUtils", "heroVos", "GlobalDataManager", "temp", "item", "pos", "vo", "key", "e", "index", "iterator", "pvo", "cell", "RegistClass", "_RegistClass", "AlertType", "BaseAlertView", "ModuleName", "SkillTipDialog", "LuckdrawView", "UnionAttrView", "UnionAttrLvUpDialog", "UnionAttributeDetailsDialog", "HeroFormationDialog", "SceneLoadingManager", "_SceneLoadingManager", "showImmediately", "GameSetting", "LayerManager", "_ComUtil", "currentUrl", "params", "langID", "GameSetting", "HttpCmd", "ws", "WebSocketService", "EthereumManager", "langIndex", "GlobalDataManager", "url", "_match", "key", "value", "nameStr", "checkStr", "ary", "ComUtil", "regClass", "LoadingRT", "LoadingRTBase", "err", "SoundMgr", "Signal", "GameEvent", "langstr", "GameSetting", "Debug", "currentTarget", "_value", "GameLanguageMgr", "RegistClass", "LayerManager", "SceneManager", "LoadingManager", "SceneLoadingManager", "ModuleManager", "GlobalDataManager", "GameResourceManager", "ComUtil", "PlatFormManager", "__async", "EthereumManager", "loginDto", "SheetDataManager", "HttpNetService", "loginTime", "ModuleName", "NoticeMgr", "playerDto", "data", "HttpCmd", "MatchModel", "WebSocketService", "Quick", "SceneType", "progress", "__decorateClass", "_BtnColorFilter", "mat", "target", "filters", "BtnColorFilter", "regClass", "Button", "oldScale", "SoundMgr", "BtnColorFilter", "__decorateClass", "BaseAlertDialogBase", "regClass", "BaseAlertDialog", "BaseAlertDialogBase", "target", "_data", "AlertType", "__decorateClass", "ChangeHeadDialogBase", "regClass", "ChangeHeadDialog", "ChangeHeadDialogBase", "_data", "LayerManager", "index", "headItem", "GlobalDataManager", "m_dicHead", "SheetDataManager", "selectIndex", "i", "entry", "zIndex", "uploadP", "GameLanguageMgr", "selectI", "saveC", "openWin", "base64", "__async", "temp", "HttpCmd", "headId", "Signal", "GameEvent", "__decorateClass", "CoinComboBase", "regClass", "CoinCombo", "CoinComboBase", "value", "comboData", "cell", "index", "p", "py", "__decorateClass", "CoinComboListBase", "regClass", "CoinComboList", "CoinComboListBase", "__decorateClass", "CoinComboListItemBase", "regClass", "CoinComboListItem", "CoinComboListItemBase", "value", "coinName", "isSelect", "__decorateClass", "CountryListItemBase", "regClass", "CountryListItem", "CountryListItemBase", "value", "countryItem", "GameResourceManager", "GameLanguageMgr", "isSelect", "__decorateClass", "CreateLoginViewBase", "CreateLoginEvent", "regClass", "CreateLoginView", "CreateLoginViewBase", "LayerManager", "Signal", "CreateLoginEvent", "GameEvent", "GameLanguageMgr", "PlatFormManager", "index", "cell", "countryItem", "GlobalDataManager", "GameResourceManager", "m_dicCountry", "SheetDataManager", "selectIndex", "i", "entry", "_nickName", "_headId", "ModuleManager", "ModuleName", "zIndex", "uploadP", "selectI", "saveC", "openWin", "base64", "__async", "temp", "HttpCmd", "isBoy", "currentTarget", "createName", "sex", "NoticeMgr", "playerDto", "EthereumManager", "__decorateClass", "RoleAttrListItemBase", "regClass", "RoleAttrListItem", "RoleAttrListItemBase", "value", "attrData", "GameLanguageMgr", "__decorateClass", "RoleHeadListItemBase", "regClass", "RoleHeadListItem", "RoleHeadListItemBase", "value", "__async", "headId", "isSelect", "__decorateClass", "RoleInfoDialogBase", "regClass", "RoleInfoDialog", "RoleInfoDialogBase", "_data", "LayerManager", "Signal", "GameEvent", "playerDto", "GlobalDataManager", "countryItem", "SheetDataManager", "GameResourceManager", "EthereumManager", "headId", "walletAddress", "ellipsis", "pid", "__async", "that", "data", "HttpCmd", "attrs", "NoticeMgr", "GameLanguageMgr", "ModuleManager", "ModuleName", "shareUrl", "__decorateClass", "SelectHeadDialogBase", "regClass", "SelectHeadDialog", "SelectHeadDialogBase", "LayerManager", "_data", "GameLanguageMgr", "index", "headItem", "GlobalDataManager", "m_dicHead", "SheetDataManager", "selectIndex", "i", "entry", "cell", "countryItem", "GameResourceManager", "m_dicCountry", "zIndex", "uploadP", "selectI", "saveC", "openWin", "base64", "__async", "temp", "HttpCmd", "createName", "NoticeMgr", "headId", "countryId", "playerDto", "ETHAccountProxy", "Signal", "GameEvent", "__decorateClass", "_StringTool", "str", "vList", "rst", "i", "len", "oStr", "nStr", "maxLen", "strs", "str1", "str2", "source", "searchTerm", "StringTool", "GameSettingLanguageDialogBase", "regClass", "SwitchButton", "value", "__decorateClass", "regClass", "GameSettingLanguageDialog", "GameSettingLanguageDialogBase", "_data", "LayerManager", "SwitchButton", "btn", "SoundMgr", "ModuleManager", "ModuleName", "lanType", "GameLanguageMgr", "PlatFormManager", "shareUrl", "Quick", "NoticeMgr", "GlobalDataManager", "ETHUtils", "StringTool", "str", "input", "el", "selection", "originalRange", "success", "err", "__decorateClass", "AttrListItemBase", "regClass", "AttrListItem", "AttrListItemBase", "value", "attrData", "GameResourceManager", "GameLanguageMgr", "__decorateClass", "HeroDetailDialogBase", "Hero1Event", "regClass", "HeroDetailDialog", "HeroDetailDialogBase", "LayerManager", "_data", "ModuleManager", "ModuleName", "vo", "HeroModel", "Signal", "Hero1Event", "index", "evt", "GlobalDataManager", "ary", "idx", "element", "__async", "star", "attrs", "skills", "skillId", "skill", "SheetDataManager", "GameLanguageMgr", "that", "data", "HttpCmd", "NoticeMgr", "__decorateClass", "HeroListItemBase", "regClass", "HeroListItem", "HeroListItemBase", "value", "GameResourceManager", "__async", "stateData", "GlobalDataManager", "StringTool", "star", "HeroModel", "ModuleManager", "ModuleName", "__decorateClass", "_EnumHero", "EnumHero", "HeroSkBase", "regClass", "HeroSk", "HeroSkBase", "value", "templet", "EnumHero", "aniName", "__decorateClass", "MyHeroSceneBase", "regClass", "MyHeroScene", "MyHeroSceneBase", "LayerManager", "Signal", "Hero1Event", "SceneManager", "SceneType", "__async", "index", "cell", "data", "vo", "ETHBlindBoxProxy", "heroVos", "GlobalDataManager", "selectIndex", "heroVos1", "heroVo", "currentTarget", "__decorateClass", "SkillAttrListItemBase", "regClass", "SkillAttrListItem", "SkillAttrListItemBase", "value", "attrData", "GameLanguageMgr", "__decorateClass", "SkillIconItemBase", "regClass", "SkillIconItem", "SkillIconItemBase", "value", "GameResourceManager", "__decorateClass", "SkillListItemBase", "regClass", "SkillListItem", "SkillListItemBase", "value", "__async", "ModuleManager", "ModuleName", "__decorateClass", "SkillTipDialogBase", "regClass", "SkillTipDialog", "SkillTipDialogBase", "LayerManager", "_data", "GameLanguageMgr", "attrs", "__decorateClass", "BagItemBase", "regClass", "BagItem", "BagItemBase", "value", "__async", "itemItem", "PackageData", "ModuleManager", "ModuleName", "__decorateClass", "ItemGetDialogBase", "regClass", "ItemGetDialog", "ItemGetDialogBase", "_data", "LayerManager", "SoundMgr", "data", "GetItemDataModel", "GameLanguageMgr", "Signal", "GameEvent", "ModuleName", "__decorateClass", "KnapsackItemBase", "regClass", "KnapsackItem", "KnapsackItemBase", "value", "__async", "itemItem", "GameResourceManager", "PackageData", "ModuleManager", "ModuleName", "__decorateClass", "KnapsackSceneBase", "regClass", "KnapsackScene", "KnapsackSceneBase", "LayerManager", "_type", "dHeight", "GameSetting", "value", "__async", "ETHBlindBoxProxy", "_index", "shopItems", "shopType", "type", "PackageData", "m_dicShopItems", "GlobalDataManager", "i", "_item", "ItemVo", "selectIndex", "x", "itemVo", "itemItem", "GameResourceManager", "GameLanguageMgr", "SceneManager", "SceneType", "ModuleManager", "ModuleName", "data", "__decorateClass", "KnapsackTipDialogBase", "regClass", "KnapsackTipDialog", "KnapsackTipDialogBase", "LayerManager", "_data", "itemsStItem", "GameLanguageMgr", "__async", "__decorateClass", "NoServerViewBase", "regClass", "NoServerView", "NoServerViewBase", "LayerManager", "__decorateClass", "CheckCoinItemBase", "regClass", "CheckCoinItem", "CheckCoinItemBase", "value", "data", "Signal", "GameEvent", "__decorateClass", "CreateRoomDialogBase", "regClass", "CreateRoomDialog", "CreateRoomDialogBase", "LayerManager", "_data", "playerDto", "GlobalDataManager", "headId", "GameResourceManager", "SheetDataManager", "comboData", "coinId", "itemItem", "GameLanguageMgr", "index", "__async", "pwd", "arenaId", "data", "HttpCmd", "MatchModel", "ModuleManager", "ModuleName", "NoticeMgr", "__decorateClass", "EnterRoomViewBase", "regClass", "EnterRoomView", "EnterRoomViewBase", "LayerManager", "Signal", "GameEvent", "roomDto", "MatchModel", "roomId", "arenaId", "coinType", "arenaItem", "SheetDataManager", "GameLanguageMgr", "TimeUtil", "WebSocketService", "index", "currNum", "hero", "__async", "data", "HttpCmd", "currentTarget", "__decorateClass", "InputPwdDialogBase", "regClass", "InputPwdDialog", "InputPwdDialogBase", "LayerManager", "_data", "itemItem", "SheetDataManager", "coinStr", "GameLanguageMgr", "arenaItem", "__async", "pwd", "data", "HttpCmd", "MatchModel", "ModuleManager", "ModuleName", "NoticeMgr", "__decorateClass", "MainSceneBase", "MainSceneNet", "_MainSceneNet", "GlobalDataManager", "regClass", "MainScene", "MainSceneBase", "LayerManager", "MainSceneNet", "param", "mcMain", "offsetL", "GameSetting", "i", "spineSkeleton", "playerDto", "GlobalDataManager", "date", "rate", "Signal", "GameEvent", "__async", "EthereumManager", "ETHAssetsProxy", "NumberUtil", "EnumConsumeType", "WalletEvent", "value", "_index", "shopItems", "data", "HttpCmd", "coinIds", "SheetDataManager", "coinId", "itemItem", "GameLanguageMgr", "coinData", "btn", "SceneManager", "SceneType", "ModuleManager", "ModuleName", "EnumFun", "NoticeMgr", "type", "callBack", "LoadingManager", "str", "AlertManager", "AlertType", "__decorateClass", "PlayerIconBase", "regClass", "PlayerIcon", "PlayerIconBase", "value", "headId", "GameResourceManager", "__async", "ModuleManager", "ModuleName", "__decorateClass", "RoomListItemBase", "regClass", "RoomListItem", "RoomListItemBase", "__async", "ModuleManager", "ModuleName", "data", "HttpCmd", "MatchModel", "NoticeMgr", "GameLanguageMgr", "value", "headId", "TimeUtil", "__decorateClass", "Tool", "_Tool", "dx", "dy", "L", "x1", "y1", "x2", "y2", "startX", "startY", "direction", "distance", "angle", "radian", "newX", "newY", "offset", "sx", "sy", "segment", "leng", "path", "i", "directX", "directY", "targetX", "targetY", "list", "backlength", "totalLen", "cx", "cy", "points", "delta", "lasty", "lastx", "y", "x", "ex", "ey", "currentLen", "mainrole", "role", "point", "matrix", "p", "areaPoints", "nCross", "p1", "p2", "piex", "piey", "startangle", "endangle", "radius", "targetPoint", "min", "max", "DamageNumberBase", "regClass", "DamageNumber", "DamageNumberBase", "damage", "attackPush", "fontSize", "damageType", "randomX", "Tool", "__decorateClass", "MatchEndRankListItemBase", "regClass", "MatchEndRankListItem", "MatchEndRankListItemBase", "value", "__async", "GlobalDataManager", "headId", "GameLanguageMgr", "__decorateClass", "MatchEndRankViewBase", "regClass", "MatchEndRankView", "MatchEndRankViewBase", "LayerManager", "rankList", "rank", "GlobalDataManager", "selectIndex", "GameManager", "len", "_item", "i", "item", "ModuleManager", "ModuleName", "__decorateClass", "MatchEndViewBase", "regClass", "MatchEndView", "MatchEndViewBase", "LayerManager", "SceneManager", "SceneType", "roomRankPlayerDto", "GameLanguageMgr", "items", "itemDtos", "MatchModel", "itemDto", "itemVo", "ItemVo", "NumberUtil", "selectIndex", "__decorateClass", "MatchHeroListItemBase", "regClass", "MatchHeroListItem", "MatchHeroListItemBase", "value", "__async", "StringTool", "headId", "__decorateClass", "MatchHeroSprBase", "regClass", "MatchHeroSpr", "MatchHeroSprBase", "value", "direct", "GameManager", "HeroVo", "oriY", "that", "Signal", "GameEvent", "StringTool", "EnumHero", "skillId", "_isMe", "param", "callback", "skillItem", "SheetDataManager", "defHero", "newP", "displacement", "Tool", "templet", "dangTime", "buff", "buffId", "buffItem", "targetId", "attackPush", "attHeroSpr", "damage", "defHp", "L", "skillEffect", "damages", "section", "resultArray", "i", "duration", "numFlashes", "delay", "_damageLabel", "speed", "dire", "pX", "pY", "timeStamp", "GlobalDataManager", "sourceId", "targetX", "targetY", "time", "x", "y", "data", "isFirst", "__decorateClass", "MatchRankListItemBase", "regClass", "MatchRankListItem", "MatchRankListItemBase", "value", "headId", "GameLanguageMgr", "GameManager", "Quick", "__decorateClass", "MatchReadyRTBase", "regClass", "MatchReadyRT", "MatchReadyRTBase", "LayerManager", "_type", "SceneManager", "SceneType", "username", "WebSocketService", "length", "characters", "randomName", "i", "randomIndex", "__decorateClass", "MatchReadyViewBase", "regClass", "MatchReadyView", "MatchReadyViewBase", "LayerManager", "param", "remainStartTime", "MatchModel", "that", "__decorateClass", "MatchRewardListItemBase", "regClass", "MatchRewardListItem", "MatchRewardListItemBase", "value", "__async", "PackageData", "ModuleManager", "ModuleName", "__decorateClass", "MatchSceneBase", "regClass", "MatchScene", "MatchSceneBase", "LayerManager", "GameManager", "_type", "remainStartTime", "MatchModel", "ModuleManager", "ModuleName", "playerDto", "GlobalDataManager", "headId", "obj", "myPlayer", "myHeroItem", "SheetDataManager", "len", "i", "skillId", "skillItem", "matchSkillListItem", "skillCd", "heros", "newHeros", "endHeros", "a", "b", "rankNum", "roomPlayerDto", "TimeUtil", "that", "firstBloodPush", "pid", "attPlayerDto", "GameResourceManager", "mutiKillPush", "is3More", "delayTime", "Signal", "GameEvent", "__decorateClass", "regClass", "property", "MatchScene", "GameManager", "__decorateClass", "MatchSkillListItemBase", "regClass", "MatchSkillListItem", "MatchSkillListItemBase", "Signal", "GameEvent", "num", "value", "__async", "evt", "skillIndex", "GameManager", "BtnColorFilter", "_skillCooldown", "_globalCooldown", "mask", "progress", "color", "maskRadius", "centerX", "centerY", "__decorateClass", "TxtNoticeViewBase", "regClass", "TxtNoticeView", "TxtNoticeViewBase", "_notice", "value", "__decorateClass", "CoinsBoxBase", "regClass", "CoinsBox", "CoinsBoxBase", "Signal", "GameEvent", "WalletEvent", "NumberUtil", "GlobalDataManager", "EnumConsumeType", "__decorateClass", "DrawHeroItemBase", "regClass", "DrawHeroItem", "DrawHeroItemBase", "value", "__async", "StringTool", "star", "HeroModel", "__decorateClass", "HeroGetDialogBase", "regClass", "HeroGetDialog", "HeroGetDialogBase", "_data", "LayerManager", "SoundMgr", "data", "GetItemDataModel", "drawHeroItem", "Signal", "GameEvent", "ModuleName", "__decorateClass", "_XUtils", "p1", "p2", "obj", "i", "txt", "num", "cur", "del", "index", "onUpdate", "tf", "orColor", "step1", "step2", "step3", "step4", "step5", "finish", "key", "proName", "p", "targetObj", "tmp", "targeObj", "valueObj", "dis", "decimalNum", "str", "sign", "arr", "ani", "recover", "onComplete", "sp", "x", "y", "b", "stepScale", "color", "points", "step", "XUtils", "ShopListItemBase", "regClass", "ShopListItem", "ShopListItemBase", "value", "__async", "GameLanguageMgr", "GameResourceManager", "NumberUtil", "XUtils", "__decorateClass", "ShopListItem2Base", "regClass", "ShopListItem2", "ShopListItem2Base", "value", "__async", "GameLanguageMgr", "GameResourceManager", "NumberUtil", "itemItem", "SheetDataManager", "XUtils", "__decorateClass", "ShopSceneBase", "regClass", "ShopScene", "ShopSceneBase", "LayerManager", "_type", "Signal", "GameEvent", "dHeight", "GameSetting", "__async", "NoticeMgr", "GameLanguageMgr", "ETHBlindBoxProxy", "value", "_index", "shopType", "m_dicShopItems", "SheetDataManager", "items", "shopItem", "selectIndex", "GameResourceManager", "NumberUtil", "currentTarget", "SceneManager", "SceneType", "i", "aniName", "GetItemDataModel", "GetItemService", "data", "__decorateClass", "UnionRankListItemBase", "regClass", "UnionRankListItem", "UnionRankListItemBase", "value", "__async", "GameLanguageMgr", "isSelect", "__decorateClass", "UnionSceneBase", "regClass", "UnionScene", "UnionSceneBase", "LayerManager", "_type", "dHeight", "GameSetting", "__async", "searchName", "m_dicUnionItems", "SheetDataManager", "len", "i", "_item", "itemName", "GameLanguageMgr", "StringTool", "cell", "index", "selectIndex", "x", "unionItem", "SceneManager", "SceneType", "__decorateClass", "regClass", "property", "Bullet", "other", "self", "contact", "__decorateClass", "regClass", "property", "CloseBtn", "e", "__decorateClass", "regClass", "property", "DropBox", "value", "collision", "other", "self", "contact", "owner", "effect", "ani", "recover", "__decorateClass", "regClass", "property", "Role", "Dictionary", "collision", "other", "self", "contact", "DropBox", "enterRoleId", "canAttack", "GameManager", "otherHeroSpr", "__decorateClass", "regClass", "property", "PhysicsGameMain", "resArr", "res", "_ground", "now", "box", "flyer", "__decorateClass", "PhysicsGameMainRTBase", "regClass", "property", "PhysicsGameMainRT", "PhysicsGameMainRTBase", "PhysicsGameMain", "value", "__decorateClass", "MsgRTBase", "regClass", "property", "MsgRT", "MsgRTBase", "param", "__decorateClass", "regClass", "property", "Browser", "Render", "SpriteUtils", "IframeElementRT", "url", "__decorateClass", "UiMainRTBase", "regClass", "property", "UiMainRT", "UiMainRTBase", "openSceneBtn", "openSceneBtn2", "openDialogBtn", "index", "IframeElementRT", "res", "win", "__decorateClass", "regClass", "property", "AtlasAniRT", "name", "len", "aniFrames", "i", "err", "__decorateClass", "regClass", "property", "FrameAniRT", "name", "loop", "len", "aniFrames", "i", "__decorateClass", "regClass", "property", "Event", "SpineSkeleton", "SkeletonAni", "templet", "__decorateClass", "regClass", "property", "Event", "Point", "AStar", "aniState", "data", "mapData", "i", "j", "mapMouse", "start", "end", "x", "y", "aniType", "runS", "standS", "angle", "aniName", "aniArr", "angleConditions", "__decorateClass", "regClass", "property", "Rectangle", "ShapeDetection", "self", "target", "targets", "type", "collisionNodes", "p1", "p1PivotX", "p1PivotY", "p2", "p1Radius", "p2Radius", "targetVertices", "selfVertices", "i", "circel", "polygonVertices", "polygonNode", "sides", "axises", "circelCenter", "nearestPoint", "radius", "targetList", "len", "axis", "s", "t", "list", "minDistance", "nowPoint", "nowDistance", "selfNode", "targetNode", "selfList", "min", "max", "vertices", "node", "_arr", "_point", "projection", "circleRadius", "width", "height", "distance", "sp", "points", "hitPoints", "p", "_temp", "sum", "length", "lastPoint", "dx", "dy", "__decorateClass", "ShapeDetectionRTBase", "regClass", "property", "ShapeDetectionRT", "ShapeDetectionRTBase", "ShapeDetection", "index", "self", "nodes", "i", "lineWidth", "lineColor", "x", "y", "radius", "__decorateClass", "regClass", "property", "Event", "Point", "TileMapRT", "aniState", "joystickBGMouse", "mouseX", "mouseY", "aniType", "_runAniName", "standS", "angle", "aniName", "aniArr", "angleConditions", "dx", "dy", "centerX", "centerY", "__decorateClass", "BagListRTBase", "regClass", "BagListRT", "BagListRTBase", "jsonPath", "_json", "item", "index", "__decorateClass", "regClass", "property", "ComboBoxRT", "_dataSourece", "res", "node", "index", "_data", "__decorateClass", "LoopListRTBase", "regClass", "LoopListRT", "LoopListRTBase", "icon", "sliderValue", "listArr", "cell", "time", "iconOld", "length", "_arr", "i", "__decorateClass", "regClass", "property", "MailListRT", "fmt", "datetime", "_this", "o", "k", "jsonPath", "data", "jsonData", "i", "index", "a", "b", "itemData", "optIndex", "__decorateClass", "regClass", "property", "RefreshRT", "eventName", "moveLimit", "distance", "time", "_arr", "index", "line", "i", "targetX", "showRedHot", "item", "mousePos", "moveX", "moveY", "max", "msgTitle", "_Date", "_hour", "_minute", "msgTime", "__decorateClass", "TreeListRTBase", "regClass", "property", "TreeListRT", "TreeListRTBase", "_static", "treeData", "j", "__decorateClass", "OpenMainSceneBase", "regClass", "property", "OpenMainScene", "OpenMainSceneBase", "__decorateClass", "regClass", "property", "BaseUI", "ui", "node", "child", "__decorateClass", "regClass", "property", "OpenMainSceneScript", "BaseUI", "__decorateClass", "UsePanelRTBase", "regClass", "property", "Event", "Mouse", "UsePanelRT", "UsePanelRTBase", "__decorateClass", "regClass", "property", "ChangeTextureRT", "imgTexture", "res", "_texture", "isMan", "max", "min", "mum", "__decorateClass", "MaskRTBase", "regClass", "property", "Event", "MaskRT", "MaskRTBase", "e", "_point", "maskX", "maskY", "__decorateClass", "regClass", "property", "TextShowRT", "index", "__decorateClass", "regClass", "property", "PhysicalCollisionRT", "__decorateClass", "ProgressRTBase", "regClass", "property", "ProgressRT", "ProgressRTBase", "__decorateClass", "regClass", "property", "AnimatorControl", "layerIndex", "layer", "state", "name", "isForce", "__decorateClass", "KeyBoardManager", "regClass", "property", "Script", "_index", "isPress", "MatchModel", "localMouse", "distanceX", "distanceY", "__pow", "radians", "direction", "Tool", "GameManager", "angle", "Signal", "GameEvent", "button", "pt", "centerX", "centerY", "mouseX", "mouseY", "dx", "dy", "__decorateClass", "ParticleTool", "resName", "skillIndex", "parentNode", "array", "skillName", "sp", "_p", "_partice", "_name", "index", "_p1", "_partice1", "regClass", "property", "EnemyMove", "GameManager", "Vec1", "Vec2", "dis", "cha", "curpos", "plane", "index", "_life", "ParticleTool", "state", "__decorateClass", "AnimatorControl", "regClass", "property", "PlayerCatch", "Signal", "GameEvent", "evt", "GameManager", "Role", "__decorateClass", "AnimatorControl", "regClass", "property", "PlayerFight", "Signal", "GameEvent", "num", "evt", "_list", "GameManager", "skillIndex", "dx", "dy", "centerX", "centerY", "mouseX", "mouseY", "__decorateClass", "regClass", "property", "bgImg", "point", "point2", "_offsetX", "_offsetY", "_parent", "lastPivot", "distance", "dx", "dy", "nowPivot", "Point0", "Point1", "color", "size", "spTest", "__decorateClass", "regClass", "property", "DragAndTips", "ShapeDetectionRT", "__decorateClass", "regClass", "property", "Event", "Point", "Joystick", "joystickBGMouse", "mouseX", "mouseY", "aniType", "_runAniName", "standS", "angle", "aniName", "aniArr", "angleConditions", "dx", "dy", "centerX", "centerY", "__decorateClass", "regClass", "property", "Folded", "__decorateClass"]
}
